<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: include/dogecoin/transaction.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_5289c2aecf1cac84b0b7235515392dc4.html">dogecoin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">transaction.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;<a class="el" href="uthash_8h_source.html">dogecoin/uthash.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dogecoin_8h_source.html">dogecoin/dogecoin.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="tx_8h_source.html">dogecoin/tx.h</a>&gt;</code><br />
</div>
<p><a href="transaction_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structworking__transaction.html">working_transaction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7b20c604713ffc8841081835a6644a6b"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="dogecoin_8h.html#a169378f1103edb48d411930c111d7985">LIBDOGECOIN_BEGIN_DECL</a> struct <a class="el" href="structworking__transaction.html">working_transaction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a7b20c604713ffc8841081835a6644a6b">working_transaction</a></td></tr>
<tr class="separator:a7b20c604713ffc8841081835a6644a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a48662a9780a450a0b3b05b9883c0f915"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> <a class="el" href="structworking__transaction.html">working_transaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a48662a9780a450a0b3b05b9883c0f915">new_transaction</a> ()</td></tr>
<tr class="memdesc:a48662a9780a450a0b3b05b9883c0f915"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function instantiates a new working transaction, but does not add it to the hash table.  <a href="transaction_8h.html#a48662a9780a450a0b3b05b9883c0f915">More...</a><br /></td></tr>
<tr class="separator:a48662a9780a450a0b3b05b9883c0f915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83dbbe563204f772198e5309cac2ffe4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a83dbbe563204f772198e5309cac2ffe4">add_transaction</a> (<a class="el" href="structworking__transaction.html">working_transaction</a> *working_tx)</td></tr>
<tr class="memdesc:a83dbbe563204f772198e5309cac2ffe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes a pointer to an existing working transaction object and adds it to the hash table.  <a href="transaction_8h.html#a83dbbe563204f772198e5309cac2ffe4">More...</a><br /></td></tr>
<tr class="separator:a83dbbe563204f772198e5309cac2ffe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dba2a95f238a780e3dd1b3a4a5376b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> <a class="el" href="structworking__transaction.html">working_transaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a1dba2a95f238a780e3dd1b3a4a5376b7">find_transaction</a> (int idx)</td></tr>
<tr class="memdesc:a1dba2a95f238a780e3dd1b3a4a5376b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes an index and returns the working transaction associated with that index in the hash table.  <a href="transaction_8h.html#a1dba2a95f238a780e3dd1b3a4a5376b7">More...</a><br /></td></tr>
<tr class="separator:a1dba2a95f238a780e3dd1b3a4a5376b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa41f756cb4c2db17c108bf93c2403092"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#aa41f756cb4c2db17c108bf93c2403092">remove_transaction</a> (<a class="el" href="structworking__transaction.html">working_transaction</a> *working_tx)</td></tr>
<tr class="memdesc:aa41f756cb4c2db17c108bf93c2403092"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function removes the specified working transaction from the hash table and frees the transactions in memory.  <a href="transaction_8h.html#aa41f756cb4c2db17c108bf93c2403092">More...</a><br /></td></tr>
<tr class="separator:aa41f756cb4c2db17c108bf93c2403092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d8794689bab15ddc74bf9efb7a68db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#ad5d8794689bab15ddc74bf9efb7a68db">remove_all</a> ()</td></tr>
<tr class="memdesc:ad5d8794689bab15ddc74bf9efb7a68db"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function removes all working transactions from the hash table.  <a href="transaction_8h.html#ad5d8794689bab15ddc74bf9efb7a68db">More...</a><br /></td></tr>
<tr class="separator:ad5d8794689bab15ddc74bf9efb7a68db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6d7dcee78d89bd4cf2551bb2bbae64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#aec6d7dcee78d89bd4cf2551bb2bbae64">print_transactions</a> ()</td></tr>
<tr class="memdesc:aec6d7dcee78d89bd4cf2551bb2bbae64"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function prints the raw hex representation of each working transaction in the hash table.  <a href="transaction_8h.html#aec6d7dcee78d89bd4cf2551bb2bbae64">More...</a><br /></td></tr>
<tr class="separator:aec6d7dcee78d89bd4cf2551bb2bbae64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb9f96d35192c2fc815fb24d207229d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a6bb9f96d35192c2fc815fb24d207229d">count_transactions</a> ()</td></tr>
<tr class="memdesc:a6bb9f96d35192c2fc815fb24d207229d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function counts the number of working transactions currently in the hash table.  <a href="transaction_8h.html#a6bb9f96d35192c2fc815fb24d207229d">More...</a><br /></td></tr>
<tr class="separator:a6bb9f96d35192c2fc815fb24d207229d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e6864f9bd02fae83ac13e42fd3ec19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a66e6864f9bd02fae83ac13e42fd3ec19">by_id</a> ()</td></tr>
<tr class="separator:a66e6864f9bd02fae83ac13e42fd3ec19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c3e38947a14e858fc80a4fb957cebc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#ab6c3e38947a14e858fc80a4fb957cebc">getl</a> (const char *prompt)</td></tr>
<tr class="memdesc:ab6c3e38947a14e858fc80a4fb957cebc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function prints a prompt and parses the user's response for a CLI tool.  <a href="transaction_8h.html#ab6c3e38947a14e858fc80a4fb957cebc">More...</a><br /></td></tr>
<tr class="separator:ab6c3e38947a14e858fc80a4fb957cebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8e2760b7d8dcb08c530b34e0833b98c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#ab8e2760b7d8dcb08c530b34e0833b98c">get_raw_tx</a> (const char *prompt_tx)</td></tr>
<tr class="memdesc:ab8e2760b7d8dcb08c530b34e0833b98c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function prompts the user to enter a raw transaction and parses it.  <a href="transaction_8h.html#ab8e2760b7d8dcb08c530b34e0833b98c">More...</a><br /></td></tr>
<tr class="separator:ab8e2760b7d8dcb08c530b34e0833b98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c8241d02dd3226fa9c66debf7ee522"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a02c8241d02dd3226fa9c66debf7ee522">get_private_key</a> (const char *prompt_key)</td></tr>
<tr class="memdesc:a02c8241d02dd3226fa9c66debf7ee522"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function prompts the user to enter a private key and parses it.  <a href="transaction_8h.html#a02c8241d02dd3226fa9c66debf7ee522">More...</a><br /></td></tr>
<tr class="separator:a02c8241d02dd3226fa9c66debf7ee522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb270dc7e71055169eb0ef3131da388"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#aeeb270dc7e71055169eb0ef3131da388">start_transaction</a> ()</td></tr>
<tr class="memdesc:aeeb270dc7e71055169eb0ef3131da388"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function creates a new transaction, places it in the hash table, and returns the index of the new transaction, starting from 1 and incrementing each subsequent call.  <a href="transaction_8h.html#aeeb270dc7e71055169eb0ef3131da388">More...</a><br /></td></tr>
<tr class="separator:aeeb270dc7e71055169eb0ef3131da388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d3d7c215d655cb636e6291c74ff0c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a40d3d7c215d655cb636e6291c74ff0c3">save_raw_transaction</a> (int txindex, const char *hexadecimal_transaction)</td></tr>
<tr class="memdesc:a40d3d7c215d655cb636e6291c74ff0c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes a transaction represented in raw hex and serializes it into a transaction which is then saved in the hashtable at the specified index.  <a href="transaction_8h.html#a40d3d7c215d655cb636e6291c74ff0c3">More...</a><br /></td></tr>
<tr class="separator:a40d3d7c215d655cb636e6291c74ff0c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ddd0c4f97bcd50ddaf983063358ae67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a2ddd0c4f97bcd50ddaf983063358ae67">add_utxo</a> (int txindex, char *hex_utxo_txid, int vout)</td></tr>
<tr class="memdesc:a2ddd0c4f97bcd50ddaf983063358ae67"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes a transaction represented in raw hex and adds it as an input to the specified working transaction.  <a href="transaction_8h.html#a2ddd0c4f97bcd50ddaf983063358ae67">More...</a><br /></td></tr>
<tr class="separator:a2ddd0c4f97bcd50ddaf983063358ae67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba82c9d4cbd72ad241544d570c8e88f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#aba82c9d4cbd72ad241544d570c8e88f2">add_output</a> (int txindex, char *destinationaddress, char *amount)</td></tr>
<tr class="memdesc:aba82c9d4cbd72ad241544d570c8e88f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function constructs an output sending the specified amount to the specified address and adds it to the transaction with the specified index.  <a href="transaction_8h.html#aba82c9d4cbd72ad241544d570c8e88f2">More...</a><br /></td></tr>
<tr class="separator:aba82c9d4cbd72ad241544d570c8e88f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5cec5f12a8af7c5e467df7cd3421b00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#aa5cec5f12a8af7c5e467df7cd3421b00">finalize_transaction</a> (int txindex, char *destinationaddress, char *subtractedfee, char *out_dogeamount_for_verification, char *public_key)</td></tr>
<tr class="memdesc:aa5cec5f12a8af7c5e467df7cd3421b00"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function 'closes the inputs' by returning change to the recipient after the total amount and desired fee is confirmed.  <a href="transaction_8h.html#aa5cec5f12a8af7c5e467df7cd3421b00">More...</a><br /></td></tr>
<tr class="separator:aa5cec5f12a8af7c5e467df7cd3421b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397e5c1bc0699edaca196482b0f66990"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a397e5c1bc0699edaca196482b0f66990">get_raw_transaction</a> (int txindex)</td></tr>
<tr class="memdesc:a397e5c1bc0699edaca196482b0f66990"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes an index of a working transaction and returns the hex representation of it.  <a href="transaction_8h.html#a397e5c1bc0699edaca196482b0f66990">More...</a><br /></td></tr>
<tr class="separator:a397e5c1bc0699edaca196482b0f66990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeddc7bb016bb0ba7144d8dc43b5351d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#aaeddc7bb016bb0ba7144d8dc43b5351d">clear_transaction</a> (int txindex)</td></tr>
<tr class="memdesc:aaeddc7bb016bb0ba7144d8dc43b5351d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function removes the specified working transaction from the hash table.  <a href="transaction_8h.html#aaeddc7bb016bb0ba7144d8dc43b5351d">More...</a><br /></td></tr>
<tr class="separator:aaeddc7bb016bb0ba7144d8dc43b5351d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab162a81f735fe68714ddbe7de029849c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#ab162a81f735fe68714ddbe7de029849c">sign_raw_transaction</a> (int inputindex, char *incomingrawtx, char *scripthex, int sighashtype, char *privkey)</td></tr>
<tr class="memdesc:ab162a81f735fe68714ddbe7de029849c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function signs the specified input of a working transaction, according to the signing parameters specified.  <a href="transaction_8h.html#ab162a81f735fe68714ddbe7de029849c">More...</a><br /></td></tr>
<tr class="separator:ab162a81f735fe68714ddbe7de029849c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566b9085b5dc4bd6ceb7267003e62f6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a566b9085b5dc4bd6ceb7267003e62f6c">sign_indexed_raw_transaction</a> (int txindex, int inputindex, char *incomingrawtx, char *scripthex, int sighashtype, char *privkey)</td></tr>
<tr class="memdesc:a566b9085b5dc4bd6ceb7267003e62f6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for internal use and saves the result of sign_raw_transaction to a working transaction in the hash table.  <a href="transaction_8h.html#a566b9085b5dc4bd6ceb7267003e62f6c">More...</a><br /></td></tr>
<tr class="separator:a566b9085b5dc4bd6ceb7267003e62f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91674671636a0a979d06a9ed4a93e64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#ac91674671636a0a979d06a9ed4a93e64">sign_transaction</a> (int txindex, char *script_pubkey, char *privkey)</td></tr>
<tr class="memdesc:ac91674671636a0a979d06a9ed4a93e64"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function signs all of the inputs in the specified working transaction using the provided script pubkey and private key.  <a href="transaction_8h.html#ac91674671636a0a979d06a9ed4a93e64">More...</a><br /></td></tr>
<tr class="separator:ac91674671636a0a979d06a9ed4a93e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fdc1b77f03de19d7f885771a129a046"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a0fdc1b77f03de19d7f885771a129a046">store_raw_transaction</a> (char *incomingrawtx)</td></tr>
<tr class="memdesc:a0fdc1b77f03de19d7f885771a129a046"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stores a raw transaction to the next available working transaction in the hash table.  <a href="transaction_8h.html#a0fdc1b77f03de19d7f885771a129a046">More...</a><br /></td></tr>
<tr class="separator:a0fdc1b77f03de19d7f885771a129a046"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9893549a216673f0027156edad352581"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structworking__transaction.html">working_transaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a> = NULL</td></tr>
<tr class="separator:a9893549a216673f0027156edad352581"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a7b20c604713ffc8841081835a6644a6b" name="a7b20c604713ffc8841081835a6644a6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b20c604713ffc8841081835a6644a6b">&#9670;&nbsp;</a></span>working_transaction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="dogecoin_8h.html#a169378f1103edb48d411930c111d7985">LIBDOGECOIN_BEGIN_DECL</a> struct <a class="el" href="structworking__transaction.html">working_transaction</a> <a class="el" href="structworking__transaction.html">working_transaction</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aba82c9d4cbd72ad241544d570c8e88f2" name="aba82c9d4cbd72ad241544d570c8e88f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba82c9d4cbd72ad241544d570c8e88f2">&#9670;&nbsp;</a></span>add_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int add_output </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destinationaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function constructs an output sending the specified amount to the specified address and adds it to the transaction with the specified index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txindex</td><td>The index of the transaction where the output will be added. </td></tr>
    <tr><td class="paramname">destinationaddress</td><td>The address to send the funds to. </td></tr>
    <tr><td class="paramname">amount</td><td>The amount of dogecoin to send.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the transaction input was added successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00321">321</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  321</span>                                                                    {</div>
<div class="line"><span class="lineno">  322</span>    <span class="comment">// find working transaction by index and pass to funciton local variable to manipulate:</span></div>
<div class="line"><span class="lineno">  323</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>* tx = <a class="code hl_function" href="transaction_8c.html#a8cf129cebe55d4178df895c3050b3e1a">find_transaction</a>(txindex);</div>
<div class="line"><span class="lineno">  324</span>    <span class="comment">// guard against null pointer exceptions</span></div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">if</span> (tx == NULL) {</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  327</span>    }</div>
<div class="line"><span class="lineno">  328</span>    <span class="comment">// determine intended network by checking address prefix:</span></div>
<div class="line"><span class="lineno">  329</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structdogecoin__chainparams__.html">dogecoin_chainparams</a>* chain = (destinationaddress[0] == <span class="charliteral">&#39;D&#39;</span>) ? &amp;<a class="code hl_variable" href="chainparams_8c.html#a21bbb64fa6604f7bef44757d08e6efd2">dogecoin_chainparams_main</a> : &amp;<a class="code hl_variable" href="chainparams_8c.html#a19776b22ed82d71aee0842b007a6b4ab">dogecoin_chainparams_test</a>;</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>    <a class="code hl_typedef" href="winunistd_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> koinu = <a class="code hl_function" href="koinu_8c.html#ac3b4c644c0b222c24fbe901f1a7f0337">coins_to_koinu_str</a>(amount);</div>
<div class="line"><span class="lineno">  332</span>    <span class="comment">// calculate total minus fees</span></div>
<div class="line"><span class="lineno">  333</span>    <span class="comment">// pass in transaction obect, network paramters, amount of dogecoin to send to address and finally p2pkh address:</span></div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="tx_8c.html#aa649093af27aaf476ad427093b7ccf49">dogecoin_tx_add_address_out</a>(tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>, chain, (<a class="code hl_typedef" href="winunistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>)koinu, destinationaddress);</div>
<div class="line"><span class="lineno">  335</span>}</div>
<div class="ttc" id="achainparams_8c_html_a19776b22ed82d71aee0842b007a6b4ab"><div class="ttname"><a href="chainparams_8c.html#a19776b22ed82d71aee0842b007a6b4ab">dogecoin_chainparams_test</a></div><div class="ttdeci">const dogecoin_chainparams dogecoin_chainparams_test</div><div class="ttdef"><b>Definition:</b> <a href="chainparams_8c_source.html#l00045">chainparams.c:45</a></div></div>
<div class="ttc" id="achainparams_8c_html_a21bbb64fa6604f7bef44757d08e6efd2"><div class="ttname"><a href="chainparams_8c.html#a21bbb64fa6604f7bef44757d08e6efd2">dogecoin_chainparams_main</a></div><div class="ttdeci">const dogecoin_chainparams dogecoin_chainparams_main</div><div class="ttdef"><b>Definition:</b> <a href="chainparams_8c_source.html#l00031">chainparams.c:31</a></div></div>
<div class="ttc" id="akoinu_8c_html_ac3b4c644c0b222c24fbe901f1a7f0337"><div class="ttname"><a href="koinu_8c.html#ac3b4c644c0b222c24fbe901f1a7f0337">coins_to_koinu_str</a></div><div class="ttdeci">uint64_t coins_to_koinu_str(char *coins)</div><div class="ttdef"><b>Definition:</b> <a href="koinu_8c_source.html#l00177">koinu.c:177</a></div></div>
<div class="ttc" id="astructdogecoin__chainparams___html"><div class="ttname"><a href="structdogecoin__chainparams__.html">dogecoin_chainparams_</a></div><div class="ttdef"><b>Definition:</b> <a href="chainparams_8h_source.html#l00040">chainparams.h:40</a></div></div>
<div class="ttc" id="astructworking__transaction_html"><div class="ttname"><a href="structworking__transaction.html">working_transaction</a></div><div class="ttdef"><b>Definition:</b> <a href="transaction_8h_source.html#l00038">transaction.h:38</a></div></div>
<div class="ttc" id="astructworking__transaction_html_ad4c3e27d1b43de2139c0e35e00c11024"><div class="ttname"><a href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">working_transaction::transaction</a></div><div class="ttdeci">dogecoin_tx * transaction</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8h_source.html#l00040">transaction.h:40</a></div></div>
<div class="ttc" id="atransaction_8c_html_a8cf129cebe55d4178df895c3050b3e1a"><div class="ttname"><a href="transaction_8c.html#a8cf129cebe55d4178df895c3050b3e1a">find_transaction</a></div><div class="ttdeci">working_transaction * find_transaction(int idx)</div><div class="ttdoc">This function takes an index and returns the working transaction associated with that index in the ha...</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8c_source.html#l00077">transaction.c:77</a></div></div>
<div class="ttc" id="atx_8c_html_aa649093af27aaf476ad427093b7ccf49"><div class="ttname"><a href="tx_8c.html#aa649093af27aaf476ad427093b7ccf49">dogecoin_tx_add_address_out</a></div><div class="ttdeci">dogecoin_bool dogecoin_tx_add_address_out(dogecoin_tx *tx, const dogecoin_chainparams *chain, int64_t amount, const char *address)</div><div class="ttdoc">This function adds another transaction output containing the destination address to an existing trans...</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l00907">tx.c:907</a></div></div>
<div class="ttc" id="awinunistd_8h_html_a67a9885ef4908cb72ce26d75b694386c"><div class="ttname"><a href="winunistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a></div><div class="ttdeci">__int64 int64_t</div><div class="ttdef"><b>Definition:</b> <a href="winunistd_8h_source.html#l00055">winunistd.h:55</a></div></div>
<div class="ttc" id="awinunistd_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="winunistd_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="winunistd_8h_source.html#l00059">winunistd.h:59</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="koinu_8c_source.html#l00177">coins_to_koinu_str()</a>, <a class="el" href="chainparams_8c_source.html#l00031">dogecoin_chainparams_main</a>, <a class="el" href="chainparams_8c_source.html#l00045">dogecoin_chainparams_test</a>, <a class="el" href="tx_8c_source.html#l00907">dogecoin_tx_add_address_out()</a>, <a class="el" href="transaction_8c_source.html#l00077">find_transaction()</a>, and <a class="el" href="transaction_8h_source.html#l00040">working_transaction::transaction</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00202">sub_menu()</a>.</p>

</div>
</div>
<a id="a83dbbe563204f772198e5309cac2ffe4" name="a83dbbe563204f772198e5309cac2ffe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83dbbe563204f772198e5309cac2ffe4">&#9670;&nbsp;</a></span>add_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void add_transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structworking__transaction.html">working_transaction</a> *&#160;</td>
          <td class="paramname"><em>working_tx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function takes a pointer to an existing working transaction object and adds it to the hash table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">working_tx</td><td>The pointer to the working transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00057">57</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>                                                      {</div>
<div class="line"><span class="lineno">   58</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a> *tx;</div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_define" href="uthash_8h.html#aadcb19b940348f3141bd51505ede0142">HASH_FIND_INT</a>(<a class="code hl_variable" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a>, &amp;working_tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#aec4b5a6ce3d79ca79c50708394a8c4c2">idx</a>, tx);</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">if</span> (tx == NULL) {</div>
<div class="line"><span class="lineno">   61</span>        <a class="code hl_define" href="uthash_8h.html#acf85835471af894e354efb7e346698f3">HASH_ADD_INT</a>(<a class="code hl_variable" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a>, idx, working_tx);</div>
<div class="line"><span class="lineno">   62</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   63</span>        <a class="code hl_define" href="uthash_8h.html#a43124846a2747f48f45bf9f16631a6da">HASH_REPLACE_INT</a>(<a class="code hl_variable" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a>, idx, working_tx, tx);</div>
<div class="line"><span class="lineno">   64</span>    }</div>
<div class="line"><span class="lineno">   65</span>    <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(tx);</div>
<div class="line"><span class="lineno">   66</span>}</div>
<div class="ttc" id="amem_8c_html_ad02c72991a2ff7d7a89d69c0234c4315"><div class="ttname"><a href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a></div><div class="ttdeci">void dogecoin_free(void *ptr)</div><div class="ttdoc">This function calls dogecoin_free_internal() using the current memory mapper.</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00121">mem.c:121</a></div></div>
<div class="ttc" id="astructworking__transaction_html_aec4b5a6ce3d79ca79c50708394a8c4c2"><div class="ttname"><a href="structworking__transaction.html#aec4b5a6ce3d79ca79c50708394a8c4c2">working_transaction::idx</a></div><div class="ttdeci">int idx</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8h_source.html#l00039">transaction.h:39</a></div></div>
<div class="ttc" id="atransaction_8h_html_a9893549a216673f0027156edad352581"><div class="ttname"><a href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a></div><div class="ttdeci">static working_transaction * transactions</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8h_source.html#l00046">transaction.h:46</a></div></div>
<div class="ttc" id="authash_8h_html_a43124846a2747f48f45bf9f16631a6da"><div class="ttname"><a href="uthash_8h.html#a43124846a2747f48f45bf9f16631a6da">HASH_REPLACE_INT</a></div><div class="ttdeci">#define HASH_REPLACE_INT(head, intfield, add, replaced)</div><div class="ttdef"><b>Definition:</b> <a href="uthash_8h_source.html#l00500">uthash.h:500</a></div></div>
<div class="ttc" id="authash_8h_html_aadcb19b940348f3141bd51505ede0142"><div class="ttname"><a href="uthash_8h.html#aadcb19b940348f3141bd51505ede0142">HASH_FIND_INT</a></div><div class="ttdeci">#define HASH_FIND_INT(head, findint, out)</div><div class="ttdef"><b>Definition:</b> <a href="uthash_8h_source.html#l00496">uthash.h:496</a></div></div>
<div class="ttc" id="authash_8h_html_acf85835471af894e354efb7e346698f3"><div class="ttname"><a href="uthash_8h.html#acf85835471af894e354efb7e346698f3">HASH_ADD_INT</a></div><div class="ttdeci">#define HASH_ADD_INT(head, intfield, add)</div><div class="ttdef"><b>Definition:</b> <a href="uthash_8h_source.html#l00498">uthash.h:498</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mem_8c_source.html#l00121">dogecoin_free()</a>, <a class="el" href="uthash_8h_source.html#l00498">HASH_ADD_INT</a>, <a class="el" href="uthash_8h_source.html#l00496">HASH_FIND_INT</a>, <a class="el" href="uthash_8h_source.html#l00500">HASH_REPLACE_INT</a>, <a class="el" href="transaction_8h_source.html#l00039">working_transaction::idx</a>, and <a class="el" href="transaction_8h_source.html#l00046">transactions</a>.</p>

<p class="reference">Referenced by <a class="el" href="transaction_8c_source.html#l00227">start_transaction()</a>.</p>

</div>
</div>
<a id="a2ddd0c4f97bcd50ddaf983063358ae67" name="a2ddd0c4f97bcd50ddaf983063358ae67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ddd0c4f97bcd50ddaf983063358ae67">&#9670;&nbsp;</a></span>add_utxo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int add_utxo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hex_utxo_txid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function takes a transaction represented in raw hex and adds it as an input to the specified working transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txindex</td><td>The index of the transaction to add the input to. </td></tr>
    <tr><td class="paramname">hex_utxo_txid</td><td>The raw transaction hex of the input transaction. </td></tr>
    <tr><td class="paramname">vout</td><td>The output index of the input transaction containing spendable funds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the transaction input was added successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00283">283</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  283</span>                                                         {</div>
<div class="line"><span class="lineno">  284</span>    <span class="comment">// find working transaction by index and pass to funciton local variable to manipulate:</span></div>
<div class="line"><span class="lineno">  285</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>* tx = <a class="code hl_function" href="transaction_8c.html#a8cf129cebe55d4178df895c3050b3e1a">find_transaction</a>(txindex);</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>    <span class="comment">// guard against null pointer exceptions</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">if</span> (tx == NULL) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordtype">size_t</span> flag = tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>-&gt;<a class="code hl_variable" href="structdogecoin__tx__.html#a6a9845cbb65a46ebd73a089deca29279">vin</a>-&gt;<a class="code hl_variable" href="structvector.html#abac364f9d74e0d6610c988003be1d167">len</a>;</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>    <span class="comment">// instantiate empty dogecoin_tx_in object to set previous output txid and output n:</span></div>
<div class="line"><span class="lineno">  293</span>    <a class="code hl_struct" href="structdogecoin__tx__in__.html">dogecoin_tx_in</a>* tx_in = <a class="code hl_function" href="tx_8c.html#aae18b469c35b65bd4988e7f643e75181">dogecoin_tx_in_new</a>();</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="comment">// add prevout hash to tx_in-&gt;prevout.hash in prep of adding to tx-&gt;transaction-vin vector</span></div>
<div class="line"><span class="lineno">  296</span>    <a class="code hl_function" href="utils_8c.html#af996499eed28287a64b4c4ec901ae5b2">utils_uint256_sethex</a>((<span class="keywordtype">char</span> *)hex_utxo_txid, (<a class="code hl_typedef" href="winunistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a> *)tx_in-&gt;<a class="code hl_variable" href="structdogecoin__tx__in__.html#a5eeda69630d97a432309cf7fcb6d0bf4">prevout</a>.<a class="code hl_variable" href="structdogecoin__tx__outpoint__.html#a10a40b5854981430ae12b1aa6aabf87e">hash</a>);</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">// set index of utxo we want to spend</span></div>
<div class="line"><span class="lineno">  299</span>    tx_in-&gt;<a class="code hl_variable" href="structdogecoin__tx__in__.html#a5eeda69630d97a432309cf7fcb6d0bf4">prevout</a>.<a class="code hl_variable" href="structdogecoin__tx__outpoint__.html#ae2833d3d5f54f2ad47527b9ed4108842">n</a> = vout;</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="comment">// add to working tx object</span></div>
<div class="line"><span class="lineno">  302</span>    <a class="code hl_function" href="vector_8c.html#af631040a8dbb1a2b7ce422ac40ef0085">vector_add</a>(tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>-&gt;<a class="code hl_variable" href="structdogecoin__tx__.html#a6a9845cbb65a46ebd73a089deca29279">vin</a>, tx_in);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <span class="comment">// free tx_in struct since it has been added to our working tx</span></div>
<div class="line"><span class="lineno">  305</span>    <span class="comment">// ensure the length of our working tx inputs length has incremented by 1</span></div>
<div class="line"><span class="lineno">  306</span>    <span class="comment">// which will return true if successful:</span></div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">return</span> flag + 1 == tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>-&gt;<a class="code hl_variable" href="structdogecoin__tx__.html#a6a9845cbb65a46ebd73a089deca29279">vin</a>-&gt;<a class="code hl_variable" href="structvector.html#abac364f9d74e0d6610c988003be1d167">len</a>;</div>
<div class="line"><span class="lineno">  308</span>}</div>
<div class="ttc" id="astructdogecoin__tx___html_a6a9845cbb65a46ebd73a089deca29279"><div class="ttname"><a href="structdogecoin__tx__.html#a6a9845cbb65a46ebd73a089deca29279">dogecoin_tx_::vin</a></div><div class="ttdeci">vector * vin</div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00067">tx.h:67</a></div></div>
<div class="ttc" id="astructdogecoin__tx__in___html"><div class="ttname"><a href="structdogecoin__tx__in__.html">dogecoin_tx_in_</a></div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00054">tx.h:54</a></div></div>
<div class="ttc" id="astructdogecoin__tx__in___html_a5eeda69630d97a432309cf7fcb6d0bf4"><div class="ttname"><a href="structdogecoin__tx__in__.html#a5eeda69630d97a432309cf7fcb6d0bf4">dogecoin_tx_in_::prevout</a></div><div class="ttdeci">dogecoin_tx_outpoint prevout</div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00055">tx.h:55</a></div></div>
<div class="ttc" id="astructdogecoin__tx__outpoint___html_a10a40b5854981430ae12b1aa6aabf87e"><div class="ttname"><a href="structdogecoin__tx__outpoint__.html#a10a40b5854981430ae12b1aa6aabf87e">dogecoin_tx_outpoint_::hash</a></div><div class="ttdeci">uint256 hash</div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00050">tx.h:50</a></div></div>
<div class="ttc" id="astructdogecoin__tx__outpoint___html_ae2833d3d5f54f2ad47527b9ed4108842"><div class="ttname"><a href="structdogecoin__tx__outpoint__.html#ae2833d3d5f54f2ad47527b9ed4108842">dogecoin_tx_outpoint_::n</a></div><div class="ttdeci">uint32_t n</div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00051">tx.h:51</a></div></div>
<div class="ttc" id="astructvector_html_abac364f9d74e0d6610c988003be1d167"><div class="ttname"><a href="structvector.html#abac364f9d74e0d6610c988003be1d167">vector::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00038">vector.h:38</a></div></div>
<div class="ttc" id="atx_8c_html_aae18b469c35b65bd4988e7f643e75181"><div class="ttname"><a href="tx_8c.html#aae18b469c35b65bd4988e7f643e75181">dogecoin_tx_in_new</a></div><div class="ttdeci">dogecoin_tx_in * dogecoin_tx_in_new()</div><div class="ttdoc">This function creates a new dogecoin transaction input object and initializes it to all zeroes.</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l00096">tx.c:96</a></div></div>
<div class="ttc" id="autils_8c_html_af996499eed28287a64b4c4ec901ae5b2"><div class="ttname"><a href="utils_8c.html#af996499eed28287a64b4c4ec901ae5b2">utils_uint256_sethex</a></div><div class="ttdeci">void utils_uint256_sethex(char *psz, uint8_t *out)</div><div class="ttdoc">This function takes a hex-encoded string and sets a 256-bit array to the numerical value in little en...</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00296">utils.c:296</a></div></div>
<div class="ttc" id="avector_8c_html_af631040a8dbb1a2b7ce422ac40ef0085"><div class="ttname"><a href="vector_8c.html#af631040a8dbb1a2b7ce422ac40ef0085">vector_add</a></div><div class="ttdeci">dogecoin_bool vector_add(vector *vec, void *data)</div><div class="ttdoc">This function adds an element to an existing vector, growing it by one if necessary.</div><div class="ttdef"><b>Definition:</b> <a href="vector_8c_source.html#l00182">vector.c:182</a></div></div>
<div class="ttc" id="awinunistd_8h_html_a9a941819355e6f658991890ff66b4b0e"><div class="ttname"><a href="winunistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a></div><div class="ttdeci">unsigned __int8 uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="winunistd_8h_source.html#l00056">winunistd.h:56</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tx_8c_source.html#l00096">dogecoin_tx_in_new()</a>, <a class="el" href="transaction_8c_source.html#l00077">find_transaction()</a>, <a class="el" href="tx_8h_source.html#l00050">dogecoin_tx_outpoint_::hash</a>, <a class="el" href="vector_8h_source.html#l00038">vector::len</a>, <a class="el" href="tx_8h_source.html#l00051">dogecoin_tx_outpoint_::n</a>, <a class="el" href="tx_8h_source.html#l00055">dogecoin_tx_in_::prevout</a>, <a class="el" href="transaction_8h_source.html#l00040">working_transaction::transaction</a>, <a class="el" href="utils_8c_source.html#l00296">utils_uint256_sethex()</a>, <a class="el" href="vector_8c_source.html#l00182">vector_add()</a>, and <a class="el" href="tx_8h_source.html#l00067">dogecoin_tx_::vin</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00202">sub_menu()</a>.</p>

</div>
</div>
<a id="a66e6864f9bd02fae83ac13e42fd3ec19" name="a66e6864f9bd02fae83ac13e42fd3ec19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e6864f9bd02fae83ac13e42fd3ec19">&#9670;&nbsp;</a></span>by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int by_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaeddc7bb016bb0ba7144d8dc43b5351d" name="aaeddc7bb016bb0ba7144d8dc43b5351d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeddc7bb016bb0ba7144d8dc43b5351d">&#9670;&nbsp;</a></span>clear_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void clear_transaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txindex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function removes the specified working transaction from the hash table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txindex</td><td>The index of the working transaction to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00460">460</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  460</span>                                    {</div>
<div class="line"><span class="lineno">  461</span>    <span class="comment">// find working transaction by index and pass to funciton local variable to manipulate:</span></div>
<div class="line"><span class="lineno">  462</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>* tx = <a class="code hl_function" href="transaction_8c.html#a8cf129cebe55d4178df895c3050b3e1a">find_transaction</a>(txindex);</div>
<div class="line"><span class="lineno">  463</span>    <span class="comment">// remove from hashmap</span></div>
<div class="line"><span class="lineno">  464</span>    <a class="code hl_function" href="transaction_8c.html#a62055e35d0a86691c71e75faed0a9494">remove_transaction</a>(tx);</div>
<div class="line"><span class="lineno">  465</span>}</div>
<div class="ttc" id="atransaction_8c_html_a62055e35d0a86691c71e75faed0a9494"><div class="ttname"><a href="transaction_8c.html#a62055e35d0a86691c71e75faed0a9494">remove_transaction</a></div><div class="ttdeci">void remove_transaction(working_transaction *working_tx)</div><div class="ttdoc">This function removes the specified working transaction from the hash table and frees the transaction...</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8c_source.html#l00091">transaction.c:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="transaction_8c_source.html#l00077">find_transaction()</a>, and <a class="el" href="transaction_8c_source.html#l00091">remove_transaction()</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00499">main_menu()</a>.</p>

</div>
</div>
<a id="a6bb9f96d35192c2fc815fb24d207229d" name="a6bb9f96d35192c2fc815fb24d207229d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb9f96d35192c2fc815fb24d207229d">&#9670;&nbsp;</a></span>count_transactions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void count_transactions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function counts the number of working transactions currently in the hash table. </p>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00133">133</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  133</span>                          {</div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordtype">int</span> temp = <a class="code hl_define" href="uthash_8h.html#a7d3edf55a3ee4da1a0e1b477c314342f">HASH_COUNT</a>(<a class="code hl_variable" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a>);</div>
<div class="line"><span class="lineno">  135</span>    printf(<span class="stringliteral">&quot;there are %d transactions\n&quot;</span>, temp);</div>
<div class="line"><span class="lineno">  136</span>}</div>
<div class="ttc" id="authash_8h_html_a7d3edf55a3ee4da1a0e1b477c314342f"><div class="ttname"><a href="uthash_8h.html#a7d3edf55a3ee4da1a0e1b477c314342f">HASH_COUNT</a></div><div class="ttdeci">#define HASH_COUNT(head)</div><div class="ttdef"><b>Definition:</b> <a href="uthash_8h_source.html#l01067">uthash.h:1067</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uthash_8h_source.html#l01067">HASH_COUNT</a>, and <a class="el" href="transaction_8h_source.html#l00046">transactions</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00499">main_menu()</a>.</p>

</div>
</div>
<a id="aa5cec5f12a8af7c5e467df7cd3421b00" name="aa5cec5f12a8af7c5e467df7cd3421b00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5cec5f12a8af7c5e467df7cd3421b00">&#9670;&nbsp;</a></span>finalize_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> char * finalize_transaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destinationaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>subtractedfee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out_dogeamount_for_verification</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>changeaddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function 'closes the inputs' by returning change to the recipient after the total amount and desired fee is confirmed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txindex</td><td>The index of the working transaction to finalize. </td></tr>
    <tr><td class="paramname">destinationaddress</td><td>The address where the funds are being sent. </td></tr>
    <tr><td class="paramname">subtractedfee</td><td>The amount to set aside as a fee to the miner. </td></tr>
    <tr><td class="paramname">out_dogeamount_for_verification</td><td>An echo of the total amount to send. </td></tr>
    <tr><td class="paramname">changeaddress</td><td>The address of the sender to receive the change.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The hex of the finalized transaction. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00378">378</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  378</span>                                                                                                                                                   {</div>
<div class="line"><span class="lineno">  379</span>    <span class="comment">// find working transaction by index and pass to funciton local variable to manipulate:</span></div>
<div class="line"><span class="lineno">  380</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>* tx = <a class="code hl_function" href="transaction_8c.html#a8cf129cebe55d4178df895c3050b3e1a">find_transaction</a>(txindex);</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>    <span class="comment">// guard against null pointer exceptions</span></div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">if</span> (tx == NULL) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="comment">// determine intended network by checking address prefix:</span></div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="such_8c.html#a25f21791931822d76d6bb201cdd37e4a">is_testnet</a> = <a class="code hl_function" href="chainparams_8c.html#a0c6ba418ea085be15b6a74465998e57a">chain_from_b58_prefix_bool</a>(destinationaddress);</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>    <a class="code hl_typedef" href="winunistd_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> subtractedfee_koinu = <a class="code hl_function" href="koinu_8c.html#ac3b4c644c0b222c24fbe901f1a7f0337">coins_to_koinu_str</a>(subtractedfee);</div>
<div class="line"><span class="lineno">  389</span>    <a class="code hl_typedef" href="winunistd_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> out_koinu_for_verification = <a class="code hl_function" href="koinu_8c.html#ac3b4c644c0b222c24fbe901f1a7f0337">coins_to_koinu_str</a>(out_dogeamount_for_verification);</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>    <span class="comment">// calculate total minus desired fees</span></div>
<div class="line"><span class="lineno">  392</span>    <a class="code hl_typedef" href="winunistd_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> total = (<a class="code hl_typedef" href="winunistd_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>)out_koinu_for_verification - (<a class="code hl_typedef" href="winunistd_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>)subtractedfee_koinu, tx_out_total = 0;</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>    <span class="keywordtype">int</span> i, p2pkh_count = 0, length = (int)tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>-&gt;<a class="code hl_variable" href="structdogecoin__tx__.html#afa96052ab05028c4382536a83f9ca973">vout</a>-&gt;<a class="code hl_variable" href="structvector.html#abac364f9d74e0d6610c988003be1d167">len</a>;</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>    <span class="comment">// iterate through transaction output values while adding each one to tx_out_total:</span></div>
<div class="line"><span class="lineno">  397</span>    for (i = 0; i &lt; length; i++) {</div>
<div class="line"><span class="lineno">  398</span>        <a class="code hl_struct" href="structdogecoin__tx__out__.html">dogecoin_tx_out</a>* tx_out_tmp = <a class="code hl_define" href="vector_8h.html#a73977ea5971aad9c5d4a476d25ff1bc3">vector_idx</a>(tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>-&gt;<a class="code hl_variable" href="structdogecoin__tx__.html#afa96052ab05028c4382536a83f9ca973">vout</a>, i);</div>
<div class="line"><span class="lineno">  399</span>        tx_out_total += tx_out_tmp-&gt;<a class="code hl_variable" href="structdogecoin__tx__out__.html#a23ca5a91ee1b9eda10f0f4698a9f9b9c">value</a>;</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordtype">char</span> p2pkh[36]; <span class="comment">//mlumin: this was originally 17, caused problems if &lt; 25.  p2pkh len is 24-36.</span></div>
<div class="line"><span class="lineno">  401</span>        <span class="comment">//MLUMIN:MSVC</span></div>
<div class="line"><span class="lineno">  402</span>        <a class="code hl_function" href="mem_8c.html#afa74e6ef7b27aef8c742cd073ad849b9">dogecoin_mem_zero</a>(p2pkh, <span class="keyword">sizeof</span>(p2pkh));</div>
<div class="line"><span class="lineno">  403</span>        p2pkh_count = <a class="code hl_function" href="tx_8c.html#a693d7ab1c728d5ae50724924bde3e07e">dogecoin_script_hash_to_p2pkh</a>(tx_out_tmp, (<span class="keywordtype">char</span> *)p2pkh, <a class="code hl_variable" href="such_8c.html#a25f21791931822d76d6bb201cdd37e4a">is_testnet</a>);</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">if</span> (i == length - 1 &amp;&amp; changeaddress) {</div>
<div class="line"><span class="lineno">  405</span>            <span class="comment">// manually make change and send back to our public key address</span></div>
<div class="line"><span class="lineno">  406</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="transaction_8c.html#af4c392f1cbc5f01a06f89289d0457bee">make_change</a>(txindex, changeaddress, subtractedfee_koinu, out_koinu_for_verification - tx_out_total)) {</div>
<div class="line"><span class="lineno">  407</span>                p2pkh_count += 1;</div>
<div class="line"><span class="lineno">  408</span>                tx_out_tmp = <a class="code hl_define" href="vector_8h.html#a73977ea5971aad9c5d4a476d25ff1bc3">vector_idx</a>(tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>-&gt;<a class="code hl_variable" href="structdogecoin__tx__.html#afa96052ab05028c4382536a83f9ca973">vout</a>, tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>-&gt;<a class="code hl_variable" href="structdogecoin__tx__.html#afa96052ab05028c4382536a83f9ca973">vout</a>-&gt;<a class="code hl_variable" href="structvector.html#abac364f9d74e0d6610c988003be1d167">len</a> - 1);</div>
<div class="line"><span class="lineno">  409</span>                tx_out_total += tx_out_tmp-&gt;<a class="code hl_variable" href="structdogecoin__tx__out__.html#a23ca5a91ee1b9eda10f0f4698a9f9b9c">value</a>;</div>
<div class="line"><span class="lineno">  410</span>            }</div>
<div class="line"><span class="lineno">  411</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  412</span>        }</div>
<div class="line"><span class="lineno">  413</span>    }</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span> (p2pkh_count &lt; 1) {</div>
<div class="line"><span class="lineno">  416</span>        printf(<span class="stringliteral">&quot;p2pkh address not found from any output script hash!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  417</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  418</span>    }</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>    <span class="comment">// pass in transaction obect, network paramters, amount of dogecoin to send to address and finally p2pkh address:</span></div>
<div class="line"><span class="lineno">  421</span>    <span class="keywordflow">return</span> tx_out_total == total ? <a class="code hl_function" href="transaction_8c.html#ac347dee2696911aa322b7d58444bb7df">get_raw_transaction</a>(txindex) : <a class="code hl_define" href="dogecoin_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;</div>
<div class="line"><span class="lineno">  422</span>}</div>
<div class="ttc" id="achainparams_8c_html_a0c6ba418ea085be15b6a74465998e57a"><div class="ttname"><a href="chainparams_8c.html#a0c6ba418ea085be15b6a74465998e57a">chain_from_b58_prefix_bool</a></div><div class="ttdeci">int chain_from_b58_prefix_bool(char *address)</div><div class="ttdef"><b>Definition:</b> <a href="chainparams_8c_source.html#l00143">chainparams.c:143</a></div></div>
<div class="ttc" id="adogecoin_8h_html_a65e9886d74aaee76545e83dd09011727"><div class="ttname"><a href="dogecoin_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></div><div class="ttdeci">#define false</div><div class="ttdef"><b>Definition:</b> <a href="dogecoin_8h_source.html#l00048">dogecoin.h:48</a></div></div>
<div class="ttc" id="amem_8c_html_afa74e6ef7b27aef8c742cd073ad849b9"><div class="ttname"><a href="mem_8c.html#afa74e6ef7b27aef8c742cd073ad849b9">dogecoin_mem_zero</a></div><div class="ttdeci">volatile void * dogecoin_mem_zero(volatile void *dst, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00243">mem.c:243</a></div></div>
<div class="ttc" id="astructdogecoin__tx___html_afa96052ab05028c4382536a83f9ca973"><div class="ttname"><a href="structdogecoin__tx__.html#afa96052ab05028c4382536a83f9ca973">dogecoin_tx_::vout</a></div><div class="ttdeci">vector * vout</div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00068">tx.h:68</a></div></div>
<div class="ttc" id="astructdogecoin__tx__out___html"><div class="ttname"><a href="structdogecoin__tx__out__.html">dogecoin_tx_out_</a></div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00060">tx.h:60</a></div></div>
<div class="ttc" id="astructdogecoin__tx__out___html_a23ca5a91ee1b9eda10f0f4698a9f9b9c"><div class="ttname"><a href="structdogecoin__tx__out__.html#a23ca5a91ee1b9eda10f0f4698a9f9b9c">dogecoin_tx_out_::value</a></div><div class="ttdeci">int64_t value</div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00061">tx.h:61</a></div></div>
<div class="ttc" id="asuch_8c_html_a25f21791931822d76d6bb201cdd37e4a"><div class="ttname"><a href="such_8c.html#a25f21791931822d76d6bb201cdd37e4a">is_testnet</a></div><div class="ttdeci">int is_testnet</div><div class="ttdef"><b>Definition:</b> <a href="such_8c_source.html#l00497">such.c:497</a></div></div>
<div class="ttc" id="atransaction_8c_html_ac347dee2696911aa322b7d58444bb7df"><div class="ttname"><a href="transaction_8c.html#ac347dee2696911aa322b7d58444bb7df">get_raw_transaction</a></div><div class="ttdeci">char * get_raw_transaction(int txindex)</div><div class="ttdoc">This function takes an index of a working transaction and returns the hex representation of it.</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8c_source.html#l00432">transaction.c:432</a></div></div>
<div class="ttc" id="atransaction_8c_html_af4c392f1cbc5f01a06f89289d0457bee"><div class="ttname"><a href="transaction_8c.html#af4c392f1cbc5f01a06f89289d0457bee">make_change</a></div><div class="ttdeci">static int make_change(int txindex, char *public_key, uint64_t subtractedfee, uint64_t amount)</div><div class="ttdoc">This function is for internal use and constructs an extra output which returns the change back to the...</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8c_source.html#l00349">transaction.c:349</a></div></div>
<div class="ttc" id="atx_8c_html_a693d7ab1c728d5ae50724924bde3e07e"><div class="ttname"><a href="tx_8c.html#a693d7ab1c728d5ae50724924bde3e07e">dogecoin_script_hash_to_p2pkh</a></div><div class="ttdeci">int dogecoin_script_hash_to_p2pkh(dogecoin_tx_out *txout, char *p2pkh, int is_testnet)</div><div class="ttdoc">p2pkh utilities</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l00200">tx.c:200</a></div></div>
<div class="ttc" id="avector_8h_html_a73977ea5971aad9c5d4a476d25ff1bc3"><div class="ttname"><a href="vector_8h.html#a73977ea5971aad9c5d4a476d25ff1bc3">vector_idx</a></div><div class="ttdeci">#define vector_idx(vec, idx)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00044">vector.h:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="chainparams_8c_source.html#l00143">chain_from_b58_prefix_bool()</a>, <a class="el" href="koinu_8c_source.html#l00177">coins_to_koinu_str()</a>, <a class="el" href="mem_8c_source.html#l00243">dogecoin_mem_zero()</a>, <a class="el" href="tx_8c_source.html#l00200">dogecoin_script_hash_to_p2pkh()</a>, <a class="el" href="transaction_8c_source.html#l00077">find_transaction()</a>, <a class="el" href="transaction_8c_source.html#l00432">get_raw_transaction()</a>, <a class="el" href="such_8c_source.html#l00497">is_testnet</a>, <a class="el" href="vector_8h_source.html#l00038">vector::len</a>, <a class="el" href="transaction_8c_source.html#l00349">make_change()</a>, <a class="el" href="transaction_8h_source.html#l00040">working_transaction::transaction</a>, <a class="el" href="tx_8h_source.html#l00061">dogecoin_tx_out_::value</a>, <a class="el" href="vector_8h_source.html#l00044">vector_idx</a>, and <a class="el" href="tx_8h_source.html#l00068">dogecoin_tx_::vout</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00202">sub_menu()</a>.</p>

</div>
</div>
<a id="a1dba2a95f238a780e3dd1b3a4a5376b7" name="a1dba2a95f238a780e3dd1b3a4a5376b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dba2a95f238a780e3dd1b3a4a5376b7">&#9670;&nbsp;</a></span>find_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> <a class="el" href="structworking__transaction.html">working_transaction</a> * find_transaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function takes an index and returns the working transaction associated with that index in the hash table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>The index of the target working transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the working transaction associated with the provided index. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00077">77</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>                                               {</div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a> *working_tx;</div>
<div class="line"><span class="lineno">   79</span>    <a class="code hl_define" href="uthash_8h.html#aadcb19b940348f3141bd51505ede0142">HASH_FIND_INT</a>(<a class="code hl_variable" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a>, &amp;idx, working_tx);</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">return</span> working_tx;</div>
<div class="line"><span class="lineno">   81</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uthash_8h_source.html#l00496">HASH_FIND_INT</a>, <a class="el" href="transaction_8h_source.html#l00039">working_transaction::idx</a>, and <a class="el" href="transaction_8h_source.html#l00046">transactions</a>.</p>

<p class="reference">Referenced by <a class="el" href="transaction_8c_source.html#l00321">add_output()</a>, <a class="el" href="transaction_8c_source.html#l00283">add_utxo()</a>, <a class="el" href="transaction_8c_source.html#l00460">clear_transaction()</a>, <a class="el" href="transaction_8c_source.html#l00378">finalize_transaction()</a>, <a class="el" href="transaction_8c_source.html#l00432">get_raw_transaction()</a>, <a class="el" href="such_8c_source.html#l00499">main_menu()</a>, <a class="el" href="transaction_8c_source.html#l00349">make_change()</a>, <a class="el" href="transaction_8c_source.html#l00244">save_raw_transaction()</a>, <a class="el" href="transaction_8c_source.html#l00659">store_raw_transaction()</a>, <a class="el" href="such_8c_source.html#l00268">transaction_input_menu()</a>, and <a class="el" href="such_8c_source.html#l00364">transaction_output_menu()</a>.</p>

</div>
</div>
<a id="a02c8241d02dd3226fa9c66debf7ee522" name="a02c8241d02dd3226fa9c66debf7ee522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02c8241d02dd3226fa9c66debf7ee522">&#9670;&nbsp;</a></span>get_private_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> const char * get_private_key </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prompt_key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function prompts the user to enter a private key and parses it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prompt_tx</td><td>The prompt to display to the user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string containing user input. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00206">206</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  207</span>{</div>
<div class="line"><span class="lineno">  208</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> buf_key[100];</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordtype">char</span> *p_key;</div>
<div class="line"><span class="lineno">  210</span>    printf(<span class="stringliteral">&quot;%s? &quot;</span>, prompt_key); fflush(stdout);</div>
<div class="line"><span class="lineno">  211</span>    p_key = fgets(buf_key, <span class="keyword">sizeof</span>(buf_key), stdin);</div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">if</span> (p_key == NULL || (p_key = strchr(buf_key, <span class="charliteral">&#39;\n&#39;</span>)) == NULL) {</div>
<div class="line"><span class="lineno">  213</span>        puts(<span class="stringliteral">&quot;invalid input!&quot;</span>);</div>
<div class="line"><span class="lineno">  214</span>        exit(EXIT_FAILURE);</div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span>    *p_key = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordflow">return</span> buf_key;</div>
<div class="line"><span class="lineno">  218</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00151">signing_menu()</a>, and <a class="el" href="such_8c_source.html#l00268">transaction_input_menu()</a>.</p>

</div>
</div>
<a id="a397e5c1bc0699edaca196482b0f66990" name="a397e5c1bc0699edaca196482b0f66990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a397e5c1bc0699edaca196482b0f66990">&#9670;&nbsp;</a></span>get_raw_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> char * get_raw_transaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txindex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function takes an index of a working transaction and returns the hex representation of it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txindex</td><td>The index of the working transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The hex representation of the transaction. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00432">432</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  432</span>                                       {</div>
<div class="line"><span class="lineno">  433</span>    <span class="comment">// find working transaction by index and pass to function local variable to manipulate:</span></div>
<div class="line"><span class="lineno">  434</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>* tx = <a class="code hl_function" href="transaction_8c.html#a8cf129cebe55d4178df895c3050b3e1a">find_transaction</a>(txindex);</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>    <span class="comment">// guard against null pointer exceptions</span></div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">if</span> (tx == NULL) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>    <span class="comment">// new allocated cstring to store hexadeicmal buffer string:</span></div>
<div class="line"><span class="lineno">  440</span>    <a class="code hl_struct" href="structcstring.html">cstring</a>* serialized_transaction = <a class="code hl_function" href="cstr_8c.html#a27886215b0fc427185042cf6e171098b">cstr_new_sz</a>(1024);</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <span class="comment">// serialize transaction object to new cstring:</span></div>
<div class="line"><span class="lineno">  443</span>    <a class="code hl_function" href="tx_8c.html#aaea2e68f56c6cc351e68dfac98cd996a">dogecoin_tx_serialize</a>(serialized_transaction, tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>);</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordtype">char</span>* hexadecimal_buffer = <a class="code hl_function" href="utils_8c.html#aa5f628447b9a129900c20fbe36a0975a">utils_uint8_to_hex</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)serialized_transaction-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>, serialized_transaction-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>);</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_function" href="cstr_8c.html#aac3ba3d34a15e5380d7d2214038f6b48">cstr_free</a>(serialized_transaction, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordflow">return</span> hexadecimal_buffer;</div>
<div class="line"><span class="lineno">  450</span>}</div>
<div class="ttc" id="acstr_8c_html_a27886215b0fc427185042cf6e171098b"><div class="ttname"><a href="cstr_8c.html#a27886215b0fc427185042cf6e171098b">cstr_new_sz</a></div><div class="ttdeci">cstring * cstr_new_sz(size_t sz)</div><div class="ttdoc">This function allocates a new cstring of the specified size.</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8c_source.html#l00097">cstr.c:97</a></div></div>
<div class="ttc" id="acstr_8c_html_aac3ba3d34a15e5380d7d2214038f6b48"><div class="ttname"><a href="cstr_8c.html#aac3ba3d34a15e5380d7d2214038f6b48">cstr_free</a></div><div class="ttdeci">void cstr_free(cstring *s, int free_buf)</div><div class="ttdoc">This function frees the memory allocated for the cstring object.</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8c_source.html#l00173">cstr.c:173</a></div></div>
<div class="ttc" id="astructcstring_html"><div class="ttname"><a href="structcstring.html">cstring</a></div><div class="ttdef"><b>Definition:</b> <a href="cstr_8h_source.html#l00037">cstr.h:37</a></div></div>
<div class="ttc" id="astructcstring_html_a731cdf51b981dfd0c66713e2c942a43d"><div class="ttname"><a href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">cstring::str</a></div><div class="ttdeci">char * str</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8h_source.html#l00038">cstr.h:38</a></div></div>
<div class="ttc" id="astructcstring_html_ad0eb3a0fea291824cc3a7176a4d6a345"><div class="ttname"><a href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">cstring::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8h_source.html#l00039">cstr.h:39</a></div></div>
<div class="ttc" id="atx_8c_html_aaea2e68f56c6cc351e68dfac98cd996a"><div class="ttname"><a href="tx_8c.html#aaea2e68f56c6cc351e68dfac98cd996a">dogecoin_tx_serialize</a></div><div class="ttdeci">void dogecoin_tx_serialize(cstring *s, const dogecoin_tx *tx)</div><div class="ttdoc">This function serializes a full transaction.</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l00510">tx.c:510</a></div></div>
<div class="ttc" id="autils_8c_html_aa5f628447b9a129900c20fbe36a0975a"><div class="ttname"><a href="utils_8c.html#aa5f628447b9a129900c20fbe36a0975a">utils_uint8_to_hex</a></div><div class="ttdeci">char * utils_uint8_to_hex(const uint8_t *bin, size_t l)</div><div class="ttdoc">This function takes an array of raw bytes and converts them to a hex-encoded string.</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00212">utils.c:212</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00173">cstr_free()</a>, <a class="el" href="cstr_8c_source.html#l00097">cstr_new_sz()</a>, <a class="el" href="tx_8c_source.html#l00510">dogecoin_tx_serialize()</a>, <a class="el" href="transaction_8c_source.html#l00077">find_transaction()</a>, <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>, <a class="el" href="transaction_8h_source.html#l00040">working_transaction::transaction</a>, and <a class="el" href="utils_8c_source.html#l00212">utils_uint8_to_hex()</a>.</p>

<p class="reference">Referenced by <a class="el" href="transaction_8c_source.html#l00378">finalize_transaction()</a>, <a class="el" href="such_8c_source.html#l00499">main_menu()</a>, <a class="el" href="transaction_8c_source.html#l00118">print_transactions()</a>, <a class="el" href="transaction_8c_source.html#l00621">sign_transaction()</a>, <a class="el" href="such_8c_source.html#l00151">signing_menu()</a>, <a class="el" href="such_8c_source.html#l00202">sub_menu()</a>, and <a class="el" href="such_8c_source.html#l00268">transaction_input_menu()</a>.</p>

</div>
</div>
<a id="ab8e2760b7d8dcb08c530b34e0833b98c" name="ab8e2760b7d8dcb08c530b34e0833b98c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8e2760b7d8dcb08c530b34e0833b98c">&#9670;&nbsp;</a></span>get_raw_tx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> const char * get_raw_tx </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prompt_tx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function prompts the user to enter a raw transaction and parses it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prompt_tx</td><td>The prompt to display to the user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string containing user input. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00184">184</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  185</span>{</div>
<div class="line"><span class="lineno">  186</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> buf_tx[1000*100];</div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordtype">char</span> *p_tx;</div>
<div class="line"><span class="lineno">  188</span>    printf(<span class="stringliteral">&quot;%s? &quot;</span>, prompt_tx); fflush(stdout);</div>
<div class="line"><span class="lineno">  189</span>    p_tx = fgets(buf_tx, <span class="keyword">sizeof</span>(buf_tx), stdin);</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">if</span> (p_tx == NULL || (p_tx = strchr(buf_tx, <span class="charliteral">&#39;\n&#39;</span>)) == NULL) {</div>
<div class="line"><span class="lineno">  191</span>        puts(<span class="stringliteral">&quot;invalid input!&quot;</span>);</div>
<div class="line"><span class="lineno">  192</span>        exit(EXIT_FAILURE);</div>
<div class="line"><span class="lineno">  193</span>    }</div>
<div class="line"><span class="lineno">  194</span>    *p_tx = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">return</span> buf_tx;</div>
<div class="line"><span class="lineno">  196</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00499">main_menu()</a>, <a class="el" href="such_8c_source.html#l00151">signing_menu()</a>, and <a class="el" href="such_8c_source.html#l00268">transaction_input_menu()</a>.</p>

</div>
</div>
<a id="ab6c3e38947a14e858fc80a4fb957cebc" name="ab6c3e38947a14e858fc80a4fb957cebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c3e38947a14e858fc80a4fb957cebc">&#9670;&nbsp;</a></span>getl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> const char * getl </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prompt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function prints a prompt and parses the user's response for a CLI tool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prompt</td><td>The prompt to display to the user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string containing user input. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00162">162</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  163</span>{</div>
<div class="line"><span class="lineno">  164</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> buf[100];</div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno">  166</span>    printf(<span class="stringliteral">&quot;%s? &quot;</span>, prompt); fflush(stdout);</div>
<div class="line"><span class="lineno">  167</span>    p = fgets(buf, <span class="keyword">sizeof</span>(buf), stdin);</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">if</span> (p == NULL || (p = strchr(buf, <span class="charliteral">&#39;\n&#39;</span>)) == NULL) {</div>
<div class="line"><span class="lineno">  169</span>        puts(<span class="stringliteral">&quot;invalid input!&quot;</span>);</div>
<div class="line"><span class="lineno">  170</span>        exit(EXIT_FAILURE);</div>
<div class="line"><span class="lineno">  171</span>    }</div>
<div class="line"><span class="lineno">  172</span>    *p = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">return</span> buf;</div>
<div class="line"><span class="lineno">  174</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00483">chainparams_menu()</a>, <a class="el" href="such_8c_source.html#l00462">edit_menu()</a>, <a class="el" href="such_8c_source.html#l00499">main_menu()</a>, <a class="el" href="such_8c_source.html#l00151">signing_menu()</a>, <a class="el" href="such_8c_source.html#l00202">sub_menu()</a>, <a class="el" href="such_8c_source.html#l00268">transaction_input_menu()</a>, and <a class="el" href="such_8c_source.html#l00364">transaction_output_menu()</a>.</p>

</div>
</div>
<a id="a48662a9780a450a0b3b05b9883c0f915" name="a48662a9780a450a0b3b05b9883c0f915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48662a9780a450a0b3b05b9883c0f915">&#9670;&nbsp;</a></span>new_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> <a class="el" href="structworking__transaction.html">working_transaction</a> * new_transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function instantiates a new working transaction, but does not add it to the hash table. </p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new working transaction. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00042">42</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>                                       {</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>* working_tx = (<span class="keyword">struct </span><a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>*)<a class="code hl_function" href="mem_8c.html#a2eb6ed6a5cfda3a99145487a5445cfcf">dogecoin_calloc</a>(1, <span class="keyword">sizeof</span> *working_tx);</div>
<div class="line"><span class="lineno">   44</span>    working_tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a> = <a class="code hl_function" href="tx_8c.html#aca202b1b13445bff1e7d3c095867b356">dogecoin_tx_new</a>();</div>
<div class="line"><span class="lineno">   45</span>    working_tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#aec4b5a6ce3d79ca79c50708394a8c4c2">idx</a> = <a class="code hl_define" href="uthash_8h.html#a7d3edf55a3ee4da1a0e1b477c314342f">HASH_COUNT</a>(<a class="code hl_variable" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a>) + 1;</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">return</span> working_tx;</div>
<div class="line"><span class="lineno">   47</span>}</div>
<div class="ttc" id="amem_8c_html_a2eb6ed6a5cfda3a99145487a5445cfcf"><div class="ttname"><a href="mem_8c.html#a2eb6ed6a5cfda3a99145487a5445cfcf">dogecoin_calloc</a></div><div class="ttdeci">void * dogecoin_calloc(size_t count, size_t size)</div><div class="ttdoc">This function calls dogecoin_calloc_internal() using the current memory mapper.</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00092">mem.c:92</a></div></div>
<div class="ttc" id="atx_8c_html_aca202b1b13445bff1e7d3c095867b356"><div class="ttname"><a href="tx_8c.html#aca202b1b13445bff1e7d3c095867b356">dogecoin_tx_new</a></div><div class="ttdeci">dogecoin_tx * dogecoin_tx_new()</div><div class="ttdoc">This function creates a new dogecoin transaction object and initializes it to all zeroes except for t...</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l00350">tx.c:350</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mem_8c_source.html#l00092">dogecoin_calloc()</a>, <a class="el" href="tx_8c_source.html#l00350">dogecoin_tx_new()</a>, <a class="el" href="uthash_8h_source.html#l01067">HASH_COUNT</a>, <a class="el" href="transaction_8h_source.html#l00039">working_transaction::idx</a>, <a class="el" href="transaction_8h_source.html#l00040">working_transaction::transaction</a>, and <a class="el" href="transaction_8h_source.html#l00046">transactions</a>.</p>

<p class="reference">Referenced by <a class="el" href="transaction_8c_source.html#l00227">start_transaction()</a>.</p>

</div>
</div>
<a id="aec6d7dcee78d89bd4cf2551bb2bbae64" name="aec6d7dcee78d89bd4cf2551bb2bbae64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec6d7dcee78d89bd4cf2551bb2bbae64">&#9670;&nbsp;</a></span>print_transactions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void print_transactions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function prints the raw hex representation of each working transaction in the hash table. </p>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00118">118</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  119</span>{</div>
<div class="line"><span class="lineno">  120</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structworking__transaction.html">working_transaction</a> *s;</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">for</span> (s = <a class="code hl_variable" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a>; s != NULL; s = (<span class="keyword">struct </span><a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>*)(s-&gt;<a class="code hl_variable" href="structworking__transaction.html#a67f88e8e1067de54d7341dacf0731c0f">hh</a>.<a class="code hl_variable" href="structUT__hash__handle.html#a93bc88ffe97f85ea0d9e0056b7118942">next</a>)) {</div>
<div class="line"><span class="lineno">  123</span>        printf(<span class="stringliteral">&quot;\nworking transaction id: %d\nraw transaction (hexadecimal): %s\n&quot;</span>, s-&gt;<a class="code hl_variable" href="structworking__transaction.html#aec4b5a6ce3d79ca79c50708394a8c4c2">idx</a>, <a class="code hl_function" href="transaction_8c.html#ac347dee2696911aa322b7d58444bb7df">get_raw_transaction</a>(s-&gt;<a class="code hl_variable" href="structworking__transaction.html#aec4b5a6ce3d79ca79c50708394a8c4c2">idx</a>));</div>
<div class="line"><span class="lineno">  124</span>    }</div>
<div class="line"><span class="lineno">  125</span>}</div>
<div class="ttc" id="astructUT__hash__handle_html_a93bc88ffe97f85ea0d9e0056b7118942"><div class="ttname"><a href="structUT__hash__handle.html#a93bc88ffe97f85ea0d9e0056b7118942">UT_hash_handle::next</a></div><div class="ttdeci">void * next</div><div class="ttdef"><b>Definition:</b> <a href="uthash_8h_source.html#l01130">uthash.h:1130</a></div></div>
<div class="ttc" id="astructworking__transaction_html_a67f88e8e1067de54d7341dacf0731c0f"><div class="ttname"><a href="structworking__transaction.html#a67f88e8e1067de54d7341dacf0731c0f">working_transaction::hh</a></div><div class="ttdeci">UT_hash_handle hh</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8h_source.html#l00041">transaction.h:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="transaction_8c_source.html#l00432">get_raw_transaction()</a>, <a class="el" href="transaction_8h_source.html#l00041">working_transaction::hh</a>, <a class="el" href="transaction_8h_source.html#l00039">working_transaction::idx</a>, <a class="el" href="uthash_8h_source.html#l01130">UT_hash_handle::next</a>, and <a class="el" href="transaction_8h_source.html#l00046">transactions</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00499">main_menu()</a>.</p>

</div>
</div>
<a id="ad5d8794689bab15ddc74bf9efb7a68db" name="ad5d8794689bab15ddc74bf9efb7a68db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d8794689bab15ddc74bf9efb7a68db">&#9670;&nbsp;</a></span>remove_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void remove_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function removes all working transactions from the hash table. </p>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00103">103</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  103</span>                  {</div>
<div class="line"><span class="lineno">  104</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structworking__transaction.html">working_transaction</a> *current_tx;</div>
<div class="line"><span class="lineno">  105</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structworking__transaction.html">working_transaction</a> *tmp;</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_define" href="uthash_8h.html#a4d524042f1fcb976d8bccae9e4cc63d6">HASH_ITER</a>(<a class="code hl_variable" href="structworking__transaction.html#a67f88e8e1067de54d7341dacf0731c0f">hh</a>, <a class="code hl_variable" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a>, current_tx, tmp) {</div>
<div class="line"><span class="lineno">  108</span>        <a class="code hl_function" href="transaction_8c.html#a62055e35d0a86691c71e75faed0a9494">remove_transaction</a>(current_tx);</div>
<div class="line"><span class="lineno">  109</span>    }</div>
<div class="line"><span class="lineno">  110</span>}</div>
<div class="ttc" id="authash_8h_html_a4d524042f1fcb976d8bccae9e4cc63d6"><div class="ttname"><a href="uthash_8h.html#a4d524042f1fcb976d8bccae9e4cc63d6">HASH_ITER</a></div><div class="ttdeci">#define HASH_ITER(hh, head, el, tmp)</div><div class="ttdef"><b>Definition:</b> <a href="uthash_8h_source.html#l01061">uthash.h:1061</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uthash_8h_source.html#l01061">HASH_ITER</a>, <a class="el" href="transaction_8h_source.html#l00041">working_transaction::hh</a>, <a class="el" href="transaction_8c_source.html#l00091">remove_transaction()</a>, and <a class="el" href="transaction_8h_source.html#l00046">transactions</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00499">main_menu()</a>.</p>

</div>
</div>
<a id="aa41f756cb4c2db17c108bf93c2403092" name="aa41f756cb4c2db17c108bf93c2403092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa41f756cb4c2db17c108bf93c2403092">&#9670;&nbsp;</a></span>remove_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> void remove_transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structworking__transaction.html">working_transaction</a> *&#160;</td>
          <td class="paramname"><em>working_tx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function removes the specified working transaction from the hash table and frees the transactions in memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">working_tx</td><td>The pointer to the transaction to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00091">91</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span>                                                         {</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_define" href="uthash_8h.html#a48b7ed374602dcb236501aa23a971f05">HASH_DEL</a>(<a class="code hl_variable" href="transaction_8h.html#a9893549a216673f0027156edad352581">transactions</a>, working_tx); <span class="comment">/* delete it (transactions advances to next) */</span></div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(working_tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>);</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(working_tx);</div>
<div class="line"><span class="lineno">   95</span>}</div>
<div class="ttc" id="atx_8c_html_a5104a4193fcb2e10f0517694d86007f8"><div class="ttname"><a href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a></div><div class="ttdeci">void dogecoin_tx_free(dogecoin_tx *tx)</div><div class="ttdoc">This function frees the memory allocated for a full transaction.</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l00174">tx.c:174</a></div></div>
<div class="ttc" id="authash_8h_html_a48b7ed374602dcb236501aa23a971f05"><div class="ttname"><a href="uthash_8h.html#a48b7ed374602dcb236501aa23a971f05">HASH_DEL</a></div><div class="ttdeci">#define HASH_DEL(head, delptr)</div><div class="ttdef"><b>Definition:</b> <a href="uthash_8h_source.html#l00508">uthash.h:508</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mem_8c_source.html#l00121">dogecoin_free()</a>, <a class="el" href="tx_8c_source.html#l00174">dogecoin_tx_free()</a>, <a class="el" href="uthash_8h_source.html#l00508">HASH_DEL</a>, <a class="el" href="transaction_8h_source.html#l00040">working_transaction::transaction</a>, and <a class="el" href="transaction_8h_source.html#l00046">transactions</a>.</p>

<p class="reference">Referenced by <a class="el" href="transaction_8c_source.html#l00460">clear_transaction()</a>, <a class="el" href="such_8c_source.html#l00499">main_menu()</a>, and <a class="el" href="transaction_8c_source.html#l00103">remove_all()</a>.</p>

</div>
</div>
<a id="a40d3d7c215d655cb636e6291c74ff0c3" name="a40d3d7c215d655cb636e6291c74ff0c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d3d7c215d655cb636e6291c74ff0c3">&#9670;&nbsp;</a></span>save_raw_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int save_raw_transaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hexadecimal_transaction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function takes a transaction represented in raw hex and serializes it into a transaction which is then saved in the hashtable at the specified index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txindex</td><td>The index to save the transaction to. </td></tr>
    <tr><td class="paramname">hexadecimal_transaction</td><td>The raw hex of the transaction to serialize and save.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the transaction was saved successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00244">244</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  244</span>                                                                           {</div>
<div class="line"><span class="lineno">  245</span>    <a class="code hl_define" href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a>(<span class="stringliteral">&quot;raw_hexadecimal_transaction: %s\n&quot;</span>, hexadecimal_transaction);</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> (strlen(hexadecimal_transaction) &gt; 1024*100) { <span class="comment">//don&#39;t accept tx larger then 100kb</span></div>
<div class="line"><span class="lineno">  247</span>        printf(<span class="stringliteral">&quot;tx too large (max 100kb)\n&quot;</span>);</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  249</span>    }</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    <span class="comment">// deserialize transaction</span></div>
<div class="line"><span class="lineno">  252</span>    <a class="code hl_struct" href="structdogecoin__tx__.html">dogecoin_tx</a>* txtmp = <a class="code hl_function" href="tx_8c.html#aca202b1b13445bff1e7d3c095867b356">dogecoin_tx_new</a>();</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_typedef" href="winunistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a>* data_bin = <a class="code hl_function" href="mem_8c.html#a407a4f35dd3cf7bd9ed586c213216f5b">dogecoin_malloc</a>(strlen(hexadecimal_transaction));</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordtype">size_t</span> outlength = 0;</div>
<div class="line"><span class="lineno">  255</span>    <span class="comment">// convert incomingrawtx to byte array to dogecoin_tx and if it fails free from memory</span></div>
<div class="line"><span class="lineno">  256</span>    <a class="code hl_function" href="utils_8c.html#a1ebbc77b9a997a51ee4da448ed607ef5">utils_hex_to_bin</a>(hexadecimal_transaction, data_bin, strlen(hexadecimal_transaction), &amp;outlength);</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="tx_8c.html#a41fae400da12f96a93f7ccb886a41840">dogecoin_tx_deserialize</a>(data_bin, outlength, txtmp, NULL)) {</div>
<div class="line"><span class="lineno">  258</span>        <span class="comment">// free byte array</span></div>
<div class="line"><span class="lineno">  259</span>        <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(data_bin);</div>
<div class="line"><span class="lineno">  260</span>        <span class="comment">// free dogecoin_tx</span></div>
<div class="line"><span class="lineno">  261</span>        <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  262</span>        printf(<span class="stringliteral">&quot;invalid tx hex&quot;</span>);</div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  264</span>    }</div>
<div class="line"><span class="lineno">  265</span>    <span class="comment">// free byte array</span></div>
<div class="line"><span class="lineno">  266</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>* tx_raw = <a class="code hl_function" href="transaction_8c.html#a8cf129cebe55d4178df895c3050b3e1a">find_transaction</a>(txindex);</div>
<div class="line"><span class="lineno">  267</span>    <a class="code hl_function" href="tx_8c.html#a83fa5f9747edd8d7710e41c24f586256">dogecoin_tx_copy</a>(tx_raw-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>, txtmp);</div>
<div class="line"><span class="lineno">  268</span>    <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(data_bin);</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  271</span>}</div>
<div class="ttc" id="adogecoin_8h_html_a7377cc956f5c81538f0fbf0a0492a539"><div class="ttname"><a href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a></div><div class="ttdeci">#define debug_print(fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="dogecoin_8h_source.html#l00117">dogecoin.h:117</a></div></div>
<div class="ttc" id="amem_8c_html_a407a4f35dd3cf7bd9ed586c213216f5b"><div class="ttname"><a href="mem_8c.html#a407a4f35dd3cf7bd9ed586c213216f5b">dogecoin_malloc</a></div><div class="ttdeci">void * dogecoin_malloc(size_t size)</div><div class="ttdoc">This function calls dogecoin_malloc_internal() using the current memory mapper.</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00077">mem.c:77</a></div></div>
<div class="ttc" id="astructdogecoin__tx___html"><div class="ttname"><a href="structdogecoin__tx__.html">dogecoin_tx_</a></div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00065">tx.h:65</a></div></div>
<div class="ttc" id="atx_8c_html_a41fae400da12f96a93f7ccb886a41840"><div class="ttname"><a href="tx_8c.html#a41fae400da12f96a93f7ccb886a41840">dogecoin_tx_deserialize</a></div><div class="ttdeci">int dogecoin_tx_deserialize(const unsigned char *tx_serialized, size_t inlen, dogecoin_tx *tx, size_t *consumed_length)</div><div class="ttdoc">This function takes information from a string and deserializes it into a full transaction object.</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l00419">tx.c:419</a></div></div>
<div class="ttc" id="atx_8c_html_a83fa5f9747edd8d7710e41c24f586256"><div class="ttname"><a href="tx_8c.html#a83fa5f9747edd8d7710e41c24f586256">dogecoin_tx_copy</a></div><div class="ttdeci">void dogecoin_tx_copy(dogecoin_tx *dest, const dogecoin_tx *src)</div><div class="ttdoc">This function makes a copy of a given transaction object.</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l00618">tx.c:618</a></div></div>
<div class="ttc" id="autils_8c_html_a1ebbc77b9a997a51ee4da448ed607ef5"><div class="ttname"><a href="utils_8c.html#a1ebbc77b9a997a51ee4da448ed607ef5">utils_hex_to_bin</a></div><div class="ttdeci">void utils_hex_to_bin(const char *str, unsigned char *out, size_t inLen, size_t *outLen)</div><div class="ttdoc">This function takes a hex-encoded string and loads a buffer with its binary representation.</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00109">utils.c:109</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dogecoin_8h_source.html#l00117">debug_print</a>, <a class="el" href="mem_8c_source.html#l00121">dogecoin_free()</a>, <a class="el" href="mem_8c_source.html#l00077">dogecoin_malloc()</a>, <a class="el" href="tx_8c_source.html#l00618">dogecoin_tx_copy()</a>, <a class="el" href="tx_8c_source.html#l00419">dogecoin_tx_deserialize()</a>, <a class="el" href="tx_8c_source.html#l00174">dogecoin_tx_free()</a>, <a class="el" href="tx_8c_source.html#l00350">dogecoin_tx_new()</a>, <a class="el" href="transaction_8c_source.html#l00077">find_transaction()</a>, <a class="el" href="transaction_8h_source.html#l00040">working_transaction::transaction</a>, and <a class="el" href="utils_8c_source.html#l00109">utils_hex_to_bin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00499">main_menu()</a>, <a class="el" href="transaction_8c_source.html#l00598">sign_indexed_raw_transaction()</a>, and <a class="el" href="transaction_8c_source.html#l00621">sign_transaction()</a>.</p>

</div>
</div>
<a id="a566b9085b5dc4bd6ceb7267003e62f6c" name="a566b9085b5dc4bd6ceb7267003e62f6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566b9085b5dc4bd6ceb7267003e62f6c">&#9670;&nbsp;</a></span>sign_indexed_raw_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int sign_indexed_raw_transaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inputindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>incomingrawtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>scripthex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sighashtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>privkey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is for internal use and saves the result of sign_raw_transaction to a working transaction in the hash table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txindex</td><td>The index where the signed transaction will be saved. </td></tr>
    <tr><td class="paramname">inputindex</td><td>The index of the current transaction input to sign. </td></tr>
    <tr><td class="paramname">incomingrawtx</td><td>The hex representation of the transaction to sign. </td></tr>
    <tr><td class="paramname">scripthex</td><td>The hex representation of the public key script. </td></tr>
    <tr><td class="paramname">sighashtype</td><td>The type of signature hash to perform. </td></tr>
    <tr><td class="paramname">privkey</td><td>The private key used to sign the transaction input.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the transaction was signed successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00598">598</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  598</span>                                                                                                                                    {</div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordflow">if</span> (!txindex) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="transaction_8c.html#ab840b374e38578e3008bfdcaa707e7a8">sign_raw_transaction</a>(inputindex, incomingrawtx, scripthex, sighashtype, privkey)) {</div>
<div class="line"><span class="lineno">  601</span>        printf(<span class="stringliteral">&quot;error signing raw transaction\n&quot;</span>);</div>
<div class="line"><span class="lineno">  602</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  603</span>    }</div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="transaction_8c.html#aa1246b3351b2e96549b62dee07ec44f6">save_raw_transaction</a>(txindex, incomingrawtx)) {</div>
<div class="line"><span class="lineno">  605</span>        printf(<span class="stringliteral">&quot;error saving transaction!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  606</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  607</span>    }</div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  609</span>}</div>
<div class="ttc" id="atransaction_8c_html_aa1246b3351b2e96549b62dee07ec44f6"><div class="ttname"><a href="transaction_8c.html#aa1246b3351b2e96549b62dee07ec44f6">save_raw_transaction</a></div><div class="ttdeci">int save_raw_transaction(int txindex, const char *hexadecimal_transaction)</div><div class="ttdoc">This function takes a transaction represented in raw hex and serializes it into a transaction which i...</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8c_source.html#l00244">transaction.c:244</a></div></div>
<div class="ttc" id="atransaction_8c_html_ab840b374e38578e3008bfdcaa707e7a8"><div class="ttname"><a href="transaction_8c.html#ab840b374e38578e3008bfdcaa707e7a8">sign_raw_transaction</a></div><div class="ttdeci">int sign_raw_transaction(int inputindex, char *incomingrawtx, char *scripthex, int sighashtype, char *privkey)</div><div class="ttdoc">This function signs the specified input of a working transaction, according to the signing parameters...</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8c_source.html#l00479">transaction.c:479</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="transaction_8c_source.html#l00244">save_raw_transaction()</a>, and <a class="el" href="transaction_8c_source.html#l00479">sign_raw_transaction()</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00151">signing_menu()</a>, and <a class="el" href="such_8c_source.html#l00268">transaction_input_menu()</a>.</p>

</div>
</div>
<a id="ab162a81f735fe68714ddbe7de029849c" name="ab162a81f735fe68714ddbe7de029849c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab162a81f735fe68714ddbe7de029849c">&#9670;&nbsp;</a></span>sign_raw_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int sign_raw_transaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inputindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>incomingrawtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>scripthex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sighashtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>privkey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function signs the specified input of a working transaction, according to the signing parameters specified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputindex</td><td>The index of the current transaction input to sign. </td></tr>
    <tr><td class="paramname">incomingrawtx</td><td>The hex representation of the transaction to sign. </td></tr>
    <tr><td class="paramname">scripthex</td><td>The hex representation of the public key script. </td></tr>
    <tr><td class="paramname">sighashtype</td><td>The type of signature hash to perform. </td></tr>
    <tr><td class="paramname">privkey</td><td>The private key used to sign the transaction input.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the raw transaction was signed successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00479">479</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  479</span>                                                                                                               {</div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">if</span>(!incomingrawtx || !scripthex) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordflow">if</span> (strlen(incomingrawtx) &gt; 1024*100) { <span class="comment">//don&#39;t accept tx larger then 100kb</span></div>
<div class="line"><span class="lineno">  483</span>        printf(<span class="stringliteral">&quot;tx too large (max 100kb)\n&quot;</span>);</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  485</span>    }</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structdogecoin__chainparams__.html">dogecoin_chainparams</a>* chain = (privkey[0] == <span class="charliteral">&#39;c&#39;</span>) ? &amp;<a class="code hl_variable" href="chainparams_8c.html#a19776b22ed82d71aee0842b007a6b4ab">dogecoin_chainparams_test</a> : &amp;<a class="code hl_variable" href="chainparams_8c.html#a21bbb64fa6604f7bef44757d08e6efd2">dogecoin_chainparams_main</a>;</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    <span class="comment">// deserialize transaction</span></div>
<div class="line"><span class="lineno">  490</span>    <a class="code hl_struct" href="structdogecoin__tx__.html">dogecoin_tx</a>* txtmp = <a class="code hl_function" href="tx_8c.html#aca202b1b13445bff1e7d3c095867b356">dogecoin_tx_new</a>();</div>
<div class="line"><span class="lineno">  491</span>    <a class="code hl_typedef" href="winunistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a>* data_bin = <a class="code hl_function" href="mem_8c.html#a407a4f35dd3cf7bd9ed586c213216f5b">dogecoin_malloc</a>(strlen(incomingrawtx) / 2);</div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordtype">size_t</span> outlength = 0;</div>
<div class="line"><span class="lineno">  493</span>    <span class="comment">// convert incomingrawtx to byte array to dogecoin_tx and if it fails free from memory</span></div>
<div class="line"><span class="lineno">  494</span>    <a class="code hl_function" href="utils_8c.html#a1ebbc77b9a997a51ee4da448ed607ef5">utils_hex_to_bin</a>(incomingrawtx, data_bin, strlen(incomingrawtx), &amp;outlength);</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="tx_8c.html#a41fae400da12f96a93f7ccb886a41840">dogecoin_tx_deserialize</a>(data_bin, outlength, txtmp, NULL)) {</div>
<div class="line"><span class="lineno">  497</span>        <span class="comment">// free byte array</span></div>
<div class="line"><span class="lineno">  498</span>        <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(data_bin);</div>
<div class="line"><span class="lineno">  499</span>        <span class="comment">// free dogecoin_tx</span></div>
<div class="line"><span class="lineno">  500</span>        <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  501</span>        printf(<span class="stringliteral">&quot;invalid tx hex\n&quot;</span>);</div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  503</span>    }</div>
<div class="line"><span class="lineno">  504</span>    <span class="comment">// free byte array</span></div>
<div class="line"><span class="lineno">  505</span>    <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(data_bin);</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="comment">// if utxo input doesn&#39;t exist abort attempt to sign message</span></div>
<div class="line"><span class="lineno">  508</span>    <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)inputindex &gt;= txtmp-&gt;<a class="code hl_variable" href="structdogecoin__tx__.html#a6a9845cbb65a46ebd73a089deca29279">vin</a>-&gt;<a class="code hl_variable" href="structvector.html#abac364f9d74e0d6610c988003be1d167">len</a>) {</div>
<div class="line"><span class="lineno">  509</span>        <span class="comment">// free dogecoin_tx</span></div>
<div class="line"><span class="lineno">  510</span>        <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  511</span>        printf(<span class="stringliteral">&quot;input index out of range&quot;</span>);</div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  513</span>    }</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    <span class="comment">// initialize byte array with length equal to account for byte size </span></div>
<div class="line"><span class="lineno">  516</span>    <a class="code hl_typedef" href="winunistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a>* script_data = <a class="code hl_function" href="mem_8c.html#a3d136deeb4468d36e367ba442c1dce16">dogecoin_uint8_vla</a>(strlen(scripthex));</div>
<div class="line"><span class="lineno">  517</span>    <span class="comment">// convert hex string to byte array</span></div>
<div class="line"><span class="lineno">  518</span>    <a class="code hl_function" href="utils_8c.html#a1ebbc77b9a997a51ee4da448ed607ef5">utils_hex_to_bin</a>(scripthex, script_data, strlen(scripthex), &amp;outlength);</div>
<div class="line"><span class="lineno">  519</span>    <a class="code hl_struct" href="structcstring.html">cstring</a>* script = <a class="code hl_function" href="cstr_8c.html#aa9f37c18fe4d9fc861d39a69938d1366">cstr_new_buf</a>(script_data, outlength);</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>    <a class="code hl_variable" href="dogecoin_8h.html#a7b1e8040e3117539e0382dbdfb55f942">uint256</a> sighash;</div>
<div class="line"><span class="lineno">  522</span>    <a class="code hl_function" href="mem_8c.html#afa74e6ef7b27aef8c742cd073ad849b9">dogecoin_mem_zero</a>(sighash, <span class="keyword">sizeof</span>(sighash));</div>
<div class="line"><span class="lineno">  523</span>    free(script_data);</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>    <a class="code hl_function" href="tx_8c.html#aa9bd74bef716b41aceae4cfb54071c76">dogecoin_tx_sighash</a>(txtmp, script, inputindex, sighashtype, sighash);</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordtype">char</span> *hex = <a class="code hl_function" href="utils_8c.html#aa5f628447b9a129900c20fbe36a0975a">utils_uint8_to_hex</a>(sighash, 32);</div>
<div class="line"><span class="lineno">  528</span>    <a class="code hl_function" href="utils_8c.html#a7c46d469f8d5e4c661f7e0ba5b6182c3">utils_reverse_hex</a>(hex, 64);</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <a class="code hl_define" href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a>(<span class="stringliteral">&quot;script: %s\n&quot;</span>, scripthex);</div>
<div class="line"><span class="lineno">  531</span>    <a class="code hl_define" href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a>(<span class="stringliteral">&quot;script-type: %s\n&quot;</span>, <a class="code hl_function" href="script_8c.html#a277f223fd0d455f2b382e0eada40329b">dogecoin_tx_out_type_to_str</a>(<a class="code hl_function" href="script_8c.html#a5e4fc90d9aed02c197383d3c368a494e">dogecoin_script_classify</a>(script, NULL)));</div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_define" href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a>(<span class="stringliteral">&quot;inputindex: %d\n&quot;</span>, inputindex);</div>
<div class="line"><span class="lineno">  533</span>    <a class="code hl_define" href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a>(<span class="stringliteral">&quot;sighashtype: %d\n&quot;</span>, sighashtype);</div>
<div class="line"><span class="lineno">  534</span>    <a class="code hl_define" href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a>(<span class="stringliteral">&quot;hash: %s\n&quot;</span>, hex);</div>
<div class="line"><span class="lineno">  535</span>    <span class="comment">// sign</span></div>
<div class="line"><span class="lineno">  536</span>    <a class="code hl_typedef" href="dogecoin_8h.html#adb4b0440bc7e61a0efea47634d9b75b0">dogecoin_bool</a> sign = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  537</span>    <a class="code hl_typedef" href="key_8h.html#a2efd11edd8758b0a214ef535ceec462e">dogecoin_key</a> key;</div>
<div class="line"><span class="lineno">  538</span>    <a class="code hl_function" href="key_8c.html#a4a67cd2d626a7a76b8e7a0938c7f16ca">dogecoin_privkey_init</a>(&amp;key);</div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="key_8c.html#a8addb69d356234c78dd10c5330f2c93b">dogecoin_privkey_decode_wif</a>(privkey, chain, &amp;key)) {</div>
<div class="line"><span class="lineno">  540</span>        sign = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  541</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">if</span> (privkey) {</div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordflow">if</span> (strlen(privkey) &gt; 50) {</div>
<div class="line"><span class="lineno">  544</span>                <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  545</span>                <a class="code hl_function" href="cstr_8c.html#aac3ba3d34a15e5380d7d2214038f6b48">cstr_free</a>(script, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  546</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  547</span>            }</div>
<div class="line"><span class="lineno">  548</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  549</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  550</span>        }</div>
<div class="line"><span class="lineno">  551</span>    }</div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">if</span> (sign) {</div>
<div class="line"><span class="lineno">  553</span>        <a class="code hl_typedef" href="winunistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a> sigcompact[64] = {0};</div>
<div class="line"><span class="lineno">  554</span>        <span class="keywordtype">size_t</span> sigderlen = 74 + 1; <span class="comment">//&amp;hashtype</span></div>
<div class="line"><span class="lineno">  555</span>        <a class="code hl_typedef" href="winunistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a> sigder_plus_hashtype[75] = {0};</div>
<div class="line"><span class="lineno">  556</span>        <span class="keyword">enum</span> <a class="code hl_enumeration" href="tx_8h.html#aed112de76add1ea51a3dbde751d099fb">dogecoin_tx_sign_result</a> res = <a class="code hl_function" href="tx_8c.html#a5b23acda7832579c1b44579b4d272f23">dogecoin_tx_sign_input</a>(txtmp, script, &amp;key, inputindex, sighashtype, sigcompact, sigder_plus_hashtype, &amp;sigderlen);</div>
<div class="line"><span class="lineno">  557</span>        <a class="code hl_function" href="cstr_8c.html#aac3ba3d34a15e5380d7d2214038f6b48">cstr_free</a>(script, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>        <span class="keywordflow">if</span> (res != <a class="code hl_enumvalue" href="tx_8h.html#aed112de76add1ea51a3dbde751d099fba07df45ba54eb2f36a7dd8470ab1ccce1">DOGECOIN_SIGN_OK</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>        <span class="keywordtype">char</span> sigcompacthex[64*2+1] = {0};</div>
<div class="line"><span class="lineno">  562</span>        <a class="code hl_function" href="utils_8c.html#a929afdd002fd898b46e6d0499ddf0715">utils_bin_to_hex</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)sigcompact, 64, sigcompacthex);</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordtype">char</span> sigderhex[74*2+2+1]; <span class="comment">//74 der, 2 hashtype, 1 nullbyte</span></div>
<div class="line"><span class="lineno">  565</span>        <a class="code hl_function" href="mem_8c.html#afa74e6ef7b27aef8c742cd073ad849b9">dogecoin_mem_zero</a>(sigderhex, <span class="keyword">sizeof</span>(sigderhex));</div>
<div class="line"><span class="lineno">  566</span>        <a class="code hl_function" href="utils_8c.html#a929afdd002fd898b46e6d0499ddf0715">utils_bin_to_hex</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)sigder_plus_hashtype, sigderlen, sigderhex);</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span>        <a class="code hl_define" href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a>(<span class="stringliteral">&quot;\nsignature created:\nsignature compact: %s\n&quot;</span>, sigcompacthex);</div>
<div class="line"><span class="lineno">  569</span>        <a class="code hl_define" href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a>(<span class="stringliteral">&quot;signature DER (+hashtype): %s\n&quot;</span>, sigderhex);</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>        <a class="code hl_struct" href="structcstring.html">cstring</a>* signed_tx = <a class="code hl_function" href="cstr_8c.html#a27886215b0fc427185042cf6e171098b">cstr_new_sz</a>(1024);</div>
<div class="line"><span class="lineno">  572</span>        <a class="code hl_function" href="tx_8c.html#aaea2e68f56c6cc351e68dfac98cd996a">dogecoin_tx_serialize</a>(signed_tx, txtmp);</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordtype">char</span>* signed_tx_hex = <a class="code hl_function" href="mem_8c.html#ada424f6ce66841962ef344f21c8d783f">dogecoin_char_vla</a>(signed_tx-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> * 2 + 1);</div>
<div class="line"><span class="lineno">  575</span>        <a class="code hl_function" href="utils_8c.html#a929afdd002fd898b46e6d0499ddf0715">utils_bin_to_hex</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)signed_tx-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>, signed_tx-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>, signed_tx_hex);</div>
<div class="line"><span class="lineno">  576</span>        memcpy(incomingrawtx, signed_tx_hex, strlen(signed_tx_hex));</div>
<div class="line"><span class="lineno">  577</span>        <a class="code hl_define" href="dogecoin_8h.html#a7377cc956f5c81538f0fbf0a0492a539">debug_print</a>(<span class="stringliteral">&quot;signed TX: %s\n&quot;</span>, incomingrawtx);</div>
<div class="line"><span class="lineno">  578</span>        <a class="code hl_function" href="cstr_8c.html#aac3ba3d34a15e5380d7d2214038f6b48">cstr_free</a>(signed_tx, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  579</span>        <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  580</span>        free(signed_tx_hex);</div>
<div class="line"><span class="lineno">  581</span>    }</div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  583</span>}</div>
<div class="ttc" id="acstr_8c_html_aa9f37c18fe4d9fc861d39a69938d1366"><div class="ttname"><a href="cstr_8c.html#aa9f37c18fe4d9fc861d39a69938d1366">cstr_new_buf</a></div><div class="ttdeci">cstring * cstr_new_buf(const void *buf, size_t sz)</div><div class="ttdoc">The function creates a new cstring and initializes it with the first sz bytes of the specified buffer...</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8c_source.html#l00123">cstr.c:123</a></div></div>
<div class="ttc" id="adogecoin_8h_html_a7b1e8040e3117539e0382dbdfb55f942"><div class="ttname"><a href="dogecoin_8h.html#a7b1e8040e3117539e0382dbdfb55f942">uint256</a></div><div class="ttdeci">LIBDOGECOIN_BEGIN_DECL typedef uint8_t uint256[32]</div><div class="ttdef"><b>Definition:</b> <a href="dogecoin_8h_source.html#l00132">dogecoin.h:132</a></div></div>
<div class="ttc" id="adogecoin_8h_html_adb4b0440bc7e61a0efea47634d9b75b0"><div class="ttname"><a href="dogecoin_8h.html#adb4b0440bc7e61a0efea47634d9b75b0">dogecoin_bool</a></div><div class="ttdeci">uint8_t dogecoin_bool</div><div class="ttdef"><b>Definition:</b> <a href="dogecoin_8h_source.html#l00040">dogecoin.h:40</a></div></div>
<div class="ttc" id="akey_8c_html_a4a67cd2d626a7a76b8e7a0938c7f16ca"><div class="ttname"><a href="key_8c.html#a4a67cd2d626a7a76b8e7a0938c7f16ca">dogecoin_privkey_init</a></div><div class="ttdeci">void dogecoin_privkey_init(dogecoin_key *privkey)</div><div class="ttdef"><b>Definition:</b> <a href="key_8c_source.html#l00047">key.c:47</a></div></div>
<div class="ttc" id="akey_8c_html_a8addb69d356234c78dd10c5330f2c93b"><div class="ttname"><a href="key_8c.html#a8addb69d356234c78dd10c5330f2c93b">dogecoin_privkey_decode_wif</a></div><div class="ttdeci">dogecoin_bool dogecoin_privkey_decode_wif(const char *privkey_wif, const dogecoin_chainparams *chain, dogecoin_key *privkey)</div><div class="ttdef"><b>Definition:</b> <a href="key_8c_source.html#l00100">key.c:100</a></div></div>
<div class="ttc" id="akey_8h_html_a2efd11edd8758b0a214ef535ceec462e"><div class="ttname"><a href="key_8h.html#a2efd11edd8758b0a214ef535ceec462e">dogecoin_key</a></div><div class="ttdeci">LIBDOGECOIN_BEGIN_DECL struct dogecoin_key_ dogecoin_key</div></div>
<div class="ttc" id="amem_8c_html_a3d136deeb4468d36e367ba442c1dce16"><div class="ttname"><a href="mem_8c.html#a3d136deeb4468d36e367ba442c1dce16">dogecoin_uint8_vla</a></div><div class="ttdeci">uint8_t * dogecoin_uint8_vla(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00256">mem.c:256</a></div></div>
<div class="ttc" id="amem_8c_html_ada424f6ce66841962ef344f21c8d783f"><div class="ttname"><a href="mem_8c.html#ada424f6ce66841962ef344f21c8d783f">dogecoin_char_vla</a></div><div class="ttdeci">char * dogecoin_char_vla(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00263">mem.c:263</a></div></div>
<div class="ttc" id="ascript_8c_html_a277f223fd0d455f2b382e0eada40329b"><div class="ttname"><a href="script_8c.html#a277f223fd0d455f2b382e0eada40329b">dogecoin_tx_out_type_to_str</a></div><div class="ttdeci">const char * dogecoin_tx_out_type_to_str(const enum dogecoin_tx_out_type type)</div><div class="ttdoc">This function takes a script type and translates it into string format.</div><div class="ttdef"><b>Definition:</b> <a href="script_8c_source.html#l00679">script.c:679</a></div></div>
<div class="ttc" id="ascript_8c_html_a5e4fc90d9aed02c197383d3c368a494e"><div class="ttname"><a href="script_8c.html#a5e4fc90d9aed02c197383d3c368a494e">dogecoin_script_classify</a></div><div class="ttdeci">enum dogecoin_tx_out_type dogecoin_script_classify(const cstring *script, vector *data_out)</div><div class="ttdoc">This function takes a cstring representation of a script, classifies it as one of the four script typ...</div><div class="ttdef"><b>Definition:</b> <a href="script_8c_source.html#l00477">script.c:477</a></div></div>
<div class="ttc" id="atx_8c_html_a5b23acda7832579c1b44579b4d272f23"><div class="ttname"><a href="tx_8c.html#a5b23acda7832579c1b44579b4d272f23">dogecoin_tx_sign_input</a></div><div class="ttdeci">enum dogecoin_tx_sign_result dogecoin_tx_sign_input(dogecoin_tx *tx_in_out, const cstring *script, const dogecoin_key *privkey, size_t inputindex, int sighashtype, uint8_t *sigcompact_out, uint8_t *sigder_out, size_t *sigder_len_out)</div><div class="ttdoc">This function signs the inputs of a given transaction using the private key and signature.</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l01064">tx.c:1064</a></div></div>
<div class="ttc" id="atx_8c_html_aa9bd74bef716b41aceae4cfb54071c76"><div class="ttname"><a href="tx_8c.html#aa9bd74bef716b41aceae4cfb54071c76">dogecoin_tx_sighash</a></div><div class="ttdeci">dogecoin_bool dogecoin_tx_sighash(const dogecoin_tx *tx_to, const cstring *fromPubKey, size_t in_num, int hashtype, uint256 hash)</div><div class="ttdoc">This function takes an existing transaction and generates a signature hash to lock its inputs from be...</div><div class="ttdef"><b>Definition:</b> <a href="tx_8c_source.html#l00750">tx.c:750</a></div></div>
<div class="ttc" id="atx_8h_html_aed112de76add1ea51a3dbde751d099fb"><div class="ttname"><a href="tx_8h.html#aed112de76add1ea51a3dbde751d099fb">dogecoin_tx_sign_result</a></div><div class="ttdeci">dogecoin_tx_sign_result</div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00117">tx.h:117</a></div></div>
<div class="ttc" id="atx_8h_html_aed112de76add1ea51a3dbde751d099fba07df45ba54eb2f36a7dd8470ab1ccce1"><div class="ttname"><a href="tx_8h.html#aed112de76add1ea51a3dbde751d099fba07df45ba54eb2f36a7dd8470ab1ccce1">DOGECOIN_SIGN_OK</a></div><div class="ttdeci">@ DOGECOIN_SIGN_OK</div><div class="ttdef"><b>Definition:</b> <a href="tx_8h_source.html#l00125">tx.h:125</a></div></div>
<div class="ttc" id="autils_8c_html_a7c46d469f8d5e4c661f7e0ba5b6182c3"><div class="ttname"><a href="utils_8c.html#a7c46d469f8d5e4c661f7e0ba5b6182c3">utils_reverse_hex</a></div><div class="ttdeci">void utils_reverse_hex(char *h, size_t len)</div><div class="ttdoc">This function takes a hex-encoded string and reverses the order of its bytes.</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00239">utils.c:239</a></div></div>
<div class="ttc" id="autils_8c_html_a929afdd002fd898b46e6d0499ddf0715"><div class="ttname"><a href="utils_8c.html#a929afdd002fd898b46e6d0499ddf0715">utils_bin_to_hex</a></div><div class="ttdeci">void utils_bin_to_hex(unsigned char *bin_in, size_t inlen, char *hex_out)</div><div class="ttdoc">This function takes an array of raw data and converts them to a hex-encoded string.</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00191">utils.c:191</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00173">cstr_free()</a>, <a class="el" href="cstr_8c_source.html#l00123">cstr_new_buf()</a>, <a class="el" href="cstr_8c_source.html#l00097">cstr_new_sz()</a>, <a class="el" href="dogecoin_8h_source.html#l00117">debug_print</a>, <a class="el" href="chainparams_8c_source.html#l00031">dogecoin_chainparams_main</a>, <a class="el" href="chainparams_8c_source.html#l00045">dogecoin_chainparams_test</a>, <a class="el" href="mem_8c_source.html#l00263">dogecoin_char_vla()</a>, <a class="el" href="mem_8c_source.html#l00121">dogecoin_free()</a>, <a class="el" href="mem_8c_source.html#l00077">dogecoin_malloc()</a>, <a class="el" href="mem_8c_source.html#l00243">dogecoin_mem_zero()</a>, <a class="el" href="key_8c_source.html#l00100">dogecoin_privkey_decode_wif()</a>, <a class="el" href="key_8c_source.html#l00047">dogecoin_privkey_init()</a>, <a class="el" href="script_8c_source.html#l00477">dogecoin_script_classify()</a>, <a class="el" href="tx_8h_source.html#l00125">DOGECOIN_SIGN_OK</a>, <a class="el" href="tx_8c_source.html#l00419">dogecoin_tx_deserialize()</a>, <a class="el" href="tx_8c_source.html#l00174">dogecoin_tx_free()</a>, <a class="el" href="tx_8c_source.html#l00350">dogecoin_tx_new()</a>, <a class="el" href="script_8c_source.html#l00679">dogecoin_tx_out_type_to_str()</a>, <a class="el" href="tx_8c_source.html#l00510">dogecoin_tx_serialize()</a>, <a class="el" href="tx_8c_source.html#l00750">dogecoin_tx_sighash()</a>, <a class="el" href="tx_8c_source.html#l01064">dogecoin_tx_sign_input()</a>, <a class="el" href="mem_8c_source.html#l00256">dogecoin_uint8_vla()</a>, <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, <a class="el" href="vector_8h_source.html#l00038">vector::len</a>, <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>, <a class="el" href="dogecoin_8h_source.html#l00132">uint256</a>, <a class="el" href="utils_8c_source.html#l00191">utils_bin_to_hex()</a>, <a class="el" href="utils_8c_source.html#l00109">utils_hex_to_bin()</a>, <a class="el" href="utils_8c_source.html#l00239">utils_reverse_hex()</a>, <a class="el" href="utils_8c_source.html#l00212">utils_uint8_to_hex()</a>, and <a class="el" href="tx_8h_source.html#l00067">dogecoin_tx_::vin</a>.</p>

<p class="reference">Referenced by <a class="el" href="transaction_8c_source.html#l00598">sign_indexed_raw_transaction()</a>, and <a class="el" href="transaction_8c_source.html#l00621">sign_transaction()</a>.</p>

</div>
</div>
<a id="ac91674671636a0a979d06a9ed4a93e64" name="ac91674671636a0a979d06a9ed4a93e64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91674671636a0a979d06a9ed4a93e64">&#9670;&nbsp;</a></span>sign_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int sign_transaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>script_pubkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>privkey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function signs all of the inputs in the specified working transaction using the provided script pubkey and private key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txindex</td><td>The index of the working transaction to sign. </td></tr>
    <tr><td class="paramname">script_pubkey</td><td>The hex representation of the public key script. </td></tr>
    <tr><td class="paramname">privkey</td><td>The private key used to sign the transaction input.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the transaction was signed successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00621">621</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  621</span>                                                                      {</div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordtype">char</span>* raw_hexadecimal_transaction = <a class="code hl_function" href="transaction_8c.html#ac347dee2696911aa322b7d58444bb7df">get_raw_transaction</a>(txindex);</div>
<div class="line"><span class="lineno">  623</span>    <span class="comment">// deserialize transaction</span></div>
<div class="line"><span class="lineno">  624</span>    <a class="code hl_struct" href="structdogecoin__tx__.html">dogecoin_tx</a>* txtmp = <a class="code hl_function" href="tx_8c.html#aca202b1b13445bff1e7d3c095867b356">dogecoin_tx_new</a>();</div>
<div class="line"><span class="lineno">  625</span>    <a class="code hl_typedef" href="winunistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a>* data_bin = <a class="code hl_function" href="mem_8c.html#a407a4f35dd3cf7bd9ed586c213216f5b">dogecoin_malloc</a>(strlen(raw_hexadecimal_transaction) / 2);</div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordtype">size_t</span> outlength = 0;</div>
<div class="line"><span class="lineno">  627</span>    <span class="comment">// convert incomingrawtx to byte array to dogecoin_tx and if it fails free from memory</span></div>
<div class="line"><span class="lineno">  628</span>    <a class="code hl_function" href="utils_8c.html#a1ebbc77b9a997a51ee4da448ed607ef5">utils_hex_to_bin</a>(raw_hexadecimal_transaction, data_bin, strlen(raw_hexadecimal_transaction), &amp;outlength);</div>
<div class="line"><span class="lineno">  629</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="tx_8c.html#a41fae400da12f96a93f7ccb886a41840">dogecoin_tx_deserialize</a>(data_bin, outlength, txtmp, NULL)) {</div>
<div class="line"><span class="lineno">  630</span>        <span class="comment">// free byte array</span></div>
<div class="line"><span class="lineno">  631</span>        <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(data_bin);</div>
<div class="line"><span class="lineno">  632</span>        <span class="comment">// free dogecoin_tx</span></div>
<div class="line"><span class="lineno">  633</span>        <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  634</span>        printf(<span class="stringliteral">&quot;invalid tx hex\n&quot;</span>);</div>
<div class="line"><span class="lineno">  635</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  636</span>    }</div>
<div class="line"><span class="lineno">  637</span>    <span class="comment">// free byte array</span></div>
<div class="line"><span class="lineno">  638</span>    <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(data_bin);</div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordtype">size_t</span> i = 0, len = txtmp-&gt;<a class="code hl_variable" href="structdogecoin__tx__.html#a6a9845cbb65a46ebd73a089deca29279">vin</a>-&gt;<a class="code hl_variable" href="structvector.html#abac364f9d74e0d6610c988003be1d167">len</a>;</div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordflow">for</span> (; i &lt; len; i++) {</div>
<div class="line"><span class="lineno">  641</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="transaction_8c.html#ab840b374e38578e3008bfdcaa707e7a8">sign_raw_transaction</a>(i, raw_hexadecimal_transaction, script_pubkey, 1, privkey)) {</div>
<div class="line"><span class="lineno">  642</span>            printf(<span class="stringliteral">&quot;error signing raw transaction\n&quot;</span>);</div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  644</span>        }</div>
<div class="line"><span class="lineno">  645</span>    }</div>
<div class="line"><span class="lineno">  646</span>    <a class="code hl_function" href="transaction_8c.html#aa1246b3351b2e96549b62dee07ec44f6">save_raw_transaction</a>(txindex, raw_hexadecimal_transaction);</div>
<div class="line"><span class="lineno">  647</span>    <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  649</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mem_8c_source.html#l00121">dogecoin_free()</a>, <a class="el" href="mem_8c_source.html#l00077">dogecoin_malloc()</a>, <a class="el" href="tx_8c_source.html#l00419">dogecoin_tx_deserialize()</a>, <a class="el" href="tx_8c_source.html#l00174">dogecoin_tx_free()</a>, <a class="el" href="tx_8c_source.html#l00350">dogecoin_tx_new()</a>, <a class="el" href="transaction_8c_source.html#l00432">get_raw_transaction()</a>, <a class="el" href="vector_8h_source.html#l00038">vector::len</a>, <a class="el" href="transaction_8c_source.html#l00244">save_raw_transaction()</a>, <a class="el" href="transaction_8c_source.html#l00479">sign_raw_transaction()</a>, <a class="el" href="utils_8c_source.html#l00109">utils_hex_to_bin()</a>, and <a class="el" href="tx_8h_source.html#l00067">dogecoin_tx_::vin</a>.</p>

</div>
</div>
<a id="aeeb270dc7e71055169eb0ef3131da388" name="aeeb270dc7e71055169eb0ef3131da388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb270dc7e71055169eb0ef3131da388">&#9670;&nbsp;</a></span>start_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int start_transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function creates a new transaction, places it in the hash table, and returns the index of the new transaction, starting from 1 and incrementing each subsequent call. </p>
<dl class="section return"><dt>Returns</dt><dd>The index of the new transaction. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00227">227</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  227</span>                        {</div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>* working_tx = <a class="code hl_function" href="transaction_8c.html#a4657ed1d78fb54eef5fed24b8b10bbb7">new_transaction</a>();</div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordtype">int</span> index = working_tx-&gt;<a class="code hl_variable" href="structworking__transaction.html#aec4b5a6ce3d79ca79c50708394a8c4c2">idx</a>;</div>
<div class="line"><span class="lineno">  230</span>    <a class="code hl_function" href="transaction_8c.html#a411063e94d0ffc1764266c5b5530a875">add_transaction</a>(working_tx);</div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">return</span> index;</div>
<div class="line"><span class="lineno">  232</span>}</div>
<div class="ttc" id="atransaction_8c_html_a411063e94d0ffc1764266c5b5530a875"><div class="ttname"><a href="transaction_8c.html#a411063e94d0ffc1764266c5b5530a875">add_transaction</a></div><div class="ttdeci">void add_transaction(working_transaction *working_tx)</div><div class="ttdoc">This function takes a pointer to an existing working transaction object and adds it to the hash table...</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8c_source.html#l00057">transaction.c:57</a></div></div>
<div class="ttc" id="atransaction_8c_html_a4657ed1d78fb54eef5fed24b8b10bbb7"><div class="ttname"><a href="transaction_8c.html#a4657ed1d78fb54eef5fed24b8b10bbb7">new_transaction</a></div><div class="ttdeci">working_transaction * new_transaction()</div><div class="ttdoc">This function instantiates a new working transaction, but does not add it to the hash table.</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8c_source.html#l00042">transaction.c:42</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="transaction_8c_source.html#l00057">add_transaction()</a>, <a class="el" href="transaction_8h_source.html#l00039">working_transaction::idx</a>, and <a class="el" href="transaction_8c_source.html#l00042">new_transaction()</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00499">main_menu()</a>, and <a class="el" href="transaction_8c_source.html#l00659">store_raw_transaction()</a>.</p>

</div>
</div>
<a id="a0fdc1b77f03de19d7f885771a129a046" name="a0fdc1b77f03de19d7f885771a129a046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fdc1b77f03de19d7f885771a129a046">&#9670;&nbsp;</a></span>store_raw_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dogecoin_8h.html#aa5ef6942c86ada5ade7246fbbec43867">LIBDOGECOIN_API</a> int store_raw_transaction </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>incomingrawtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function stores a raw transaction to the next available working transaction in the hash table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">incomingrawtx</td><td>The hex of the raw transaction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the new working transaction if stored successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transaction_8c_source.html#l00659">659</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  659</span>                                               {</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">if</span> (strlen(incomingrawtx) &gt; 1024*100) { <span class="comment">//don&#39;t accept tx larger then 100kb</span></div>
<div class="line"><span class="lineno">  661</span>        printf(<span class="stringliteral">&quot;tx too large (max 100kb)\n&quot;</span>);</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  663</span>    }</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>    <span class="comment">// deserialize transaction</span></div>
<div class="line"><span class="lineno">  666</span>    <a class="code hl_struct" href="structdogecoin__tx__.html">dogecoin_tx</a>* txtmp = <a class="code hl_function" href="tx_8c.html#aca202b1b13445bff1e7d3c095867b356">dogecoin_tx_new</a>();</div>
<div class="line"><span class="lineno">  667</span>    <span class="keywordtype">int</span> txindex = <a class="code hl_function" href="transaction_8c.html#a306dd223b8b85e98750435aa04297009">start_transaction</a>();</div>
<div class="line"><span class="lineno">  668</span>    <a class="code hl_struct" href="structworking__transaction.html">working_transaction</a>* tx_raw = <a class="code hl_function" href="transaction_8c.html#a8cf129cebe55d4178df895c3050b3e1a">find_transaction</a>(txindex);</div>
<div class="line"><span class="lineno">  669</span>    <a class="code hl_typedef" href="winunistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a>* data_bin = <a class="code hl_function" href="mem_8c.html#a407a4f35dd3cf7bd9ed586c213216f5b">dogecoin_malloc</a>(strlen(incomingrawtx));</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordtype">size_t</span> outlength = 0;</div>
<div class="line"><span class="lineno">  671</span>    <span class="comment">// convert incomingrawtx to byte array to dogecoin_tx and if it fails free from memory</span></div>
<div class="line"><span class="lineno">  672</span>    <a class="code hl_function" href="utils_8c.html#a1ebbc77b9a997a51ee4da448ed607ef5">utils_hex_to_bin</a>(incomingrawtx, data_bin, strlen(incomingrawtx), &amp;outlength);</div>
<div class="line"><span class="lineno">  673</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="tx_8c.html#a41fae400da12f96a93f7ccb886a41840">dogecoin_tx_deserialize</a>(data_bin, outlength, txtmp, NULL)) {</div>
<div class="line"><span class="lineno">  674</span>        <span class="comment">// free byte array</span></div>
<div class="line"><span class="lineno">  675</span>        <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(data_bin);</div>
<div class="line"><span class="lineno">  676</span>        <span class="comment">// free dogecoin_tx</span></div>
<div class="line"><span class="lineno">  677</span>        <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  678</span>        printf(<span class="stringliteral">&quot;invalid tx hex&quot;</span>);</div>
<div class="line"><span class="lineno">  679</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  680</span>    }</div>
<div class="line"><span class="lineno">  681</span>    <span class="comment">// free byte array</span></div>
<div class="line"><span class="lineno">  682</span>    <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(data_bin);</div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_function" href="tx_8c.html#a83fa5f9747edd8d7710e41c24f586256">dogecoin_tx_copy</a>(tx_raw-&gt;<a class="code hl_variable" href="structworking__transaction.html#ad4c3e27d1b43de2139c0e35e00c11024">transaction</a>, txtmp);</div>
<div class="line"><span class="lineno">  684</span>    <a class="code hl_function" href="tx_8c.html#a5104a4193fcb2e10f0517694d86007f8">dogecoin_tx_free</a>(txtmp);</div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordflow">return</span> txindex;</div>
<div class="line"><span class="lineno">  686</span>}</div>
<div class="ttc" id="atransaction_8c_html_a306dd223b8b85e98750435aa04297009"><div class="ttname"><a href="transaction_8c.html#a306dd223b8b85e98750435aa04297009">start_transaction</a></div><div class="ttdeci">int start_transaction()</div><div class="ttdoc">This function creates a new transaction, places it in the hash table, and returns the index of the ne...</div><div class="ttdef"><b>Definition:</b> <a href="transaction_8c_source.html#l00227">transaction.c:227</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mem_8c_source.html#l00121">dogecoin_free()</a>, <a class="el" href="mem_8c_source.html#l00077">dogecoin_malloc()</a>, <a class="el" href="tx_8c_source.html#l00618">dogecoin_tx_copy()</a>, <a class="el" href="tx_8c_source.html#l00419">dogecoin_tx_deserialize()</a>, <a class="el" href="tx_8c_source.html#l00174">dogecoin_tx_free()</a>, <a class="el" href="tx_8c_source.html#l00350">dogecoin_tx_new()</a>, <a class="el" href="transaction_8c_source.html#l00077">find_transaction()</a>, <a class="el" href="transaction_8c_source.html#l00227">start_transaction()</a>, <a class="el" href="transaction_8h_source.html#l00040">working_transaction::transaction</a>, and <a class="el" href="utils_8c_source.html#l00109">utils_hex_to_bin()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9893549a216673f0027156edad352581" name="a9893549a216673f0027156edad352581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9893549a216673f0027156edad352581">&#9670;&nbsp;</a></span>transactions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structworking__transaction.html">working_transaction</a>* transactions = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="transaction_8h_source.html#l00046">46</a> of file <a class="el" href="transaction_8h_source.html">transaction.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="transaction_8c_source.html#l00057">add_transaction()</a>, <a class="el" href="transaction_8c_source.html#l00133">count_transactions()</a>, <a class="el" href="transaction_8c_source.html#l00077">find_transaction()</a>, <a class="el" href="transaction_8c_source.html#l00042">new_transaction()</a>, <a class="el" href="transaction_8c_source.html#l00118">print_transactions()</a>, <a class="el" href="transaction_8c_source.html#l00103">remove_all()</a>, and <a class="el" href="transaction_8c_source.html#l00091">remove_transaction()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
