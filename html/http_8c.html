<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/libevent/http.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_97979c17d049e8002d2e089c4964ead4.html">libevent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">http.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;event2/event-config.h&quot;</code><br />
<code>#include &quot;evconfig-private.h&quot;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;syslog.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &quot;<a class="el" href="strlcpy-internal_8h_source.html">strlcpy-internal.h</a>&quot;</code><br />
<code>#include &quot;event2/http.h&quot;</code><br />
<code>#include &quot;event2/event.h&quot;</code><br />
<code>#include &quot;event2/buffer.h&quot;</code><br />
<code>#include &quot;event2/bufferevent.h&quot;</code><br />
<code>#include &quot;event2/http_struct.h&quot;</code><br />
<code>#include &quot;event2/http_compat.h&quot;</code><br />
<code>#include &quot;event2/util.h&quot;</code><br />
<code>#include &quot;event2/listener.h&quot;</code><br />
<code>#include &quot;<a class="el" href="log-internal_8h_source.html">log-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util-internal_8h_source.html">util-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http-internal_8h_source.html">http-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mm-internal_8h_source.html">mm-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bufferevent-internal_8h_source.html">bufferevent-internal.h</a>&quot;</code><br />
</div>
<p><a href="http_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structresponse__class.html">response_class</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevhttp__uri.html">evhttp_uri</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aefdeadf85356cc2fa0870d86a6055eb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aefdeadf85356cc2fa0870d86a6055eb1">NI_MAXSERV</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:aefdeadf85356cc2fa0870d86a6055eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc53e498b2434654a1d44070d9ccd40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aebc53e498b2434654a1d44070d9ccd40">NI_MAXHOST</a>&#160;&#160;&#160;1025</td></tr>
<tr class="separator:aebc53e498b2434654a1d44070d9ccd40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f12304e7a43038f40cd579ad57829f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a62f12304e7a43038f40cd579ad57829f">NI_NUMERICHOST</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a62f12304e7a43038f40cd579ad57829f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d346aae7109d19b9ccab7c510a3cad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#af6d346aae7109d19b9ccab7c510a3cad">NI_NUMERICSERV</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:af6d346aae7109d19b9ccab7c510a3cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a76979addb9524d4a00a150a067c8bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3a76979addb9524d4a00a150a067c8bd">REQ_VERSION_BEFORE</a>(req,  major_v,  minor_v)</td></tr>
<tr class="separator:a3a76979addb9524d4a00a150a067c8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78aee06e216bc57d9d8328f994bf19b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a78aee06e216bc57d9d8328f994bf19b0">REQ_VERSION_ATLEAST</a>(req,  major_v,  minor_v)</td></tr>
<tr class="separator:a78aee06e216bc57d9d8328f994bf19b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3acffbd305ee72dcd4593c0d8af64a4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(a,  b)&#160;&#160;&#160;(((a)&lt;(b))?(a):(b))</td></tr>
<tr class="separator:a3acffbd305ee72dcd4593c0d8af64a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a148fc0a6cc62b69f27dd7025c0b121c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a148fc0a6cc62b69f27dd7025c0b121c9">get_deferred_queue</a>(evcon)&#160;&#160;&#160;	((evcon)-&gt;base)</td></tr>
<tr class="separator:a148fc0a6cc62b69f27dd7025c0b121c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd608453b83e74874a4983106a1d9cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a7bd608453b83e74874a4983106a1d9cd">ERR_FORMAT</a></td></tr>
<tr class="separator:a7bd608453b83e74874a4983106a1d9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28a3b1f039fa3f5cb598eb1005a98f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aa28a3b1f039fa3f5cb598eb1005a98f5">MEMBERSOF</a>(x)&#160;&#160;&#160;(sizeof(x)/sizeof(x[0]))</td></tr>
<tr class="separator:aa28a3b1f039fa3f5cb598eb1005a98f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3196dc56717a368635e6a375e77df11e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3196dc56717a368635e6a375e77df11e">CHAR_IS_UNRESERVED</a>(c)&#160;&#160;&#160;	(<a class="el" href="http_8c.html#a5fe68c89694ff69f6112196e7b932f54">uri_chars</a>[(unsigned char)(c)])</td></tr>
<tr class="separator:a3196dc56717a368635e6a375e77df11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd608453b83e74874a4983106a1d9cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a7bd608453b83e74874a4983106a1d9cd">ERR_FORMAT</a></td></tr>
<tr class="separator:a7bd608453b83e74874a4983106a1d9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa791968cc0b7487ff1c9262ac44a2ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#afa791968cc0b7487ff1c9262ac44a2ed">SUBDELIMS</a>&#160;&#160;&#160;&quot;!$&amp;'()*+,;=&quot;</td></tr>
<tr class="separator:afa791968cc0b7487ff1c9262ac44a2ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35afb9124face4a32b2ea62684396eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ad35afb9124face4a32b2ea62684396eb">URI_FREE_STR_</a>(f)</td></tr>
<tr class="separator:ad35afb9124face4a32b2ea62684396eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b07d3ff0d051937640aa0a9890d77c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a9b07d3ff0d051937640aa0a9890d77c3">URI_ADD_</a>(f)&#160;&#160;&#160;<a class="el" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(tmp, uri-&gt;f, strlen(uri-&gt;f))</td></tr>
<tr class="separator:a9b07d3ff0d051937640aa0a9890d77c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8020d8038969895b6fa98120a86ed067"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a8020d8038969895b6fa98120a86ed067">URI_SET_STR_</a>(f)</td></tr>
<tr class="separator:a8020d8038969895b6fa98120a86ed067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf0d55cfbc539db662b879c6159e6e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a7bf0d55cfbc539db662b879c6159e6e6">end_of_cpath</a>(cp,  p,  f)&#160;&#160;&#160;	((const char*)(<a class="el" href="http_8c.html#aa2f2e0addc4d2b31f768d416951316ab">end_of_path</a>(((char*)(cp)), (p), (f))))</td></tr>
<tr class="separator:a7bf0d55cfbc539db662b879c6159e6e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5c5a9605ed22760f5ebe9e9121e2a919"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919">expect</a> { <a class="el" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a0d077f5b932ce05e5b9f30c6087a2f31">NO</a>
, <a class="el" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a49959dd441dcda75d6898cf2c68fb374">CONTINUE</a>
, <a class="el" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919adbf1dee1b8cd7ea3c82661943c7b74f4">OTHER</a>
 }</td></tr>
<tr class="separator:a5c5a9605ed22760f5ebe9e9121e2a919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5558152b94ab5d38e06816ef65b21e1f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1f">uri_part</a> { <a class="el" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893">PART_PATH</a>
, <a class="el" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa387dee858a040af11bdc308c8a261fd7">PART_QUERY</a>
, <a class="el" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa615c3b6a8736f0055bdbce1d8ca72cd8">PART_FRAGMENT</a>
 }</td></tr>
<tr class="separator:a5558152b94ab5d38e06816ef65b21e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aba5c0d68e67754bc929605783c333194"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aba5c0d68e67754bc929605783c333194">fake_getnameinfo</a> (const struct sockaddr *sa, size_t salen, char *host, size_t hostlen, char *serv, size_t servlen, int flags)</td></tr>
<tr class="separator:aba5c0d68e67754bc929605783c333194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d010648584df08658c3918512d6eafa"><td class="memItemLeft" align="right" valign="top">static evutil_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a7d010648584df08658c3918512d6eafa">create_bind_socket_nonblock</a> (struct evutil_addrinfo *, int reuse)</td></tr>
<tr class="separator:a7d010648584df08658c3918512d6eafa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae512f701fdfa4b104d1a8b8ef3bf88ad"><td class="memItemLeft" align="right" valign="top">static evutil_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ae512f701fdfa4b104d1a8b8ef3bf88ad">bind_socket</a> (const char *, ev_uint16_t, int reuse)</td></tr>
<tr class="separator:ae512f701fdfa4b104d1a8b8ef3bf88ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61654aa6055911f49b12a418075c572"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ad61654aa6055911f49b12a418075c572">name_from_addr</a> (struct sockaddr *, ev_socklen_t, char **, char **)</td></tr>
<tr class="separator:ad61654aa6055911f49b12a418075c572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3cb41421c13aacc8a69c62f9b92d75c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aa3cb41421c13aacc8a69c62f9b92d75c">evhttp_uri_parse_authority</a> (char *source_uri)</td></tr>
<tr class="separator:aa3cb41421c13aacc8a69c62f9b92d75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7fcb292a0c9868222024aff72207615"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ad7fcb292a0c9868222024aff72207615">evhttp_associate_new_request_with_connection</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:ad7fcb292a0c9868222024aff72207615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca066f6f0bd1ddafb70655029440eb9a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aca066f6f0bd1ddafb70655029440eb9a">evhttp_connection_start_detectclose</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:aca066f6f0bd1ddafb70655029440eb9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4effa3e1a976dd4c74653dbfe5015ada"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a4effa3e1a976dd4c74653dbfe5015ada">evhttp_connection_stop_detectclose</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:a4effa3e1a976dd4c74653dbfe5015ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d1317d5fbac429a86d00737143bdd1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a91d1317d5fbac429a86d00737143bdd1">evhttp_request_dispatch</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:a91d1317d5fbac429a86d00737143bdd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeaf0de87ed5bfc7f7c545826ffdccb0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#adeaf0de87ed5bfc7f7c545826ffdccb0">evhttp_read_firstline</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:adeaf0de87ed5bfc7f7c545826ffdccb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac69c3551726a0a00531286b1ce5ef486"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac69c3551726a0a00531286b1ce5ef486">evhttp_read_header</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:ac69c3551726a0a00531286b1ce5ef486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c71de8ffdf44a75dc74f6df4cb4f9b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a35c71de8ffdf44a75dc74f6df4cb4f9b">evhttp_add_header_internal</a> (struct evkeyvalq *headers, const char *key, const char *value)</td></tr>
<tr class="separator:a35c71de8ffdf44a75dc74f6df4cb4f9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610e1a5b478ac02e181b095900ff22bb"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a610e1a5b478ac02e181b095900ff22bb">evhttp_response_phrase_internal</a> (int code)</td></tr>
<tr class="separator:a610e1a5b478ac02e181b095900ff22bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff912d0329a7025677b0e5f010e8b2e1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aff912d0329a7025677b0e5f010e8b2e1">evhttp_get_request</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *, evutil_socket_t, struct sockaddr *, ev_socklen_t)</td></tr>
<tr class="separator:aff912d0329a7025677b0e5f010e8b2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae93e6f4eb93486410ffc3fac5f01f440"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *, void(*)(struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *, void *), void *)</td></tr>
<tr class="separator:ae93e6f4eb93486410ffc3fac5f01f440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed4a49a3e33f637ea7c0bf1490a1144"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a1ed4a49a3e33f637ea7c0bf1490a1144">evhttp_make_header</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *, struct evhttp_request *)</td></tr>
<tr class="separator:a1ed4a49a3e33f637ea7c0bf1490a1144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95241fd0965764d55cdd3609c8d3a3ca"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a95241fd0965764d55cdd3609c8d3a3ca">evhttp_read_cb</a> (struct bufferevent *, void *)</td></tr>
<tr class="separator:a95241fd0965764d55cdd3609c8d3a3ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2982b8516dba583cab6be97d9ca8461"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#af2982b8516dba583cab6be97d9ca8461">evhttp_write_cb</a> (struct bufferevent *, void *)</td></tr>
<tr class="separator:af2982b8516dba583cab6be97d9ca8461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173e6193915884810d3d6c9fd7175299"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a> (struct bufferevent *bufev, short what, void *arg)</td></tr>
<tr class="separator:a173e6193915884810d3d6c9fd7175299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d5625a2e540c973db9b2cc66f3348c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a52d5625a2e540c973db9b2cc66f3348c">evhttp_find_vhost</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, struct <a class="el" href="structevhttp.html">evhttp</a> **outhttp, const char *hostname)</td></tr>
<tr class="separator:a52d5625a2e540c973db9b2cc66f3348c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a844fbdb1603906de8cd282f2f5a649a4"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a> (char **s, const char *del)</td></tr>
<tr class="separator:a844fbdb1603906de8cd282f2f5a649a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0facec2d8401a25b6efb141296fa967"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aa0facec2d8401a25b6efb141296fa967">html_replace</a> (const char ch, const char **escaped)</td></tr>
<tr class="separator:aa0facec2d8401a25b6efb141296fa967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3515dee052641e149edbdd1b7a1c2f4f"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3515dee052641e149edbdd1b7a1c2f4f">evhttp_htmlescape</a> (const char *html)</td></tr>
<tr class="separator:a3515dee052641e149edbdd1b7a1c2f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce2fa984774896f19286a02ef934ad4"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#adce2fa984774896f19286a02ef934ad4">evhttp_method</a> (enum evhttp_cmd_type type)</td></tr>
<tr class="separator:adce2fa984774896f19286a02ef934ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192640c318669b3ac03ee3a7e8b1e21b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a192640c318669b3ac03ee3a7e8b1e21b">evhttp_response_needs_body</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a192640c318669b3ac03ee3a7e8b1e21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0275faa681dd2788a1bf7c2e3514c11a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a0275faa681dd2788a1bf7c2e3514c11a">evhttp_send_continue_done</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, void *arg)</td></tr>
<tr class="separator:a0275faa681dd2788a1bf7c2e3514c11a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e508893832c1adacc2d9ea24f88aaf5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a9e508893832c1adacc2d9ea24f88aaf5">evhttp_send_continue</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:a9e508893832c1adacc2d9ea24f88aaf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988819fcfbc66361040eece863074fb0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a988819fcfbc66361040eece863074fb0">evhttp_connected</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:a988819fcfbc66361040eece863074fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e364297bd323141b07a18a2f9e0694b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3e364297bd323141b07a18a2f9e0694b">evhttp_make_header_request</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:a3e364297bd323141b07a18a2f9e0694b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b132975235a9fd2381ae07f39db9994"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a7b132975235a9fd2381ae07f39db9994">evhttp_is_connection_close</a> (int flags, struct evkeyvalq *headers)</td></tr>
<tr class="separator:a7b132975235a9fd2381ae07f39db9994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b49e50c376f1792c3fe36d66ed180f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a22b49e50c376f1792c3fe36d66ed180f">evhttp_is_request_connection_close</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a22b49e50c376f1792c3fe36d66ed180f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b58430a19af2f684dbef815f3464da"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a07b58430a19af2f684dbef815f3464da">evhttp_is_connection_keepalive</a> (struct evkeyvalq *headers)</td></tr>
<tr class="separator:a07b58430a19af2f684dbef815f3464da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a008a79510a2e1e08ee3f6cd0fa25cc35"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a008a79510a2e1e08ee3f6cd0fa25cc35">evhttp_maybe_add_date_header</a> (struct evkeyvalq *headers)</td></tr>
<tr class="separator:a008a79510a2e1e08ee3f6cd0fa25cc35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f2e6eb57be6e19385d3e389907f8ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a92f2e6eb57be6e19385d3e389907f8ba">evhttp_maybe_add_content_length_header</a> (struct evkeyvalq *headers, size_t content_length)</td></tr>
<tr class="separator:a92f2e6eb57be6e19385d3e389907f8ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae21f4d79b530ba364a7a7dc68cd07460"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ae21f4d79b530ba364a7a7dc68cd07460">evhttp_make_header_response</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:ae21f4d79b530ba364a7a7dc68cd07460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b711d9faf585de0afc9482074f032f1"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919">expect</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a8b711d9faf585de0afc9482074f032f1">evhttp_have_expect</a> (struct evhttp_request *req, int input)</td></tr>
<tr class="separator:a8b711d9faf585de0afc9482074f032f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeea564828181bbd3879b6af92224d4f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aeea564828181bbd3879b6af92224d4f6">evhttp_connection_set_max_headers_size</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, ev_ssize_t new_max_headers_size)</td></tr>
<tr class="separator:aeea564828181bbd3879b6af92224d4f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e5fc3a7488c3a32f28fde45d15c6e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a05e5fc3a7488c3a32f28fde45d15c6e4">evhttp_connection_set_max_body_size</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, ev_ssize_t new_max_body_size)</td></tr>
<tr class="separator:a05e5fc3a7488c3a32f28fde45d15c6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a481ab16004dc84c13e665e2958dc3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a04a481ab16004dc84c13e665e2958dc3">evhttp_connection_incoming_fail</a> (struct evhttp_request *req, enum evhttp_request_error error)</td></tr>
<tr class="separator:a04a481ab16004dc84c13e665e2958dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09dae252ede7e4113f56f7463f600321"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a09dae252ede7e4113f56f7463f600321">evhttp_request_free_auto</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a09dae252ede7e4113f56f7463f600321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec52e9f0edd6a27790e1fbc0a67abe82"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aec52e9f0edd6a27790e1fbc0a67abe82">evhttp_request_free_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:aec52e9f0edd6a27790e1fbc0a67abe82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f3513313656cfa735a3d5fe41476740"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, enum evhttp_request_error error)</td></tr>
<tr class="separator:a5f3513313656cfa735a3d5fe41476740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcab479b0018f22f0295150a5fd2d03d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#adcab479b0018f22f0295150a5fd2d03d">evhttp_connection_done</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:adcab479b0018f22f0295150a5fd2d03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe9b9b1bc06be4087c0aa4ff7a40c623"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#afe9b9b1bc06be4087c0aa4ff7a40c623">evhttp_handle_chunked_read</a> (struct evhttp_request *req, struct <a class="el" href="structevbuffer.html">evbuffer</a> *buf)</td></tr>
<tr class="separator:afe9b9b1bc06be4087c0aa4ff7a40c623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4a5a068e6014cf19d7f35a642d3a9f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#afb4a5a068e6014cf19d7f35a642d3a9f">evhttp_read_trailer</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:afb4a5a068e6014cf19d7f35a642d3a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c599bb7cc6d0dd83cae6e4698c3c8c5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a2c599bb7cc6d0dd83cae6e4698c3c8c5">evhttp_lingering_close</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:a2c599bb7cc6d0dd83cae6e4698c3c8c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb1c6e18c84c4074fc7939264db56b5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aecb1c6e18c84c4074fc7939264db56b5">evhttp_lingering_fail</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:aecb1c6e18c84c4074fc7939264db56b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86a93ad9abc750b2588f751514e6c22b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a86a93ad9abc750b2588f751514e6c22b">evhttp_read_body</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:a86a93ad9abc750b2588f751514e6c22b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16710889b7a403e30205d929d3146216"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a16710889b7a403e30205d929d3146216">evhttp_deferred_read_cb</a> (struct event_callback *cb, void *data)</td></tr>
<tr class="separator:a16710889b7a403e30205d929d3146216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ab724169fe6336605ef79ffb3576f6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac7ab724169fe6336605ef79ffb3576f6">evhttp_write_connectioncb</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, void *arg)</td></tr>
<tr class="separator:ac7ab724169fe6336605ef79ffb3576f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5afe0ffd71e479a9d830ac3800ba599"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:ab5afe0ffd71e479a9d830ac3800ba599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aea35101602c9f94c93df925830ca19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a7aea35101602c9f94c93df925830ca19">evhttp_connection_free_on_completion</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:a7aea35101602c9f94c93df925830ca19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a839b6cd03f4377fead26e8b680e9cd7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a839b6cd03f4377fead26e8b680e9cd7e">evhttp_connection_set_local_address</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, const char *address)</td></tr>
<tr class="separator:a839b6cd03f4377fead26e8b680e9cd7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a325b818c5c4f48a8ba1f3cf6a49d7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3a325b818c5c4f48a8ba1f3cf6a49d7f">evhttp_connection_set_local_port</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, ev_uint16_t port)</td></tr>
<tr class="separator:a3a325b818c5c4f48a8ba1f3cf6a49d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5a343b577968641c4f3d9f9155cebf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:a6f5a343b577968641c4f3d9f9155cebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2342669486653b913a770fd7be661ab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ad2342669486653b913a770fd7be661ab">evhttp_connection_retry</a> (evutil_socket_t fd, short what, void *arg)</td></tr>
<tr class="separator:ad2342669486653b913a770fd7be661ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcfaff5e9f76591078033826f9e1252d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#afcfaff5e9f76591078033826f9e1252d">evhttp_connection_cb_cleanup</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:afcfaff5e9f76591078033826f9e1252d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd68971b6d6ad46a9935a41af756805"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a6dd68971b6d6ad46a9935a41af756805">evhttp_connection_read_on_write_error</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:a6dd68971b6d6ad46a9935a41af756805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6ab7053ad08b65f2ea4a31594b982c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ada6ab7053ad08b65f2ea4a31594b982c">evhttp_connection_cb</a> (struct bufferevent *bufev, short what, void *arg)</td></tr>
<tr class="separator:ada6ab7053ad08b65f2ea4a31594b982c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a0a72405893139c9dc3a5812c3e84ec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3a0a72405893139c9dc3a5812c3e84ec">evhttp_valid_response_code</a> (int code)</td></tr>
<tr class="separator:a3a0a72405893139c9dc3a5812c3e84ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2642198f784e8a9d464a3c7658c18acf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a2642198f784e8a9d464a3c7658c18acf">evhttp_parse_http_version</a> (const char *version, struct evhttp_request *req)</td></tr>
<tr class="separator:a2642198f784e8a9d464a3c7658c18acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c4f0c2da9510ad94e73134a2fc39e3e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a8c4f0c2da9510ad94e73134a2fc39e3e">evhttp_parse_response_line</a> (struct evhttp_request *req, char *line)</td></tr>
<tr class="separator:a8c4f0c2da9510ad94e73134a2fc39e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa607a6329cb3b702c07c28f01fc398d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aaa607a6329cb3b702c07c28f01fc398d">evhttp_parse_request_line</a> (struct evhttp_request *req, char *line, size_t len)</td></tr>
<tr class="separator:aaa607a6329cb3b702c07c28f01fc398d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f22ee71113d25b89efa127d98ec0766"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a> (const struct evkeyvalq *headers, const char *key)</td></tr>
<tr class="separator:a2f22ee71113d25b89efa127d98ec0766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd33f73c8d7af63a0da05ebb32b7e72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#adfd33f73c8d7af63a0da05ebb32b7e72">evhttp_clear_headers</a> (struct evkeyvalq *headers)</td></tr>
<tr class="separator:adfd33f73c8d7af63a0da05ebb32b7e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87600f14a6f8c36beedbeed8267b856"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab87600f14a6f8c36beedbeed8267b856">evhttp_remove_header</a> (struct evkeyvalq *headers, const char *key)</td></tr>
<tr class="separator:ab87600f14a6f8c36beedbeed8267b856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed13d8c74cc39081d910f7a46b25091"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5ed13d8c74cc39081d910f7a46b25091">evhttp_header_is_valid_value</a> (const char *value)</td></tr>
<tr class="separator:a5ed13d8c74cc39081d910f7a46b25091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e3f41c14b8e0e74da13a8d308b93b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a> (struct evkeyvalq *headers, const char *key, const char *value)</td></tr>
<tr class="separator:a04e3f41c14b8e0e74da13a8d308b93b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d4bfe605c668e8f92c6fb8016649f0"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac8d4bfe605c668e8f92c6fb8016649f0">evhttp_parse_firstline_</a> (struct evhttp_request *req, struct <a class="el" href="structevbuffer.html">evbuffer</a> *<a class="el" href="structbuffer.html">buffer</a>)</td></tr>
<tr class="separator:ac8d4bfe605c668e8f92c6fb8016649f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04abb4a67cf4fd168923c72fabf77c55"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a04abb4a67cf4fd168923c72fabf77c55">evhttp_append_to_last_header</a> (struct evkeyvalq *headers, char *line)</td></tr>
<tr class="separator:a04abb4a67cf4fd168923c72fabf77c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8196d3b911bc2517ac03a44d9adfe99b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a8196d3b911bc2517ac03a44d9adfe99b">evhttp_parse_headers_</a> (struct evhttp_request *req, struct <a class="el" href="structevbuffer.html">evbuffer</a> *<a class="el" href="structbuffer.html">buffer</a>)</td></tr>
<tr class="separator:a8196d3b911bc2517ac03a44d9adfe99b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b86a5781cb843099d7b40e93efde217"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a4b86a5781cb843099d7b40e93efde217">evhttp_get_body_length</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a4b86a5781cb843099d7b40e93efde217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7dd2208193d6666ad2501e33eb5bf7d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ae7dd2208193d6666ad2501e33eb5bf7d">evhttp_method_may_have_body</a> (enum evhttp_cmd_type type)</td></tr>
<tr class="separator:ae7dd2208193d6666ad2501e33eb5bf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e09f2a77faf6a2ffacc7e99005a0ff6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a6e09f2a77faf6a2ffacc7e99005a0ff6">evhttp_get_body</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req)</td></tr>
<tr class="separator:a6e09f2a77faf6a2ffacc7e99005a0ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932a465c7251eb92a3c19c8e03666989"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a932a465c7251eb92a3c19c8e03666989">evhttp_connection_new</a> (const char *address, ev_uint16_t port)</td></tr>
<tr class="separator:a932a465c7251eb92a3c19c8e03666989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e6a9d31e73de20b9740ac4fea642ff"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a01e6a9d31e73de20b9740ac4fea642ff">evhttp_connection_base_bufferevent_new</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct <a class="el" href="structevdns__base.html">evdns_base</a> *dnsbase, struct bufferevent *bev, const char *address, ev_uint16_t port)</td></tr>
<tr class="separator:a01e6a9d31e73de20b9740ac4fea642ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87d4a37c46200b7e76b875420b20fa2"><td class="memItemLeft" align="right" valign="top">struct bufferevent *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab87d4a37c46200b7e76b875420b20fa2">evhttp_connection_get_bufferevent</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:ab87d4a37c46200b7e76b875420b20fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d27455a9ff981c4276db19deb7a72f2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a9d27455a9ff981c4276db19deb7a72f2">evhttp_connection_get_server</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:a9d27455a9ff981c4276db19deb7a72f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977d3bee20d6d532c47e5839b42904ea"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a977d3bee20d6d532c47e5839b42904ea">evhttp_connection_base_new</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct <a class="el" href="structevdns__base.html">evdns_base</a> *dnsbase, const char *address, ev_uint16_t port)</td></tr>
<tr class="separator:a977d3bee20d6d532c47e5839b42904ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cdc44a49ecadc0facd9d0f8f6a04218"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a2cdc44a49ecadc0facd9d0f8f6a04218">evhttp_connection_set_family</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, int family)</td></tr>
<tr class="separator:a2cdc44a49ecadc0facd9d0f8f6a04218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a753c3e707882f5f98ba5b9ba99a4d123"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a753c3e707882f5f98ba5b9ba99a4d123">evhttp_connection_set_flags</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, int flags)</td></tr>
<tr class="separator:a753c3e707882f5f98ba5b9ba99a4d123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3a6de60e64dd0469affb45f267888a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a7a3a6de60e64dd0469affb45f267888a">evhttp_connection_set_base</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a7a3a6de60e64dd0469affb45f267888a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa145623b7f58efe51908c6e48060db8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aa145623b7f58efe51908c6e48060db8c">evhttp_connection_set_timeout</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, int timeout_in_secs)</td></tr>
<tr class="separator:aa145623b7f58efe51908c6e48060db8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1b58248069bf209da93896acc9115f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a1e1b58248069bf209da93896acc9115f">evhttp_connection_set_timeout_tv</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, const struct timeval *tv)</td></tr>
<tr class="separator:a1e1b58248069bf209da93896acc9115f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb177c718357e718d8c7e40b23189542"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#abb177c718357e718d8c7e40b23189542">evhttp_connection_set_initial_retry_tv</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, const struct timeval *tv)</td></tr>
<tr class="separator:abb177c718357e718d8c7e40b23189542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9356b2a28a3b08bf273d027d1c40f470"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a9356b2a28a3b08bf273d027d1c40f470">evhttp_connection_set_retries</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, int retry_max)</td></tr>
<tr class="separator:a9356b2a28a3b08bf273d027d1c40f470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfdc40211a2115de3f9f294769d19e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a0cfdc40211a2115de3f9f294769d19e7">evhttp_connection_set_closecb</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, void(*cb)(struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *, void *), void *cbarg)</td></tr>
<tr class="separator:a0cfdc40211a2115de3f9f294769d19e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa866e15c757e815a2e66cba7c8aa161"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#afa866e15c757e815a2e66cba7c8aa161">evhttp_connection_get_peer</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, char **address, ev_uint16_t *port)</td></tr>
<tr class="separator:afa866e15c757e815a2e66cba7c8aa161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49dad4391f88622dcc36a9c98862b970"><td class="memItemLeft" align="right" valign="top">const struct sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a49dad4391f88622dcc36a9c98862b970">evhttp_connection_get_addr</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:a49dad4391f88622dcc36a9c98862b970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad586ab94898476d79f5f314a5b42e38b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ad586ab94898476d79f5f314a5b42e38b">evhttp_connection_connect_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:ad586ab94898476d79f5f314a5b42e38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70af2a5e67da78782e06c640b9f85d4e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a70af2a5e67da78782e06c640b9f85d4e">evhttp_make_request</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, struct evhttp_request *req, enum evhttp_cmd_type type, const char *uri)</td></tr>
<tr class="separator:a70af2a5e67da78782e06c640b9f85d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab323fe297168f0f87af832f2bddc40a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab323fe297168f0f87af832f2bddc40a0">evhttp_cancel_request</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:ab323fe297168f0f87af832f2bddc40a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881831d0aeddf00f1aa55b5ab92758a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a881831d0aeddf00f1aa55b5ab92758a7">evhttp_start_read_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:a881831d0aeddf00f1aa55b5ab92758a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060c9248a2b156afde93466886d9e87d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a060c9248a2b156afde93466886d9e87d">evhttp_start_write_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon)</td></tr>
<tr class="separator:a060c9248a2b156afde93466886d9e87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00439049af8e7aa0ab3eb4b35f48aa95"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a00439049af8e7aa0ab3eb4b35f48aa95">evhttp_send_done</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *evcon, void *arg)</td></tr>
<tr class="separator:a00439049af8e7aa0ab3eb4b35f48aa95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629ef7f70ed916e162dee3bd12e397c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a629ef7f70ed916e162dee3bd12e397c9">evhttp_send_error</a> (struct evhttp_request *req, int error, const char *reason)</td></tr>
<tr class="separator:a629ef7f70ed916e162dee3bd12e397c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6eacc4b3e43882175b4b22b4dcfe7e7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab6eacc4b3e43882175b4b22b4dcfe7e7">evhttp_send</a> (struct evhttp_request *req, struct <a class="el" href="structevbuffer.html">evbuffer</a> *databuf)</td></tr>
<tr class="separator:ab6eacc4b3e43882175b4b22b4dcfe7e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9df5ec9adc9bc664db5d6b161a293525"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a9df5ec9adc9bc664db5d6b161a293525">evhttp_send_reply</a> (struct evhttp_request *req, int code, const char *reason, struct <a class="el" href="structevbuffer.html">evbuffer</a> *databuf)</td></tr>
<tr class="separator:a9df5ec9adc9bc664db5d6b161a293525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c93aab46133521997cdfb8c2e07195"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a69c93aab46133521997cdfb8c2e07195">evhttp_send_reply_start</a> (struct evhttp_request *req, int code, const char *reason)</td></tr>
<tr class="separator:a69c93aab46133521997cdfb8c2e07195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32f0b611cb00366bd3327b00d04f1d0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a32f0b611cb00366bd3327b00d04f1d0a">evhttp_send_reply_chunk_with_cb</a> (struct evhttp_request *req, struct <a class="el" href="structevbuffer.html">evbuffer</a> *databuf, void(*cb)(struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *, void *), void *arg)</td></tr>
<tr class="separator:a32f0b611cb00366bd3327b00d04f1d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7950f70e66678fda56fdf8288811639c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a7950f70e66678fda56fdf8288811639c">evhttp_send_reply_chunk</a> (struct evhttp_request *req, struct <a class="el" href="structevbuffer.html">evbuffer</a> *databuf)</td></tr>
<tr class="separator:a7950f70e66678fda56fdf8288811639c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77024706313626c5857089b08ec5e0ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a77024706313626c5857089b08ec5e0ae">evhttp_send_reply_end</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a77024706313626c5857089b08ec5e0ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ae915a2f291a6fe7b810da72e96980"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a05ae915a2f291a6fe7b810da72e96980">evhttp_response_code_</a> (struct evhttp_request *req, int code, const char *reason)</td></tr>
<tr class="separator:a05ae915a2f291a6fe7b810da72e96980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a004d96be76dfc73ca208f2465925e936"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a004d96be76dfc73ca208f2465925e936">evhttp_send_page_</a> (struct evhttp_request *req, struct <a class="el" href="structevbuffer.html">evbuffer</a> *databuf)</td></tr>
<tr class="separator:a004d96be76dfc73ca208f2465925e936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73f764788efd44d578af58de3c5b42ea"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a73f764788efd44d578af58de3c5b42ea">evhttp_uriencode</a> (const char *uri, ev_ssize_t len, int space_as_plus)</td></tr>
<tr class="separator:a73f764788efd44d578af58de3c5b42ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc770cf0f44b8a7c03c1dcc8f1de1ae8"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#abc770cf0f44b8a7c03c1dcc8f1de1ae8">evhttp_encode_uri</a> (const char *str)</td></tr>
<tr class="separator:abc770cf0f44b8a7c03c1dcc8f1de1ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6388e8fafd94605920e6e0c22ffa869f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a6388e8fafd94605920e6e0c22ffa869f">evhttp_decode_uri_internal</a> (const char *uri, size_t length, char *ret, int decode_plus_ctl)</td></tr>
<tr class="separator:a6388e8fafd94605920e6e0c22ffa869f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741ba5d8c73033432a07ff900d993566"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a741ba5d8c73033432a07ff900d993566">evhttp_decode_uri</a> (const char *uri)</td></tr>
<tr class="separator:a741ba5d8c73033432a07ff900d993566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1ce2d00901934a4082261b4fb6891d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a0b1ce2d00901934a4082261b4fb6891d">evhttp_uridecode</a> (const char *uri, int decode_plus, size_t *size_out)</td></tr>
<tr class="separator:a0b1ce2d00901934a4082261b4fb6891d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7de0ff2730961e7617b704f190c32a8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab7de0ff2730961e7617b704f190c32a8">evhttp_parse_query_impl</a> (const char *str, struct evkeyvalq *headers, int is_whole_uri)</td></tr>
<tr class="separator:ab7de0ff2730961e7617b704f190c32a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12d3940d23fb53c38106f8ac0d3dfff6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a12d3940d23fb53c38106f8ac0d3dfff6">evhttp_parse_query</a> (const char *uri, struct evkeyvalq *headers)</td></tr>
<tr class="separator:a12d3940d23fb53c38106f8ac0d3dfff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1598fb5757f39dde6dc43dee9a2e7fca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a1598fb5757f39dde6dc43dee9a2e7fca">evhttp_parse_query_str</a> (const char *uri, struct evkeyvalq *headers)</td></tr>
<tr class="separator:a1598fb5757f39dde6dc43dee9a2e7fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78c91ffe7e5352bd4b8ab67140a0445"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structevhttp__cb.html">evhttp_cb</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#af78c91ffe7e5352bd4b8ab67140a0445">evhttp_dispatch_callback</a> (struct httpcbq *callbacks, struct evhttp_request *req)</td></tr>
<tr class="separator:af78c91ffe7e5352bd4b8ab67140a0445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1683680e128df804c6895207849f5f6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac1683680e128df804c6895207849f5f6">prefix_suffix_match</a> (const char *pattern, const char *name, int ignorecase)</td></tr>
<tr class="separator:ac1683680e128df804c6895207849f5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb678a22a48f4bbb34c292ee893e1ebc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#adb678a22a48f4bbb34c292ee893e1ebc">evhttp_find_alias</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, struct <a class="el" href="structevhttp.html">evhttp</a> **outhttp, const char *hostname)</td></tr>
<tr class="separator:adb678a22a48f4bbb34c292ee893e1ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab9095dd85258c0f3e900b0dbe528fe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5ab9095dd85258c0f3e900b0dbe528fe">evhttp_handle_request</a> (struct evhttp_request *req, void *arg)</td></tr>
<tr class="separator:a5ab9095dd85258c0f3e900b0dbe528fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59484a0d47811f7a96a2e8d9e447fc11"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a59484a0d47811f7a96a2e8d9e447fc11">accept_socket_cb</a> (struct <a class="el" href="structevconnlistener.html">evconnlistener</a> *listener, evutil_socket_t nfd, struct sockaddr *peer_sa, int peer_socklen, void *arg)</td></tr>
<tr class="separator:a59484a0d47811f7a96a2e8d9e447fc11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ea2b819c0997a0ecc0d915446aeaa4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a80ea2b819c0997a0ecc0d915446aeaa4">evhttp_bind_socket</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, const char *address, ev_uint16_t port)</td></tr>
<tr class="separator:a80ea2b819c0997a0ecc0d915446aeaa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08721d605954fb4487caff94ba7e15f3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a08721d605954fb4487caff94ba7e15f3">evhttp_bind_socket_with_handle</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, const char *address, ev_uint16_t port)</td></tr>
<tr class="separator:a08721d605954fb4487caff94ba7e15f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5719654012b143ebfc0dfc9d4a8490d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aa5719654012b143ebfc0dfc9d4a8490d">evhttp_accept_socket</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, evutil_socket_t fd)</td></tr>
<tr class="separator:aa5719654012b143ebfc0dfc9d4a8490d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b647671f1482f5a996509aad50b5ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a91b647671f1482f5a996509aad50b5ba">evhttp_foreach_bound_socket</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, evhttp_bound_socket_foreach_fn *function, void *argument)</td></tr>
<tr class="separator:a91b647671f1482f5a996509aad50b5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc170f5853c164fab8e716d44e76ec3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#accc170f5853c164fab8e716d44e76ec3">evhttp_accept_socket_with_handle</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, evutil_socket_t fd)</td></tr>
<tr class="separator:accc170f5853c164fab8e716d44e76ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb1153c62416fbbb913587a6d1581fc"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5fb1153c62416fbbb913587a6d1581fc">evhttp_bind_listener</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, struct <a class="el" href="structevconnlistener.html">evconnlistener</a> *listener)</td></tr>
<tr class="separator:a5fb1153c62416fbbb913587a6d1581fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c97ce53ff1c435229c8a94059cbcb6b"><td class="memItemLeft" align="right" valign="top">evutil_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a1c97ce53ff1c435229c8a94059cbcb6b">evhttp_bound_socket_get_fd</a> (struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound)</td></tr>
<tr class="separator:a1c97ce53ff1c435229c8a94059cbcb6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0759a74fe73145e2050f59e156137e6c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevconnlistener.html">evconnlistener</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a0759a74fe73145e2050f59e156137e6c">evhttp_bound_socket_get_listener</a> (struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound)</td></tr>
<tr class="separator:a0759a74fe73145e2050f59e156137e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c646574357291b525daeea1c08d0820"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a0c646574357291b525daeea1c08d0820">evhttp_del_accept_socket</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound)</td></tr>
<tr class="separator:a0c646574357291b525daeea1c08d0820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1188fc7453febddf64b14e34f2a351e6"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a1188fc7453febddf64b14e34f2a351e6">evhttp_new_object</a> (void)</td></tr>
<tr class="separator:a1188fc7453febddf64b14e34f2a351e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade17ed2aeb68659771e9d2dd720e660e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ade17ed2aeb68659771e9d2dd720e660e">evhttp_new</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:ade17ed2aeb68659771e9d2dd720e660e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b93361f1cf04a9806b2264a6983b6a8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5b93361f1cf04a9806b2264a6983b6a8">evhttp_start</a> (const char *address, ev_uint16_t port)</td></tr>
<tr class="separator:a5b93361f1cf04a9806b2264a6983b6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849acf0f233772b486b8057fcf3aaf4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a849acf0f233772b486b8057fcf3aaf4a">evhttp_free</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http)</td></tr>
<tr class="separator:a849acf0f233772b486b8057fcf3aaf4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d8fb72c5e8c76b787987ba5de5b141"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a82d8fb72c5e8c76b787987ba5de5b141">evhttp_add_virtual_host</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, const char *pattern, struct <a class="el" href="structevhttp.html">evhttp</a> *vhost)</td></tr>
<tr class="separator:a82d8fb72c5e8c76b787987ba5de5b141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2eb1ac82f36e7f0180b18d4553d3994"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab2eb1ac82f36e7f0180b18d4553d3994">evhttp_remove_virtual_host</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, struct <a class="el" href="structevhttp.html">evhttp</a> *vhost)</td></tr>
<tr class="separator:ab2eb1ac82f36e7f0180b18d4553d3994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58fe001925e7f65d7678bf90b31fc2a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a58fe001925e7f65d7678bf90b31fc2a5">evhttp_add_server_alias</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, const char *alias)</td></tr>
<tr class="separator:a58fe001925e7f65d7678bf90b31fc2a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88fe4c5507e88c4db284ea30a0478e5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a88fe4c5507e88c4db284ea30a0478e5d">evhttp_remove_server_alias</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, const char *alias)</td></tr>
<tr class="separator:a88fe4c5507e88c4db284ea30a0478e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc8bb4d9e196f957510b5db9f6a02e44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#acc8bb4d9e196f957510b5db9f6a02e44">evhttp_set_timeout</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, int timeout_in_secs)</td></tr>
<tr class="separator:acc8bb4d9e196f957510b5db9f6a02e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50579ff2be98cd24ae698222a57faf23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a50579ff2be98cd24ae698222a57faf23">evhttp_set_timeout_tv</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, const struct timeval *tv)</td></tr>
<tr class="separator:a50579ff2be98cd24ae698222a57faf23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adafc884097be806b11afe6d529660d93"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#adafc884097be806b11afe6d529660d93">evhttp_set_flags</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, int flags)</td></tr>
<tr class="separator:adafc884097be806b11afe6d529660d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae936aa6e7b0cb9617d0548a952db93cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ae936aa6e7b0cb9617d0548a952db93cf">evhttp_set_max_headers_size</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, ev_ssize_t max_headers_size)</td></tr>
<tr class="separator:ae936aa6e7b0cb9617d0548a952db93cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8406065dcb34f9a058b2a7a6988ac351"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a8406065dcb34f9a058b2a7a6988ac351">evhttp_set_max_body_size</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, ev_ssize_t max_body_size)</td></tr>
<tr class="separator:a8406065dcb34f9a058b2a7a6988ac351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7dcce5c2618396d175e1c4b8d8c4f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a9d7dcce5c2618396d175e1c4b8d8c4f5">evhttp_set_default_content_type</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, const char *content_type)</td></tr>
<tr class="separator:a9d7dcce5c2618396d175e1c4b8d8c4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63a0370f59570e00753f7fb512a7f59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ae63a0370f59570e00753f7fb512a7f59">evhttp_set_allowed_methods</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, ev_uint16_t methods)</td></tr>
<tr class="separator:ae63a0370f59570e00753f7fb512a7f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2099db7b5c8eba7e0be98341c9846a91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a2099db7b5c8eba7e0be98341c9846a91">evhttp_set_cb</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, const char *uri, void(*cb)(struct evhttp_request *, void *), void *cbarg)</td></tr>
<tr class="separator:a2099db7b5c8eba7e0be98341c9846a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae507109ae82cb46efa748428c85cc7e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ae507109ae82cb46efa748428c85cc7e1">evhttp_del_cb</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, const char *uri)</td></tr>
<tr class="separator:ae507109ae82cb46efa748428c85cc7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac21eca8aa608f6ccff4ddb72f72bb9e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac21eca8aa608f6ccff4ddb72f72bb9e5">evhttp_set_gencb</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, void(*cb)(struct evhttp_request *, void *), void *cbarg)</td></tr>
<tr class="separator:ac21eca8aa608f6ccff4ddb72f72bb9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb60c15f97c30a2dfd6b7b6b875785d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a4fb60c15f97c30a2dfd6b7b6b875785d">evhttp_set_bevcb</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, struct bufferevent *(*cb)(struct <a class="el" href="structevent__base.html">event_base</a> *, void *), void *cbarg)</td></tr>
<tr class="separator:a4fb60c15f97c30a2dfd6b7b6b875785d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c07f708c785a53df1efc4e5f68be42"><td class="memItemLeft" align="right" valign="top">struct evhttp_request *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a35c07f708c785a53df1efc4e5f68be42">evhttp_request_new</a> (void(*cb)(struct evhttp_request *, void *), void *arg)</td></tr>
<tr class="separator:a35c07f708c785a53df1efc4e5f68be42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad0392c873fa034be3ff09d4f8b68aba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aad0392c873fa034be3ff09d4f8b68aba">evhttp_request_free</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:aad0392c873fa034be3ff09d4f8b68aba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93a13d12f579bf22af35e2f1a6d82f4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a93a13d12f579bf22af35e2f1a6d82f4c">evhttp_request_own</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a93a13d12f579bf22af35e2f1a6d82f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25516c0fb1b0ef47c81f623da3782bd1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a25516c0fb1b0ef47c81f623da3782bd1">evhttp_request_is_owned</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a25516c0fb1b0ef47c81f623da3782bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada59ca729137cf9c403a96bf7e5fc2d2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ada59ca729137cf9c403a96bf7e5fc2d2">evhttp_request_get_connection</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:ada59ca729137cf9c403a96bf7e5fc2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694487c35bbfbd2905da59910f894406"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a694487c35bbfbd2905da59910f894406">evhttp_connection_get_base</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *conn)</td></tr>
<tr class="separator:a694487c35bbfbd2905da59910f894406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633d80d0697aa07018ba9e6411fe14b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a633d80d0697aa07018ba9e6411fe14b7">evhttp_request_set_chunked_cb</a> (struct evhttp_request *req, void(*cb)(struct evhttp_request *, void *))</td></tr>
<tr class="separator:a633d80d0697aa07018ba9e6411fe14b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0882e86bc0810223647cb98a652bd690"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a0882e86bc0810223647cb98a652bd690">evhttp_request_set_header_cb</a> (struct evhttp_request *req, int(*cb)(struct evhttp_request *, void *))</td></tr>
<tr class="separator:a0882e86bc0810223647cb98a652bd690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc26301831e403e64c50352c49e1d646"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#acc26301831e403e64c50352c49e1d646">evhttp_request_set_error_cb</a> (struct evhttp_request *req, void(*cb)(enum evhttp_request_error, void *))</td></tr>
<tr class="separator:acc26301831e403e64c50352c49e1d646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43a3d787062e1e74d84f68cedcc43a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac43a3d787062e1e74d84f68cedcc43a3">evhttp_request_set_on_complete_cb</a> (struct evhttp_request *req, void(*cb)(struct evhttp_request *, void *), void *cb_arg)</td></tr>
<tr class="separator:ac43a3d787062e1e74d84f68cedcc43a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ebcf7d556fb28dfab94a5f1f9753be5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a8ebcf7d556fb28dfab94a5f1f9753be5">evhttp_request_get_uri</a> (const struct evhttp_request *req)</td></tr>
<tr class="separator:a8ebcf7d556fb28dfab94a5f1f9753be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b47f0ed6e5b550a319f4bb199ef0bf"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a29b47f0ed6e5b550a319f4bb199ef0bf">evhttp_request_get_evhttp_uri</a> (const struct evhttp_request *req)</td></tr>
<tr class="separator:a29b47f0ed6e5b550a319f4bb199ef0bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd50bae1efd0d7740e1121fc28f8e79"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a7bd50bae1efd0d7740e1121fc28f8e79">evhttp_request_get_host</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a7bd50bae1efd0d7740e1121fc28f8e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a552bcfe23acec6858742e44a1b932dad"><td class="memItemLeft" align="right" valign="top">enum evhttp_cmd_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a552bcfe23acec6858742e44a1b932dad">evhttp_request_get_command</a> (const struct evhttp_request *req)</td></tr>
<tr class="separator:a552bcfe23acec6858742e44a1b932dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1452ea8db0ddb07f52d5de739f026af"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac1452ea8db0ddb07f52d5de739f026af">evhttp_request_get_response_code</a> (const struct evhttp_request *req)</td></tr>
<tr class="separator:ac1452ea8db0ddb07f52d5de739f026af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa930f226babf4265151b5865f37c325"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#afa930f226babf4265151b5865f37c325">evhttp_request_get_response_code_line</a> (const struct evhttp_request *req)</td></tr>
<tr class="separator:afa930f226babf4265151b5865f37c325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d4bce87bfedf59ec048b765bcce49cf"><td class="memItemLeft" align="right" valign="top">struct evkeyvalq *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3d4bce87bfedf59ec048b765bcce49cf">evhttp_request_get_input_headers</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a3d4bce87bfedf59ec048b765bcce49cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a072e9fbfb645fcd87aca16929124e7fe"><td class="memItemLeft" align="right" valign="top">struct evkeyvalq *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a072e9fbfb645fcd87aca16929124e7fe">evhttp_request_get_output_headers</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a072e9fbfb645fcd87aca16929124e7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a0637cf8cdb06b59fcc34f3ee7cd0e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a16a0637cf8cdb06b59fcc34f3ee7cd0e">evhttp_request_get_input_buffer</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a16a0637cf8cdb06b59fcc34f3ee7cd0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d6f2d776eb11f7877e936a0b13b2eaf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3d6f2d776eb11f7877e936a0b13b2eaf">evhttp_request_get_output_buffer</a> (struct evhttp_request *req)</td></tr>
<tr class="separator:a3d6f2d776eb11f7877e936a0b13b2eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39367e9de43b5610d177b1841748082e"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a39367e9de43b5610d177b1841748082e">evhttp_get_request_connection</a> (struct <a class="el" href="structevhttp.html">evhttp</a> *http, evutil_socket_t fd, struct sockaddr *sa, ev_socklen_t salen)</td></tr>
<tr class="separator:a39367e9de43b5610d177b1841748082e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e582c1f1590f71ea5568e4f7978fff5"><td class="memItemLeft" align="right" valign="top">static struct evutil_addrinfo *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a1e582c1f1590f71ea5568e4f7978fff5">make_addrinfo</a> (const char *address, ev_uint16_t port)</td></tr>
<tr class="separator:a1e582c1f1590f71ea5568e4f7978fff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab954d434342997e401eeb10c2a1c89d7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab954d434342997e401eeb10c2a1c89d7">evhttp_uri_new</a> (void)</td></tr>
<tr class="separator:ab954d434342997e401eeb10c2a1c89d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea0b990f1ca5ba71feffa96c8f6bd06b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aea0b990f1ca5ba71feffa96c8f6bd06b">evhttp_uri_set_flags</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, unsigned flags)</td></tr>
<tr class="separator:aea0b990f1ca5ba71feffa96c8f6bd06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a14e3fee977494783b7d2c6d71b5e96"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5a14e3fee977494783b7d2c6d71b5e96">scheme_ok</a> (const char *s, const char *eos)</td></tr>
<tr class="separator:a5a14e3fee977494783b7d2c6d71b5e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a342e15133adfb52f0ae97eb8939147e8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a342e15133adfb52f0ae97eb8939147e8">userinfo_ok</a> (const char *s, const char *eos)</td></tr>
<tr class="separator:a342e15133adfb52f0ae97eb8939147e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca94ba592795d222395bdc7dc2351283"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aca94ba592795d222395bdc7dc2351283">regname_ok</a> (const char *s, const char *eos)</td></tr>
<tr class="separator:aca94ba592795d222395bdc7dc2351283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481db5cb43f64da73c3bd97fdf136e44"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a481db5cb43f64da73c3bd97fdf136e44">parse_port</a> (const char *s, const char *eos)</td></tr>
<tr class="separator:a481db5cb43f64da73c3bd97fdf136e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa4984f189e51fa23c2244de8fae16a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#adfa4984f189e51fa23c2244de8fae16a">bracket_addr_ok</a> (const char *s, const char *eos)</td></tr>
<tr class="separator:adfa4984f189e51fa23c2244de8fae16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa840fbb1e3cfae410e4fd939891906b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#afa840fbb1e3cfae410e4fd939891906b">parse_authority</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, char *s, char *eos)</td></tr>
<tr class="separator:afa840fbb1e3cfae410e4fd939891906b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a567a13897c30396c30a441b622e4b338"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a567a13897c30396c30a441b622e4b338">end_of_authority</a> (char *cp)</td></tr>
<tr class="separator:a567a13897c30396c30a441b622e4b338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f2e0addc4d2b31f768d416951316ab"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aa2f2e0addc4d2b31f768d416951316ab">end_of_path</a> (char *cp, enum <a class="el" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1f">uri_part</a> part, unsigned flags)</td></tr>
<tr class="separator:aa2f2e0addc4d2b31f768d416951316ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b09ff2441d8c20690a822595631b96"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac1b09ff2441d8c20690a822595631b96">path_matches_noscheme</a> (const char *cp)</td></tr>
<tr class="separator:ac1b09ff2441d8c20690a822595631b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb89eaafdea9278bab61ea954730cb64"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#acb89eaafdea9278bab61ea954730cb64">evhttp_uri_parse</a> (const char *source_uri)</td></tr>
<tr class="separator:acb89eaafdea9278bab61ea954730cb64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcdb80b5b1747de1f41146e04b5f5e8e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#afcdb80b5b1747de1f41146e04b5f5e8e">evhttp_uri_parse_with_flags</a> (const char *source_uri, unsigned flags)</td></tr>
<tr class="separator:afcdb80b5b1747de1f41146e04b5f5e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ee82311278b8fda3ed93a8e358683bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5ee82311278b8fda3ed93a8e358683bb">evhttp_uri_free</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri)</td></tr>
<tr class="separator:a5ee82311278b8fda3ed93a8e358683bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e75781664e9f86ce4c020eee13c881"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a53e75781664e9f86ce4c020eee13c881">evhttp_uri_join</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, char *buf, size_t limit)</td></tr>
<tr class="separator:a53e75781664e9f86ce4c020eee13c881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8b356ec6612eda91d83aa0f039a884"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a9a8b356ec6612eda91d83aa0f039a884">evhttp_uri_get_scheme</a> (const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri)</td></tr>
<tr class="separator:a9a8b356ec6612eda91d83aa0f039a884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58dad68397982a1f41f5acecd980b46d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a58dad68397982a1f41f5acecd980b46d">evhttp_uri_get_userinfo</a> (const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri)</td></tr>
<tr class="separator:a58dad68397982a1f41f5acecd980b46d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac65d0a129ce87b510fb294d9dd6c1e0d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac65d0a129ce87b510fb294d9dd6c1e0d">evhttp_uri_get_host</a> (const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri)</td></tr>
<tr class="separator:ac65d0a129ce87b510fb294d9dd6c1e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d456504f4f93f61384eb0b526f5a4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a60d456504f4f93f61384eb0b526f5a4c">evhttp_uri_get_port</a> (const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri)</td></tr>
<tr class="separator:a60d456504f4f93f61384eb0b526f5a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57ca4f4fcac1f2fc6a1bdb20efbb2ea"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab57ca4f4fcac1f2fc6a1bdb20efbb2ea">evhttp_uri_get_path</a> (const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri)</td></tr>
<tr class="separator:ab57ca4f4fcac1f2fc6a1bdb20efbb2ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae339c4820e5459f635d268d878fc6f4f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ae339c4820e5459f635d268d878fc6f4f">evhttp_uri_get_query</a> (const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri)</td></tr>
<tr class="separator:ae339c4820e5459f635d268d878fc6f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0514b6ea093c0652efa058b0857c4237"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a0514b6ea093c0652efa058b0857c4237">evhttp_uri_get_fragment</a> (const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri)</td></tr>
<tr class="separator:a0514b6ea093c0652efa058b0857c4237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5f82fb9c8f8df0b1b4c73691791dd5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#abf5f82fb9c8f8df0b1b4c73691791dd5">evhttp_uri_set_scheme</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, const char *scheme)</td></tr>
<tr class="separator:abf5f82fb9c8f8df0b1b4c73691791dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b10b8ef8ee94d14674f9329486d355"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac7b10b8ef8ee94d14674f9329486d355">evhttp_uri_set_userinfo</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, const char *userinfo)</td></tr>
<tr class="separator:ac7b10b8ef8ee94d14674f9329486d355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103c447efb9f41a5897b3aa130424734"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a103c447efb9f41a5897b3aa130424734">evhttp_uri_set_host</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, const char *host)</td></tr>
<tr class="separator:a103c447efb9f41a5897b3aa130424734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc430f9b8fb4c6aa11692d5ef0b383c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a8cc430f9b8fb4c6aa11692d5ef0b383c">evhttp_uri_set_port</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, int port)</td></tr>
<tr class="separator:a8cc430f9b8fb4c6aa11692d5ef0b383c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6bbfc5cf62df674ba72800ea46c5828"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ae6bbfc5cf62df674ba72800ea46c5828">evhttp_uri_set_path</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, const char *path)</td></tr>
<tr class="separator:ae6bbfc5cf62df674ba72800ea46c5828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf999637136bc1785e5d75c191c671ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aaf999637136bc1785e5d75c191c671ba">evhttp_uri_set_query</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, const char *query)</td></tr>
<tr class="separator:aaf999637136bc1785e5d75c191c671ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36b844028058c82b6709d1e0fe7e1cf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a36b844028058c82b6709d1e0fe7e1cf9">evhttp_uri_set_fragment</a> (struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *uri, const char *fragment)</td></tr>
<tr class="separator:a36b844028058c82b6709d1e0fe7e1cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac3e1795766a80ec63b157951b4b9a7d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></td></tr>
<tr class="separator:ac3e1795766a80ec63b157951b4b9a7d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044ed559d8c253aab9274b19741d5c5a"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a044ed559d8c253aab9274b19741d5c5a">informational_phrases</a> []</td></tr>
<tr class="separator:a044ed559d8c253aab9274b19741d5c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4cd6edbbbefa1cb60a6bac3ac3b2dbb"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#ab4cd6edbbbefa1cb60a6bac3ac3b2dbb">success_phrases</a> []</td></tr>
<tr class="separator:ab4cd6edbbbefa1cb60a6bac3ac3b2dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0a67795fad488dadb3da40dd1350ef"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a3c0a67795fad488dadb3da40dd1350ef">redirection_phrases</a> []</td></tr>
<tr class="separator:a3c0a67795fad488dadb3da40dd1350ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2782b4a91a825efc366116d9bd93eec6"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a2782b4a91a825efc366116d9bd93eec6">client_error_phrases</a> []</td></tr>
<tr class="separator:a2782b4a91a825efc366116d9bd93eec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66c6da0e881a12fc0481b0c4454fe3f"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#aa66c6da0e881a12fc0481b0c4454fe3f">server_error_phrases</a> []</td></tr>
<tr class="separator:aa66c6da0e881a12fc0481b0c4454fe3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affaa67a76051a24c0975b2bb6adf4e78"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structresponse__class.html">response_class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#affaa67a76051a24c0975b2bb6adf4e78">response_classes</a> []</td></tr>
<tr class="separator:affaa67a76051a24c0975b2bb6adf4e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe68c89694ff69f6112196e7b932f54"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8c.html#a5fe68c89694ff69f6112196e7b932f54">uri_chars</a> [256]</td></tr>
<tr class="separator:a5fe68c89694ff69f6112196e7b932f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3196dc56717a368635e6a375e77df11e" name="a3196dc56717a368635e6a375e77df11e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3196dc56717a368635e6a375e77df11e">&#9670;&nbsp;</a></span>CHAR_IS_UNRESERVED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHAR_IS_UNRESERVED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">c</td><td>)</td>
          <td>&#160;&#160;&#160;	(<a class="el" href="http_8c.html#a5fe68c89694ff69f6112196e7b932f54">uri_chars</a>[(unsigned char)(c)])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03102">3102</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="a7bf0d55cfbc539db662b879c6159e6e6" name="a7bf0d55cfbc539db662b879c6159e6e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bf0d55cfbc539db662b879c6159e6e6">&#9670;&nbsp;</a></span>end_of_cpath</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define end_of_cpath</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	((const char*)(<a class="el" href="http_8c.html#aa2f2e0addc4d2b31f768d416951316ab">end_of_path</a>(((char*)(cp)), (p), (f))))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05101">5101</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="a7bd608453b83e74874a4983106a1d9cd" name="a7bd608453b83e74874a4983106a1d9cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd608453b83e74874a4983106a1d9cd">&#9670;&nbsp;</a></span>ERR_FORMAT <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERR_FORMAT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        <span class="stringliteral">&quot;&lt;HTML&gt;&lt;HEAD&gt;\n&quot;</span> \</div>
<div class="line">        <span class="stringliteral">&quot;&lt;TITLE&gt;%d %s&lt;/TITLE&gt;\n&quot;</span> \</div>
<div class="line">        <span class="stringliteral">&quot;&lt;/HEAD&gt;&lt;BODY&gt;\n&quot;</span> \</div>
<div class="line">        <span class="stringliteral">&quot;&lt;H1&gt;%s&lt;/H1&gt;\n&quot;</span> \</div>
<div class="line">        <span class="stringliteral">&quot;&lt;/BODY&gt;&lt;/HTML&gt;\n&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7bd608453b83e74874a4983106a1d9cd" name="a7bd608453b83e74874a4983106a1d9cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd608453b83e74874a4983106a1d9cd">&#9670;&nbsp;</a></span>ERR_FORMAT <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERR_FORMAT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">            <span class="stringliteral">&quot;&lt;html&gt;&lt;head&gt;&quot;</span> \</div>
<div class="line">            <span class="stringliteral">&quot;&lt;title&gt;404 Not Found&lt;/title&gt;&quot;</span> \</div>
<div class="line">            <span class="stringliteral">&quot;&lt;/head&gt;&lt;body&gt;&quot;</span> \</div>
<div class="line">            <span class="stringliteral">&quot;&lt;h1&gt;Not Found&lt;/h1&gt;&quot;</span> \</div>
<div class="line">            <span class="stringliteral">&quot;&lt;p&gt;The requested URL %s was not found on this server.&lt;/p&gt;&quot;</span>\</div>
<div class="line">            <span class="stringliteral">&quot;&lt;/body&gt;&lt;/html&gt;\n&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a148fc0a6cc62b69f27dd7025c0b121c9" name="a148fc0a6cc62b69f27dd7025c0b121c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a148fc0a6cc62b69f27dd7025c0b121c9">&#9670;&nbsp;</a></span>get_deferred_queue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define get_deferred_queue</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">evcon</td><td>)</td>
          <td>&#160;&#160;&#160;	((evcon)-&gt;base)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01124">1124</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="aa28a3b1f039fa3f5cb598eb1005a98f5" name="aa28a3b1f039fa3f5cb598eb1005a98f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28a3b1f039fa3f5cb598eb1005a98f5">&#9670;&nbsp;</a></span>MEMBERSOF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MEMBERSOF</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(sizeof(x)/sizeof(x[0]))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03017">3017</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="a3acffbd305ee72dcd4593c0d8af64a4f" name="a3acffbd305ee72dcd4593c0d8af64a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3acffbd305ee72dcd4593c0d8af64a4f">&#9670;&nbsp;</a></span>MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((a)&lt;(b))?(a):(b))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00175">175</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="aebc53e498b2434654a1d44070d9ccd40" name="aebc53e498b2434654a1d44070d9ccd40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc53e498b2434654a1d44070d9ccd40">&#9670;&nbsp;</a></span>NI_MAXHOST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NI_MAXHOST&#160;&#160;&#160;1025</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00117">117</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="aefdeadf85356cc2fa0870d86a6055eb1" name="aefdeadf85356cc2fa0870d86a6055eb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefdeadf85356cc2fa0870d86a6055eb1">&#9670;&nbsp;</a></span>NI_MAXSERV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NI_MAXSERV&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00116">116</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="a62f12304e7a43038f40cd579ad57829f" name="a62f12304e7a43038f40cd579ad57829f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62f12304e7a43038f40cd579ad57829f">&#9670;&nbsp;</a></span>NI_NUMERICHOST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NI_NUMERICHOST&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00120">120</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="af6d346aae7109d19b9ccab7c510a3cad" name="af6d346aae7109d19b9ccab7c510a3cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6d346aae7109d19b9ccab7c510a3cad">&#9670;&nbsp;</a></span>NI_NUMERICSERV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NI_NUMERICSERV&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00124">124</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="a78aee06e216bc57d9d8328f994bf19b0" name="a78aee06e216bc57d9d8328f994bf19b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78aee06e216bc57d9d8328f994bf19b0">&#9670;&nbsp;</a></span>REQ_VERSION_ATLEAST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REQ_VERSION_ATLEAST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">req, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">major_v, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">minor_v&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    ((req)-&gt;major &gt; (major_v) ||                    \</div>
<div class="line">        ((req)-&gt;major == (major_v) &amp;&amp; (req)-&gt;minor &gt;= (minor_v)))</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00170">170</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="a3a76979addb9524d4a00a150a067c8bd" name="a3a76979addb9524d4a00a150a067c8bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a76979addb9524d4a00a150a067c8bd">&#9670;&nbsp;</a></span>REQ_VERSION_BEFORE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REQ_VERSION_BEFORE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">req, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">major_v, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">minor_v&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    ((req)-&gt;major &lt; (major_v) ||                    \</div>
<div class="line">        ((req)-&gt;major == (major_v) &amp;&amp; (req)-&gt;minor &lt; (minor_v)))</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00166">166</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="afa791968cc0b7487ff1c9262ac44a2ed" name="afa791968cc0b7487ff1c9262ac44a2ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa791968cc0b7487ff1c9262ac44a2ed">&#9670;&nbsp;</a></span>SUBDELIMS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SUBDELIMS&#160;&#160;&#160;&quot;!$&amp;'()*+,;=&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04526">4526</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="a9b07d3ff0d051937640aa0a9890d77c3" name="a9b07d3ff0d051937640aa0a9890d77c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b07d3ff0d051937640aa0a9890d77c3">&#9670;&nbsp;</a></span>URI_ADD_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_ADD_</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(tmp, uri-&gt;f, strlen(uri-&gt;f))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad35afb9124face4a32b2ea62684396eb" name="ad35afb9124face4a32b2ea62684396eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35afb9124face4a32b2ea62684396eb">&#9670;&nbsp;</a></span>URI_FREE_STR_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_FREE_STR_</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">if</span> (uri-&gt;f) {           \</div>
<div class="line">        mm_free(uri-&gt;f);        \</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8020d8038969895b6fa98120a86ed067" name="a8020d8038969895b6fa98120a86ed067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8020d8038969895b6fa98120a86ed067">&#9670;&nbsp;</a></span>URI_SET_STR_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_SET_STR_</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                    \</div>
<div class="line">    if (uri-&gt;f)                     \</div>
<div class="line">        mm_free(uri-&gt;f);                \</div>
<div class="line">    if (f) {                        \</div>
<div class="line">        if ((uri-&gt;f = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(f)) == NULL) {      \</div>
<div class="line">            event_warn(<span class="stringliteral">&quot;%s: strdup()&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);   \</div>
<div class="line">            return -1;              \</div>
<div class="line">        }                       \</div>
<div class="line">    } <span class="keywordflow">else</span> {                        \</div>
<div class="line">        uri-&gt;f = NULL;                  \</div>
<div class="line">    }                           \</div>
<div class="line">    } <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="amm-internal_8h_html_a140c2a3e08063dc43326c240f6d6a9fd"><div class="ttname"><a href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a></div><div class="ttdeci">#define mm_strdup(s)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00077">mm-internal.h:77</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7d6e1cf1a8d53f38471e9e9db3faf740"><div class="ttname"><a href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a></div><div class="ttdeci">#define __func__</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00086">util-internal.h:86</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05047">5047</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5c5a9605ed22760f5ebe9e9121e2a919" name="a5c5a9605ed22760f5ebe9e9121e2a919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c5a9605ed22760f5ebe9e9121e2a919">&#9670;&nbsp;</a></span>expect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919">expect</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5c5a9605ed22760f5ebe9e9121e2a919a0d077f5b932ce05e5b9f30c6087a2f31" name="a5c5a9605ed22760f5ebe9e9121e2a919a0d077f5b932ce05e5b9f30c6087a2f31"></a>NO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5c5a9605ed22760f5ebe9e9121e2a919a49959dd441dcda75d6898cf2c68fb374" name="a5c5a9605ed22760f5ebe9e9121e2a919a49959dd441dcda75d6898cf2c68fb374"></a>CONTINUE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5c5a9605ed22760f5ebe9e9121e2a919adbf1dee1b8cd7ea3c82661943c7b74f4" name="a5c5a9605ed22760f5ebe9e9121e2a919adbf1dee1b8cd7ea3c82661943c7b74f4"></a>OTHER&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00585">585</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  585</span>{ <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a0d077f5b932ce05e5b9f30c6087a2f31">NO</a>, <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a49959dd441dcda75d6898cf2c68fb374">CONTINUE</a>, <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919adbf1dee1b8cd7ea3c82661943c7b74f4">OTHER</a> };</div>
<div class="ttc" id="ahttp_8c_html_a5c5a9605ed22760f5ebe9e9121e2a919a0d077f5b932ce05e5b9f30c6087a2f31"><div class="ttname"><a href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a0d077f5b932ce05e5b9f30c6087a2f31">NO</a></div><div class="ttdeci">@ NO</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00585">http.c:585</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5c5a9605ed22760f5ebe9e9121e2a919a49959dd441dcda75d6898cf2c68fb374"><div class="ttname"><a href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a49959dd441dcda75d6898cf2c68fb374">CONTINUE</a></div><div class="ttdeci">@ CONTINUE</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00585">http.c:585</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5c5a9605ed22760f5ebe9e9121e2a919adbf1dee1b8cd7ea3c82661943c7b74f4"><div class="ttname"><a href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919adbf1dee1b8cd7ea3c82661943c7b74f4">OTHER</a></div><div class="ttdeci">@ OTHER</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00585">http.c:585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5558152b94ab5d38e06816ef65b21e1f" name="a5558152b94ab5d38e06816ef65b21e1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5558152b94ab5d38e06816ef65b21e1f">&#9670;&nbsp;</a></span>uri_part</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1f">uri_part</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893" name="a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893"></a>PART_PATH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5558152b94ab5d38e06816ef65b21e1fa387dee858a040af11bdc308c8a261fd7" name="a5558152b94ab5d38e06816ef65b21e1fa387dee858a040af11bdc308c8a261fd7"></a>PART_QUERY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5558152b94ab5d38e06816ef65b21e1fa615c3b6a8736f0055bdbce1d8ca72cd8" name="a5558152b94ab5d38e06816ef65b21e1fa615c3b6a8736f0055bdbce1d8ca72cd8"></a>PART_FRAGMENT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04700">4700</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4700</span>              {</div>
<div class="line"><span class="lineno"> 4701</span>    <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893">PART_PATH</a>,</div>
<div class="line"><span class="lineno"> 4702</span>    <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa387dee858a040af11bdc308c8a261fd7">PART_QUERY</a>,</div>
<div class="line"><span class="lineno"> 4703</span>    <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa615c3b6a8736f0055bdbce1d8ca72cd8">PART_FRAGMENT</a></div>
<div class="line"><span class="lineno"> 4704</span>};</div>
<div class="ttc" id="ahttp_8c_html_a5558152b94ab5d38e06816ef65b21e1fa387dee858a040af11bdc308c8a261fd7"><div class="ttname"><a href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa387dee858a040af11bdc308c8a261fd7">PART_QUERY</a></div><div class="ttdeci">@ PART_QUERY</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04702">http.c:4702</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5558152b94ab5d38e06816ef65b21e1fa615c3b6a8736f0055bdbce1d8ca72cd8"><div class="ttname"><a href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa615c3b6a8736f0055bdbce1d8ca72cd8">PART_FRAGMENT</a></div><div class="ttdeci">@ PART_FRAGMENT</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04704">http.c:4703</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893"><div class="ttname"><a href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893">PART_PATH</a></div><div class="ttdeci">@ PART_PATH</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04701">http.c:4701</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a59484a0d47811f7a96a2e8d9e447fc11" name="a59484a0d47811f7a96a2e8d9e447fc11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59484a0d47811f7a96a2e8d9e447fc11">&#9670;&nbsp;</a></span>accept_socket_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void accept_socket_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevconnlistener.html">evconnlistener</a> *&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>nfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>peer_sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>peer_socklen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03541">3541</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3542</span>{</div>
<div class="line"><span class="lineno"> 3543</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *http = arg;</div>
<div class="line"><span class="lineno"> 3544</span> </div>
<div class="line"><span class="lineno"> 3545</span>    <a class="code hl_function" href="http_8c.html#aff912d0329a7025677b0e5f010e8b2e1">evhttp_get_request</a>(http, nfd, peer_sa, peer_socklen);</div>
<div class="line"><span class="lineno"> 3546</span>}</div>
<div class="ttc" id="ahttp_8c_html_aff912d0329a7025677b0e5f010e8b2e1"><div class="ttname"><a href="http_8c.html#aff912d0329a7025677b0e5f010e8b2e1">evhttp_get_request</a></div><div class="ttdeci">static void evhttp_get_request(struct evhttp *, evutil_socket_t, struct sockaddr *, ev_socklen_t)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04321">http.c:4321</a></div></div>
<div class="ttc" id="astructevhttp_html"><div class="ttname"><a href="structevhttp.html">evhttp</a></div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00134">http-internal.h:134</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04321">evhttp_get_request()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03632">evhttp_bind_listener()</a>.</p>

</div>
</div>
<a id="ae512f701fdfa4b104d1a8b8ef3bf88ad" name="ae512f701fdfa4b104d1a8b8ef3bf88ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae512f701fdfa4b104d1a8b8ef3bf88ad">&#9670;&nbsp;</a></span>bind_socket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static evutil_socket_t bind_socket </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reuse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04459">4459</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4460</span>{</div>
<div class="line"><span class="lineno"> 4461</span>    evutil_socket_t fd;</div>
<div class="line"><span class="lineno"> 4462</span>    <span class="keyword">struct </span>evutil_addrinfo *aitop = NULL;</div>
<div class="line"><span class="lineno"> 4463</span> </div>
<div class="line"><span class="lineno"> 4464</span>    <span class="comment">/* just create an unbound socket */</span></div>
<div class="line"><span class="lineno"> 4465</span>    <span class="keywordflow">if</span> (address == NULL &amp;&amp; port == 0)</div>
<div class="line"><span class="lineno"> 4466</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="http_8c.html#a7d010648584df08658c3918512d6eafa">create_bind_socket_nonblock</a>(NULL, 0);</div>
<div class="line"><span class="lineno"> 4467</span> </div>
<div class="line"><span class="lineno"> 4468</span>    aitop = <a class="code hl_function" href="http_8c.html#a1e582c1f1590f71ea5568e4f7978fff5">make_addrinfo</a>(address, port);</div>
<div class="line"><span class="lineno"> 4469</span> </div>
<div class="line"><span class="lineno"> 4470</span>    <span class="keywordflow">if</span> (aitop == NULL)</div>
<div class="line"><span class="lineno"> 4471</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 4472</span> </div>
<div class="line"><span class="lineno"> 4473</span>    fd = <a class="code hl_function" href="http_8c.html#a7d010648584df08658c3918512d6eafa">create_bind_socket_nonblock</a>(aitop, reuse);</div>
<div class="line"><span class="lineno"> 4474</span> </div>
<div class="line"><span class="lineno"> 4475</span>    <a class="code hl_function" href="evutil_8c.html#ad43029540a4878bc49b343e7b0573ef3">evutil_freeaddrinfo</a>(aitop);</div>
<div class="line"><span class="lineno"> 4476</span> </div>
<div class="line"><span class="lineno"> 4477</span>    <span class="keywordflow">return</span> (fd);</div>
<div class="line"><span class="lineno"> 4478</span>}</div>
<div class="ttc" id="aevutil_8c_html_ad43029540a4878bc49b343e7b0573ef3"><div class="ttname"><a href="evutil_8c.html#ad43029540a4878bc49b343e7b0573ef3">evutil_freeaddrinfo</a></div><div class="ttdeci">void evutil_freeaddrinfo(struct evutil_addrinfo *ai)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01576">evutil.c:1576</a></div></div>
<div class="ttc" id="ahttp_8c_html_a1e582c1f1590f71ea5568e4f7978fff5"><div class="ttname"><a href="http_8c.html#a1e582c1f1590f71ea5568e4f7978fff5">make_addrinfo</a></div><div class="ttdeci">static struct evutil_addrinfo * make_addrinfo(const char *address, ev_uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04430">http.c:4430</a></div></div>
<div class="ttc" id="ahttp_8c_html_a7d010648584df08658c3918512d6eafa"><div class="ttname"><a href="http_8c.html#a7d010648584df08658c3918512d6eafa">create_bind_socket_nonblock</a></div><div class="ttdeci">static evutil_socket_t create_bind_socket_nonblock(struct evutil_addrinfo *, int reuse)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04392">http.c:4392</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04392">create_bind_socket_nonblock()</a>, <a class="el" href="evutil_8c_source.html#l01576">evutil_freeaddrinfo()</a>, and <a class="el" href="http_8c_source.html#l04430">make_addrinfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03559">evhttp_bind_socket_with_handle()</a>, and <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>.</p>

</div>
</div>
<a id="adfa4984f189e51fa23c2244de8fae16a" name="adfa4984f189e51fa23c2244de8fae16a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa4984f189e51fa23c2244de8fae16a">&#9670;&nbsp;</a></span>bracket_addr_ok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bracket_addr_ok </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04583">4583</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4584</span>{</div>
<div class="line"><span class="lineno"> 4585</span>    <span class="keywordflow">if</span> (s + 3 &gt; eos || *s != <span class="charliteral">&#39;[&#39;</span> || *(eos-1) != <span class="charliteral">&#39;]&#39;</span>)</div>
<div class="line"><span class="lineno"> 4586</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4587</span>    <span class="keywordflow">if</span> (s[1] == <span class="charliteral">&#39;v&#39;</span>) {</div>
<div class="line"><span class="lineno"> 4588</span>        <span class="comment">/* IPvFuture, or junk.</span></div>
<div class="line"><span class="lineno"> 4589</span><span class="comment">           &quot;v&quot; 1*HEXDIG &quot;.&quot; 1*( unreserved / sub-delims / &quot;:&quot; )</span></div>
<div class="line"><span class="lineno"> 4590</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 4591</span>        s += 2; <span class="comment">/* skip [v */</span></div>
<div class="line"><span class="lineno"> 4592</span>        --eos;</div>
<div class="line"><span class="lineno"> 4593</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(*s)) <span class="comment">/*require at least one*/</span></div>
<div class="line"><span class="lineno"> 4594</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4595</span>        <span class="keywordflow">while</span> (s &lt; eos &amp;&amp; *s != <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><span class="lineno"> 4596</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(*s))</div>
<div class="line"><span class="lineno"> 4597</span>                ++s;</div>
<div class="line"><span class="lineno"> 4598</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4599</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4600</span>        }</div>
<div class="line"><span class="lineno"> 4601</span>        <span class="keywordflow">if</span> (*s != <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno"> 4602</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4603</span>        ++s;</div>
<div class="line"><span class="lineno"> 4604</span>        <span class="keywordflow">while</span> (s &lt; eos) {</div>
<div class="line"><span class="lineno"> 4605</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="http_8c.html#a3196dc56717a368635e6a375e77df11e">CHAR_IS_UNRESERVED</a>(*s) ||</div>
<div class="line"><span class="lineno"> 4606</span>                strchr(<a class="code hl_define" href="http_8c.html#afa791968cc0b7487ff1c9262ac44a2ed">SUBDELIMS</a>, *s) ||</div>
<div class="line"><span class="lineno"> 4607</span>                *s == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno"> 4608</span>                ++s;</div>
<div class="line"><span class="lineno"> 4609</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4610</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4611</span>        }</div>
<div class="line"><span class="lineno"> 4612</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 4613</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4614</span>        <span class="comment">/* IPv6, or junk */</span></div>
<div class="line"><span class="lineno"> 4615</span>        <span class="keywordtype">char</span> buf[64];</div>
<div class="line"><span class="lineno"> 4616</span>        ev_ssize_t n_chars = eos-s-2;</div>
<div class="line"><span class="lineno"> 4617</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structin6__addr.html">in6_addr</a> in6;</div>
<div class="line"><span class="lineno"> 4618</span>        <span class="keywordflow">if</span> (n_chars &gt;= 64) <span class="comment">/* way too long */</span></div>
<div class="line"><span class="lineno"> 4619</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4620</span>        memcpy(buf, s+1, n_chars);</div>
<div class="line"><span class="lineno"> 4621</span>        buf[n_chars]=<span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 4622</span>        <span class="keywordflow">return</span> (<a class="code hl_function" href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a>(<a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>,buf,&amp;in6)==1) ? 1 : 0;</div>
<div class="line"><span class="lineno"> 4623</span>    }</div>
<div class="line"><span class="lineno"> 4624</span>}</div>
<div class="ttc" id="aevutil_8c_html_a1457e5a0b461a99ca9d6d5c19e9dd65f"><div class="ttname"><a href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a></div><div class="ttdeci">int evutil_inet_pton(int af, const char *src, void *dst)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02027">evutil.c:2027</a></div></div>
<div class="ttc" id="ahttp_8c_html_a3196dc56717a368635e6a375e77df11e"><div class="ttname"><a href="http_8c.html#a3196dc56717a368635e6a375e77df11e">CHAR_IS_UNRESERVED</a></div><div class="ttdeci">#define CHAR_IS_UNRESERVED(c)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03102">http.c:3102</a></div></div>
<div class="ttc" id="ahttp_8c_html_afa791968cc0b7487ff1c9262ac44a2ed"><div class="ttname"><a href="http_8c.html#afa791968cc0b7487ff1c9262ac44a2ed">SUBDELIMS</a></div><div class="ttdeci">#define SUBDELIMS</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04526">http.c:4526</a></div></div>
<div class="ttc" id="aipv6-internal_8h_html_aa03706b2738b9a58d4985dfbe99e1bac"><div class="ttname"><a href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a></div><div class="ttdeci">#define AF_INET6</div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00073">ipv6-internal.h:73</a></div></div>
<div class="ttc" id="astructin6__addr_html"><div class="ttname"><a href="structin6__addr.html">in6_addr</a></div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00053">ipv6-internal.h:53</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a0cd6582ec749a8fd4dc00bc7f3a3bbff"><div class="ttname"><a href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int EVUTIL_ISXDIGIT_(char c)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="http_8c_source.html#l03102">CHAR_IS_UNRESERVED</a>, <a class="el" href="evutil_8c_source.html#l02027">evutil_inet_pton()</a>, <a class="el" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_()</a>, and <a class="el" href="http_8c_source.html#l04526">SUBDELIMS</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l05078">evhttp_uri_set_host()</a>, and <a class="el" href="http_8c_source.html#l04627">parse_authority()</a>.</p>

</div>
</div>
<a id="a7d010648584df08658c3918512d6eafa" name="a7d010648584df08658c3918512d6eafa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d010648584df08658c3918512d6eafa">&#9670;&nbsp;</a></span>create_bind_socket_nonblock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static evutil_socket_t create_bind_socket_nonblock </td>
          <td>(</td>
          <td class="paramtype">struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>ai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reuse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04392">4392</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4393</span>{</div>
<div class="line"><span class="lineno"> 4394</span>    evutil_socket_t fd;</div>
<div class="line"><span class="lineno"> 4395</span> </div>
<div class="line"><span class="lineno"> 4396</span>    <span class="keywordtype">int</span> on = 1, r;</div>
<div class="line"><span class="lineno"> 4397</span>    <span class="keywordtype">int</span> serrno;</div>
<div class="line"><span class="lineno"> 4398</span> </div>
<div class="line"><span class="lineno"> 4399</span>    <span class="comment">/* Create listen socket */</span></div>
<div class="line"><span class="lineno"> 4400</span>    fd = <a class="code hl_function" href="evutil_8c.html#a62afa81f2bbca524ef24c24f8c0bbfdb">evutil_socket_</a>(ai ? ai-&gt;ai_family : AF_INET,</div>
<div class="line"><span class="lineno"> 4401</span>        SOCK_STREAM|<a class="code hl_define" href="util-internal_8h.html#a31e248693a7fed9ed20b85685e273626">EVUTIL_SOCK_NONBLOCK</a>|<a class="code hl_define" href="util-internal_8h.html#afba2af36c0dae01fb8dd73ec5c928125">EVUTIL_SOCK_CLOEXEC</a>, 0);</div>
<div class="line"><span class="lineno"> 4402</span>    <span class="keywordflow">if</span> (fd == -1) {</div>
<div class="line"><span class="lineno"> 4403</span>            <a class="code hl_function" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn</a>(-1, <span class="stringliteral">&quot;socket&quot;</span>);</div>
<div class="line"><span class="lineno"> 4404</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 4405</span>    }</div>
<div class="line"><span class="lineno"> 4406</span> </div>
<div class="line"><span class="lineno"> 4407</span>    <span class="keywordflow">if</span> (setsockopt(fd, SOL_SOCKET, SO_KEEPALIVE, (<span class="keywordtype">void</span> *)&amp;on, <span class="keyword">sizeof</span>(on))&lt;0)</div>
<div class="line"><span class="lineno"> 4408</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 4409</span>    <span class="keywordflow">if</span> (reuse) {</div>
<div class="line"><span class="lineno"> 4410</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a050bec12aefa132d8e94e712332f38d9">evutil_make_listen_socket_reuseable</a>(fd) &lt; 0)</div>
<div class="line"><span class="lineno"> 4411</span>            <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 4412</span>    }</div>
<div class="line"><span class="lineno"> 4413</span> </div>
<div class="line"><span class="lineno"> 4414</span>    <span class="keywordflow">if</span> (ai != NULL) {</div>
<div class="line"><span class="lineno"> 4415</span>        r = bind(fd, ai-&gt;ai_addr, (ev_socklen_t)ai-&gt;ai_addrlen);</div>
<div class="line"><span class="lineno"> 4416</span>        <span class="keywordflow">if</span> (r == -1)</div>
<div class="line"><span class="lineno"> 4417</span>            <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 4418</span>    }</div>
<div class="line"><span class="lineno"> 4419</span> </div>
<div class="line"><span class="lineno"> 4420</span>    <span class="keywordflow">return</span> (fd);</div>
<div class="line"><span class="lineno"> 4421</span> </div>
<div class="line"><span class="lineno"> 4422</span> out:</div>
<div class="line"><span class="lineno"> 4423</span>    serrno = EVUTIL_SOCKET_ERROR();</div>
<div class="line"><span class="lineno"> 4424</span>    <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(fd);</div>
<div class="line"><span class="lineno"> 4425</span>    EVUTIL_SET_SOCKET_ERROR(serrno);</div>
<div class="line"><span class="lineno"> 4426</span>    <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 4427</span>}</div>
<div class="ttc" id="aevutil_8c_html_a050bec12aefa132d8e94e712332f38d9"><div class="ttname"><a href="evutil_8c.html#a050bec12aefa132d8e94e712332f38d9">evutil_make_listen_socket_reuseable</a></div><div class="ttdeci">int evutil_make_listen_socket_reuseable(evutil_socket_t sock)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00365">evutil.c:365</a></div></div>
<div class="ttc" id="aevutil_8c_html_a3950f08bc7b4ab52d519eabe7edd1889"><div class="ttname"><a href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a></div><div class="ttdeci">int evutil_closesocket(evutil_socket_t sock)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00454">evutil.c:454</a></div></div>
<div class="ttc" id="aevutil_8c_html_a62afa81f2bbca524ef24c24f8c0bbfdb"><div class="ttname"><a href="evutil_8c.html#a62afa81f2bbca524ef24c24f8c0bbfdb">evutil_socket_</a></div><div class="ttdeci">evutil_socket_t evutil_socket_(int domain, int type, int protocol)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02595">evutil.c:2595</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a5f53113b969e2ebd8c6ea0fac36004d2"><div class="ttname"><a href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_sock_warn(evutil_socket_t sock, const char *fmt,...) EV_CHECK_FMT(2</div></div>
<div class="ttc" id="autil-internal_8h_html_a31e248693a7fed9ed20b85685e273626"><div class="ttname"><a href="util-internal_8h.html#a31e248693a7fed9ed20b85685e273626">EVUTIL_SOCK_NONBLOCK</a></div><div class="ttdeci">#define EVUTIL_SOCK_NONBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00516">util-internal.h:516</a></div></div>
<div class="ttc" id="autil-internal_8h_html_afba2af36c0dae01fb8dd73ec5c928125"><div class="ttname"><a href="util-internal_8h.html#afba2af36c0dae01fb8dd73ec5c928125">EVUTIL_SOCK_CLOEXEC</a></div><div class="ttdeci">#define EVUTIL_SOCK_CLOEXEC</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00521">util-internal.h:521</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn()</a>, <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="evutil_8c_source.html#l00365">evutil_make_listen_socket_reuseable()</a>, <a class="el" href="util-internal_8h_source.html#l00521">EVUTIL_SOCK_CLOEXEC</a>, <a class="el" href="util-internal_8h_source.html#l00516">EVUTIL_SOCK_NONBLOCK</a>, <a class="el" href="evutil_8c_source.html#l02595">evutil_socket_()</a>, and <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04459">bind_socket()</a>.</p>

</div>
</div>
<a id="a567a13897c30396c30a441b622e4b338" name="a567a13897c30396c30a441b622e4b338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a567a13897c30396c30a441b622e4b338">&#9670;&nbsp;</a></span>end_of_authority()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * end_of_authority </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04690">4690</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4691</span>{</div>
<div class="line"><span class="lineno"> 4692</span>    <span class="keywordflow">while</span> (*cp) {</div>
<div class="line"><span class="lineno"> 4693</span>        <span class="keywordflow">if</span> (*cp == <span class="charliteral">&#39;?&#39;</span> || *cp == <span class="charliteral">&#39;#&#39;</span> || *cp == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 4694</span>            <span class="keywordflow">return</span> cp;</div>
<div class="line"><span class="lineno"> 4695</span>        ++cp;</div>
<div class="line"><span class="lineno"> 4696</span>    }</div>
<div class="line"><span class="lineno"> 4697</span>    <span class="keywordflow">return</span> cp;</div>
<div class="line"><span class="lineno"> 4698</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04899">evhttp_uri_parse_authority()</a>, and <a class="el" href="http_8c_source.html#l04771">evhttp_uri_parse_with_flags()</a>.</p>

</div>
</div>
<a id="aa2f2e0addc4d2b31f768d416951316ab" name="aa2f2e0addc4d2b31f768d416951316ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f2e0addc4d2b31f768d416951316ab">&#9670;&nbsp;</a></span>end_of_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * end_of_path </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1f">uri_part</a>&#160;</td>
          <td class="paramname"><em>part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04711">4711</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4712</span>{</div>
<div class="line"><span class="lineno"> 4713</span>    <span class="keywordflow">if</span> (flags &amp; EVHTTP_URI_NONCONFORMANT) {</div>
<div class="line"><span class="lineno"> 4714</span>        <span class="comment">/* If NONCONFORMANT:</span></div>
<div class="line"><span class="lineno"> 4715</span><span class="comment">         *   Path is everything up to a # or ? or nul.</span></div>
<div class="line"><span class="lineno"> 4716</span><span class="comment">         *   Query is everything up a # or nul</span></div>
<div class="line"><span class="lineno"> 4717</span><span class="comment">         *   Fragment is everything up to a nul.</span></div>
<div class="line"><span class="lineno"> 4718</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 4719</span>        <span class="keywordflow">switch</span> (part) {</div>
<div class="line"><span class="lineno"> 4720</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893">PART_PATH</a>:</div>
<div class="line"><span class="lineno"> 4721</span>            <span class="keywordflow">while</span> (*cp &amp;&amp; *cp != <span class="charliteral">&#39;#&#39;</span> &amp;&amp; *cp != <span class="charliteral">&#39;?&#39;</span>)</div>
<div class="line"><span class="lineno"> 4722</span>                ++cp;</div>
<div class="line"><span class="lineno"> 4723</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4724</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa387dee858a040af11bdc308c8a261fd7">PART_QUERY</a>:</div>
<div class="line"><span class="lineno"> 4725</span>            <span class="keywordflow">while</span> (*cp &amp;&amp; *cp != <span class="charliteral">&#39;#&#39;</span>)</div>
<div class="line"><span class="lineno"> 4726</span>                ++cp;</div>
<div class="line"><span class="lineno"> 4727</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4728</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa615c3b6a8736f0055bdbce1d8ca72cd8">PART_FRAGMENT</a>:</div>
<div class="line"><span class="lineno"> 4729</span>            cp += strlen(cp);</div>
<div class="line"><span class="lineno"> 4730</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4731</span>        };</div>
<div class="line"><span class="lineno"> 4732</span>        <span class="keywordflow">return</span> cp;</div>
<div class="line"><span class="lineno"> 4733</span>    }</div>
<div class="line"><span class="lineno"> 4734</span> </div>
<div class="line"><span class="lineno"> 4735</span>    <span class="keywordflow">while</span> (*cp) {</div>
<div class="line"><span class="lineno"> 4736</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="http_8c.html#a3196dc56717a368635e6a375e77df11e">CHAR_IS_UNRESERVED</a>(*cp) ||</div>
<div class="line"><span class="lineno"> 4737</span>            strchr(<a class="code hl_define" href="http_8c.html#afa791968cc0b7487ff1c9262ac44a2ed">SUBDELIMS</a>, *cp) ||</div>
<div class="line"><span class="lineno"> 4738</span>            *cp == <span class="charliteral">&#39;:&#39;</span> || *cp == <span class="charliteral">&#39;@&#39;</span> || *cp == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 4739</span>            ++cp;</div>
<div class="line"><span class="lineno"> 4740</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*cp == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(cp[1]) &amp;&amp;</div>
<div class="line"><span class="lineno"> 4741</span>            <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(cp[2]))</div>
<div class="line"><span class="lineno"> 4742</span>            cp += 3;</div>
<div class="line"><span class="lineno"> 4743</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*cp == <span class="charliteral">&#39;?&#39;</span> &amp;&amp; part != <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893">PART_PATH</a>)</div>
<div class="line"><span class="lineno"> 4744</span>            ++cp;</div>
<div class="line"><span class="lineno"> 4745</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4746</span>            <span class="keywordflow">return</span> cp;</div>
<div class="line"><span class="lineno"> 4747</span>    }</div>
<div class="line"><span class="lineno"> 4748</span>    <span class="keywordflow">return</span> cp;</div>
<div class="line"><span class="lineno"> 4749</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03102">CHAR_IS_UNRESERVED</a>, <a class="el" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_()</a>, <a class="el" href="http_8c_source.html#l04703">PART_FRAGMENT</a>, <a class="el" href="http_8c_source.html#l04701">PART_PATH</a>, <a class="el" href="http_8c_source.html#l04702">PART_QUERY</a>, and <a class="el" href="http_8c_source.html#l04526">SUBDELIMS</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04771">evhttp_uri_parse_with_flags()</a>.</p>

</div>
</div>
<a id="aa5719654012b143ebfc0dfc9d4a8490d" name="aa5719654012b143ebfc0dfc9d4a8490d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5719654012b143ebfc0dfc9d4a8490d">&#9670;&nbsp;</a></span>evhttp_accept_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_accept_socket </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03588">3588</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3589</span>{</div>
<div class="line"><span class="lineno"> 3590</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound =</div>
<div class="line"><span class="lineno"> 3591</span>        <a class="code hl_function" href="http_8c.html#accc170f5853c164fab8e716d44e76ec3">evhttp_accept_socket_with_handle</a>(http, fd);</div>
<div class="line"><span class="lineno"> 3592</span>    <span class="keywordflow">if</span> (bound == NULL)</div>
<div class="line"><span class="lineno"> 3593</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 3594</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 3595</span>}</div>
<div class="ttc" id="ahttp_8c_html_accc170f5853c164fab8e716d44e76ec3"><div class="ttname"><a href="http_8c.html#accc170f5853c164fab8e716d44e76ec3">evhttp_accept_socket_with_handle</a></div><div class="ttdeci">struct evhttp_bound_socket * evhttp_accept_socket_with_handle(struct evhttp *http, evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03609">http.c:3609</a></div></div>
<div class="ttc" id="astructevhttp__bound__socket_html"><div class="ttname"><a href="structevhttp__bound__socket.html">evhttp_bound_socket</a></div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00121">http-internal.h:121</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03609">evhttp_accept_socket_with_handle()</a>.</p>

</div>
</div>
<a id="accc170f5853c164fab8e716d44e76ec3" name="accc170f5853c164fab8e716d44e76ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc170f5853c164fab8e716d44e76ec3">&#9670;&nbsp;</a></span>evhttp_accept_socket_with_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> * evhttp_accept_socket_with_handle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03609">3609</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3610</span>{</div>
<div class="line"><span class="lineno"> 3611</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound;</div>
<div class="line"><span class="lineno"> 3612</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevconnlistener.html">evconnlistener</a> *listener;</div>
<div class="line"><span class="lineno"> 3613</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structevconnlistener.html#a0d1f619d7546e48561ce315955676241">flags</a> =</div>
<div class="line"><span class="lineno"> 3614</span>        LEV_OPT_REUSEABLE|LEV_OPT_CLOSE_ON_EXEC|LEV_OPT_CLOSE_ON_FREE;</div>
<div class="line"><span class="lineno"> 3615</span> </div>
<div class="line"><span class="lineno"> 3616</span>    listener = <a class="code hl_function" href="listener_8c.html#ad6dd556544bd5b9229b8f147521e2e9a">evconnlistener_new</a>(http-&gt;<a class="code hl_variable" href="structevhttp.html#a33a7da3c699cea2edad331dc724184e5">base</a>, NULL, NULL,</div>
<div class="line"><span class="lineno"> 3617</span>        <a class="code hl_variable" href="structevconnlistener.html#a0d1f619d7546e48561ce315955676241">flags</a>,</div>
<div class="line"><span class="lineno"> 3618</span>        0, <span class="comment">/* Backlog is &#39;0&#39; because we already said &#39;listen&#39; */</span></div>
<div class="line"><span class="lineno"> 3619</span>        fd);</div>
<div class="line"><span class="lineno"> 3620</span>    <span class="keywordflow">if</span> (!listener)</div>
<div class="line"><span class="lineno"> 3621</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3622</span> </div>
<div class="line"><span class="lineno"> 3623</span>    bound = <a class="code hl_function" href="http_8c.html#a5fb1153c62416fbbb913587a6d1581fc">evhttp_bind_listener</a>(http, listener);</div>
<div class="line"><span class="lineno"> 3624</span>    <span class="keywordflow">if</span> (!bound) {</div>
<div class="line"><span class="lineno"> 3625</span>        <a class="code hl_function" href="listener_8c.html#a8f2a4e2acac6ac07344f03e26f5420e0">evconnlistener_free</a>(listener);</div>
<div class="line"><span class="lineno"> 3626</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3627</span>    }</div>
<div class="line"><span class="lineno"> 3628</span>    <span class="keywordflow">return</span> (bound);</div>
<div class="line"><span class="lineno"> 3629</span>}</div>
<div class="ttc" id="ahttp_8c_html_a5fb1153c62416fbbb913587a6d1581fc"><div class="ttname"><a href="http_8c.html#a5fb1153c62416fbbb913587a6d1581fc">evhttp_bind_listener</a></div><div class="ttdeci">struct evhttp_bound_socket * evhttp_bind_listener(struct evhttp *http, struct evconnlistener *listener)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03632">http.c:3632</a></div></div>
<div class="ttc" id="alistener_8c_html_a8f2a4e2acac6ac07344f03e26f5420e0"><div class="ttname"><a href="listener_8c.html#a8f2a4e2acac6ac07344f03e26f5420e0">evconnlistener_free</a></div><div class="ttdeci">void evconnlistener_free(struct evconnlistener *lev)</div><div class="ttdef"><b>Definition:</b> <a href="listener_8c_source.html#l00270">listener.c:270</a></div></div>
<div class="ttc" id="alistener_8c_html_ad6dd556544bd5b9229b8f147521e2e9a"><div class="ttname"><a href="listener_8c.html#ad6dd556544bd5b9229b8f147521e2e9a">evconnlistener_new</a></div><div class="ttdeci">struct evconnlistener * evconnlistener_new(struct event_base *base, evconnlistener_cb cb, void *ptr, unsigned flags, int backlog, evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="listener_8c_source.html#l00157">listener.c:157</a></div></div>
<div class="ttc" id="astructevconnlistener_html"><div class="ttname"><a href="structevconnlistener.html">evconnlistener</a></div><div class="ttdef"><b>Definition:</b> <a href="listener_8c_source.html#l00076">listener.c:76</a></div></div>
<div class="ttc" id="astructevconnlistener_html_a0d1f619d7546e48561ce315955676241"><div class="ttname"><a href="structevconnlistener.html#a0d1f619d7546e48561ce315955676241">evconnlistener::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition:</b> <a href="listener_8c_source.html#l00082">listener.c:82</a></div></div>
<div class="ttc" id="astructevhttp_html_a33a7da3c699cea2edad331dc724184e5"><div class="ttname"><a href="structevhttp.html#a33a7da3c699cea2edad331dc724184e5">evhttp::base</a></div><div class="ttdeci">struct event_base * base</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00171">http-internal.h:171</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00171">evhttp::base</a>, <a class="el" href="listener_8c_source.html#l00270">evconnlistener_free()</a>, <a class="el" href="listener_8c_source.html#l00157">evconnlistener_new()</a>, <a class="el" href="http_8c_source.html#l03632">evhttp_bind_listener()</a>, and <a class="el" href="listener_8c_source.html#l00082">evconnlistener::flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03588">evhttp_accept_socket()</a>, and <a class="el" href="http_8c_source.html#l03559">evhttp_bind_socket_with_handle()</a>.</p>

</div>
</div>
<a id="a04e3f41c14b8e0e74da13a8d308b93b7" name="a04e3f41c14b8e0e74da13a8d308b93b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04e3f41c14b8e0e74da13a8d308b93b7">&#9670;&nbsp;</a></span>evhttp_add_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_add_header </td>
          <td>(</td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01969">1969</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1971</span>{</div>
<div class="line"><span class="lineno"> 1972</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: key: %s val: %s\n&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, key, value));</div>
<div class="line"><span class="lineno"> 1973</span> </div>
<div class="line"><span class="lineno"> 1974</span>    <span class="keywordflow">if</span> (strchr(key, <span class="charliteral">&#39;\r&#39;</span>) != NULL || strchr(key, <span class="charliteral">&#39;\n&#39;</span>) != NULL) {</div>
<div class="line"><span class="lineno"> 1975</span>        <span class="comment">/* drop illegal headers */</span></div>
<div class="line"><span class="lineno"> 1976</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: dropping illegal header key\n&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>));</div>
<div class="line"><span class="lineno"> 1977</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1978</span>    }</div>
<div class="line"><span class="lineno"> 1979</span> </div>
<div class="line"><span class="lineno"> 1980</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="http_8c.html#a5ed13d8c74cc39081d910f7a46b25091">evhttp_header_is_valid_value</a>(value)) {</div>
<div class="line"><span class="lineno"> 1981</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: dropping illegal header value\n&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>));</div>
<div class="line"><span class="lineno"> 1982</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1983</span>    }</div>
<div class="line"><span class="lineno"> 1984</span> </div>
<div class="line"><span class="lineno"> 1985</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="http_8c.html#a35c71de8ffdf44a75dc74f6df4cb4f9b">evhttp_add_header_internal</a>(headers, key, value));</div>
<div class="line"><span class="lineno"> 1986</span>}</div>
<div class="ttc" id="ahttp_8c_html_a35c71de8ffdf44a75dc74f6df4cb4f9b"><div class="ttname"><a href="http_8c.html#a35c71de8ffdf44a75dc74f6df4cb4f9b">evhttp_add_header_internal</a></div><div class="ttdeci">static int evhttp_add_header_internal(struct evkeyvalq *headers, const char *key, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01989">http.c:1989</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5ed13d8c74cc39081d910f7a46b25091"><div class="ttname"><a href="http_8c.html#a5ed13d8c74cc39081d910f7a46b25091">evhttp_header_is_valid_value</a></div><div class="ttdeci">static int evhttp_header_is_valid_value(const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01954">http.c:1954</a></div></div>
<div class="ttc" id="alog-internal_8h_html_abca298e725a8bd7373647a064b4d1ff7"><div class="ttname"><a href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a></div><div class="ttdeci">#define event_debug(x)</div><div class="ttdef"><b>Definition:</b> <a href="log-internal_8h_source.html#l00079">log-internal.h:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="http_8c_source.html#l01989">evhttp_add_header_internal()</a>, and <a class="el" href="http_8c_source.html#l01954">evhttp_header_is_valid_value()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00438">evhttp_make_header_request()</a>, <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>, <a class="el" href="http_8c_source.html#l00514">evhttp_maybe_add_content_length_header()</a>, <a class="el" href="http_8c_source.html#l00501">evhttp_maybe_add_date_header()</a>, <a class="el" href="http_8c_source.html#l02096">evhttp_parse_headers_()</a>, <a class="el" href="http_8c_source.html#l03062">evhttp_send_page_()</a>, <a class="el" href="http_8c_source.html#l02867">evhttp_send_reply_start()</a>, and <a class="el" href="evrpc_8c_source.html#l00474">evrpc_request_done_closure()</a>.</p>

</div>
</div>
<a id="a35c71de8ffdf44a75dc74f6df4cb4f9b" name="a35c71de8ffdf44a75dc74f6df4cb4f9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c71de8ffdf44a75dc74f6df4cb4f9b">&#9670;&nbsp;</a></span>evhttp_add_header_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_add_header_internal </td>
          <td>(</td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01989">1989</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1991</span>{</div>
<div class="line"><span class="lineno"> 1992</span>    <span class="keyword">struct </span>evkeyval *header = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> evkeyval));</div>
<div class="line"><span class="lineno"> 1993</span>    <span class="keywordflow">if</span> (header == NULL) {</div>
<div class="line"><span class="lineno"> 1994</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 1995</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1996</span>    }</div>
<div class="line"><span class="lineno"> 1997</span>    <span class="keywordflow">if</span> ((header-&gt;key = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(key)) == NULL) {</div>
<div class="line"><span class="lineno"> 1998</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(header);</div>
<div class="line"><span class="lineno"> 1999</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2000</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2001</span>    }</div>
<div class="line"><span class="lineno"> 2002</span>    <span class="keywordflow">if</span> ((header-&gt;value = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(value)) == NULL) {</div>
<div class="line"><span class="lineno"> 2003</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(header-&gt;key);</div>
<div class="line"><span class="lineno"> 2004</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(header);</div>
<div class="line"><span class="lineno"> 2005</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2006</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2007</span>    }</div>
<div class="line"><span class="lineno"> 2008</span> </div>
<div class="line"><span class="lineno"> 2009</span>    TAILQ_INSERT_TAIL(headers, header, next);</div>
<div class="line"><span class="lineno"> 2010</span> </div>
<div class="line"><span class="lineno"> 2011</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2012</span>}</div>
<div class="ttc" id="alog-internal_8h_html_a266362bd8989fd1dacd0e1fc25b904f3"><div class="ttname"><a href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warn(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="amm-internal_8h_html_a0c64a2a6527ed776255e0e4e380593dc"><div class="ttname"><a href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a></div><div class="ttdeci">#define mm_calloc(count, size)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00076">mm-internal.h:76</a></div></div>
<div class="ttc" id="amm-internal_8h_html_af7d87798652aaa8398bb9c0504256f16"><div class="ttname"><a href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a></div><div class="ttdeci">#define mm_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00079">mm-internal.h:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, and <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>.</p>

</div>
</div>
<a id="a58fe001925e7f65d7678bf90b31fc2a5" name="a58fe001925e7f65d7678bf90b31fc2a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58fe001925e7f65d7678bf90b31fc2a5">&#9670;&nbsp;</a></span>evhttp_add_server_alias()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_add_server_alias </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>alias</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03810">3810</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3811</span>{</div>
<div class="line"><span class="lineno"> 3812</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__server__alias.html">evhttp_server_alias</a> *evalias;</div>
<div class="line"><span class="lineno"> 3813</span> </div>
<div class="line"><span class="lineno"> 3814</span>    evalias = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(*evalias));</div>
<div class="line"><span class="lineno"> 3815</span>    <span class="keywordflow">if</span> (!evalias)</div>
<div class="line"><span class="lineno"> 3816</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3817</span> </div>
<div class="line"><span class="lineno"> 3818</span>    evalias-&gt;<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>);</div>
<div class="line"><span class="lineno"> 3819</span>    <span class="keywordflow">if</span> (!evalias-&gt;<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>) {</div>
<div class="line"><span class="lineno"> 3820</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(evalias);</div>
<div class="line"><span class="lineno"> 3821</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3822</span>    }</div>
<div class="line"><span class="lineno"> 3823</span> </div>
<div class="line"><span class="lineno"> 3824</span>    TAILQ_INSERT_TAIL(&amp;http-&gt;aliases, evalias, next);</div>
<div class="line"><span class="lineno"> 3825</span> </div>
<div class="line"><span class="lineno"> 3826</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3827</span>}</div>
<div class="ttc" id="astructevhttp__server__alias_html"><div class="ttname"><a href="structevhttp__server__alias.html">evhttp_server_alias</a></div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00128">http-internal.h:128</a></div></div>
<div class="ttc" id="astructevhttp__server__alias_html_a00489cdafd4ed0d630d430539d4771c0"><div class="ttname"><a href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">evhttp_server_alias::alias</a></div><div class="ttdeci">char * alias</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00131">http-internal.h:131</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00131">evhttp_server_alias::alias</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>.</p>

</div>
</div>
<a id="a82d8fb72c5e8c76b787987ba5de5b141" name="a82d8fb72c5e8c76b787987ba5de5b141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82d8fb72c5e8c76b787987ba5de5b141">&#9670;&nbsp;</a></span>evhttp_add_virtual_host()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_add_virtual_host </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>vhost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03778">3778</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3780</span>{</div>
<div class="line"><span class="lineno"> 3781</span>    <span class="comment">/* a vhost can only be a vhost once and should not have bound sockets */</span></div>
<div class="line"><span class="lineno"> 3782</span>    <span class="keywordflow">if</span> (vhost-&gt;<a class="code hl_variable" href="structevhttp.html#a305c78f5d37661748603cc87db084e28">vhost_pattern</a> != NULL ||</div>
<div class="line"><span class="lineno"> 3783</span>        <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;vhost-&gt;sockets) != NULL)</div>
<div class="line"><span class="lineno"> 3784</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 3785</span> </div>
<div class="line"><span class="lineno"> 3786</span>    vhost-&gt;<a class="code hl_variable" href="structevhttp.html#a305c78f5d37661748603cc87db084e28">vhost_pattern</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(pattern);</div>
<div class="line"><span class="lineno"> 3787</span>    <span class="keywordflow">if</span> (vhost-&gt;<a class="code hl_variable" href="structevhttp.html#a305c78f5d37661748603cc87db084e28">vhost_pattern</a> == NULL)</div>
<div class="line"><span class="lineno"> 3788</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 3789</span> </div>
<div class="line"><span class="lineno"> 3790</span>    TAILQ_INSERT_TAIL(&amp;http-&gt;virtualhosts, vhost, next_vhost);</div>
<div class="line"><span class="lineno"> 3791</span> </div>
<div class="line"><span class="lineno"> 3792</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 3793</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a7d6894360bd1c41e0e6f6d84998c1362"><div class="ttname"><a href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a></div><div class="ttdeci">#define TAILQ_FIRST(head)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00376">event-internal.h:376</a></div></div>
<div class="ttc" id="astructevhttp_html_a305c78f5d37661748603cc87db084e28"><div class="ttname"><a href="structevhttp.html#a305c78f5d37661748603cc87db084e28">evhttp::vhost_pattern</a></div><div class="ttdeci">char * vhost_pattern</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00151">http-internal.h:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>, and <a class="el" href="http-internal_8h_source.html#l00151">evhttp::vhost_pattern</a>.</p>

</div>
</div>
<a id="a04abb4a67cf4fd168923c72fabf77c55" name="a04abb4a67cf4fd168923c72fabf77c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04abb4a67cf4fd168923c72fabf77c55">&#9670;&nbsp;</a></span>evhttp_append_to_last_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_append_to_last_header </td>
          <td>(</td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02066">2066</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2067</span>{</div>
<div class="line"><span class="lineno"> 2068</span>    <span class="keyword">struct </span>evkeyval *header = TAILQ_LAST(headers, evkeyvalq);</div>
<div class="line"><span class="lineno"> 2069</span>    <span class="keywordtype">char</span> *newval;</div>
<div class="line"><span class="lineno"> 2070</span>    <span class="keywordtype">size_t</span> old_len, line_len;</div>
<div class="line"><span class="lineno"> 2071</span> </div>
<div class="line"><span class="lineno"> 2072</span>    <span class="keywordflow">if</span> (header == NULL)</div>
<div class="line"><span class="lineno"> 2073</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2074</span> </div>
<div class="line"><span class="lineno"> 2075</span>    old_len = strlen(header-&gt;value);</div>
<div class="line"><span class="lineno"> 2076</span> </div>
<div class="line"><span class="lineno"> 2077</span>    <span class="comment">/* Strip space from start and end of line. */</span></div>
<div class="line"><span class="lineno"> 2078</span>    <span class="keywordflow">while</span> (*line == <span class="charliteral">&#39; &#39;</span> || *line == <span class="charliteral">&#39;\t&#39;</span>)</div>
<div class="line"><span class="lineno"> 2079</span>        ++line;</div>
<div class="line"><span class="lineno"> 2080</span>    <a class="code hl_function" href="evutil_8c.html#adbbe34990531ffb2560076fa58392515">evutil_rtrim_lws_</a>(line);</div>
<div class="line"><span class="lineno"> 2081</span> </div>
<div class="line"><span class="lineno"> 2082</span>    line_len = strlen(line);</div>
<div class="line"><span class="lineno"> 2083</span> </div>
<div class="line"><span class="lineno"> 2084</span>    newval = <a class="code hl_define" href="mm-internal_8h.html#a8bef7e1064a80515bfb955a2a041f9e8">mm_realloc</a>(header-&gt;value, old_len + line_len + 2);</div>
<div class="line"><span class="lineno"> 2085</span>    <span class="keywordflow">if</span> (newval == NULL)</div>
<div class="line"><span class="lineno"> 2086</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2087</span> </div>
<div class="line"><span class="lineno"> 2088</span>    newval[old_len] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><span class="lineno"> 2089</span>    memcpy(newval + old_len + 1, line, line_len + 1);</div>
<div class="line"><span class="lineno"> 2090</span>    header-&gt;value = newval;</div>
<div class="line"><span class="lineno"> 2091</span> </div>
<div class="line"><span class="lineno"> 2092</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2093</span>}</div>
<div class="ttc" id="aevutil_8c_html_adbbe34990531ffb2560076fa58392515"><div class="ttname"><a href="evutil_8c.html#adbbe34990531ffb2560076fa58392515">evutil_rtrim_lws_</a></div><div class="ttdeci">void evutil_rtrim_lws_(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02423">evutil.c:2423</a></div></div>
<div class="ttc" id="amm-internal_8h_html_a8bef7e1064a80515bfb955a2a041f9e8"><div class="ttname"><a href="mm-internal_8h.html#a8bef7e1064a80515bfb955a2a041f9e8">mm_realloc</a></div><div class="ttdeci">#define mm_realloc(p, sz)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00078">mm-internal.h:78</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02423">evutil_rtrim_lws_()</a>, and <a class="el" href="mm-internal_8h_source.html#l00078">mm_realloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02096">evhttp_parse_headers_()</a>.</p>

</div>
</div>
<a id="ad7fcb292a0c9868222024aff72207615" name="ad7fcb292a0c9868222024aff72207615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7fcb292a0c9868222024aff72207615">&#9670;&nbsp;</a></span>evhttp_associate_new_request_with_connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_associate_new_request_with_connection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04286">4286</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4287</span>{</div>
<div class="line"><span class="lineno"> 4288</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *http = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a384062befaf1654ea365663f4bd4b73c">http_server</a>;</div>
<div class="line"><span class="lineno"> 4289</span>    <span class="keyword">struct </span>evhttp_request *req;</div>
<div class="line"><span class="lineno"> 4290</span>    <span class="keywordflow">if</span> ((req = <a class="code hl_function" href="http_8c.html#a35c07f708c785a53df1efc4e5f68be42">evhttp_request_new</a>(<a class="code hl_function" href="http_8c.html#a5ab9095dd85258c0f3e900b0dbe528fe">evhttp_handle_request</a>, http)) == NULL)</div>
<div class="line"><span class="lineno"> 4291</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 4292</span> </div>
<div class="line"><span class="lineno"> 4293</span>    <span class="keywordflow">if</span> ((req-&gt;remote_host = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>)) == NULL) {</div>
<div class="line"><span class="lineno"> 4294</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4295</span>        <a class="code hl_function" href="http_8c.html#aad0392c873fa034be3ff09d4f8b68aba">evhttp_request_free</a>(req);</div>
<div class="line"><span class="lineno"> 4296</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 4297</span>    }</div>
<div class="line"><span class="lineno"> 4298</span>    req-&gt;remote_port = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>;</div>
<div class="line"><span class="lineno"> 4299</span> </div>
<div class="line"><span class="lineno"> 4300</span>    req-&gt;evcon = evcon; <span class="comment">/* the request ends up owning the connection */</span></div>
<div class="line"><span class="lineno"> 4301</span>    req-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> |= EVHTTP_REQ_OWN_CONNECTION;</div>
<div class="line"><span class="lineno"> 4302</span> </div>
<div class="line"><span class="lineno"> 4303</span>    <span class="comment">/* We did not present the request to the user user yet, so treat it as</span></div>
<div class="line"><span class="lineno"> 4304</span><span class="comment">     * if the user was done with the request.  This allows us to free the</span></div>
<div class="line"><span class="lineno"> 4305</span><span class="comment">     * request on a persistent connection if the client drops it without</span></div>
<div class="line"><span class="lineno"> 4306</span><span class="comment">     * sending a request.</span></div>
<div class="line"><span class="lineno"> 4307</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4308</span>    req-&gt;userdone = 1;</div>
<div class="line"><span class="lineno"> 4309</span> </div>
<div class="line"><span class="lineno"> 4310</span>    TAILQ_INSERT_TAIL(&amp;evcon-&gt;requests, req, next);</div>
<div class="line"><span class="lineno"> 4311</span> </div>
<div class="line"><span class="lineno"> 4312</span>    req-&gt;kind = EVHTTP_REQUEST;</div>
<div class="line"><span class="lineno"> 4313</span> </div>
<div class="line"><span class="lineno"> 4314</span> </div>
<div class="line"><span class="lineno"> 4315</span>    <a class="code hl_function" href="http_8c.html#a881831d0aeddf00f1aa55b5ab92758a7">evhttp_start_read_</a>(evcon);</div>
<div class="line"><span class="lineno"> 4316</span> </div>
<div class="line"><span class="lineno"> 4317</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 4318</span>}</div>
<div class="ttc" id="ahttp_8c_html_a35c07f708c785a53df1efc4e5f68be42"><div class="ttname"><a href="http_8c.html#a35c07f708c785a53df1efc4e5f68be42">evhttp_request_new</a></div><div class="ttdeci">struct evhttp_request * evhttp_request_new(void(*cb)(struct evhttp_request *, void *), void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03983">http.c:3983</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5ab9095dd85258c0f3e900b0dbe528fe"><div class="ttname"><a href="http_8c.html#a5ab9095dd85258c0f3e900b0dbe528fe">evhttp_handle_request</a></div><div class="ttdeci">static void evhttp_handle_request(struct evhttp_request *req, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03465">http.c:3465</a></div></div>
<div class="ttc" id="ahttp_8c_html_a881831d0aeddf00f1aa55b5ab92758a7"><div class="ttname"><a href="http_8c.html#a881831d0aeddf00f1aa55b5ab92758a7">evhttp_start_read_</a></div><div class="ttdeci">void evhttp_start_read_(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02735">http.c:2735</a></div></div>
<div class="ttc" id="ahttp_8c_html_aad0392c873fa034be3ff09d4f8b68aba"><div class="ttname"><a href="http_8c.html#aad0392c873fa034be3ff09d4f8b68aba">evhttp_request_free</a></div><div class="ttdeci">void evhttp_request_free(struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04033">http.c:4033</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a1e063ad5b3001e0e637dd6ab9fbfac5b"><div class="ttname"><a href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">evhttp_connection::address</a></div><div class="ttdeci">char * address</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00064">http-internal.h:64</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a384062befaf1654ea365663f4bd4b73c"><div class="ttname"><a href="structevhttp__connection.html#a384062befaf1654ea365663f4bd4b73c">evhttp_connection::http_server</a></div><div class="ttdeci">struct evhttp * http_server</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00090">http-internal.h:90</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a3fd26717c0f3f420e1ffecbbcd5b4703"><div class="ttname"><a href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">evhttp_connection::port</a></div><div class="ttdeci">ev_uint16_t port</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00065">http-internal.h:65</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_ab269d528e58d0cfe09260d7348394536"><div class="ttname"><a href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">evhttp_connection::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00070">http-internal.h:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>, <a class="el" href="http_8c_source.html#l04033">evhttp_request_free()</a>, <a class="el" href="http_8c_source.html#l03983">evhttp_request_new()</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, <a class="el" href="http-internal_8h_source.html#l00090">evhttp_connection::http_server</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, and <a class="el" href="http-internal_8h_source.html#l00065">evhttp_connection::port</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04321">evhttp_get_request()</a>, and <a class="el" href="http_8c_source.html#l02767">evhttp_send_done()</a>.</p>

</div>
</div>
<a id="a5fb1153c62416fbbb913587a6d1581fc" name="a5fb1153c62416fbbb913587a6d1581fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb1153c62416fbbb913587a6d1581fc">&#9670;&nbsp;</a></span>evhttp_bind_listener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> * evhttp_bind_listener </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevconnlistener.html">evconnlistener</a> *&#160;</td>
          <td class="paramname"><em>listener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03632">3632</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3633</span>{</div>
<div class="line"><span class="lineno"> 3634</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound;</div>
<div class="line"><span class="lineno"> 3635</span> </div>
<div class="line"><span class="lineno"> 3636</span>    bound = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevhttp__bound__socket.html">evhttp_bound_socket</a>));</div>
<div class="line"><span class="lineno"> 3637</span>    <span class="keywordflow">if</span> (bound == NULL)</div>
<div class="line"><span class="lineno"> 3638</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3639</span> </div>
<div class="line"><span class="lineno"> 3640</span>    bound-&gt;<a class="code hl_variable" href="structevhttp__bound__socket.html#adee3b42ecac9bee341df9509f54458cc">listener</a> = <a class="code hl_variable" href="structevhttp__bound__socket.html#adee3b42ecac9bee341df9509f54458cc">listener</a>;</div>
<div class="line"><span class="lineno"> 3641</span>    TAILQ_INSERT_TAIL(&amp;http-&gt;sockets, bound, next);</div>
<div class="line"><span class="lineno"> 3642</span> </div>
<div class="line"><span class="lineno"> 3643</span>    <a class="code hl_function" href="listener_8c.html#a6262174bf382b822e31674869cbcf85f">evconnlistener_set_cb</a>(<a class="code hl_variable" href="structevhttp__bound__socket.html#adee3b42ecac9bee341df9509f54458cc">listener</a>, <a class="code hl_function" href="http_8c.html#a59484a0d47811f7a96a2e8d9e447fc11">accept_socket_cb</a>, http);</div>
<div class="line"><span class="lineno"> 3644</span>    <span class="keywordflow">return</span> bound;</div>
<div class="line"><span class="lineno"> 3645</span>}</div>
<div class="ttc" id="ahttp_8c_html_a59484a0d47811f7a96a2e8d9e447fc11"><div class="ttname"><a href="http_8c.html#a59484a0d47811f7a96a2e8d9e447fc11">accept_socket_cb</a></div><div class="ttdeci">static void accept_socket_cb(struct evconnlistener *listener, evutil_socket_t nfd, struct sockaddr *peer_sa, int peer_socklen, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03541">http.c:3541</a></div></div>
<div class="ttc" id="alistener_8c_html_a6262174bf382b822e31674869cbcf85f"><div class="ttname"><a href="listener_8c.html#a6262174bf382b822e31674869cbcf85f">evconnlistener_set_cb</a></div><div class="ttdeci">void evconnlistener_set_cb(struct evconnlistener *lev, evconnlistener_cb cb, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="listener_8c_source.html#l00370">listener.c:370</a></div></div>
<div class="ttc" id="amm-internal_8h_html_a7c27fb60329839e84d16185cda4734d5"><div class="ttname"><a href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a></div><div class="ttdeci">#define mm_malloc(sz)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00075">mm-internal.h:75</a></div></div>
<div class="ttc" id="astructevhttp__bound__socket_html_adee3b42ecac9bee341df9509f54458cc"><div class="ttname"><a href="structevhttp__bound__socket.html#adee3b42ecac9bee341df9509f54458cc">evhttp_bound_socket::listener</a></div><div class="ttdeci">struct evconnlistener * listener</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00124">http-internal.h:124</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03541">accept_socket_cb()</a>, <a class="el" href="listener_8c_source.html#l00370">evconnlistener_set_cb()</a>, <a class="el" href="http-internal_8h_source.html#l00124">evhttp_bound_socket::listener</a>, and <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03609">evhttp_accept_socket_with_handle()</a>.</p>

</div>
</div>
<a id="a80ea2b819c0997a0ecc0d915446aeaa4" name="a80ea2b819c0997a0ecc0d915446aeaa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80ea2b819c0997a0ecc0d915446aeaa4">&#9670;&nbsp;</a></span>evhttp_bind_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_bind_socket </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03549">3549</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3550</span>{</div>
<div class="line"><span class="lineno"> 3551</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound =</div>
<div class="line"><span class="lineno"> 3552</span>        <a class="code hl_function" href="http_8c.html#a08721d605954fb4487caff94ba7e15f3">evhttp_bind_socket_with_handle</a>(http, address, port);</div>
<div class="line"><span class="lineno"> 3553</span>    <span class="keywordflow">if</span> (bound == NULL)</div>
<div class="line"><span class="lineno"> 3554</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 3555</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 3556</span>}</div>
<div class="ttc" id="ahttp_8c_html_a08721d605954fb4487caff94ba7e15f3"><div class="ttname"><a href="http_8c.html#a08721d605954fb4487caff94ba7e15f3">evhttp_bind_socket_with_handle</a></div><div class="ttdeci">struct evhttp_bound_socket * evhttp_bind_socket_with_handle(struct evhttp *http, const char *address, ev_uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03559">http.c:3559</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03559">evhttp_bind_socket_with_handle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03715">evhttp_start()</a>.</p>

</div>
</div>
<a id="a08721d605954fb4487caff94ba7e15f3" name="a08721d605954fb4487caff94ba7e15f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08721d605954fb4487caff94ba7e15f3">&#9670;&nbsp;</a></span>evhttp_bind_socket_with_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> * evhttp_bind_socket_with_handle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03559">3559</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3560</span>{</div>
<div class="line"><span class="lineno"> 3561</span>    evutil_socket_t fd;</div>
<div class="line"><span class="lineno"> 3562</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound;</div>
<div class="line"><span class="lineno"> 3563</span>    <span class="keywordtype">int</span> serrno;</div>
<div class="line"><span class="lineno"> 3564</span> </div>
<div class="line"><span class="lineno"> 3565</span>    <span class="keywordflow">if</span> ((fd = <a class="code hl_function" href="http_8c.html#ae512f701fdfa4b104d1a8b8ef3bf88ad">bind_socket</a>(address, port, 1 <span class="comment">/*reuse*/</span>)) == -1)</div>
<div class="line"><span class="lineno"> 3566</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3567</span> </div>
<div class="line"><span class="lineno"> 3568</span>    <span class="keywordflow">if</span> (listen(fd, 128) == -1) {</div>
<div class="line"><span class="lineno"> 3569</span>        serrno = EVUTIL_SOCKET_ERROR();</div>
<div class="line"><span class="lineno"> 3570</span>        <a class="code hl_function" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn</a>(fd, <span class="stringliteral">&quot;%s: listen&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 3571</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(fd);</div>
<div class="line"><span class="lineno"> 3572</span>        EVUTIL_SET_SOCKET_ERROR(serrno);</div>
<div class="line"><span class="lineno"> 3573</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3574</span>    }</div>
<div class="line"><span class="lineno"> 3575</span> </div>
<div class="line"><span class="lineno"> 3576</span>    bound = <a class="code hl_function" href="http_8c.html#accc170f5853c164fab8e716d44e76ec3">evhttp_accept_socket_with_handle</a>(http, fd);</div>
<div class="line"><span class="lineno"> 3577</span> </div>
<div class="line"><span class="lineno"> 3578</span>    <span class="keywordflow">if</span> (bound != NULL) {</div>
<div class="line"><span class="lineno"> 3579</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;Bound to port %d - Awaiting connections ... &quot;</span>,</div>
<div class="line"><span class="lineno"> 3580</span>            port));</div>
<div class="line"><span class="lineno"> 3581</span>        <span class="keywordflow">return</span> (bound);</div>
<div class="line"><span class="lineno"> 3582</span>    }</div>
<div class="line"><span class="lineno"> 3583</span> </div>
<div class="line"><span class="lineno"> 3584</span>    <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3585</span>}</div>
<div class="ttc" id="ahttp_8c_html_ae512f701fdfa4b104d1a8b8ef3bf88ad"><div class="ttname"><a href="http_8c.html#ae512f701fdfa4b104d1a8b8ef3bf88ad">bind_socket</a></div><div class="ttdeci">static evutil_socket_t bind_socket(const char *, ev_uint16_t, int reuse)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04459">http.c:4459</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http_8c_source.html#l04459">bind_socket()</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn()</a>, <a class="el" href="http_8c_source.html#l03609">evhttp_accept_socket_with_handle()</a>, and <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03549">evhttp_bind_socket()</a>.</p>

</div>
</div>
<a id="a1c97ce53ff1c435229c8a94059cbcb6b" name="a1c97ce53ff1c435229c8a94059cbcb6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c97ce53ff1c435229c8a94059cbcb6b">&#9670;&nbsp;</a></span>evhttp_bound_socket_get_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evutil_socket_t evhttp_bound_socket_get_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *&#160;</td>
          <td class="paramname"><em>bound</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03648">3648</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3649</span>{</div>
<div class="line"><span class="lineno"> 3650</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="listener_8c.html#ae161cc98bf2de796103b1b6e1a1952b1">evconnlistener_get_fd</a>(bound-&gt;<a class="code hl_variable" href="structevhttp__bound__socket.html#adee3b42ecac9bee341df9509f54458cc">listener</a>);</div>
<div class="line"><span class="lineno"> 3651</span>}</div>
<div class="ttc" id="alistener_8c_html_ae161cc98bf2de796103b1b6e1a1952b1"><div class="ttname"><a href="listener_8c.html#ae161cc98bf2de796103b1b6e1a1952b1">evconnlistener_get_fd</a></div><div class="ttdeci">evutil_socket_t evconnlistener_get_fd(struct evconnlistener *lev)</div><div class="ttdef"><b>Definition:</b> <a href="listener_8c_source.html#l00334">listener.c:334</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="listener_8c_source.html#l00334">evconnlistener_get_fd()</a>, and <a class="el" href="http-internal_8h_source.html#l00124">evhttp_bound_socket::listener</a>.</p>

</div>
</div>
<a id="a0759a74fe73145e2050f59e156137e6c" name="a0759a74fe73145e2050f59e156137e6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0759a74fe73145e2050f59e156137e6c">&#9670;&nbsp;</a></span>evhttp_bound_socket_get_listener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevconnlistener.html">evconnlistener</a> * evhttp_bound_socket_get_listener </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *&#160;</td>
          <td class="paramname"><em>bound</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03654">3654</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3655</span>{</div>
<div class="line"><span class="lineno"> 3656</span>    <span class="keywordflow">return</span> bound-&gt;<a class="code hl_variable" href="structevhttp__bound__socket.html#adee3b42ecac9bee341df9509f54458cc">listener</a>;</div>
<div class="line"><span class="lineno"> 3657</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00124">evhttp_bound_socket::listener</a>.</p>

</div>
</div>
<a id="ab323fe297168f0f87af832f2bddc40a0" name="ab323fe297168f0f87af832f2bddc40a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab323fe297168f0f87af832f2bddc40a0">&#9670;&nbsp;</a></span>evhttp_cancel_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_cancel_request </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02704">2704</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2705</span>{</div>
<div class="line"><span class="lineno"> 2706</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = req-&gt;evcon;</div>
<div class="line"><span class="lineno"> 2707</span>    <span class="keywordflow">if</span> (evcon != NULL) {</div>
<div class="line"><span class="lineno"> 2708</span>        <span class="comment">/* We need to remove it from the connection */</span></div>
<div class="line"><span class="lineno"> 2709</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests) == req) {</div>
<div class="line"><span class="lineno"> 2710</span>            <span class="comment">/* it&#39;s currently being worked on, so reset</span></div>
<div class="line"><span class="lineno"> 2711</span><span class="comment">             * the connection.</span></div>
<div class="line"><span class="lineno"> 2712</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 2713</span>            <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon,</div>
<div class="line"><span class="lineno"> 2714</span>                EVREQ_HTTP_REQUEST_CANCEL);</div>
<div class="line"><span class="lineno"> 2715</span> </div>
<div class="line"><span class="lineno"> 2716</span>            <span class="comment">/* connection fail freed the request */</span></div>
<div class="line"><span class="lineno"> 2717</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2718</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2719</span>            <span class="comment">/* otherwise, we can just remove it from the</span></div>
<div class="line"><span class="lineno"> 2720</span><span class="comment">             * queue</span></div>
<div class="line"><span class="lineno"> 2721</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 2722</span>            TAILQ_REMOVE(&amp;evcon-&gt;requests, req, next);</div>
<div class="line"><span class="lineno"> 2723</span>        }</div>
<div class="line"><span class="lineno"> 2724</span>    }</div>
<div class="line"><span class="lineno"> 2725</span> </div>
<div class="line"><span class="lineno"> 2726</span>    <a class="code hl_function" href="http_8c.html#a09dae252ede7e4113f56f7463f600321">evhttp_request_free_auto</a>(req);</div>
<div class="line"><span class="lineno"> 2727</span>}</div>
<div class="ttc" id="ahttp_8c_html_a09dae252ede7e4113f56f7463f600321"><div class="ttname"><a href="http_8c.html#a09dae252ede7e4113f56f7463f600321">evhttp_request_free_auto</a></div><div class="ttdeci">static void evhttp_request_free_auto(struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00716">http.c:716</a></div></div>
<div class="ttc" id="ahttp_8c_html_a5f3513313656cfa735a3d5fe41476740"><div class="ttname"><a href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a></div><div class="ttdeci">void evhttp_connection_fail_(struct evhttp_connection *evcon, enum evhttp_request_error error)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00734">http.c:734</a></div></div>
<div class="ttc" id="astructevhttp__connection_html"><div class="ttname"><a href="structevhttp__connection.html">evhttp_connection</a></div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00051">http-internal.h:51</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l00716">evhttp_request_free_auto()</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

</div>
</div>
<a id="adfd33f73c8d7af63a0da05ebb32b7e72" name="adfd33f73c8d7af63a0da05ebb32b7e72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd33f73c8d7af63a0da05ebb32b7e72">&#9670;&nbsp;</a></span>evhttp_clear_headers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_clear_headers </td>
          <td>(</td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01912">1912</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1913</span>{</div>
<div class="line"><span class="lineno"> 1914</span>    <span class="keyword">struct </span>evkeyval *header;</div>
<div class="line"><span class="lineno"> 1915</span> </div>
<div class="line"><span class="lineno"> 1916</span>    <span class="keywordflow">for</span> (header = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(headers);</div>
<div class="line"><span class="lineno"> 1917</span>        header != NULL;</div>
<div class="line"><span class="lineno"> 1918</span>        header = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(headers)) {</div>
<div class="line"><span class="lineno"> 1919</span>        TAILQ_REMOVE(headers, header, next);</div>
<div class="line"><span class="lineno"> 1920</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(header-&gt;key);</div>
<div class="line"><span class="lineno"> 1921</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(header-&gt;value);</div>
<div class="line"><span class="lineno"> 1922</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(header);</div>
<div class="line"><span class="lineno"> 1923</span>    }</div>
<div class="line"><span class="lineno"> 1924</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>, <a class="el" href="http_8c_source.html#l04033">evhttp_request_free()</a>, and <a class="el" href="http_8c_source.html#l03062">evhttp_send_page_()</a>.</p>

</div>
</div>
<a id="a988819fcfbc66361040eece863074fb0" name="a988819fcfbc66361040eece863074fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a988819fcfbc66361040eece863074fb0">&#9670;&nbsp;</a></span>evhttp_connected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_connected </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Helper: returns true iff evconn is in any connected state. </p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00416">416</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  417</span>{</div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">switch</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a>) {</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>:</div>
<div class="line"><span class="lineno">  420</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a>:</div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a>:</div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a>:</div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b">EVCON_READING_HEADERS</a>:</div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9">EVCON_READING_BODY</a>:</div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d">EVCON_READING_TRAILER</a>:</div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>:</div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno">  430</span>    }</div>
<div class="line"><span class="lineno">  431</span>}</div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a></div><div class="ttdeci">@ EVCON_IDLE</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00039">http-internal.h:39</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9">EVCON_READING_BODY</a></div><div class="ttdeci">@ EVCON_READING_BODY</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00043">http-internal.h:43</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a></div><div class="ttdeci">@ EVCON_CONNECTING</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00038">http-internal.h:38</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a></div><div class="ttdeci">@ EVCON_WRITING</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00046">http-internal.h:45</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a></div><div class="ttdeci">@ EVCON_READING_FIRSTLINE</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00041">http-internal.h:40</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d">EVCON_READING_TRAILER</a></div><div class="ttdeci">@ EVCON_READING_TRAILER</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00044">http-internal.h:44</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b">EVCON_READING_HEADERS</a></div><div class="ttdeci">@ EVCON_READING_HEADERS</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00042">http-internal.h:42</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a></div><div class="ttdeci">@ EVCON_DISCONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00037">http-internal.h:37</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a782bb7c15bfa880196649ccd68b7665d"><div class="ttname"><a href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">evhttp_connection::state</a></div><div class="ttdeci">enum evhttp_connection_state state</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00087">http-internal.h:87</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00038">EVCON_CONNECTING</a>, <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="http-internal_8h_source.html#l00039">EVCON_IDLE</a>, <a class="el" href="http-internal_8h_source.html#l00043">EVCON_READING_BODY</a>, <a class="el" href="http-internal_8h_source.html#l00040">EVCON_READING_FIRSTLINE</a>, <a class="el" href="http-internal_8h_source.html#l00042">EVCON_READING_HEADERS</a>, <a class="el" href="http-internal_8h_source.html#l00044">EVCON_READING_TRAILER</a>, <a class="el" href="http-internal_8h_source.html#l00045">EVCON_WRITING</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, and <a class="el" href="http_8c_source.html#l02648">evhttp_make_request()</a>.</p>

</div>
</div>
<a id="a01e6a9d31e73de20b9740ac4fea642ff" name="a01e6a9d31e73de20b9740ac4fea642ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01e6a9d31e73de20b9740ac4fea642ff">&#9670;&nbsp;</a></span>evhttp_connection_base_bufferevent_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> * evhttp_connection_base_bufferevent_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevdns__base.html">evdns_base</a> *&#160;</td>
          <td class="paramname"><em>dnsbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02379">2379</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2381</span>{</div>
<div class="line"><span class="lineno"> 2382</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = NULL;</div>
<div class="line"><span class="lineno"> 2383</span> </div>
<div class="line"><span class="lineno"> 2384</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;Attempting connection to %s:%d\n&quot;</span>, <a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>, <a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>));</div>
<div class="line"><span class="lineno"> 2385</span> </div>
<div class="line"><span class="lineno"> 2386</span>    <span class="keywordflow">if</span> ((evcon = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a>))) == NULL) {</div>
<div class="line"><span class="lineno"> 2387</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc failed&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2388</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2389</span>    }</div>
<div class="line"><span class="lineno"> 2390</span> </div>
<div class="line"><span class="lineno"> 2391</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = -1;</div>
<div class="line"><span class="lineno"> 2392</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a> = <a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>;</div>
<div class="line"><span class="lineno"> 2393</span> </div>
<div class="line"><span class="lineno"> 2394</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a402923bfc4b91f7ac1d9398d70f383e7">max_headers_size</a> = EV_SIZE_MAX;</div>
<div class="line"><span class="lineno"> 2395</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1a3f936fb8a9810a012e82ff63142e79">max_body_size</a> = EV_SIZE_MAX;</div>
<div class="line"><span class="lineno"> 2396</span> </div>
<div class="line"><span class="lineno"> 2397</span>    evutil_timerclear(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>);</div>
<div class="line"><span class="lineno"> 2398</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a7121cd5ee7144170bd4b473df26bfcb1">retry_cnt</a> = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#af6663e12c184f357a2728f5ca55bd76e">retry_max</a> = 0;</div>
<div class="line"><span class="lineno"> 2399</span> </div>
<div class="line"><span class="lineno"> 2400</span>    <span class="keywordflow">if</span> ((evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>)) == NULL) {</div>
<div class="line"><span class="lineno"> 2401</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup failed&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2402</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2403</span>    }</div>
<div class="line"><span class="lineno"> 2404</span> </div>
<div class="line"><span class="lineno"> 2405</span>    <span class="keywordflow">if</span> (bev == NULL) {</div>
<div class="line"><span class="lineno"> 2406</span>        <span class="keywordflow">if</span> (!(bev = <a class="code hl_function" href="bufferevent__sock_8c.html#ad7364cbd25c0dabd0927effae3dbb1c6">bufferevent_socket_new</a>(<a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a>, -1, 0))) {</div>
<div class="line"><span class="lineno"> 2407</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: bufferevent_socket_new failed&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2408</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2409</span>        }</div>
<div class="line"><span class="lineno"> 2410</span>    }</div>
<div class="line"><span class="lineno"> 2411</span> </div>
<div class="line"><span class="lineno"> 2412</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(bev, <a class="code hl_function" href="http_8c.html#a95241fd0965764d55cdd3609c8d3a3ca">evhttp_read_cb</a>, <a class="code hl_function" href="http_8c.html#af2982b8516dba583cab6be97d9ca8461">evhttp_write_cb</a>, <a class="code hl_function" href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a>, evcon);</div>
<div class="line"><span class="lineno"> 2413</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a> = bev;</div>
<div class="line"><span class="lineno"> 2414</span> </div>
<div class="line"><span class="lineno"> 2415</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>;</div>
<div class="line"><span class="lineno"> 2416</span>    TAILQ_INIT(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno"> 2417</span> </div>
<div class="line"><span class="lineno"> 2418</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8caaf350e3649526d361615c9fdb86b1">initial_retry_timeout</a>.tv_sec = 2;</div>
<div class="line"><span class="lineno"> 2419</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8caaf350e3649526d361615c9fdb86b1">initial_retry_timeout</a>.tv_usec = 0;</div>
<div class="line"><span class="lineno"> 2420</span> </div>
<div class="line"><span class="lineno"> 2421</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a> != NULL) {</div>
<div class="line"><span class="lineno"> 2422</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a> = <a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a>;</div>
<div class="line"><span class="lineno"> 2423</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#ad8a212b0c165fb6cdded105b08cedb00">bufferevent_get_base</a>(bev) != <a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a>)</div>
<div class="line"><span class="lineno"> 2424</span>            <a class="code hl_function" href="bufferevent__sock_8c.html#a0697dabdb9b4057ae71b40a2f0e45fed">bufferevent_base_set</a>(<a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 2425</span>    }</div>
<div class="line"><span class="lineno"> 2426</span> </div>
<div class="line"><span class="lineno"> 2427</span>    <a class="code hl_function" href="defer-internal_8h.html#a05493e0a054f59adb06d4d3f7b152ba3">event_deferred_cb_init_</a>(</div>
<div class="line"><span class="lineno"> 2428</span>        &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ae362b994e6dd892dbae9083caa4ab40c">read_more_deferred_cb</a>,</div>
<div class="line"><span class="lineno"> 2429</span>        <a class="code hl_function" href="bufferevent_8c.html#a80091929da33ded32fdc0d612e3a6664">bufferevent_get_priority</a>(bev),</div>
<div class="line"><span class="lineno"> 2430</span>        <a class="code hl_function" href="http_8c.html#a16710889b7a403e30205d929d3146216">evhttp_deferred_read_cb</a>, evcon);</div>
<div class="line"><span class="lineno"> 2431</span> </div>
<div class="line"><span class="lineno"> 2432</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a96b8e4a17ff9db3a09c1fe7c848776bd">dns_base</a> = dnsbase;</div>
<div class="line"><span class="lineno"> 2433</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ac2705477278524f0dc3cb94569ba68a3">ai_family</a> = AF_UNSPEC;</div>
<div class="line"><span class="lineno"> 2434</span> </div>
<div class="line"><span class="lineno"> 2435</span>    <span class="keywordflow">return</span> (evcon);</div>
<div class="line"><span class="lineno"> 2436</span> </div>
<div class="line"><span class="lineno"> 2437</span> error:</div>
<div class="line"><span class="lineno"> 2438</span>    <span class="keywordflow">if</span> (evcon != NULL)</div>
<div class="line"><span class="lineno"> 2439</span>        <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno"> 2440</span>    <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 2441</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a63792519cb94a38beccb5e1390cd6198"><div class="ttname"><a href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a></div><div class="ttdeci">void bufferevent_setcb(struct bufferevent *bufev, bufferevent_data_cb readcb, bufferevent_data_cb writecb, bufferevent_event_cb eventcb, void *cbarg)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00389">bufferevent.c:389</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a80091929da33ded32fdc0d612e3a6664"><div class="ttname"><a href="bufferevent_8c.html#a80091929da33ded32fdc0d612e3a6664">bufferevent_get_priority</a></div><div class="ttdeci">int bufferevent_get_priority(const struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00442">bufferevent.c:442</a></div></div>
<div class="ttc" id="abufferevent_8c_html_ad8a212b0c165fb6cdded105b08cedb00"><div class="ttname"><a href="bufferevent_8c.html#ad8a212b0c165fb6cdded105b08cedb00">bufferevent_get_base</a></div><div class="ttdeci">struct event_base * bufferevent_get_base(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00436">bufferevent.c:436</a></div></div>
<div class="ttc" id="abufferevent__sock_8c_html_a0697dabdb9b4057ae71b40a2f0e45fed"><div class="ttname"><a href="bufferevent__sock_8c.html#a0697dabdb9b4057ae71b40a2f0e45fed">bufferevent_base_set</a></div><div class="ttdeci">int bufferevent_base_set(struct event_base *base, struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__sock_8c_source.html#l00671">bufferevent_sock.c:671</a></div></div>
<div class="ttc" id="abufferevent__sock_8c_html_ad7364cbd25c0dabd0927effae3dbb1c6"><div class="ttname"><a href="bufferevent__sock_8c.html#ad7364cbd25c0dabd0927effae3dbb1c6">bufferevent_socket_new</a></div><div class="ttdeci">struct bufferevent * bufferevent_socket_new(struct event_base *base, evutil_socket_t fd, int options)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__sock_8c_source.html#l00344">bufferevent_sock.c:344</a></div></div>
<div class="ttc" id="adefer-internal_8h_html_a05493e0a054f59adb06d4d3f7b152ba3"><div class="ttname"><a href="defer-internal_8h.html#a05493e0a054f59adb06d4d3f7b152ba3">event_deferred_cb_init_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_deferred_cb_init_(struct event_callback *, ev_uint8_t, deferred_cb_fn, void *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03099">event.c:3099</a></div></div>
<div class="ttc" id="ahttp_8c_html_a16710889b7a403e30205d929d3146216"><div class="ttname"><a href="http_8c.html#a16710889b7a403e30205d929d3146216">evhttp_deferred_read_cb</a></div><div class="ttdeci">static void evhttp_deferred_read_cb(struct event_callback *cb, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01187">http.c:1187</a></div></div>
<div class="ttc" id="ahttp_8c_html_a173e6193915884810d3d6c9fd7175299"><div class="ttname"><a href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a></div><div class="ttdeci">static void evhttp_error_cb(struct bufferevent *bufev, short what, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01479">http.c:1479</a></div></div>
<div class="ttc" id="ahttp_8c_html_a95241fd0965764d55cdd3609c8d3a3ca"><div class="ttname"><a href="http_8c.html#a95241fd0965764d55cdd3609c8d3a3ca">evhttp_read_cb</a></div><div class="ttdeci">static void evhttp_read_cb(struct bufferevent *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01132">http.c:1132</a></div></div>
<div class="ttc" id="ahttp_8c_html_ab5afe0ffd71e479a9d830ac3800ba599"><div class="ttname"><a href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a></div><div class="ttdeci">void evhttp_connection_free(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01221">http.c:1221</a></div></div>
<div class="ttc" id="ahttp_8c_html_af2982b8516dba583cab6be97d9ca8461"><div class="ttname"><a href="http_8c.html#af2982b8516dba583cab6be97d9ca8461">evhttp_write_cb</a></div><div class="ttdeci">static void evhttp_write_cb(struct bufferevent *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00807">http.c:807</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a1a3f936fb8a9810a012e82ff63142e79"><div class="ttname"><a href="structevhttp__connection.html#a1a3f936fb8a9810a012e82ff63142e79">evhttp_connection::max_body_size</a></div><div class="ttdeci">ev_uint64_t max_body_size</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00068">http-internal.h:68</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a2fab1839ab4ec3062a1e122b66b20547"><div class="ttname"><a href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">evhttp_connection::fd</a></div><div class="ttdeci">evutil_socket_t fd</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00056">http-internal.h:56</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a402923bfc4b91f7ac1d9398d70f383e7"><div class="ttname"><a href="structevhttp__connection.html#a402923bfc4b91f7ac1d9398d70f383e7">evhttp_connection::max_headers_size</a></div><div class="ttdeci">size_t max_headers_size</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00067">http-internal.h:67</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a59cc923dbb4cb671b3ec4515e8de52e1"><div class="ttname"><a href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">evhttp_connection::bufev</a></div><div class="ttdeci">struct bufferevent * bufev</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00057">http-internal.h:57</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a7121cd5ee7144170bd4b473df26bfcb1"><div class="ttname"><a href="structevhttp__connection.html#a7121cd5ee7144170bd4b473df26bfcb1">evhttp_connection::retry_cnt</a></div><div class="ttdeci">int retry_cnt</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00081">http-internal.h:81</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a8600ad8b950d428840cd6141cb3820a9"><div class="ttname"><a href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">evhttp_connection::base</a></div><div class="ttdeci">struct event_base * base</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00102">http-internal.h:102</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a8caaf350e3649526d361615c9fdb86b1"><div class="ttname"><a href="structevhttp__connection.html#a8caaf350e3649526d361615c9fdb86b1">evhttp_connection::initial_retry_timeout</a></div><div class="ttdeci">struct timeval initial_retry_timeout</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00083">http-internal.h:83</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a96b8e4a17ff9db3a09c1fe7c848776bd"><div class="ttname"><a href="structevhttp__connection.html#a96b8e4a17ff9db3a09c1fe7c848776bd">evhttp_connection::dns_base</a></div><div class="ttdeci">struct evdns_base * dns_base</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00103">http-internal.h:103</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_ac2705477278524f0dc3cb94569ba68a3"><div class="ttname"><a href="structevhttp__connection.html#ac2705477278524f0dc3cb94569ba68a3">evhttp_connection::ai_family</a></div><div class="ttdeci">int ai_family</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00104">http-internal.h:104</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_ae362b994e6dd892dbae9083caa4ab40c"><div class="ttname"><a href="structevhttp__connection.html#ae362b994e6dd892dbae9083caa4ab40c">evhttp_connection::read_more_deferred_cb</a></div><div class="ttdeci">struct event_callback read_more_deferred_cb</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00100">http-internal.h:100</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_aebeeae304dfe21cbc1ce73bdf4a21d9e"><div class="ttname"><a href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">evhttp_connection::timeout</a></div><div class="ttdeci">struct timeval timeout</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00080">http-internal.h:80</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_af6663e12c184f357a2728f5ca55bd76e"><div class="ttname"><a href="structevhttp__connection.html#af6663e12c184f357a2728f5ca55bd76e">evhttp_connection::retry_max</a></div><div class="ttdeci">int retry_max</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00082">http-internal.h:82</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, <a class="el" href="http-internal_8h_source.html#l00104">evhttp_connection::ai_family</a>, <a class="el" href="http-internal_8h_source.html#l00102">evhttp_connection::base</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00671">bufferevent_base_set()</a>, <a class="el" href="bufferevent_8c_source.html#l00436">bufferevent_get_base()</a>, <a class="el" href="bufferevent_8c_source.html#l00442">bufferevent_get_priority()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00344">bufferevent_socket_new()</a>, <a class="el" href="http-internal_8h_source.html#l00103">evhttp_connection::dns_base</a>, <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l03099">event_deferred_cb_init_()</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l01187">evhttp_deferred_read_cb()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>, <a class="el" href="http_8c_source.html#l00807">evhttp_write_cb()</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00083">evhttp_connection::initial_retry_timeout</a>, <a class="el" href="http-internal_8h_source.html#l00068">evhttp_connection::max_body_size</a>, <a class="el" href="http-internal_8h_source.html#l00067">evhttp_connection::max_headers_size</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, <a class="el" href="http-internal_8h_source.html#l00065">evhttp_connection::port</a>, <a class="el" href="http-internal_8h_source.html#l00100">evhttp_connection::read_more_deferred_cb</a>, <a class="el" href="http-internal_8h_source.html#l00081">evhttp_connection::retry_cnt</a>, <a class="el" href="http-internal_8h_source.html#l00082">evhttp_connection::retry_max</a>, <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>, and <a class="el" href="http-internal_8h_source.html#l00080">evhttp_connection::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02455">evhttp_connection_base_new()</a>, and <a class="el" href="http_8c_source.html#l04224">evhttp_get_request_connection()</a>.</p>

</div>
</div>
<a id="a977d3bee20d6d532c47e5839b42904ea" name="a977d3bee20d6d532c47e5839b42904ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a977d3bee20d6d532c47e5839b42904ea">&#9670;&nbsp;</a></span>evhttp_connection_base_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> * evhttp_connection_base_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevdns__base.html">evdns_base</a> *&#160;</td>
          <td class="paramname"><em>dnsbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02455">2455</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2457</span>{</div>
<div class="line"><span class="lineno"> 2458</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="http_8c.html#a01e6a9d31e73de20b9740ac4fea642ff">evhttp_connection_base_bufferevent_new</a>(base, dnsbase, NULL, address, port);</div>
<div class="line"><span class="lineno"> 2459</span>}</div>
<div class="ttc" id="ahttp_8c_html_a01e6a9d31e73de20b9740ac4fea642ff"><div class="ttname"><a href="http_8c.html#a01e6a9d31e73de20b9740ac4fea642ff">evhttp_connection_base_bufferevent_new</a></div><div class="ttdeci">struct evhttp_connection * evhttp_connection_base_bufferevent_new(struct event_base *base, struct evdns_base *dnsbase, struct bufferevent *bev, const char *address, ev_uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02379">http.c:2379</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, <a class="el" href="http-internal_8h_source.html#l00102">evhttp_connection::base</a>, <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>, and <a class="el" href="http-internal_8h_source.html#l00065">evhttp_connection::port</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02373">evhttp_connection_new()</a>.</p>

</div>
</div>
<a id="ada6ab7053ad08b65f2ea4a31594b982c" name="ada6ab7053ad08b65f2ea4a31594b982c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada6ab7053ad08b65f2ea4a31594b982c">&#9670;&nbsp;</a></span>evhttp_connection_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_connection_cb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01572">1572</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1573</span>{</div>
<div class="line"><span class="lineno"> 1574</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = arg;</div>
<div class="line"><span class="lineno"> 1575</span>    <span class="keywordtype">int</span> error;</div>
<div class="line"><span class="lineno"> 1576</span>    ev_socklen_t errsz = <span class="keyword">sizeof</span>(error);</div>
<div class="line"><span class="lineno"> 1577</span> </div>
<div class="line"><span class="lineno"> 1578</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> == -1)</div>
<div class="line"><span class="lineno"> 1579</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = <a class="code hl_function" href="bufferevent_8c.html#a8c246bbee9c182cf0524c41010fe7c2c">bufferevent_getfd</a>(<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1580</span> </div>
<div class="line"><span class="lineno"> 1581</span>    <span class="keywordflow">if</span> (!(what &amp; BEV_EVENT_CONNECTED)) {</div>
<div class="line"><span class="lineno"> 1582</span>        <span class="comment">/* some operating systems return ECONNREFUSED immediately</span></div>
<div class="line"><span class="lineno"> 1583</span><span class="comment">         * when connecting to a local address.  the cleanup is going</span></div>
<div class="line"><span class="lineno"> 1584</span><span class="comment">         * to reschedule this function call.</span></div>
<div class="line"><span class="lineno"> 1585</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1586</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><span class="lineno"> 1587</span>        <span class="keywordflow">if</span> (errno == ECONNREFUSED)</div>
<div class="line"><span class="lineno"> 1588</span>            <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1589</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1590</span>        <a class="code hl_function" href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a>(<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, what, arg);</div>
<div class="line"><span class="lineno"> 1591</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1592</span>    }</div>
<div class="line"><span class="lineno"> 1593</span> </div>
<div class="line"><span class="lineno"> 1594</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> == -1) {</div>
<div class="line"><span class="lineno"> 1595</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: bufferevent_getfd returned -1&quot;</span>,</div>
<div class="line"><span class="lineno"> 1596</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>));</div>
<div class="line"><span class="lineno"> 1597</span>        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1598</span>    }</div>
<div class="line"><span class="lineno"> 1599</span> </div>
<div class="line"><span class="lineno"> 1600</span>    <span class="comment">/* Check if the connection completed */</span></div>
<div class="line"><span class="lineno"> 1601</span>    <span class="keywordflow">if</span> (getsockopt(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>, SOL_SOCKET, SO_ERROR, (<span class="keywordtype">void</span>*)&amp;error,</div>
<div class="line"><span class="lineno"> 1602</span>               &amp;errsz) == -1) {</div>
<div class="line"><span class="lineno"> 1603</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: getsockopt for \&quot;%s:%d\&quot; on &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a>,</div>
<div class="line"><span class="lineno"> 1604</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>,</div>
<div class="line"><span class="lineno"> 1605</span>            <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>)));</div>
<div class="line"><span class="lineno"> 1606</span>        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1607</span>    }</div>
<div class="line"><span class="lineno"> 1608</span> </div>
<div class="line"><span class="lineno"> 1609</span>    <span class="keywordflow">if</span> (error) {</div>
<div class="line"><span class="lineno"> 1610</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: connect failed for \&quot;%s:%d\&quot; on &quot;</span></div>
<div class="line"><span class="lineno"> 1611</span>            <a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;: %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1612</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>,</div>
<div class="line"><span class="lineno"> 1613</span>            <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>),</div>
<div class="line"><span class="lineno"> 1614</span>            evutil_socket_error_to_string(error)));</div>
<div class="line"><span class="lineno"> 1615</span>        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1616</span>    }</div>
<div class="line"><span class="lineno"> 1617</span> </div>
<div class="line"><span class="lineno"> 1618</span>    <span class="comment">/* We are connected to the server now */</span></div>
<div class="line"><span class="lineno"> 1619</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: connected to \&quot;%s:%d\&quot; on &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1620</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>,</div>
<div class="line"><span class="lineno"> 1621</span>            <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>)));</div>
<div class="line"><span class="lineno"> 1622</span> </div>
<div class="line"><span class="lineno"> 1623</span>    <span class="comment">/* Reset the retry count as we were successful in connecting */</span></div>
<div class="line"><span class="lineno"> 1624</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a7121cd5ee7144170bd4b473df26bfcb1">retry_cnt</a> = 0;</div>
<div class="line"><span class="lineno"> 1625</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a>;</div>
<div class="line"><span class="lineno"> 1626</span> </div>
<div class="line"><span class="lineno"> 1627</span>    <span class="comment">/* reset the bufferevent cbs */</span></div>
<div class="line"><span class="lineno"> 1628</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>,</div>
<div class="line"><span class="lineno"> 1629</span>        <a class="code hl_function" href="http_8c.html#a95241fd0965764d55cdd3609c8d3a3ca">evhttp_read_cb</a>,</div>
<div class="line"><span class="lineno"> 1630</span>        <a class="code hl_function" href="http_8c.html#af2982b8516dba583cab6be97d9ca8461">evhttp_write_cb</a>,</div>
<div class="line"><span class="lineno"> 1631</span>        <a class="code hl_function" href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a>,</div>
<div class="line"><span class="lineno"> 1632</span>        evcon);</div>
<div class="line"><span class="lineno"> 1633</span> </div>
<div class="line"><span class="lineno"> 1634</span>    <span class="keywordflow">if</span> (!evutil_timerisset(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>)) {</div>
<div class="line"><span class="lineno"> 1635</span>        <span class="keyword">const</span> <span class="keyword">struct </span>timeval read_tv = { <a class="code hl_define" href="http-internal_8h.html#a1c278e81695dccefc150acf108418faf">HTTP_READ_TIMEOUT</a>, 0 };</div>
<div class="line"><span class="lineno"> 1636</span>        <span class="keyword">const</span> <span class="keyword">struct </span>timeval write_tv = { <a class="code hl_define" href="http-internal_8h.html#a3e8bf12c5ac80894e706a9779f64cc67">HTTP_WRITE_TIMEOUT</a>, 0 };</div>
<div class="line"><span class="lineno"> 1637</span>        <a class="code hl_function" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, &amp;read_tv, &amp;write_tv);</div>
<div class="line"><span class="lineno"> 1638</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1639</span>        <a class="code hl_function" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>, &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>);</div>
<div class="line"><span class="lineno"> 1640</span>    }</div>
<div class="line"><span class="lineno"> 1641</span> </div>
<div class="line"><span class="lineno"> 1642</span>    <span class="comment">/* try to start requests that have queued up on this connection */</span></div>
<div class="line"><span class="lineno"> 1643</span>    <a class="code hl_function" href="http_8c.html#a91d1317d5fbac429a86d00737143bdd1">evhttp_request_dispatch</a>(evcon);</div>
<div class="line"><span class="lineno"> 1644</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1645</span> </div>
<div class="line"><span class="lineno"> 1646</span> cleanup:</div>
<div class="line"><span class="lineno"> 1647</span>    <a class="code hl_function" href="http_8c.html#afcfaff5e9f76591078033826f9e1252d">evhttp_connection_cb_cleanup</a>(evcon);</div>
<div class="line"><span class="lineno"> 1648</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a476193ebc6b892bbfd14d7f0ee14b030"><div class="ttname"><a href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a></div><div class="ttdeci">int bufferevent_set_timeouts(struct bufferevent *bufev, const struct timeval *tv_read, const struct timeval *tv_write)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00506">bufferevent.c:506</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a8c246bbee9c182cf0524c41010fe7c2c"><div class="ttname"><a href="bufferevent_8c.html#a8c246bbee9c182cf0524c41010fe7c2c">bufferevent_getfd</a></div><div class="ttdeci">evutil_socket_t bufferevent_getfd(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00880">bufferevent.c:880</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a1c278e81695dccefc150acf108418faf"><div class="ttname"><a href="http-internal_8h.html#a1c278e81695dccefc150acf108418faf">HTTP_READ_TIMEOUT</a></div><div class="ttdeci">#define HTTP_READ_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00019">http-internal.h:19</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a3e8bf12c5ac80894e706a9779f64cc67"><div class="ttname"><a href="http-internal_8h.html#a3e8bf12c5ac80894e706a9779f64cc67">HTTP_WRITE_TIMEOUT</a></div><div class="ttdeci">#define HTTP_WRITE_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00018">http-internal.h:18</a></div></div>
<div class="ttc" id="ahttp_8c_html_a91d1317d5fbac429a86d00737143bdd1"><div class="ttname"><a href="http_8c.html#a91d1317d5fbac429a86d00737143bdd1">evhttp_request_dispatch</a></div><div class="ttdeci">static void evhttp_request_dispatch(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01303">http.c:1303</a></div></div>
<div class="ttc" id="ahttp_8c_html_afcfaff5e9f76591078033826f9e1252d"><div class="ttname"><a href="http_8c.html#afcfaff5e9f76591078033826f9e1252d">evhttp_connection_cb_cleanup</a></div><div class="ttdeci">static void evhttp_connection_cb_cleanup(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01402">http.c:1402</a></div></div>
<div class="ttc" id="autil-internal_8h_html_ae4520c37e639bce2b7463312e1ddfb48"><div class="ttname"><a href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a></div><div class="ttdeci">#define EV_SOCK_FMT</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00476">util-internal.h:476</a></div></div>
<div class="ttc" id="autil-internal_8h_html_aee887fc99d808a2195f016a578c3f58d"><div class="ttname"><a href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a></div><div class="ttdeci">#define EV_SOCK_ARG(x)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00477">util-internal.h:477</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00880">bufferevent_getfd()</a>, <a class="el" href="bufferevent_8c_source.html#l00506">bufferevent_set_timeouts()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="http-internal_8h_source.html#l00039">EVCON_IDLE</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="http_8c_source.html#l01402">evhttp_connection_cb_cleanup()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>, <a class="el" href="http_8c_source.html#l01303">evhttp_request_dispatch()</a>, <a class="el" href="http_8c_source.html#l00807">evhttp_write_cb()</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00019">HTTP_READ_TIMEOUT</a>, <a class="el" href="http-internal_8h_source.html#l00018">HTTP_WRITE_TIMEOUT</a>, <a class="el" href="http-internal_8h_source.html#l00065">evhttp_connection::port</a>, <a class="el" href="http-internal_8h_source.html#l00081">evhttp_connection::retry_cnt</a>, <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>, and <a class="el" href="http-internal_8h_source.html#l00080">evhttp_connection::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>.</p>

</div>
</div>
<a id="afcfaff5e9f76591078033826f9e1252d" name="afcfaff5e9f76591078033826f9e1252d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcfaff5e9f76591078033826f9e1252d">&#9670;&nbsp;</a></span>evhttp_connection_cb_cleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_connection_cb_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01402">1402</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1403</span>{</div>
<div class="line"><span class="lineno"> 1404</span>    <span class="keyword">struct </span>evcon_requestq requests;</div>
<div class="line"><span class="lineno"> 1405</span> </div>
<div class="line"><span class="lineno"> 1406</span>    <a class="code hl_function" href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a>(evcon);</div>
<div class="line"><span class="lineno"> 1407</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#af6663e12c184f357a2728f5ca55bd76e">retry_max</a> &lt; 0 || evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a7121cd5ee7144170bd4b473df26bfcb1">retry_cnt</a> &lt; evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#af6663e12c184f357a2728f5ca55bd76e">retry_max</a>) {</div>
<div class="line"><span class="lineno"> 1408</span>        <span class="keyword">struct </span>timeval tv_retry = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8caaf350e3649526d361615c9fdb86b1">initial_retry_timeout</a>;</div>
<div class="line"><span class="lineno"> 1409</span>        <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1410</span>        evtimer_assign(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a32a00b2bdf00861b2733733f9fbceb3b">retry_ev</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a>, <a class="code hl_function" href="http_8c.html#ad2342669486653b913a770fd7be661ab">evhttp_connection_retry</a>, evcon);</div>
<div class="line"><span class="lineno"> 1411</span>        <span class="comment">/* XXXX handle failure from evhttp_add_event */</span></div>
<div class="line"><span class="lineno"> 1412</span>        <span class="keywordflow">for</span> (i=0; i &lt; evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a7121cd5ee7144170bd4b473df26bfcb1">retry_cnt</a>; ++i) {</div>
<div class="line"><span class="lineno"> 1413</span>            tv_retry.tv_usec *= 2;</div>
<div class="line"><span class="lineno"> 1414</span>            <span class="keywordflow">if</span> (tv_retry.tv_usec &gt; 1000000) {</div>
<div class="line"><span class="lineno"> 1415</span>                tv_retry.tv_usec -= 1000000;</div>
<div class="line"><span class="lineno"> 1416</span>                tv_retry.tv_sec += 1;</div>
<div class="line"><span class="lineno"> 1417</span>            }</div>
<div class="line"><span class="lineno"> 1418</span>            tv_retry.tv_sec *= 2;</div>
<div class="line"><span class="lineno"> 1419</span>            <span class="keywordflow">if</span> (tv_retry.tv_sec &gt; 3600) {</div>
<div class="line"><span class="lineno"> 1420</span>                tv_retry.tv_sec = 3600;</div>
<div class="line"><span class="lineno"> 1421</span>                tv_retry.tv_usec = 0;</div>
<div class="line"><span class="lineno"> 1422</span>            }</div>
<div class="line"><span class="lineno"> 1423</span>        }</div>
<div class="line"><span class="lineno"> 1424</span>        <a class="code hl_function" href="event_8c.html#a3afbdef4280e6bef3a5d7017e28707f4">event_add</a>(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a32a00b2bdf00861b2733733f9fbceb3b">retry_ev</a>, &amp;tv_retry);</div>
<div class="line"><span class="lineno"> 1425</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a7121cd5ee7144170bd4b473df26bfcb1">retry_cnt</a>++;</div>
<div class="line"><span class="lineno"> 1426</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1427</span>    }</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1430</span><span class="comment">     * User callback can do evhttp_make_request() on the same</span></div>
<div class="line"><span class="lineno"> 1431</span><span class="comment">     * evcon so new request will be added to evcon-&gt;requests.  To</span></div>
<div class="line"><span class="lineno"> 1432</span><span class="comment">     * avoid freeing it prematurely we iterate over the copy of</span></div>
<div class="line"><span class="lineno"> 1433</span><span class="comment">     * the queue.</span></div>
<div class="line"><span class="lineno"> 1434</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1435</span>    TAILQ_INIT(&amp;requests);</div>
<div class="line"><span class="lineno"> 1436</span>    <span class="keywordflow">while</span> (<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests) != NULL) {</div>
<div class="line"><span class="lineno"> 1437</span>        <span class="keyword">struct </span>evhttp_request *<a class="code hl_struct" href="structrequest.html">request</a> = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno"> 1438</span>        TAILQ_REMOVE(&amp;evcon-&gt;requests, <a class="code hl_struct" href="structrequest.html">request</a>, next);</div>
<div class="line"><span class="lineno"> 1439</span>        TAILQ_INSERT_TAIL(&amp;requests, <a class="code hl_struct" href="structrequest.html">request</a>, next);</div>
<div class="line"><span class="lineno"> 1440</span>    }</div>
<div class="line"><span class="lineno"> 1441</span> </div>
<div class="line"><span class="lineno"> 1442</span>    <span class="comment">/* for now, we just signal all requests by executing their callbacks */</span></div>
<div class="line"><span class="lineno"> 1443</span>    <span class="keywordflow">while</span> (<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;requests) != NULL) {</div>
<div class="line"><span class="lineno"> 1444</span>        <span class="keyword">struct </span>evhttp_request *<a class="code hl_struct" href="structrequest.html">request</a> = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;requests);</div>
<div class="line"><span class="lineno"> 1445</span>        TAILQ_REMOVE(&amp;requests, <a class="code hl_struct" href="structrequest.html">request</a>, next);</div>
<div class="line"><span class="lineno"> 1446</span>        <a class="code hl_struct" href="structrequest.html">request</a>-&gt;evcon = NULL;</div>
<div class="line"><span class="lineno"> 1447</span> </div>
<div class="line"><span class="lineno"> 1448</span>        <span class="comment">/* we might want to set an error here */</span></div>
<div class="line"><span class="lineno"> 1449</span>        <a class="code hl_struct" href="structrequest.html">request</a>-&gt;cb(<a class="code hl_struct" href="structrequest.html">request</a>, <a class="code hl_struct" href="structrequest.html">request</a>-&gt;cb_arg);</div>
<div class="line"><span class="lineno"> 1450</span>        <a class="code hl_function" href="http_8c.html#a09dae252ede7e4113f56f7463f600321">evhttp_request_free_auto</a>(<a class="code hl_struct" href="structrequest.html">request</a>);</div>
<div class="line"><span class="lineno"> 1451</span>    }</div>
<div class="line"><span class="lineno"> 1452</span>}</div>
<div class="ttc" id="aevent_8c_html_a3afbdef4280e6bef3a5d7017e28707f4"><div class="ttname"><a href="event_8c.html#a3afbdef4280e6bef3a5d7017e28707f4">event_add</a></div><div class="ttdeci">int event_add(struct event *ev, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02484">event.c:2484</a></div></div>
<div class="ttc" id="ahttp_8c_html_a6f5a343b577968641c4f3d9f9155cebf"><div class="ttname"><a href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a></div><div class="ttdeci">void evhttp_connection_reset_(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01330">http.c:1330</a></div></div>
<div class="ttc" id="ahttp_8c_html_ad2342669486653b913a770fd7be661ab"><div class="ttname"><a href="http_8c.html#ad2342669486653b913a770fd7be661ab">evhttp_connection_retry</a></div><div class="ttdeci">static void evhttp_connection_retry(evutil_socket_t fd, short what, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01393">http.c:1393</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a32a00b2bdf00861b2733733f9fbceb3b"><div class="ttname"><a href="structevhttp__connection.html#a32a00b2bdf00861b2733733f9fbceb3b">evhttp_connection::retry_ev</a></div><div class="ttdeci">struct event retry_ev</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00059">http-internal.h:59</a></div></div>
<div class="ttc" id="astructrequest_html"><div class="ttname"><a href="structrequest.html">request</a></div><div class="ttdef"><b>Definition:</b> <a href="evdns_8c_source.html#l00172">evdns.c:172</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00102">evhttp_connection::base</a>, <a class="el" href="event_8c_source.html#l02484">event_add()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l01393">evhttp_connection_retry()</a>, <a class="el" href="http_8c_source.html#l00716">evhttp_request_free_auto()</a>, <a class="el" href="http-internal_8h_source.html#l00083">evhttp_connection::initial_retry_timeout</a>, <a class="el" href="http-internal_8h_source.html#l00081">evhttp_connection::retry_cnt</a>, <a class="el" href="http-internal_8h_source.html#l00059">evhttp_connection::retry_ev</a>, <a class="el" href="http-internal_8h_source.html#l00082">evhttp_connection::retry_max</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, and <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>.</p>

</div>
</div>
<a id="ad586ab94898476d79f5f314a5b42e38b" name="ad586ab94898476d79f5f314a5b42e38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad586ab94898476d79f5f314a5b42e38b">&#9670;&nbsp;</a></span>evhttp_connection_connect_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_connection_connect_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02564">2564</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2565</span>{</div>
<div class="line"><span class="lineno"> 2566</span>    <span class="keywordtype">int</span> old_state = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a>;</div>
<div class="line"><span class="lineno"> 2567</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *address = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>;</div>
<div class="line"><span class="lineno"> 2568</span>    <span class="keyword">const</span> <span class="keyword">struct </span>sockaddr *sa = <a class="code hl_function" href="http_8c.html#a49dad4391f88622dcc36a9c98862b970">evhttp_connection_get_addr</a>(evcon);</div>
<div class="line"><span class="lineno"> 2569</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 2570</span> </div>
<div class="line"><span class="lineno"> 2571</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> == <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a>)</div>
<div class="line"><span class="lineno"> 2572</span>        <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2573</span> </div>
<div class="line"><span class="lineno"> 2574</span>    <a class="code hl_function" href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a>(evcon);</div>
<div class="line"><span class="lineno"> 2575</span> </div>
<div class="line"><span class="lineno"> 2576</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#a223d4db848b4d88eb162b22bac60db72">EVHTTP_CON_INCOMING</a>));</div>
<div class="line"><span class="lineno"> 2577</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> |= <a class="code hl_define" href="http-internal_8h.html#a950439044b8c0b61dcbcbb7e0d2965f9">EVHTTP_CON_OUTGOING</a>;</div>
<div class="line"><span class="lineno"> 2578</span> </div>
<div class="line"><span class="lineno"> 2579</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a> || evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a800d9764909f5089f64bc75911c76d8f">bind_port</a>) {</div>
<div class="line"><span class="lineno"> 2580</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = <a class="code hl_function" href="http_8c.html#ae512f701fdfa4b104d1a8b8ef3bf88ad">bind_socket</a>(</div>
<div class="line"><span class="lineno"> 2581</span>            evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a800d9764909f5089f64bc75911c76d8f">bind_port</a>, 0 <span class="comment">/*reuse*/</span>);</div>
<div class="line"><span class="lineno"> 2582</span>        <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> == -1) {</div>
<div class="line"><span class="lineno"> 2583</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: failed to bind to \&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 2584</span>                <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a>));</div>
<div class="line"><span class="lineno"> 2585</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2586</span>        }</div>
<div class="line"><span class="lineno"> 2587</span> </div>
<div class="line"><span class="lineno"> 2588</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>))</div>
<div class="line"><span class="lineno"> 2589</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2590</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2591</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, -1))</div>
<div class="line"><span class="lineno"> 2592</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2593</span>    }</div>
<div class="line"><span class="lineno"> 2594</span> </div>
<div class="line"><span class="lineno"> 2595</span>    <span class="comment">/* Set up a callback for successful connection setup */</span></div>
<div class="line"><span class="lineno"> 2596</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>,</div>
<div class="line"><span class="lineno"> 2597</span>        NULL <span class="comment">/* evhttp_read_cb */</span>,</div>
<div class="line"><span class="lineno"> 2598</span>        NULL <span class="comment">/* evhttp_write_cb */</span>,</div>
<div class="line"><span class="lineno"> 2599</span>        <a class="code hl_function" href="http_8c.html#ada6ab7053ad08b65f2ea4a31594b982c">evhttp_connection_cb</a>,</div>
<div class="line"><span class="lineno"> 2600</span>        evcon);</div>
<div class="line"><span class="lineno"> 2601</span>    <span class="keywordflow">if</span> (!evutil_timerisset(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>)) {</div>
<div class="line"><span class="lineno"> 2602</span>        <span class="keyword">const</span> <span class="keyword">struct </span>timeval conn_tv = { <a class="code hl_define" href="http-internal_8h.html#aa00c29456a0898dff8ec24461a1b59fa">HTTP_CONNECT_TIMEOUT</a>, 0 };</div>
<div class="line"><span class="lineno"> 2603</span>        <a class="code hl_function" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, &amp;conn_tv, &amp;conn_tv);</div>
<div class="line"><span class="lineno"> 2604</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2605</span>        <a class="code hl_function" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>, &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>);</div>
<div class="line"><span class="lineno"> 2606</span>    }</div>
<div class="line"><span class="lineno"> 2607</span>    <span class="comment">/* make sure that we get a write callback */</span></div>
<div class="line"><span class="lineno"> 2608</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_WRITE))</div>
<div class="line"><span class="lineno"> 2609</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2610</span> </div>
<div class="line"><span class="lineno"> 2611</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a>;</div>
<div class="line"><span class="lineno"> 2612</span> </div>
<div class="line"><span class="lineno"> 2613</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; EVHTTP_CON_REUSE_CONNECTED_ADDR &amp;&amp;</div>
<div class="line"><span class="lineno"> 2614</span>        sa &amp;&amp;</div>
<div class="line"><span class="lineno"> 2615</span>        (sa-&gt;sa_family == AF_INET || sa-&gt;sa_family == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>)) {</div>
<div class="line"><span class="lineno"> 2616</span>        <span class="keywordtype">int</span> socklen = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>sockaddr_in);</div>
<div class="line"><span class="lineno"> 2617</span>        <span class="keywordflow">if</span> (sa-&gt;sa_family == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>) {</div>
<div class="line"><span class="lineno"> 2618</span>            socklen = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a>);</div>
<div class="line"><span class="lineno"> 2619</span>        }</div>
<div class="line"><span class="lineno"> 2620</span>        ret = <a class="code hl_function" href="bufferevent__sock_8c.html#a0dec62272284c5799de2f274a87ae885">bufferevent_socket_connect</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, sa, socklen);</div>
<div class="line"><span class="lineno"> 2621</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2622</span>        ret = <a class="code hl_function" href="bufferevent__sock_8c.html#a2f839839466240cd8fbacf01c2c8427e">bufferevent_socket_connect_hostname</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>,</div>
<div class="line"><span class="lineno"> 2623</span>                evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a96b8e4a17ff9db3a09c1fe7c848776bd">dns_base</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ac2705477278524f0dc3cb94569ba68a3">ai_family</a>, address, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>);</div>
<div class="line"><span class="lineno"> 2624</span>    }</div>
<div class="line"><span class="lineno"> 2625</span> </div>
<div class="line"><span class="lineno"> 2626</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2627</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = old_state;</div>
<div class="line"><span class="lineno"> 2628</span>        <a class="code hl_function" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>, <span class="stringliteral">&quot;%s: connection to \&quot;%s\&quot; failed&quot;</span>,</div>
<div class="line"><span class="lineno"> 2629</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>);</div>
<div class="line"><span class="lineno"> 2630</span>        <span class="comment">/* some operating systems return ECONNREFUSED immediately</span></div>
<div class="line"><span class="lineno"> 2631</span><span class="comment">         * when connecting to a local address.  the cleanup is going</span></div>
<div class="line"><span class="lineno"> 2632</span><span class="comment">         * to reschedule this function call.</span></div>
<div class="line"><span class="lineno"> 2633</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 2634</span>        <a class="code hl_function" href="http_8c.html#afcfaff5e9f76591078033826f9e1252d">evhttp_connection_cb_cleanup</a>(evcon);</div>
<div class="line"><span class="lineno"> 2635</span>        <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2636</span>    }</div>
<div class="line"><span class="lineno"> 2637</span> </div>
<div class="line"><span class="lineno"> 2638</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2639</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a1b9a3412e8c8e122c745b33d46b9643e"><div class="ttname"><a href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a></div><div class="ttdeci">int bufferevent_enable(struct bufferevent *bufev, short event)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00482">bufferevent.c:482</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a5923a441822ab477b13b6be4807174f4"><div class="ttname"><a href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a></div><div class="ttdeci">int bufferevent_setfd(struct bufferevent *bev, evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00865">bufferevent.c:865</a></div></div>
<div class="ttc" id="abufferevent__sock_8c_html_a0dec62272284c5799de2f274a87ae885"><div class="ttname"><a href="bufferevent__sock_8c.html#a0dec62272284c5799de2f274a87ae885">bufferevent_socket_connect</a></div><div class="ttdeci">int bufferevent_socket_connect(struct bufferevent *bev, const struct sockaddr *sa, int socklen)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__sock_8c_source.html#l00380">bufferevent_sock.c:380</a></div></div>
<div class="ttc" id="abufferevent__sock_8c_html_a2f839839466240cd8fbacf01c2c8427e"><div class="ttname"><a href="bufferevent__sock_8c.html#a2f839839466240cd8fbacf01c2c8427e">bufferevent_socket_connect_hostname</a></div><div class="ttdeci">int bufferevent_socket_connect_hostname(struct bufferevent *bev, struct evdns_base *evdns_base, int family, const char *hostname, int port)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__sock_8c_source.html#l00494">bufferevent_sock.c:494</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a223d4db848b4d88eb162b22bac60db72"><div class="ttname"><a href="http-internal_8h.html#a223d4db848b4d88eb162b22bac60db72">EVHTTP_CON_INCOMING</a></div><div class="ttdeci">#define EVHTTP_CON_INCOMING</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00071">http-internal.h:71</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a950439044b8c0b61dcbcbb7e0d2965f9"><div class="ttname"><a href="http-internal_8h.html#a950439044b8c0b61dcbcbb7e0d2965f9">EVHTTP_CON_OUTGOING</a></div><div class="ttdeci">#define EVHTTP_CON_OUTGOING</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00072">http-internal.h:72</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_aa00c29456a0898dff8ec24461a1b59fa"><div class="ttname"><a href="http-internal_8h.html#aa00c29456a0898dff8ec24461a1b59fa">HTTP_CONNECT_TIMEOUT</a></div><div class="ttdeci">#define HTTP_CONNECT_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00017">http-internal.h:17</a></div></div>
<div class="ttc" id="ahttp_8c_html_a49dad4391f88622dcc36a9c98862b970"><div class="ttname"><a href="http_8c.html#a49dad4391f88622dcc36a9c98862b970">evhttp_connection_get_addr</a></div><div class="ttdeci">const struct sockaddr * evhttp_connection_get_addr(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02558">http.c:2558</a></div></div>
<div class="ttc" id="ahttp_8c_html_ada6ab7053ad08b65f2ea4a31594b982c"><div class="ttname"><a href="http_8c.html#ada6ab7053ad08b65f2ea4a31594b982c">evhttp_connection_cb</a></div><div class="ttdeci">static void evhttp_connection_cb(struct bufferevent *bufev, short what, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01572">http.c:1572</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a520a62d4110e85d4de1535da2fc0cae6"><div class="ttname"><a href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">evhttp_connection::bind_address</a></div><div class="ttdeci">char * bind_address</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00061">http-internal.h:61</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a800d9764909f5089f64bc75911c76d8f"><div class="ttname"><a href="structevhttp__connection.html#a800d9764909f5089f64bc75911c76d8f">evhttp_connection::bind_port</a></div><div class="ttdeci">ev_uint16_t bind_port</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00062">http-internal.h:62</a></div></div>
<div class="ttc" id="astructsockaddr__in6_html"><div class="ttname"><a href="structsockaddr__in6.html">sockaddr_in6</a></div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00063">ipv6-internal.h:63</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7365930d8b30f4c1ab3cef31a8622731"><div class="ttname"><a href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a></div><div class="ttdeci">#define EVUTIL_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00363">util-internal.h:363</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="http-internal_8h_source.html#l00104">evhttp_connection::ai_family</a>, <a class="el" href="http-internal_8h_source.html#l00061">evhttp_connection::bind_address</a>, <a class="el" href="http-internal_8h_source.html#l00062">evhttp_connection::bind_port</a>, <a class="el" href="http_8c_source.html#l04459">bind_socket()</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00506">bufferevent_set_timeouts()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="bufferevent_8c_source.html#l00865">bufferevent_setfd()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00494">bufferevent_socket_connect_hostname()</a>, <a class="el" href="http-internal_8h_source.html#l00103">evhttp_connection::dns_base</a>, <a class="el" href="http-internal_8h_source.html#l00038">EVCON_CONNECTING</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn()</a>, <a class="el" href="http-internal_8h_source.html#l00071">EVHTTP_CON_INCOMING</a>, <a class="el" href="http-internal_8h_source.html#l00072">EVHTTP_CON_OUTGOING</a>, <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l01402">evhttp_connection_cb_cleanup()</a>, <a class="el" href="http_8c_source.html#l02558">evhttp_connection_get_addr()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, <a class="el" href="http-internal_8h_source.html#l00017">HTTP_CONNECT_TIMEOUT</a>, <a class="el" href="http-internal_8h_source.html#l00065">evhttp_connection::port</a>, <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>, and <a class="el" href="http-internal_8h_source.html#l00080">evhttp_connection::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l01393">evhttp_connection_retry()</a>, and <a class="el" href="http_8c_source.html#l02648">evhttp_make_request()</a>.</p>

</div>
</div>
<a id="adcab479b0018f22f0295150a5fd2d03d" name="adcab479b0018f22f0295150a5fd2d03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcab479b0018f22f0295150a5fd2d03d">&#9670;&nbsp;</a></span>evhttp_connection_done()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_connection_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Advance the connection state.</p><ul>
<li>If this is an outgoing connection, we've just processed the response; idle or close the connection.</li>
<li>If this is an incoming connection, we've just processed the request; respond. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00824">824</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  825</span>{</div>
<div class="line"><span class="lineno">  826</span>    <span class="keyword">struct </span>evhttp_request *req = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno">  827</span>    <span class="keywordtype">int</span> con_outgoing = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#a950439044b8c0b61dcbcbb7e0d2965f9">EVHTTP_CON_OUTGOING</a>;</div>
<div class="line"><span class="lineno">  828</span>    <span class="keywordtype">int</span> free_evcon = 0;</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>    <span class="keywordflow">if</span> (con_outgoing) {</div>
<div class="line"><span class="lineno">  831</span>        <span class="comment">/* idle or close the connection */</span></div>
<div class="line"><span class="lineno">  832</span>        <span class="keywordtype">int</span> need_close = <a class="code hl_function" href="http_8c.html#a22b49e50c376f1792c3fe36d66ed180f">evhttp_is_request_connection_close</a>(req);</div>
<div class="line"><span class="lineno">  833</span>        TAILQ_REMOVE(&amp;evcon-&gt;requests, req, next);</div>
<div class="line"><span class="lineno">  834</span>        req-&gt;evcon = NULL;</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a>;</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>        <span class="comment">/* check if we got asked to close the connection */</span></div>
<div class="line"><span class="lineno">  839</span>        <span class="keywordflow">if</span> (need_close)</div>
<div class="line"><span class="lineno">  840</span>            <a class="code hl_function" href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a>(evcon);</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests) != NULL) {</div>
<div class="line"><span class="lineno">  843</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  844</span><span class="comment">             * We have more requests; reset the connection</span></div>
<div class="line"><span class="lineno">  845</span><span class="comment">             * and deal with the next request.</span></div>
<div class="line"><span class="lineno">  846</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  847</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="http_8c.html#a988819fcfbc66361040eece863074fb0">evhttp_connected</a>(evcon))</div>
<div class="line"><span class="lineno">  848</span>                <a class="code hl_function" href="http_8c.html#ad586ab94898476d79f5f314a5b42e38b">evhttp_connection_connect_</a>(evcon);</div>
<div class="line"><span class="lineno">  849</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  850</span>                <a class="code hl_function" href="http_8c.html#a91d1317d5fbac429a86d00737143bdd1">evhttp_request_dispatch</a>(evcon);</div>
<div class="line"><span class="lineno">  851</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!need_close) {</div>
<div class="line"><span class="lineno">  852</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  853</span><span class="comment">             * The connection is going to be persistent, but we</span></div>
<div class="line"><span class="lineno">  854</span><span class="comment">             * need to detect if the other side closes it.</span></div>
<div class="line"><span class="lineno">  855</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  856</span>            <a class="code hl_function" href="http_8c.html#aca066f6f0bd1ddafb70655029440eb9a">evhttp_connection_start_detectclose</a>(evcon);</div>
<div class="line"><span class="lineno">  857</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a>)) {</div>
<div class="line"><span class="lineno">  858</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  859</span><span class="comment">             * If we have no more requests that need completion</span></div>
<div class="line"><span class="lineno">  860</span><span class="comment">             * and we&#39;re not waiting for the connection to close</span></div>
<div class="line"><span class="lineno">  861</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  862</span>             free_evcon = 1;</div>
<div class="line"><span class="lineno">  863</span>        }</div>
<div class="line"><span class="lineno">  864</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  865</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  866</span><span class="comment">         * incoming connection - we need to leave the request on the</span></div>
<div class="line"><span class="lineno">  867</span><span class="comment">         * connection so that we can reply to it.</span></div>
<div class="line"><span class="lineno">  868</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  869</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>;</div>
<div class="line"><span class="lineno">  870</span>    }</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>    <span class="comment">/* notify the user of the request */</span></div>
<div class="line"><span class="lineno">  873</span>    (*req-&gt;cb)(req, req-&gt;cb_arg);</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>    <span class="comment">/* if this was an outgoing request, we own and it&#39;s done. so free it. */</span></div>
<div class="line"><span class="lineno">  876</span>    <span class="keywordflow">if</span> (con_outgoing) {</div>
<div class="line"><span class="lineno">  877</span>        <a class="code hl_function" href="http_8c.html#a09dae252ede7e4113f56f7463f600321">evhttp_request_free_auto</a>(req);</div>
<div class="line"><span class="lineno">  878</span>    }</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>    <span class="comment">/* If this was the last request of an outgoing connection and we&#39;re</span></div>
<div class="line"><span class="lineno">  881</span><span class="comment">     * not waiting to receive a connection close event and we want to</span></div>
<div class="line"><span class="lineno">  882</span><span class="comment">     * automatically free the connection. We check to ensure our request</span></div>
<div class="line"><span class="lineno">  883</span><span class="comment">     * list is empty one last time just in case our callback added a</span></div>
<div class="line"><span class="lineno">  884</span><span class="comment">     * new request.</span></div>
<div class="line"><span class="lineno">  885</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span> (free_evcon &amp;&amp; <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests) == NULL) {</div>
<div class="line"><span class="lineno">  887</span>        <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno">  888</span>    }</div>
<div class="line"><span class="lineno">  889</span>}</div>
<div class="ttc" id="ahttp-internal_8h_html_af61199283f0f4bbd539f090868fe1b6a"><div class="ttname"><a href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a></div><div class="ttdeci">#define EVHTTP_CON_AUTOFREE</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00075">http-internal.h:75</a></div></div>
<div class="ttc" id="ahttp_8c_html_a22b49e50c376f1792c3fe36d66ed180f"><div class="ttname"><a href="http_8c.html#a22b49e50c376f1792c3fe36d66ed180f">evhttp_is_request_connection_close</a></div><div class="ttdeci">static int evhttp_is_request_connection_close(struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00480">http.c:480</a></div></div>
<div class="ttc" id="ahttp_8c_html_a988819fcfbc66361040eece863074fb0"><div class="ttname"><a href="http_8c.html#a988819fcfbc66361040eece863074fb0">evhttp_connected</a></div><div class="ttdeci">static int evhttp_connected(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00416">http.c:416</a></div></div>
<div class="ttc" id="ahttp_8c_html_aca066f6f0bd1ddafb70655029440eb9a"><div class="ttname"><a href="http_8c.html#aca066f6f0bd1ddafb70655029440eb9a">evhttp_connection_start_detectclose</a></div><div class="ttdeci">static void evhttp_connection_start_detectclose(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01379">http.c:1379</a></div></div>
<div class="ttc" id="ahttp_8c_html_ad586ab94898476d79f5f314a5b42e38b"><div class="ttname"><a href="http_8c.html#ad586ab94898476d79f5f314a5b42e38b">evhttp_connection_connect_</a></div><div class="ttdeci">int evhttp_connection_connect_(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02564">http.c:2564</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00039">EVCON_IDLE</a>, <a class="el" href="http-internal_8h_source.html#l00045">EVCON_WRITING</a>, <a class="el" href="http-internal_8h_source.html#l00075">EVHTTP_CON_AUTOFREE</a>, <a class="el" href="http-internal_8h_source.html#l00072">EVHTTP_CON_OUTGOING</a>, <a class="el" href="http_8c_source.html#l00416">evhttp_connected()</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l01379">evhttp_connection_start_detectclose()</a>, <a class="el" href="http_8c_source.html#l00480">evhttp_is_request_connection_close()</a>, <a class="el" href="http_8c_source.html#l01303">evhttp_request_dispatch()</a>, <a class="el" href="http_8c_source.html#l00716">evhttp_request_free_auto()</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>, <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, and <a class="el" href="http_8c_source.html#l00997">evhttp_read_trailer()</a>.</p>

</div>
</div>
<a id="a5f3513313656cfa735a3d5fe41476740" name="a5f3513313656cfa735a3d5fe41476740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f3513313656cfa735a3d5fe41476740">&#9670;&nbsp;</a></span>evhttp_connection_fail_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_fail_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum evhttp_request_error&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00734">734</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  736</span>{</div>
<div class="line"><span class="lineno">  737</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> errsave = EVUTIL_SOCKET_ERROR();</div>
<div class="line"><span class="lineno">  738</span>    <span class="keyword">struct </span>evhttp_request* req = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno">  739</span>    void (*cb)(<span class="keyword">struct </span>evhttp_request *, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno">  740</span>    <span class="keywordtype">void</span> *cb_arg;</div>
<div class="line"><span class="lineno">  741</span>    void (*error_cb)(<span class="keyword">enum</span> evhttp_request_error, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno">  742</span>    <span class="keywordtype">void</span> *error_cb_arg;</div>
<div class="line"><span class="lineno">  743</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(req != NULL);</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ|EV_WRITE);</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#a223d4db848b4d88eb162b22bac60db72">EVHTTP_CON_INCOMING</a>) {</div>
<div class="line"><span class="lineno">  748</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  749</span><span class="comment">         * for incoming requests, there are two different</span></div>
<div class="line"><span class="lineno">  750</span><span class="comment">         * failure cases.  it&#39;s either a network level error</span></div>
<div class="line"><span class="lineno">  751</span><span class="comment">         * or an http layer error. for problems on the network</span></div>
<div class="line"><span class="lineno">  752</span><span class="comment">         * layer like timeouts we just drop the connections.</span></div>
<div class="line"><span class="lineno">  753</span><span class="comment">         * For HTTP problems, we might have to send back a</span></div>
<div class="line"><span class="lineno">  754</span><span class="comment">         * reply before the connection can be freed.</span></div>
<div class="line"><span class="lineno">  755</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  756</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a04a481ab16004dc84c13e665e2958dc3">evhttp_connection_incoming_fail</a>(req, error) == -1)</div>
<div class="line"><span class="lineno">  757</span>            <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno">  758</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  759</span>    }</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>    error_cb = req-&gt;error_cb;</div>
<div class="line"><span class="lineno">  762</span>    error_cb_arg = req-&gt;cb_arg;</div>
<div class="line"><span class="lineno">  763</span>    <span class="comment">/* when the request was canceled, the callback is not executed */</span></div>
<div class="line"><span class="lineno">  764</span>    <span class="keywordflow">if</span> (error != EVREQ_HTTP_REQUEST_CANCEL) {</div>
<div class="line"><span class="lineno">  765</span>        <span class="comment">/* save the callback for later; the cb might free our object */</span></div>
<div class="line"><span class="lineno">  766</span>        cb = req-&gt;cb;</div>
<div class="line"><span class="lineno">  767</span>        cb_arg = req-&gt;cb_arg;</div>
<div class="line"><span class="lineno">  768</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  769</span>        cb = NULL;</div>
<div class="line"><span class="lineno">  770</span>        cb_arg = NULL;</div>
<div class="line"><span class="lineno">  771</span>    }</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>    <span class="comment">/* do not fail all requests; the next request is going to get</span></div>
<div class="line"><span class="lineno">  774</span><span class="comment">     * send over a new connection.   when a user cancels a request,</span></div>
<div class="line"><span class="lineno">  775</span><span class="comment">     * all other pending requests should be processed as normal</span></div>
<div class="line"><span class="lineno">  776</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  777</span>    <a class="code hl_function" href="http_8c.html#aec52e9f0edd6a27790e1fbc0a67abe82">evhttp_request_free_</a>(evcon, req);</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>    <span class="comment">/* reset the connection */</span></div>
<div class="line"><span class="lineno">  780</span>    <a class="code hl_function" href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a>(evcon);</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    <span class="comment">/* We are trying the next request that was queued on us */</span></div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests) != NULL)</div>
<div class="line"><span class="lineno">  784</span>        <a class="code hl_function" href="http_8c.html#ad586ab94898476d79f5f314a5b42e38b">evhttp_connection_connect_</a>(evcon);</div>
<div class="line"><span class="lineno">  785</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  786</span>        <span class="keywordflow">if</span> ((evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#a950439044b8c0b61dcbcbb7e0d2965f9">EVHTTP_CON_OUTGOING</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  787</span>            (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a>)) {</div>
<div class="line"><span class="lineno">  788</span>            <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno">  789</span>        }</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>    <span class="comment">/* The call to evhttp_connection_reset_ overwrote errno.</span></div>
<div class="line"><span class="lineno">  792</span><span class="comment">     * Let&#39;s restore the original errno, so that the user&#39;s</span></div>
<div class="line"><span class="lineno">  793</span><span class="comment">     * callback can have a better idea of what the error was.</span></div>
<div class="line"><span class="lineno">  794</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  795</span>    EVUTIL_SET_SOCKET_ERROR(errsave);</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>    <span class="comment">/* inform the user */</span></div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">if</span> (error_cb != NULL)</div>
<div class="line"><span class="lineno">  799</span>        error_cb(error, error_cb_arg);</div>
<div class="line"><span class="lineno">  800</span>    <span class="keywordflow">if</span> (cb != NULL)</div>
<div class="line"><span class="lineno">  801</span>        (*cb)(NULL, cb_arg);</div>
<div class="line"><span class="lineno">  802</span>}</div>
<div class="ttc" id="abufferevent_8c_html_aa15582fe250247aa98d4897527215727"><div class="ttname"><a href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a></div><div class="ttdeci">int bufferevent_disable(struct bufferevent *bufev, short event)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00573">bufferevent.c:573</a></div></div>
<div class="ttc" id="ahttp_8c_html_a04a481ab16004dc84c13e665e2958dc3"><div class="ttname"><a href="http_8c.html#a04a481ab16004dc84c13e665e2958dc3">evhttp_connection_incoming_fail</a></div><div class="ttdeci">static int evhttp_connection_incoming_fail(struct evhttp_request *req, enum evhttp_request_error error)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00657">http.c:657</a></div></div>
<div class="ttc" id="ahttp_8c_html_aec52e9f0edd6a27790e1fbc0a67abe82"><div class="ttname"><a href="http_8c.html#aec52e9f0edd6a27790e1fbc0a67abe82">evhttp_request_free_</a></div><div class="ttdeci">static void evhttp_request_free_(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00723">http.c:723</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="http-internal_8h_source.html#l00075">EVHTTP_CON_AUTOFREE</a>, <a class="el" href="http-internal_8h_source.html#l00071">EVHTTP_CON_INCOMING</a>, <a class="el" href="http-internal_8h_source.html#l00072">EVHTTP_CON_OUTGOING</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l00657">evhttp_connection_incoming_fail()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l00723">evhttp_request_free_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02704">evhttp_cancel_request()</a>, <a class="el" href="http_8c_source.html#l01455">evhttp_connection_read_on_write_error()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, <a class="el" href="http_8c_source.html#l01018">evhttp_lingering_close()</a>, <a class="el" href="http_8c_source.html#l01037">evhttp_lingering_fail()</a>, <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>, <a class="el" href="http_8c_source.html#l02274">evhttp_read_firstline()</a>, <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, <a class="el" href="http_8c_source.html#l00997">evhttp_read_trailer()</a>, and <a class="el" href="evrpc_8c_source.html#l00970">evrpc_request_timeout()</a>.</p>

</div>
</div>
<a id="ab5afe0ffd71e479a9d830ac3800ba599" name="ab5afe0ffd71e479a9d830ac3800ba599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5afe0ffd71e479a9d830ac3800ba599">&#9670;&nbsp;</a></span>evhttp_connection_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01221">1221</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1222</span>{</div>
<div class="line"><span class="lineno"> 1223</span>    <span class="keyword">struct </span>evhttp_request *req;</div>
<div class="line"><span class="lineno"> 1224</span>    <span class="keywordtype">int</span> need_close = 0;</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>    <span class="comment">/* notify interested parties that this connection is going down */</span></div>
<div class="line"><span class="lineno"> 1227</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> != -1) {</div>
<div class="line"><span class="lineno"> 1228</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a988819fcfbc66361040eece863074fb0">evhttp_connected</a>(evcon) &amp;&amp; evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a55fb67b003595a86da0369bca6ba80db">closecb</a> != NULL)</div>
<div class="line"><span class="lineno"> 1229</span>            (*evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a55fb67b003595a86da0369bca6ba80db">closecb</a>)(evcon, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aeb432f6573d0d47ca016f47c77494e1b">closecb_arg</a>);</div>
<div class="line"><span class="lineno"> 1230</span>    }</div>
<div class="line"><span class="lineno"> 1231</span> </div>
<div class="line"><span class="lineno"> 1232</span>    <span class="comment">/* remove all requests that might be queued on this</span></div>
<div class="line"><span class="lineno"> 1233</span><span class="comment">     * connection.  for server connections, this should be empty.</span></div>
<div class="line"><span class="lineno"> 1234</span><span class="comment">     * because it gets dequeued either in evhttp_connection_done or</span></div>
<div class="line"><span class="lineno"> 1235</span><span class="comment">     * evhttp_connection_fail_.</span></div>
<div class="line"><span class="lineno"> 1236</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1237</span>    <span class="keywordflow">while</span> ((req = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests)) != NULL) {</div>
<div class="line"><span class="lineno"> 1238</span>        <a class="code hl_function" href="http_8c.html#aec52e9f0edd6a27790e1fbc0a67abe82">evhttp_request_free_</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1239</span>    }</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a384062befaf1654ea365663f4bd4b73c">http_server</a> != NULL) {</div>
<div class="line"><span class="lineno"> 1242</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *http = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a384062befaf1654ea365663f4bd4b73c">http_server</a>;</div>
<div class="line"><span class="lineno"> 1243</span>        TAILQ_REMOVE(&amp;http-&gt;<a class="code hl_variable" href="structevhttp.html#a6295127b5a8f06a1bfb847b5e9b1b90c">connections</a>, evcon, next);</div>
<div class="line"><span class="lineno"> 1244</span>    }</div>
<div class="line"><span class="lineno"> 1245</span> </div>
<div class="line"><span class="lineno"> 1246</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a>(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a32a00b2bdf00861b2733733f9fbceb3b">retry_ev</a>)) {</div>
<div class="line"><span class="lineno"> 1247</span>        <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a32a00b2bdf00861b2733733f9fbceb3b">retry_ev</a>);</div>
<div class="line"><span class="lineno"> 1248</span>        <a class="code hl_function" href="event_8c.html#addc542c0516f6532cf2e9a645bd1694a">event_debug_unassign</a>(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a32a00b2bdf00861b2733733f9fbceb3b">retry_ev</a>);</div>
<div class="line"><span class="lineno"> 1249</span>    }</div>
<div class="line"><span class="lineno"> 1250</span> </div>
<div class="line"><span class="lineno"> 1251</span>    <a class="code hl_function" href="defer-internal_8h.html#aae154198179f3170689c8d80ff6dc549">event_deferred_cb_cancel_</a>(<a class="code hl_define" href="http_8c.html#a148fc0a6cc62b69f27dd7025c0b121c9">get_deferred_queue</a>(evcon),</div>
<div class="line"><span class="lineno"> 1252</span>        &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ae362b994e6dd892dbae9083caa4ab40c">read_more_deferred_cb</a>);</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a> != NULL) {</div>
<div class="line"><span class="lineno"> 1255</span>        need_close =</div>
<div class="line"><span class="lineno"> 1256</span>            !(<a class="code hl_function" href="bufferevent-internal_8h.html#aa77fb18b01869988d17024ff4bd037d9">bufferevent_get_options_</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>) &amp; BEV_OPT_CLOSE_ON_FREE);</div>
<div class="line"><span class="lineno"> 1257</span>        <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> == -1)</div>
<div class="line"><span class="lineno"> 1258</span>            evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = <a class="code hl_function" href="bufferevent_8c.html#a8c246bbee9c182cf0524c41010fe7c2c">bufferevent_getfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1259</span> </div>
<div class="line"><span class="lineno"> 1260</span>        <a class="code hl_function" href="bufferevent_8c.html#a474a4cef8fd80bea09a636b5f3055bec">bufferevent_free</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1261</span>    }</div>
<div class="line"><span class="lineno"> 1262</span> </div>
<div class="line"><span class="lineno"> 1263</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> != -1) {</div>
<div class="line"><span class="lineno"> 1264</span>        shutdown(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>, <a class="code hl_define" href="util-internal_8h.html#a3228ce2f424becfa40b17c1db2016f18">EVUTIL_SHUT_WR</a>);</div>
<div class="line"><span class="lineno"> 1265</span>        <span class="keywordflow">if</span> (need_close)</div>
<div class="line"><span class="lineno"> 1266</span>            <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>);</div>
<div class="line"><span class="lineno"> 1267</span>    }</div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="line"><span class="lineno"> 1269</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a> != NULL)</div>
<div class="line"><span class="lineno"> 1270</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a>);</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a> != NULL)</div>
<div class="line"><span class="lineno"> 1273</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>);</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(evcon);</div>
<div class="line"><span class="lineno"> 1276</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_aa77fb18b01869988d17024ff4bd037d9"><div class="ttname"><a href="bufferevent-internal_8h.html#aa77fb18b01869988d17024ff4bd037d9">bufferevent_get_options_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL enum bufferevent_options bufferevent_get_options_(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00895">bufferevent.c:895</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a474a4cef8fd80bea09a636b5f3055bec"><div class="ttname"><a href="bufferevent_8c.html#a474a4cef8fd80bea09a636b5f3055bec">bufferevent_free</a></div><div class="ttdeci">void bufferevent_free(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00806">bufferevent.c:806</a></div></div>
<div class="ttc" id="adefer-internal_8h_html_aae154198179f3170689c8d80ff6dc549"><div class="ttname"><a href="defer-internal_8h.html#aae154198179f3170689c8d80ff6dc549">event_deferred_cb_cancel_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_deferred_cb_cancel_(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03115">event.c:3115</a></div></div>
<div class="ttc" id="aevent_8c_html_a4d01ab982328facb6ce4b584390b86ab"><div class="ttname"><a href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a></div><div class="ttdeci">int event_del(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02787">event.c:2787</a></div></div>
<div class="ttc" id="aevent_8c_html_a5be4fbc16d90915a7d1b21ed3bae40c0"><div class="ttname"><a href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a></div><div class="ttdeci">int event_initialized(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02410">event.c:2410</a></div></div>
<div class="ttc" id="aevent_8c_html_addc542c0516f6532cf2e9a645bd1694a"><div class="ttname"><a href="event_8c.html#addc542c0516f6532cf2e9a645bd1694a">event_debug_unassign</a></div><div class="ttdeci">void event_debug_unassign(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02237">event.c:2237</a></div></div>
<div class="ttc" id="ahttp_8c_html_a148fc0a6cc62b69f27dd7025c0b121c9"><div class="ttname"><a href="http_8c.html#a148fc0a6cc62b69f27dd7025c0b121c9">get_deferred_queue</a></div><div class="ttdeci">#define get_deferred_queue(evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01124">http.c:1124</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a55fb67b003595a86da0369bca6ba80db"><div class="ttname"><a href="structevhttp__connection.html#a55fb67b003595a86da0369bca6ba80db">evhttp_connection::closecb</a></div><div class="ttdeci">void(* closecb)(struct evhttp_connection *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00097">http-internal.h:97</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_aeb432f6573d0d47ca016f47c77494e1b"><div class="ttname"><a href="structevhttp__connection.html#aeb432f6573d0d47ca016f47c77494e1b">evhttp_connection::closecb_arg</a></div><div class="ttdeci">void * closecb_arg</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00098">http-internal.h:98</a></div></div>
<div class="ttc" id="astructevhttp_html_a6295127b5a8f06a1bfb847b5e9b1b90c"><div class="ttname"><a href="structevhttp.html#a6295127b5a8f06a1bfb847b5e9b1b90c">evhttp::connections</a></div><div class="ttdeci">struct evconq connections</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00144">http-internal.h:144</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a3228ce2f424becfa40b17c1db2016f18"><div class="ttname"><a href="util-internal_8h.html#a3228ce2f424becfa40b17c1db2016f18">EVUTIL_SHUT_WR</a></div><div class="ttdeci">#define EVUTIL_SHUT_WR</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00165">util-internal.h:165</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, <a class="el" href="http-internal_8h_source.html#l00061">evhttp_connection::bind_address</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00806">bufferevent_free()</a>, <a class="el" href="bufferevent_8c_source.html#l00895">bufferevent_get_options_()</a>, <a class="el" href="bufferevent_8c_source.html#l00880">bufferevent_getfd()</a>, <a class="el" href="http-internal_8h_source.html#l00097">evhttp_connection::closecb</a>, <a class="el" href="http-internal_8h_source.html#l00098">evhttp_connection::closecb_arg</a>, <a class="el" href="http-internal_8h_source.html#l00144">evhttp::connections</a>, <a class="el" href="event_8c_source.html#l02237">event_debug_unassign()</a>, <a class="el" href="event_8c_source.html#l03115">event_deferred_cb_cancel_()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="event_8c_source.html#l02410">event_initialized()</a>, <a class="el" href="http_8c_source.html#l00416">evhttp_connected()</a>, <a class="el" href="http_8c_source.html#l00723">evhttp_request_free_()</a>, <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="util-internal_8h_source.html#l00165">EVUTIL_SHUT_WR</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http_8c_source.html#l01124">get_deferred_queue</a>, <a class="el" href="http-internal_8h_source.html#l00090">evhttp_connection::http_server</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="http-internal_8h_source.html#l00100">evhttp_connection::read_more_deferred_cb</a>, <a class="el" href="http-internal_8h_source.html#l00059">evhttp_connection::retry_ev</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l03731">evhttp_free()</a>, <a class="el" href="http_8c_source.html#l04321">evhttp_get_request()</a>, <a class="el" href="http_8c_source.html#l04224">evhttp_get_request_connection()</a>, <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>, <a class="el" href="http_8c_source.html#l02767">evhttp_send_done()</a>, <a class="el" href="http_8c_source.html#l02801">evhttp_send_error()</a>, and <a class="el" href="evrpc_8c_source.html#l00538">evrpc_pool_free()</a>.</p>

</div>
</div>
<a id="a7aea35101602c9f94c93df925830ca19" name="a7aea35101602c9f94c93df925830ca19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aea35101602c9f94c93df925830ca19">&#9670;&nbsp;</a></span>evhttp_connection_free_on_completion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_free_on_completion </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01279">1279</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1279</span>                                                                      {</div>
<div class="line"><span class="lineno"> 1280</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> |= <a class="code hl_define" href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a>;</div>
<div class="line"><span class="lineno"> 1281</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00075">EVHTTP_CON_AUTOFREE</a>, and <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>.</p>

</div>
</div>
<a id="a49dad4391f88622dcc36a9c98862b970" name="a49dad4391f88622dcc36a9c98862b970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49dad4391f88622dcc36a9c98862b970">&#9670;&nbsp;</a></span>evhttp_connection_get_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct sockaddr * evhttp_connection_get_addr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02558">2558</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2559</span>{</div>
<div class="line"><span class="lineno"> 2560</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent-internal_8h.html#a5d4451912bf3b11e41281dad6638e36f">bufferevent_socket_get_conn_address_</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 2561</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a5d4451912bf3b11e41281dad6638e36f"><div class="ttname"><a href="bufferevent-internal_8h.html#a5d4451912bf3b11e41281dad6638e36f">bufferevent_socket_get_conn_address_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL const struct sockaddr * bufferevent_socket_get_conn_address_(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__sock_8c_source.html#l00100">bufferevent_sock.c:100</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, and <a class="el" href="bufferevent__sock_8c_source.html#l00100">bufferevent_socket_get_conn_address_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>.</p>

</div>
</div>
<a id="a694487c35bbfbd2905da59910f894406" name="a694487c35bbfbd2905da59910f894406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694487c35bbfbd2905da59910f894406">&#9670;&nbsp;</a></span>evhttp_connection_get_base()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevent__base.html">event_base</a> * evhttp_connection_get_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04085">4085</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4086</span>{</div>
<div class="line"><span class="lineno"> 4087</span>    <span class="keywordflow">return</span> conn-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a>;</div>
<div class="line"><span class="lineno"> 4088</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00102">evhttp_connection::base</a>.</p>

</div>
</div>
<a id="ab87d4a37c46200b7e76b875420b20fa2" name="ab87d4a37c46200b7e76b875420b20fa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab87d4a37c46200b7e76b875420b20fa2">&#9670;&nbsp;</a></span>evhttp_connection_get_bufferevent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct bufferevent * evhttp_connection_get_bufferevent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02443">2443</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2444</span>{</div>
<div class="line"><span class="lineno"> 2445</span>    <span class="keywordflow">return</span> evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>;</div>
<div class="line"><span class="lineno"> 2446</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>.</p>

</div>
</div>
<a id="afa866e15c757e815a2e66cba7c8aa161" name="afa866e15c757e815a2e66cba7c8aa161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa866e15c757e815a2e66cba7c8aa161">&#9670;&nbsp;</a></span>evhttp_connection_get_peer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_get_peer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02550">2550</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2552</span>{</div>
<div class="line"><span class="lineno"> 2553</span>    *address = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>;</div>
<div class="line"><span class="lineno"> 2554</span>    *port = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>;</div>
<div class="line"><span class="lineno"> 2555</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, and <a class="el" href="http-internal_8h_source.html#l00065">evhttp_connection::port</a>.</p>

</div>
</div>
<a id="a9d27455a9ff981c4276db19deb7a72f2" name="a9d27455a9ff981c4276db19deb7a72f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d27455a9ff981c4276db19deb7a72f2">&#9670;&nbsp;</a></span>evhttp_connection_get_server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp.html">evhttp</a> * evhttp_connection_get_server </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02449">2449</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2450</span>{</div>
<div class="line"><span class="lineno"> 2451</span>    <span class="keywordflow">return</span> evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a384062befaf1654ea365663f4bd4b73c">http_server</a>;</div>
<div class="line"><span class="lineno"> 2452</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00090">evhttp_connection::http_server</a>.</p>

</div>
</div>
<a id="a04a481ab16004dc84c13e665e2958dc3" name="a04a481ab16004dc84c13e665e2958dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04a481ab16004dc84c13e665e2958dc3">&#9670;&nbsp;</a></span>evhttp_connection_incoming_fail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_connection_incoming_fail </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum evhttp_request_error&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00657">657</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  659</span>{</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">switch</span> (error) {</div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">case</span> EVREQ_HTTP_DATA_TOO_LONG:</div>
<div class="line"><span class="lineno">  662</span>            req-&gt;response_code = HTTP_ENTITYTOOLARGE;</div>
<div class="line"><span class="lineno">  663</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  664</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  665</span>            req-&gt;response_code = HTTP_BADREQUEST;</div>
<div class="line"><span class="lineno">  666</span>    }</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>    <span class="keywordflow">switch</span> (error) {</div>
<div class="line"><span class="lineno">  669</span>    <span class="keywordflow">case</span> EVREQ_HTTP_TIMEOUT:</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordflow">case</span> EVREQ_HTTP_EOF:</div>
<div class="line"><span class="lineno">  671</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  672</span><span class="comment">         * these are cases in which we probably should just</span></div>
<div class="line"><span class="lineno">  673</span><span class="comment">         * close the connection and not send a reply.  this</span></div>
<div class="line"><span class="lineno">  674</span><span class="comment">         * case may happen when a browser keeps a persistent</span></div>
<div class="line"><span class="lineno">  675</span><span class="comment">         * connection open and we timeout on the read.  when</span></div>
<div class="line"><span class="lineno">  676</span><span class="comment">         * the request is still being used for sending, we</span></div>
<div class="line"><span class="lineno">  677</span><span class="comment">         * need to disassociated it from the connection here.</span></div>
<div class="line"><span class="lineno">  678</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  679</span>        <span class="keywordflow">if</span> (!req-&gt;userdone) {</div>
<div class="line"><span class="lineno">  680</span>            <span class="comment">/* remove it so that it will not be freed */</span></div>
<div class="line"><span class="lineno">  681</span>            TAILQ_REMOVE(&amp;req-&gt;evcon-&gt;requests, req, next);</div>
<div class="line"><span class="lineno">  682</span>            <span class="comment">/* indicate that this request no longer has a</span></div>
<div class="line"><span class="lineno">  683</span><span class="comment">             * connection object</span></div>
<div class="line"><span class="lineno">  684</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  685</span>            req-&gt;evcon = NULL;</div>
<div class="line"><span class="lineno">  686</span>        }</div>
<div class="line"><span class="lineno">  687</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  688</span>    <span class="keywordflow">case</span> EVREQ_HTTP_INVALID_HEADER:</div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordflow">case</span> EVREQ_HTTP_BUFFER_ERROR:</div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">case</span> EVREQ_HTTP_REQUEST_CANCEL:</div>
<div class="line"><span class="lineno">  691</span>    <span class="keywordflow">case</span> EVREQ_HTTP_DATA_TOO_LONG:</div>
<div class="line"><span class="lineno">  692</span>    <span class="keywordflow">default</span>:    <span class="comment">/* xxx: probably should just error on default */</span></div>
<div class="line"><span class="lineno">  693</span>        <span class="comment">/* the callback looks at the uri to determine errors */</span></div>
<div class="line"><span class="lineno">  694</span>        <span class="keywordflow">if</span> (req-&gt;uri) {</div>
<div class="line"><span class="lineno">  695</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;uri);</div>
<div class="line"><span class="lineno">  696</span>            req-&gt;uri = NULL;</div>
<div class="line"><span class="lineno">  697</span>        }</div>
<div class="line"><span class="lineno">  698</span>        <span class="keywordflow">if</span> (req-&gt;uri_elems) {</div>
<div class="line"><span class="lineno">  699</span>            <a class="code hl_function" href="http_8c.html#a5ee82311278b8fda3ed93a8e358683bb">evhttp_uri_free</a>(req-&gt;uri_elems);</div>
<div class="line"><span class="lineno">  700</span>            req-&gt;uri_elems = NULL;</div>
<div class="line"><span class="lineno">  701</span>        }</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  704</span><span class="comment">         * the callback needs to send a reply, once the reply has</span></div>
<div class="line"><span class="lineno">  705</span><span class="comment">         * been send, the connection should get freed.</span></div>
<div class="line"><span class="lineno">  706</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  707</span>        (*req-&gt;cb)(req, req-&gt;cb_arg);</div>
<div class="line"><span class="lineno">  708</span>    }</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  711</span>}</div>
<div class="ttc" id="ahttp_8c_html_a5ee82311278b8fda3ed93a8e358683bb"><div class="ttname"><a href="http_8c.html#a5ee82311278b8fda3ed93a8e358683bb">evhttp_uri_free</a></div><div class="ttdeci">void evhttp_uri_free(struct evhttp_uri *uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04929">http.c:4929</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04929">evhttp_uri_free()</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>.</p>

</div>
</div>
<a id="a932a465c7251eb92a3c19c8e03666989" name="a932a465c7251eb92a3c19c8e03666989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a932a465c7251eb92a3c19c8e03666989">&#9670;&nbsp;</a></span>evhttp_connection_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> * evhttp_connection_new </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02373">2373</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2374</span>{</div>
<div class="line"><span class="lineno"> 2375</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="http_8c.html#a977d3bee20d6d532c47e5839b42904ea">evhttp_connection_base_new</a>(NULL, NULL, address, port));</div>
<div class="line"><span class="lineno"> 2376</span>}</div>
<div class="ttc" id="ahttp_8c_html_a977d3bee20d6d532c47e5839b42904ea"><div class="ttname"><a href="http_8c.html#a977d3bee20d6d532c47e5839b42904ea">evhttp_connection_base_new</a></div><div class="ttdeci">struct evhttp_connection * evhttp_connection_base_new(struct event_base *base, struct evdns_base *dnsbase, const char *address, ev_uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02455">http.c:2455</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, <a class="el" href="http_8c_source.html#l02455">evhttp_connection_base_new()</a>, and <a class="el" href="http-internal_8h_source.html#l00065">evhttp_connection::port</a>.</p>

</div>
</div>
<a id="a6dd68971b6d6ad46a9935a41af756805" name="a6dd68971b6d6ad46a9935a41af756805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dd68971b6d6ad46a9935a41af756805">&#9670;&nbsp;</a></span>evhttp_connection_read_on_write_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_connection_read_on_write_error </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Second time, we can't read anything</p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01455">1455</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1457</span>{</div>
<div class="line"><span class="lineno"> 1458</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *buf;</div>
<div class="line"><span class="lineno"> 1459</span> </div>
<div class="line"><span class="lineno"> 1461</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#a2eb0bb07f545a809655f55d0e6ceb492">EVHTTP_CON_READING_ERROR</a>) {</div>
<div class="line"><span class="lineno"> 1462</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp;= ~EVHTTP_CON_READING_ERROR;</div>
<div class="line"><span class="lineno"> 1463</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_EOF);</div>
<div class="line"><span class="lineno"> 1464</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1465</span>    }</div>
<div class="line"><span class="lineno"> 1466</span> </div>
<div class="line"><span class="lineno"> 1467</span>    req-&gt;kind = EVHTTP_RESPONSE;</div>
<div class="line"><span class="lineno"> 1468</span> </div>
<div class="line"><span class="lineno"> 1469</span>    buf = <a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1470</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#ae1aa94b12221a02fcacc2f5dbf0f28b5">evbuffer_unfreeze</a>(buf, 1);</div>
<div class="line"><span class="lineno"> 1471</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a>(buf, <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf));</div>
<div class="line"><span class="lineno"> 1472</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#ab20a3648e696af4de0f4f183eaf190f4">evbuffer_freeze</a>(buf, 1);</div>
<div class="line"><span class="lineno"> 1473</span> </div>
<div class="line"><span class="lineno"> 1474</span>    <a class="code hl_function" href="http_8c.html#a881831d0aeddf00f1aa55b5ab92758a7">evhttp_start_read_</a>(evcon);</div>
<div class="line"><span class="lineno"> 1475</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> |= <a class="code hl_define" href="http-internal_8h.html#a2eb0bb07f545a809655f55d0e6ceb492">EVHTTP_CON_READING_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1476</span>}</div>
<div class="ttc" id="abufferevent_8c_html_ac661f8ca773b6247a47c8deea6be51d3"><div class="ttname"><a href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a></div><div class="ttdeci">struct evbuffer * bufferevent_get_output(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00430">bufferevent.c:430</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a2eb0bb07f545a809655f55d0e6ceb492"><div class="ttname"><a href="http-internal_8h.html#a2eb0bb07f545a809655f55d0e6ceb492">EVHTTP_CON_READING_ERROR</a></div><div class="ttdeci">#define EVHTTP_CON_READING_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00078">http-internal.h:78</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a1c1b3464e6a40ab2ae6398d214779a93"><div class="ttname"><a href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a></div><div class="ttdeci">size_t evbuffer_get_length(const struct evbuffer *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00607">buffer.c:607</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a5c24f3bfbc941d693bf59b5d77d2c37f"><div class="ttname"><a href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a></div><div class="ttdeci">int evbuffer_drain(struct evbuffer *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01101">buffer.c:1101</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_ab20a3648e696af4de0f4f183eaf190f4"><div class="ttname"><a href="libevent_2buffer_8c.html#ab20a3648e696af4de0f4f183eaf190f4">evbuffer_freeze</a></div><div class="ttdeci">int evbuffer_freeze(struct evbuffer *buffer, int start)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l03401">buffer.c:3401</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_ae1aa94b12221a02fcacc2f5dbf0f28b5"><div class="ttname"><a href="libevent_2buffer_8c.html#ae1aa94b12221a02fcacc2f5dbf0f28b5">evbuffer_unfreeze</a></div><div class="ttdeci">int evbuffer_unfreeze(struct evbuffer *buffer, int start)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l03413">buffer.c:3413</a></div></div>
<div class="ttc" id="astructevbuffer_html"><div class="ttname"><a href="structevbuffer.html">evbuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="evbuffer-internal_8h_source.html#l00080">evbuffer-internal.h:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01101">evbuffer_drain()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l03401">evbuffer_freeze()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l03413">evbuffer_unfreeze()</a>, <a class="el" href="http-internal_8h_source.html#l00078">EVHTTP_CON_READING_ERROR</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, and <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>.</p>

</div>
</div>
<a id="a6f5a343b577968641c4f3d9f9155cebf" name="a6f5a343b577968641c4f3d9f9155cebf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f5a343b577968641c4f3d9f9155cebf">&#9670;&nbsp;</a></span>evhttp_connection_reset_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_reset_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01330">1330</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1331</span>{</div>
<div class="line"><span class="lineno"> 1332</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *tmp;</div>
<div class="line"><span class="lineno"> 1333</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno"> 1334</span> </div>
<div class="line"><span class="lineno"> 1335</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, NULL, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno"> 1336</span> </div>
<div class="line"><span class="lineno"> 1337</span>    <span class="comment">/* XXXX This is not actually an optimal fix.  Instead we ought to have</span></div>
<div class="line"><span class="lineno"> 1338</span><span class="comment">       an API for &quot;stop connecting&quot;, or use bufferevent_setfd to turn off</span></div>
<div class="line"><span class="lineno"> 1339</span><span class="comment">       connecting.  But for Libevent 2.0, this seems like a minimal change</span></div>
<div class="line"><span class="lineno"> 1340</span><span class="comment">       least likely to disrupt the rest of the bufferevent and http code.</span></div>
<div class="line"><span class="lineno"> 1341</span><span class="comment"></span> </div>
<div class="line"><span class="lineno"> 1342</span><span class="comment">       Why is this here?  If the fd is set in the bufferevent, and the</span></div>
<div class="line"><span class="lineno"> 1343</span><span class="comment">       bufferevent is connecting, then you can&#39;t actually stop the</span></div>
<div class="line"><span class="lineno"> 1344</span><span class="comment">       bufferevent from trying to connect with bufferevent_disable().  The</span></div>
<div class="line"><span class="lineno"> 1345</span><span class="comment">       connect will never trigger, since we close the fd, but the timeout</span></div>
<div class="line"><span class="lineno"> 1346</span><span class="comment">       might.  That caused an assertion failure in evhttp_connection_fail_.</span></div>
<div class="line"><span class="lineno"> 1347</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 1348</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a50d468ccc3ac7e90eadbc899063e81cc">bufferevent_disable_hard_</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ|EV_WRITE);</div>
<div class="line"><span class="lineno"> 1349</span> </div>
<div class="line"><span class="lineno"> 1350</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> == -1)</div>
<div class="line"><span class="lineno"> 1351</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = <a class="code hl_function" href="bufferevent_8c.html#a8c246bbee9c182cf0524c41010fe7c2c">bufferevent_getfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> != -1) {</div>
<div class="line"><span class="lineno"> 1354</span>        <span class="comment">/* inform interested parties about connection close */</span></div>
<div class="line"><span class="lineno"> 1355</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a988819fcfbc66361040eece863074fb0">evhttp_connected</a>(evcon) &amp;&amp; evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a55fb67b003595a86da0369bca6ba80db">closecb</a> != NULL)</div>
<div class="line"><span class="lineno"> 1356</span>            (*evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a55fb67b003595a86da0369bca6ba80db">closecb</a>)(evcon, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aeb432f6573d0d47ca016f47c77494e1b">closecb_arg</a>);</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>        shutdown(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>, <a class="code hl_define" href="util-internal_8h.html#a3228ce2f424becfa40b17c1db2016f18">EVUTIL_SHUT_WR</a>);</div>
<div class="line"><span class="lineno"> 1359</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>);</div>
<div class="line"><span class="lineno"> 1360</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = -1;</div>
<div class="line"><span class="lineno"> 1361</span>    }</div>
<div class="line"><span class="lineno"> 1362</span>    err = <a class="code hl_function" href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, -1);</div>
<div class="line"><span class="lineno"> 1363</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!err &amp;&amp; <span class="stringliteral">&quot;setfd&quot;</span>);</div>
<div class="line"><span class="lineno"> 1364</span> </div>
<div class="line"><span class="lineno"> 1365</span>    <span class="comment">/* we need to clean up any buffered data */</span></div>
<div class="line"><span class="lineno"> 1366</span>    tmp = <a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1367</span>    err = <a class="code hl_function" href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a>(tmp, -1);</div>
<div class="line"><span class="lineno"> 1368</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!err &amp;&amp; <span class="stringliteral">&quot;drain output&quot;</span>);</div>
<div class="line"><span class="lineno"> 1369</span>    tmp = <a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1370</span>    err = <a class="code hl_function" href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a>(tmp, -1);</div>
<div class="line"><span class="lineno"> 1371</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!err &amp;&amp; <span class="stringliteral">&quot;drain input&quot;</span>);</div>
<div class="line"><span class="lineno"> 1372</span> </div>
<div class="line"><span class="lineno"> 1373</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp;= ~EVHTTP_CON_READING_ERROR;</div>
<div class="line"><span class="lineno"> 1374</span> </div>
<div class="line"><span class="lineno"> 1375</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>;</div>
<div class="line"><span class="lineno"> 1376</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a50d468ccc3ac7e90eadbc899063e81cc"><div class="ttname"><a href="bufferevent-internal_8h.html#a50d468ccc3ac7e90eadbc899063e81cc">bufferevent_disable_hard_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_disable_hard_(struct bufferevent *bufev, short event)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00556">bufferevent.c:556</a></div></div>
<div class="ttc" id="abufferevent_8c_html_acc6ab0c64f9a7ed8bc24c2f6d3d594ad"><div class="ttname"><a href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a></div><div class="ttdeci">struct evbuffer * bufferevent_get_input(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00424">bufferevent.c:424</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00556">bufferevent_disable_hard_()</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="bufferevent_8c_source.html#l00880">bufferevent_getfd()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="bufferevent_8c_source.html#l00865">bufferevent_setfd()</a>, <a class="el" href="http-internal_8h_source.html#l00097">evhttp_connection::closecb</a>, <a class="el" href="http-internal_8h_source.html#l00098">evhttp_connection::closecb_arg</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01101">evbuffer_drain()</a>, <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="http_8c_source.html#l00416">evhttp_connected()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="util-internal_8h_source.html#l00165">EVUTIL_SHUT_WR</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01402">evhttp_connection_cb_cleanup()</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, and <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>.</p>

</div>
</div>
<a id="ad2342669486653b913a770fd7be661ab" name="ad2342669486653b913a770fd7be661ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2342669486653b913a770fd7be661ab">&#9670;&nbsp;</a></span>evhttp_connection_retry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_connection_retry </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01393">1393</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1394</span>{</div>
<div class="line"><span class="lineno"> 1395</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = arg;</div>
<div class="line"><span class="lineno"> 1396</span> </div>
<div class="line"><span class="lineno"> 1397</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>;</div>
<div class="line"><span class="lineno"> 1398</span>    <a class="code hl_function" href="http_8c.html#ad586ab94898476d79f5f314a5b42e38b">evhttp_connection_connect_</a>(evcon);</div>
<div class="line"><span class="lineno"> 1399</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01402">evhttp_connection_cb_cleanup()</a>.</p>

</div>
</div>
<a id="a7a3a6de60e64dd0469affb45f267888a" name="a7a3a6de60e64dd0469affb45f267888a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a3a6de60e64dd0469affb45f267888a">&#9670;&nbsp;</a></span>evhttp_connection_set_base()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02484">2484</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2486</span>{</div>
<div class="line"><span class="lineno"> 2487</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a> == NULL);</div>
<div class="line"><span class="lineno"> 2488</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> == <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>);</div>
<div class="line"><span class="lineno"> 2489</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8600ad8b950d428840cd6141cb3820a9">base</a> = base;</div>
<div class="line"><span class="lineno"> 2490</span>    <a class="code hl_function" href="bufferevent__sock_8c.html#a0697dabdb9b4057ae71b40a2f0e45fed">bufferevent_base_set</a>(base, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 2491</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00102">evhttp_connection::base</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00671">bufferevent_base_set()</a>, <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="evrpc_8c_source.html#l00580">evrpc_pool_add_connection()</a>.</p>

</div>
</div>
<a id="a0cfdc40211a2115de3f9f294769d19e7" name="a0cfdc40211a2115de3f9f294769d19e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cfdc40211a2115de3f9f294769d19e7">&#9670;&nbsp;</a></span>evhttp_connection_set_closecb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_closecb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02542">2542</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2544</span>{</div>
<div class="line"><span class="lineno"> 2545</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a55fb67b003595a86da0369bca6ba80db">closecb</a> = cb;</div>
<div class="line"><span class="lineno"> 2546</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aeb432f6573d0d47ca016f47c77494e1b">closecb_arg</a> = cbarg;</div>
<div class="line"><span class="lineno"> 2547</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00097">evhttp_connection::closecb</a>, and <a class="el" href="http-internal_8h_source.html#l00098">evhttp_connection::closecb_arg</a>.</p>

</div>
</div>
<a id="a2cdc44a49ecadc0facd9d0f8f6a04218" name="a2cdc44a49ecadc0facd9d0f8f6a04218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cdc44a49ecadc0facd9d0f8f6a04218">&#9670;&nbsp;</a></span>evhttp_connection_set_family()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_family </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>family</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02461">2461</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2463</span>{</div>
<div class="line"><span class="lineno"> 2464</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ac2705477278524f0dc3cb94569ba68a3">ai_family</a> = family;</div>
<div class="line"><span class="lineno"> 2465</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00104">evhttp_connection::ai_family</a>.</p>

</div>
</div>
<a id="a753c3e707882f5f98ba5b9ba99a4d123" name="a753c3e707882f5f98ba5b9ba99a4d123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a753c3e707882f5f98ba5b9ba99a4d123">&#9670;&nbsp;</a></span>evhttp_connection_set_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_connection_set_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02467">2467</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2469</span>{</div>
<div class="line"><span class="lineno"> 2470</span>    <span class="keywordtype">int</span> avail_flags = 0;</div>
<div class="line"><span class="lineno"> 2471</span>    avail_flags |= EVHTTP_CON_REUSE_CONNECTED_ADDR;</div>
<div class="line"><span class="lineno"> 2472</span>    avail_flags |= EVHTTP_CON_READ_ON_WRITE_ERROR;</div>
<div class="line"><span class="lineno"> 2473</span> </div>
<div class="line"><span class="lineno"> 2474</span>    <span class="keywordflow">if</span> (flags &amp; ~avail_flags || flags &gt; EVHTTP_CON_PUBLIC_FLAGS_END)</div>
<div class="line"><span class="lineno"> 2475</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2476</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp;= ~avail_flags;</div>
<div class="line"><span class="lineno"> 2477</span> </div>
<div class="line"><span class="lineno"> 2478</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> |= flags;</div>
<div class="line"><span class="lineno"> 2479</span> </div>
<div class="line"><span class="lineno"> 2480</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2481</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>.</p>

</div>
</div>
<a id="abb177c718357e718d8c7e40b23189542" name="abb177c718357e718d8c7e40b23189542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb177c718357e718d8c7e40b23189542">&#9670;&nbsp;</a></span>evhttp_connection_set_initial_retry_tv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_initial_retry_tv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02523">2523</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2525</span>{</div>
<div class="line"><span class="lineno"> 2526</span>    <span class="keywordflow">if</span> (tv) {</div>
<div class="line"><span class="lineno"> 2527</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8caaf350e3649526d361615c9fdb86b1">initial_retry_timeout</a> = *tv;</div>
<div class="line"><span class="lineno"> 2528</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2529</span>        evutil_timerclear(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8caaf350e3649526d361615c9fdb86b1">initial_retry_timeout</a>);</div>
<div class="line"><span class="lineno"> 2530</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a8caaf350e3649526d361615c9fdb86b1">initial_retry_timeout</a>.tv_sec = 2;</div>
<div class="line"><span class="lineno"> 2531</span>    }</div>
<div class="line"><span class="lineno"> 2532</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00083">evhttp_connection::initial_retry_timeout</a>.</p>

</div>
</div>
<a id="a839b6cd03f4377fead26e8b680e9cd7e" name="a839b6cd03f4377fead26e8b680e9cd7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a839b6cd03f4377fead26e8b680e9cd7e">&#9670;&nbsp;</a></span>evhttp_connection_set_local_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_local_address </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01284">1284</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1286</span>{</div>
<div class="line"><span class="lineno"> 1287</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> == <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>);</div>
<div class="line"><span class="lineno"> 1288</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a>)</div>
<div class="line"><span class="lineno"> 1289</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a>);</div>
<div class="line"><span class="lineno"> 1290</span>    <span class="keywordflow">if</span> ((evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(address)) == NULL)</div>
<div class="line"><span class="lineno"> 1291</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 1292</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00061">evhttp_connection::bind_address</a>, <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

</div>
</div>
<a id="a3a325b818c5c4f48a8ba1f3cf6a49d7f" name="a3a325b818c5c4f48a8ba1f3cf6a49d7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a325b818c5c4f48a8ba1f3cf6a49d7f">&#9670;&nbsp;</a></span>evhttp_connection_set_local_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_local_port </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01295">1295</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1297</span>{</div>
<div class="line"><span class="lineno"> 1298</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> == <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>);</div>
<div class="line"><span class="lineno"> 1299</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a800d9764909f5089f64bc75911c76d8f">bind_port</a> = port;</div>
<div class="line"><span class="lineno"> 1300</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00062">evhttp_connection::bind_port</a>, <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

</div>
</div>
<a id="a05e5fc3a7488c3a32f28fde45d15c6e4" name="a05e5fc3a7488c3a32f28fde45d15c6e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e5fc3a7488c3a32f28fde45d15c6e4">&#9670;&nbsp;</a></span>evhttp_connection_set_max_body_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_max_body_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_ssize_t&#160;</td>
          <td class="paramname"><em>new_max_body_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00647">647</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  649</span>{</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">if</span> (new_max_body_size&lt;0)</div>
<div class="line"><span class="lineno">  651</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1a3f936fb8a9810a012e82ff63142e79">max_body_size</a> = EV_UINT64_MAX;</div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  653</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1a3f936fb8a9810a012e82ff63142e79">max_body_size</a> = new_max_body_size;</div>
<div class="line"><span class="lineno">  654</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00068">evhttp_connection::max_body_size</a>.</p>

</div>
</div>
<a id="aeea564828181bbd3879b6af92224d4f6" name="aeea564828181bbd3879b6af92224d4f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeea564828181bbd3879b6af92224d4f6">&#9670;&nbsp;</a></span>evhttp_connection_set_max_headers_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_max_headers_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_ssize_t&#160;</td>
          <td class="paramname"><em>new_max_headers_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00638">638</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  640</span>{</div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordflow">if</span> (new_max_headers_size&lt;0)</div>
<div class="line"><span class="lineno">  642</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a402923bfc4b91f7ac1d9398d70f383e7">max_headers_size</a> = EV_SIZE_MAX;</div>
<div class="line"><span class="lineno">  643</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  644</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a402923bfc4b91f7ac1d9398d70f383e7">max_headers_size</a> = new_max_headers_size;</div>
<div class="line"><span class="lineno">  645</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00067">evhttp_connection::max_headers_size</a>.</p>

</div>
</div>
<a id="a9356b2a28a3b08bf273d027d1c40f470" name="a9356b2a28a3b08bf273d027d1c40f470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9356b2a28a3b08bf273d027d1c40f470">&#9670;&nbsp;</a></span>evhttp_connection_set_retries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_retries </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retry_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02535">2535</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2537</span>{</div>
<div class="line"><span class="lineno"> 2538</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#af6663e12c184f357a2728f5ca55bd76e">retry_max</a> = retry_max;</div>
<div class="line"><span class="lineno"> 2539</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00082">evhttp_connection::retry_max</a>.</p>

</div>
</div>
<a id="aa145623b7f58efe51908c6e48060db8c" name="aa145623b7f58efe51908c6e48060db8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa145623b7f58efe51908c6e48060db8c">&#9670;&nbsp;</a></span>evhttp_connection_set_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_in_secs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02494">2494</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2496</span>{</div>
<div class="line"><span class="lineno"> 2497</span>    <span class="keywordflow">if</span> (timeout_in_secs == -1)</div>
<div class="line"><span class="lineno"> 2498</span>        <a class="code hl_function" href="http_8c.html#a1e1b58248069bf209da93896acc9115f">evhttp_connection_set_timeout_tv</a>(evcon, NULL);</div>
<div class="line"><span class="lineno"> 2499</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2500</span>        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno"> 2501</span>        tv.tv_sec = timeout_in_secs;</div>
<div class="line"><span class="lineno"> 2502</span>        tv.tv_usec = 0;</div>
<div class="line"><span class="lineno"> 2503</span>        <a class="code hl_function" href="http_8c.html#a1e1b58248069bf209da93896acc9115f">evhttp_connection_set_timeout_tv</a>(evcon, &amp;tv);</div>
<div class="line"><span class="lineno"> 2504</span>    }</div>
<div class="line"><span class="lineno"> 2505</span>}</div>
<div class="ttc" id="ahttp_8c_html_a1e1b58248069bf209da93896acc9115f"><div class="ttname"><a href="http_8c.html#a1e1b58248069bf209da93896acc9115f">evhttp_connection_set_timeout_tv</a></div><div class="ttdeci">void evhttp_connection_set_timeout_tv(struct evhttp_connection *evcon, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02508">http.c:2508</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l02508">evhttp_connection_set_timeout_tv()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evrpc_8c_source.html#l00580">evrpc_pool_add_connection()</a>, and <a class="el" href="evrpc_8c_source.html#l00620">evrpc_pool_set_timeout()</a>.</p>

</div>
</div>
<a id="a1e1b58248069bf209da93896acc9115f" name="a1e1b58248069bf209da93896acc9115f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e1b58248069bf209da93896acc9115f">&#9670;&nbsp;</a></span>evhttp_connection_set_timeout_tv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_set_timeout_tv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02508">2508</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2510</span>{</div>
<div class="line"><span class="lineno"> 2511</span>    <span class="keywordflow">if</span> (tv) {</div>
<div class="line"><span class="lineno"> 2512</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a> = *tv;</div>
<div class="line"><span class="lineno"> 2513</span>        <a class="code hl_function" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>, &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>);</div>
<div class="line"><span class="lineno"> 2514</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2515</span>        <span class="keyword">const</span> <span class="keyword">struct </span>timeval read_tv = { <a class="code hl_define" href="http-internal_8h.html#a1c278e81695dccefc150acf108418faf">HTTP_READ_TIMEOUT</a>, 0 };</div>
<div class="line"><span class="lineno"> 2516</span>        <span class="keyword">const</span> <span class="keyword">struct </span>timeval write_tv = { <a class="code hl_define" href="http-internal_8h.html#a3e8bf12c5ac80894e706a9779f64cc67">HTTP_WRITE_TIMEOUT</a>, 0 };</div>
<div class="line"><span class="lineno"> 2517</span>        evutil_timerclear(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>);</div>
<div class="line"><span class="lineno"> 2518</span>        <a class="code hl_function" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, &amp;read_tv, &amp;write_tv);</div>
<div class="line"><span class="lineno"> 2519</span>    }</div>
<div class="line"><span class="lineno"> 2520</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00506">bufferevent_set_timeouts()</a>, <a class="el" href="http-internal_8h_source.html#l00019">HTTP_READ_TIMEOUT</a>, <a class="el" href="http-internal_8h_source.html#l00018">HTTP_WRITE_TIMEOUT</a>, and <a class="el" href="http-internal_8h_source.html#l00080">evhttp_connection::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02494">evhttp_connection_set_timeout()</a>, and <a class="el" href="http_8c_source.html#l04321">evhttp_get_request()</a>.</p>

</div>
</div>
<a id="aca066f6f0bd1ddafb70655029440eb9a" name="aca066f6f0bd1ddafb70655029440eb9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca066f6f0bd1ddafb70655029440eb9a">&#9670;&nbsp;</a></span>evhttp_connection_start_detectclose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_connection_start_detectclose </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01379">1379</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1380</span>{</div>
<div class="line"><span class="lineno"> 1381</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> |= <a class="code hl_define" href="http-internal_8h.html#ac67356d27730bf3884584a256f599bcc">EVHTTP_CON_CLOSEDETECT</a>;</div>
<div class="line"><span class="lineno"> 1382</span>    <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ);</div>
<div class="line"><span class="lineno"> 1383</span>}</div>
<div class="ttc" id="ahttp-internal_8h_html_ac67356d27730bf3884584a256f599bcc"><div class="ttname"><a href="http-internal_8h.html#ac67356d27730bf3884584a256f599bcc">EVHTTP_CON_CLOSEDETECT</a></div><div class="ttdeci">#define EVHTTP_CON_CLOSEDETECT</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00073">http-internal.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="http-internal_8h_source.html#l00073">EVHTTP_CON_CLOSEDETECT</a>, and <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>.</p>

</div>
</div>
<a id="a4effa3e1a976dd4c74653dbfe5015ada" name="a4effa3e1a976dd4c74653dbfe5015ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4effa3e1a976dd4c74653dbfe5015ada">&#9670;&nbsp;</a></span>evhttp_connection_stop_detectclose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_connection_stop_detectclose </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01386">1386</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1387</span>{</div>
<div class="line"><span class="lineno"> 1388</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp;= ~EVHTTP_CON_CLOSEDETECT;</div>
<div class="line"><span class="lineno"> 1389</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ);</div>
<div class="line"><span class="lineno"> 1390</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, and <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01303">evhttp_request_dispatch()</a>.</p>

</div>
</div>
<a id="a741ba5d8c73033432a07ff900d993566" name="a741ba5d8c73033432a07ff900d993566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a741ba5d8c73033432a07ff900d993566">&#9670;&nbsp;</a></span>evhttp_decode_uri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * evhttp_decode_uri </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03209">3209</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3210</span>{</div>
<div class="line"><span class="lineno"> 3211</span>    <span class="keywordtype">char</span> *ret;</div>
<div class="line"><span class="lineno"> 3212</span> </div>
<div class="line"><span class="lineno"> 3213</span>    <span class="keywordflow">if</span> ((ret = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(strlen(uri) + 1)) == NULL) {</div>
<div class="line"><span class="lineno"> 3214</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: malloc(%lu)&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 3215</span>              (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(strlen(uri) + 1));</div>
<div class="line"><span class="lineno"> 3216</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3217</span>    }</div>
<div class="line"><span class="lineno"> 3218</span> </div>
<div class="line"><span class="lineno"> 3219</span>    <a class="code hl_function" href="http_8c.html#a6388e8fafd94605920e6e0c22ffa869f">evhttp_decode_uri_internal</a>(uri, strlen(uri),</div>
<div class="line"><span class="lineno"> 3220</span>        ret, -1 <span class="comment">/*always_decode_plus*/</span>);</div>
<div class="line"><span class="lineno"> 3221</span> </div>
<div class="line"><span class="lineno"> 3222</span>    <span class="keywordflow">return</span> (ret);</div>
<div class="line"><span class="lineno"> 3223</span>}</div>
<div class="ttc" id="ahttp_8c_html_a6388e8fafd94605920e6e0c22ffa869f"><div class="ttname"><a href="http_8c.html#a6388e8fafd94605920e6e0c22ffa869f">evhttp_decode_uri_internal</a></div><div class="ttdeci">int evhttp_decode_uri_internal(const char *uri, size_t length, char *ret, int decode_plus_ctl)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03176">http.c:3176</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l03176">evhttp_decode_uri_internal()</a>, and <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>.</p>

</div>
</div>
<a id="a6388e8fafd94605920e6e0c22ffa869f" name="a6388e8fafd94605920e6e0c22ffa869f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6388e8fafd94605920e6e0c22ffa869f">&#9670;&nbsp;</a></span>evhttp_decode_uri_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_decode_uri_internal </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>decode_plus_ctl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03176">3176</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3178</span>{</div>
<div class="line"><span class="lineno"> 3179</span>    <span class="keywordtype">char</span> c;</div>
<div class="line"><span class="lineno"> 3180</span>    <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno"> 3181</span>    <span class="keywordtype">int</span> decode_plus = (decode_plus_ctl == 1) ? 1: 0;</div>
<div class="line"><span class="lineno"> 3182</span>    <span class="keywordtype">unsigned</span> i;</div>
<div class="line"><span class="lineno"> 3183</span> </div>
<div class="line"><span class="lineno"> 3184</span>    <span class="keywordflow">for</span> (i = j = 0; i &lt; length; i++) {</div>
<div class="line"><span class="lineno"> 3185</span>        c = uri[i];</div>
<div class="line"><span class="lineno"> 3186</span>        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><span class="lineno"> 3187</span>            <span class="keywordflow">if</span> (decode_plus_ctl &lt; 0)</div>
<div class="line"><span class="lineno"> 3188</span>                decode_plus = 1;</div>
<div class="line"><span class="lineno"> 3189</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;+&#39;</span> &amp;&amp; decode_plus) {</div>
<div class="line"><span class="lineno"> 3190</span>            c = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><span class="lineno"> 3191</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((i + 2) &lt; length &amp;&amp; c == <span class="charliteral">&#39;%&#39;</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 3192</span>            <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(uri[i+1]) &amp;&amp; <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(uri[i+2])) {</div>
<div class="line"><span class="lineno"> 3193</span>            <span class="keywordtype">char</span> tmp[3];</div>
<div class="line"><span class="lineno"> 3194</span>            tmp[0] = uri[i+1];</div>
<div class="line"><span class="lineno"> 3195</span>            tmp[1] = uri[i+2];</div>
<div class="line"><span class="lineno"> 3196</span>            tmp[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 3197</span>            c = (char)strtol(tmp, NULL, 16);</div>
<div class="line"><span class="lineno"> 3198</span>            i += 2;</div>
<div class="line"><span class="lineno"> 3199</span>        }</div>
<div class="line"><span class="lineno"> 3200</span>        ret[j++] = c;</div>
<div class="line"><span class="lineno"> 3201</span>    }</div>
<div class="line"><span class="lineno"> 3202</span>    ret[j] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 3203</span> </div>
<div class="line"><span class="lineno"> 3204</span>    <span class="keywordflow">return</span> (j);</div>
<div class="line"><span class="lineno"> 3205</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03209">evhttp_decode_uri()</a>, <a class="el" href="http_8c_source.html#l03335">evhttp_dispatch_callback()</a>, <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>, and <a class="el" href="http_8c_source.html#l03226">evhttp_uridecode()</a>.</p>

</div>
</div>
<a id="a16710889b7a403e30205d929d3146216" name="a16710889b7a403e30205d929d3146216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16710889b7a403e30205d929d3146216">&#9670;&nbsp;</a></span>evhttp_deferred_read_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_deferred_read_cb </td>
          <td>(</td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01187">1187</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1188</span>{</div>
<div class="line"><span class="lineno"> 1189</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = data;</div>
<div class="line"><span class="lineno"> 1190</span>    <span class="keyword">struct </span>bufferevent *bev = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>;</div>
<div class="line"><span class="lineno"> 1191</span>    <span class="keywordflow">if</span> (bev-&gt;readcb)</div>
<div class="line"><span class="lineno"> 1192</span>        (bev-&gt;readcb)(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, evcon);</div>
<div class="line"><span class="lineno"> 1193</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>.</p>

</div>
</div>
<a id="a0c646574357291b525daeea1c08d0820" name="a0c646574357291b525daeea1c08d0820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c646574357291b525daeea1c08d0820">&#9670;&nbsp;</a></span>evhttp_del_accept_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_del_accept_socket </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *&#160;</td>
          <td class="paramname"><em>bound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03660">3660</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3661</span>{</div>
<div class="line"><span class="lineno"> 3662</span>    TAILQ_REMOVE(&amp;http-&gt;sockets, bound, next);</div>
<div class="line"><span class="lineno"> 3663</span>    <a class="code hl_function" href="listener_8c.html#a8f2a4e2acac6ac07344f03e26f5420e0">evconnlistener_free</a>(bound-&gt;<a class="code hl_variable" href="structevhttp__bound__socket.html#adee3b42ecac9bee341df9509f54458cc">listener</a>);</div>
<div class="line"><span class="lineno"> 3664</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(bound);</div>
<div class="line"><span class="lineno"> 3665</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="listener_8c_source.html#l00270">evconnlistener_free()</a>, <a class="el" href="http-internal_8h_source.html#l00124">evhttp_bound_socket::listener</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

</div>
</div>
<a id="ae507109ae82cb46efa748428c85cc7e1" name="ae507109ae82cb46efa748428c85cc7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae507109ae82cb46efa748428c85cc7e1">&#9670;&nbsp;</a></span>evhttp_del_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_del_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03944">3944</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3945</span>{</div>
<div class="line"><span class="lineno"> 3946</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__cb.html">evhttp_cb</a> *http_cb;</div>
<div class="line"><span class="lineno"> 3947</span> </div>
<div class="line"><span class="lineno"> 3948</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(http_cb, &amp;http-&gt;callbacks, next) {</div>
<div class="line"><span class="lineno"> 3949</span>        <span class="keywordflow">if</span> (strcmp(http_cb-&gt;<a class="code hl_variable" href="structevhttp__cb.html#a60001dda2d58adbcab52aa3509eaf85a">what</a>, uri) == 0)</div>
<div class="line"><span class="lineno"> 3950</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3951</span>    }</div>
<div class="line"><span class="lineno"> 3952</span>    <span class="keywordflow">if</span> (http_cb == NULL)</div>
<div class="line"><span class="lineno"> 3953</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 3954</span> </div>
<div class="line"><span class="lineno"> 3955</span>    TAILQ_REMOVE(&amp;http-&gt;callbacks, http_cb, next);</div>
<div class="line"><span class="lineno"> 3956</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(http_cb-&gt;<a class="code hl_variable" href="structevhttp__cb.html#a60001dda2d58adbcab52aa3509eaf85a">what</a>);</div>
<div class="line"><span class="lineno"> 3957</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(http_cb);</div>
<div class="line"><span class="lineno"> 3958</span> </div>
<div class="line"><span class="lineno"> 3959</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 3960</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a16e5fc168e7f3494d4b1df54447d871e"><div class="ttname"><a href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a></div><div class="ttdeci">#define TAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00386">event-internal.h:386</a></div></div>
<div class="ttc" id="astructevhttp__cb_html"><div class="ttname"><a href="structevhttp__cb.html">evhttp_cb</a></div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00108">http-internal.h:108</a></div></div>
<div class="ttc" id="astructevhttp__cb_html_a60001dda2d58adbcab52aa3509eaf85a"><div class="ttname"><a href="structevhttp__cb.html#a60001dda2d58adbcab52aa3509eaf85a">evhttp_cb::what</a></div><div class="ttdeci">char * what</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00111">http-internal.h:111</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>, and <a class="el" href="http-internal_8h_source.html#l00111">evhttp_cb::what</a>.</p>

<p class="reference">Referenced by <a class="el" href="evrpc_8c_source.html#l00250">evrpc_unregister_rpc()</a>.</p>

</div>
</div>
<a id="af78c91ffe7e5352bd4b8ab67140a0445" name="af78c91ffe7e5352bd4b8ab67140a0445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78c91ffe7e5352bd4b8ab67140a0445">&#9670;&nbsp;</a></span>evhttp_dispatch_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structevhttp__cb.html">evhttp_cb</a> * evhttp_dispatch_callback </td>
          <td>(</td>
          <td class="paramtype">struct httpcbq *&#160;</td>
          <td class="paramname"><em>callbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03335">3335</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3336</span>{</div>
<div class="line"><span class="lineno"> 3337</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__cb.html">evhttp_cb</a> *<a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a>;</div>
<div class="line"><span class="lineno"> 3338</span>    <span class="keywordtype">size_t</span> offset = 0;</div>
<div class="line"><span class="lineno"> 3339</span>    <span class="keywordtype">char</span> *translated;</div>
<div class="line"><span class="lineno"> 3340</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *path;</div>
<div class="line"><span class="lineno"> 3341</span> </div>
<div class="line"><span class="lineno"> 3342</span>    <span class="comment">/* Test for different URLs */</span></div>
<div class="line"><span class="lineno"> 3343</span>    path = <a class="code hl_function" href="http_8c.html#ab57ca4f4fcac1f2fc6a1bdb20efbb2ea">evhttp_uri_get_path</a>(req-&gt;uri_elems);</div>
<div class="line"><span class="lineno"> 3344</span>    offset = strlen(path);</div>
<div class="line"><span class="lineno"> 3345</span>    <span class="keywordflow">if</span> ((translated = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(offset + 1)) == NULL)</div>
<div class="line"><span class="lineno"> 3346</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3347</span>    <a class="code hl_function" href="http_8c.html#a6388e8fafd94605920e6e0c22ffa869f">evhttp_decode_uri_internal</a>(path, offset, translated,</div>
<div class="line"><span class="lineno"> 3348</span>        0 <span class="comment">/* decode_plus */</span>);</div>
<div class="line"><span class="lineno"> 3349</span> </div>
<div class="line"><span class="lineno"> 3350</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(<a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a>, callbacks, next) {</div>
<div class="line"><span class="lineno"> 3351</span>        <span class="keywordflow">if</span> (!strcmp(<a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a>-&gt;what, translated)) {</div>
<div class="line"><span class="lineno"> 3352</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(translated);</div>
<div class="line"><span class="lineno"> 3353</span>            <span class="keywordflow">return</span> (<a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a>);</div>
<div class="line"><span class="lineno"> 3354</span>        }</div>
<div class="line"><span class="lineno"> 3355</span>    }</div>
<div class="line"><span class="lineno"> 3356</span> </div>
<div class="line"><span class="lineno"> 3357</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(translated);</div>
<div class="line"><span class="lineno"> 3358</span>    <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3359</span>}</div>
<div class="ttc" id="ahttp_8c_html_ab57ca4f4fcac1f2fc6a1bdb20efbb2ea"><div class="ttname"><a href="http_8c.html#ab57ca4f4fcac1f2fc6a1bdb20efbb2ea">evhttp_uri_get_path</a></div><div class="ttdeci">const char * evhttp_uri_get_path(const struct evhttp_uri *uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l05032">http.c:5032</a></div></div>
<div class="ttc" id="astructevhttp__cb_html_a197b0af28e6ad8c6daf9df6fed624be1"><div class="ttname"><a href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">evhttp_cb::cb</a></div><div class="ttdeci">void(* cb)(struct evhttp_request *req, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00113">http-internal.h:113</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00113">evhttp_cb::cb</a>, <a class="el" href="http_8c_source.html#l03176">evhttp_decode_uri_internal()</a>, <a class="el" href="http_8c_source.html#l05032">evhttp_uri_get_path()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>, and <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>.</p>

</div>
</div>
<a id="abc770cf0f44b8a7c03c1dcc8f1de1ae8" name="abc770cf0f44b8a7c03c1dcc8f1de1ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc770cf0f44b8a7c03c1dcc8f1de1ae8">&#9670;&nbsp;</a></span>evhttp_encode_uri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * evhttp_encode_uri </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03164">3164</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3165</span>{</div>
<div class="line"><span class="lineno"> 3166</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="http_8c.html#a73f764788efd44d578af58de3c5b42ea">evhttp_uriencode</a>(str, -1, 0);</div>
<div class="line"><span class="lineno"> 3167</span>}</div>
<div class="ttc" id="ahttp_8c_html_a73f764788efd44d578af58de3c5b42ea"><div class="ttname"><a href="http_8c.html#a73f764788efd44d578af58de3c5b42ea">evhttp_uriencode</a></div><div class="ttdeci">char * evhttp_uriencode(const char *uri, ev_ssize_t len, int space_as_plus)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03110">http.c:3110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03110">evhttp_uriencode()</a>.</p>

</div>
</div>
<a id="a173e6193915884810d3d6c9fd7175299" name="a173e6193915884810d3d6c9fd7175299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a173e6193915884810d3d6c9fd7175299">&#9670;&nbsp;</a></span>evhttp_error_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_error_cb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01479">1479</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1480</span>{</div>
<div class="line"><span class="lineno"> 1481</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = arg;</div>
<div class="line"><span class="lineno"> 1482</span>    <span class="keyword">struct </span>evhttp_request *req = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno"> 1483</span> </div>
<div class="line"><span class="lineno"> 1484</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> == -1)</div>
<div class="line"><span class="lineno"> 1485</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = <a class="code hl_function" href="bufferevent_8c.html#a8c246bbee9c182cf0524c41010fe7c2c">bufferevent_getfd</a>(bufev);</div>
<div class="line"><span class="lineno"> 1486</span> </div>
<div class="line"><span class="lineno"> 1487</span>    <span class="keywordflow">switch</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a>) {</div>
<div class="line"><span class="lineno"> 1488</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a>:</div>
<div class="line"><span class="lineno"> 1489</span>        <span class="keywordflow">if</span> (what &amp; BEV_EVENT_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 1490</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: connection timeout for \&quot;%s:%d\&quot; on &quot;</span></div>
<div class="line"><span class="lineno"> 1491</span>                <a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a>,</div>
<div class="line"><span class="lineno"> 1492</span>                <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>,</div>
<div class="line"><span class="lineno"> 1493</span>                <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>)));</div>
<div class="line"><span class="lineno"> 1494</span>            <a class="code hl_function" href="http_8c.html#afcfaff5e9f76591078033826f9e1252d">evhttp_connection_cb_cleanup</a>(evcon);</div>
<div class="line"><span class="lineno"> 1495</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1496</span>        }</div>
<div class="line"><span class="lineno"> 1497</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1498</span> </div>
<div class="line"><span class="lineno"> 1499</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9">EVCON_READING_BODY</a>:</div>
<div class="line"><span class="lineno"> 1500</span>        <span class="keywordflow">if</span> (!req-&gt;chunked &amp;&amp; req-&gt;ntoread &lt; 0</div>
<div class="line"><span class="lineno"> 1501</span>            &amp;&amp; what == (BEV_EVENT_READING|BEV_EVENT_EOF)) {</div>
<div class="line"><span class="lineno"> 1502</span>            <span class="comment">/* EOF on read can be benign */</span></div>
<div class="line"><span class="lineno"> 1503</span>            <a class="code hl_function" href="http_8c.html#adcab479b0018f22f0295150a5fd2d03d">evhttp_connection_done</a>(evcon);</div>
<div class="line"><span class="lineno"> 1504</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1505</span>        }</div>
<div class="line"><span class="lineno"> 1506</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1507</span> </div>
<div class="line"><span class="lineno"> 1508</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>:</div>
<div class="line"><span class="lineno"> 1509</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a>:</div>
<div class="line"><span class="lineno"> 1510</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a>:</div>
<div class="line"><span class="lineno"> 1511</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b">EVCON_READING_HEADERS</a>:</div>
<div class="line"><span class="lineno"> 1512</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d">EVCON_READING_TRAILER</a>:</div>
<div class="line"><span class="lineno"> 1513</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>:</div>
<div class="line"><span class="lineno"> 1514</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1515</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1516</span>    }</div>
<div class="line"><span class="lineno"> 1517</span> </div>
<div class="line"><span class="lineno"> 1518</span>    <span class="comment">/* when we are in close detect mode, a read error means that</span></div>
<div class="line"><span class="lineno"> 1519</span><span class="comment">     * the other side closed their connection.</span></div>
<div class="line"><span class="lineno"> 1520</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1521</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#ac67356d27730bf3884584a256f599bcc">EVHTTP_CON_CLOSEDETECT</a>) {</div>
<div class="line"><span class="lineno"> 1522</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp;= ~EVHTTP_CON_CLOSEDETECT;</div>
<div class="line"><span class="lineno"> 1523</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a384062befaf1654ea365663f4bd4b73c">http_server</a> == NULL);</div>
<div class="line"><span class="lineno"> 1524</span>        <span class="comment">/* For connections from the client, we just</span></div>
<div class="line"><span class="lineno"> 1525</span><span class="comment">         * reset the connection so that it becomes</span></div>
<div class="line"><span class="lineno"> 1526</span><span class="comment">         * disconnected.</span></div>
<div class="line"><span class="lineno"> 1527</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1528</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> == <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a>);</div>
<div class="line"><span class="lineno"> 1529</span>        <a class="code hl_function" href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a>(evcon);</div>
<div class="line"><span class="lineno"> 1530</span> </div>
<div class="line"><span class="lineno"> 1531</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1532</span><span class="comment">         * If we have no more requests that need completion</span></div>
<div class="line"><span class="lineno"> 1533</span><span class="comment">         * and we want to auto-free the connection when all</span></div>
<div class="line"><span class="lineno"> 1534</span><span class="comment">         * requests have been completed.</span></div>
<div class="line"><span class="lineno"> 1535</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1536</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests) == NULL</div>
<div class="line"><span class="lineno"> 1537</span>          &amp;&amp; (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#a950439044b8c0b61dcbcbb7e0d2965f9">EVHTTP_CON_OUTGOING</a>)</div>
<div class="line"><span class="lineno"> 1538</span>          &amp;&amp; (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a>)) {</div>
<div class="line"><span class="lineno"> 1539</span>            <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno"> 1540</span>        }</div>
<div class="line"><span class="lineno"> 1541</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1542</span>    }</div>
<div class="line"><span class="lineno"> 1543</span> </div>
<div class="line"><span class="lineno"> 1544</span>    <span class="keywordflow">if</span> (what &amp; BEV_EVENT_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 1545</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_TIMEOUT);</div>
<div class="line"><span class="lineno"> 1546</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what &amp; (BEV_EVENT_EOF|BEV_EVENT_ERROR)) {</div>
<div class="line"><span class="lineno"> 1547</span>        <span class="keywordflow">if</span> (what &amp; BEV_EVENT_WRITING &amp;&amp;</div>
<div class="line"><span class="lineno"> 1548</span>            evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; EVHTTP_CON_READ_ON_WRITE_ERROR) {</div>
<div class="line"><span class="lineno"> 1549</span>            <a class="code hl_function" href="http_8c.html#a6dd68971b6d6ad46a9935a41af756805">evhttp_connection_read_on_write_error</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1550</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1551</span>        }</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>        <span class="keywordflow">if</span> (what &amp; BEV_EVENT_READING &amp;&amp;</div>
<div class="line"><span class="lineno"> 1554</span>            evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; EVHTTP_CON_READ_ON_WRITE_ERROR &amp;&amp;</div>
<div class="line"><span class="lineno"> 1555</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(bufev))) {</div>
<div class="line"><span class="lineno"> 1556</span>            <a class="code hl_function" href="defer-internal_8h.html#a24707370a90c5bb18a23743420290ef1">event_deferred_cb_schedule_</a>(<a class="code hl_define" href="http_8c.html#a148fc0a6cc62b69f27dd7025c0b121c9">get_deferred_queue</a>(evcon),</div>
<div class="line"><span class="lineno"> 1557</span>                &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ae362b994e6dd892dbae9083caa4ab40c">read_more_deferred_cb</a>);</div>
<div class="line"><span class="lineno"> 1558</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1559</span>        }</div>
<div class="line"><span class="lineno"> 1560</span> </div>
<div class="line"><span class="lineno"> 1561</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_EOF);</div>
<div class="line"><span class="lineno"> 1562</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what == BEV_EVENT_CONNECTED) {</div>
<div class="line"><span class="lineno"> 1563</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1564</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_BUFFER_ERROR);</div>
<div class="line"><span class="lineno"> 1565</span>    }</div>
<div class="line"><span class="lineno"> 1566</span>}</div>
<div class="ttc" id="adefer-internal_8h_html_a24707370a90c5bb18a23743420290ef1"><div class="ttname"><a href="defer-internal_8h.html#a24707370a90c5bb18a23743420290ef1">event_deferred_cb_schedule_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int event_deferred_cb_schedule_(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03124">event.c:3124</a></div></div>
<div class="ttc" id="ahttp_8c_html_a6dd68971b6d6ad46a9935a41af756805"><div class="ttname"><a href="http_8c.html#a6dd68971b6d6ad46a9935a41af756805">evhttp_connection_read_on_write_error</a></div><div class="ttdeci">static void evhttp_connection_read_on_write_error(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01455">http.c:1455</a></div></div>
<div class="ttc" id="ahttp_8c_html_adcab479b0018f22f0295150a5fd2d03d"><div class="ttname"><a href="http_8c.html#adcab479b0018f22f0295150a5fd2d03d">evhttp_connection_done</a></div><div class="ttdeci">static void evhttp_connection_done(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00824">http.c:824</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="bufferevent_8c_source.html#l00880">bufferevent_getfd()</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http-internal_8h_source.html#l00038">EVCON_CONNECTING</a>, <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="http-internal_8h_source.html#l00039">EVCON_IDLE</a>, <a class="el" href="http-internal_8h_source.html#l00043">EVCON_READING_BODY</a>, <a class="el" href="http-internal_8h_source.html#l00040">EVCON_READING_FIRSTLINE</a>, <a class="el" href="http-internal_8h_source.html#l00042">EVCON_READING_HEADERS</a>, <a class="el" href="http-internal_8h_source.html#l00044">EVCON_READING_TRAILER</a>, <a class="el" href="http-internal_8h_source.html#l00045">EVCON_WRITING</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l03124">event_deferred_cb_schedule_()</a>, <a class="el" href="http-internal_8h_source.html#l00075">EVHTTP_CON_AUTOFREE</a>, <a class="el" href="http-internal_8h_source.html#l00073">EVHTTP_CON_CLOSEDETECT</a>, <a class="el" href="http-internal_8h_source.html#l00072">EVHTTP_CON_OUTGOING</a>, <a class="el" href="http_8c_source.html#l01402">evhttp_connection_cb_cleanup()</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l01455">evhttp_connection_read_on_write_error()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, <a class="el" href="http_8c_source.html#l01124">get_deferred_queue</a>, <a class="el" href="http-internal_8h_source.html#l00090">evhttp_connection::http_server</a>, <a class="el" href="http-internal_8h_source.html#l00065">evhttp_connection::port</a>, <a class="el" href="http-internal_8h_source.html#l00100">evhttp_connection::read_more_deferred_cb</a>, <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>, <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l00398">evhttp_send_continue()</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, and <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>.</p>

</div>
</div>
<a id="adb678a22a48f4bbb34c292ee893e1ebc" name="adb678a22a48f4bbb34c292ee893e1ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb678a22a48f4bbb34c292ee893e1ebc">&#9670;&nbsp;</a></span>evhttp_find_alias()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_find_alias </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> **&#160;</td>
          <td class="paramname"><em>outhttp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hostname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03399">3399</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3401</span>{</div>
<div class="line"><span class="lineno"> 3402</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__server__alias.html">evhttp_server_alias</a> *<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>;</div>
<div class="line"><span class="lineno"> 3403</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *vhost;</div>
<div class="line"><span class="lineno"> 3404</span> </div>
<div class="line"><span class="lineno"> 3405</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(alias, &amp;http-&gt;aliases, next) {</div>
<div class="line"><span class="lineno"> 3406</span>        <span class="comment">/* XXX Do we need to handle IP addresses? */</span></div>
<div class="line"><span class="lineno"> 3407</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(alias-&gt;<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>, hostname)) {</div>
<div class="line"><span class="lineno"> 3408</span>            <span class="keywordflow">if</span> (outhttp)</div>
<div class="line"><span class="lineno"> 3409</span>                *outhttp = http;</div>
<div class="line"><span class="lineno"> 3410</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 3411</span>        }</div>
<div class="line"><span class="lineno"> 3412</span>    }</div>
<div class="line"><span class="lineno"> 3413</span> </div>
<div class="line"><span class="lineno"> 3414</span>    <span class="comment">/* XXX It might be good to avoid recursion here, but I don&#39;t</span></div>
<div class="line"><span class="lineno"> 3415</span><span class="comment">       see a way to do that w/o a list. */</span></div>
<div class="line"><span class="lineno"> 3416</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(vhost, &amp;http-&gt;virtualhosts, next_vhost) {</div>
<div class="line"><span class="lineno"> 3417</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#adb678a22a48f4bbb34c292ee893e1ebc">evhttp_find_alias</a>(vhost, outhttp, hostname))</div>
<div class="line"><span class="lineno"> 3418</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 3419</span>    }</div>
<div class="line"><span class="lineno"> 3420</span> </div>
<div class="line"><span class="lineno"> 3421</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3422</span>}</div>
<div class="ttc" id="aevutil_8c_html_a37aa2a5fce2eabe8d3fe878e6a8c75b2"><div class="ttname"><a href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a></div><div class="ttdeci">int evutil_ascii_strcasecmp(const char *s1, const char *s2)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02392">evutil.c:2392</a></div></div>
<div class="ttc" id="ahttp_8c_html_adb678a22a48f4bbb34c292ee893e1ebc"><div class="ttname"><a href="http_8c.html#adb678a22a48f4bbb34c292ee893e1ebc">evhttp_find_alias</a></div><div class="ttdeci">static int evhttp_find_alias(struct evhttp *http, struct evhttp **outhttp, const char *hostname)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03399">http.c:3399</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00131">evhttp_server_alias::alias</a>, <a class="el" href="http_8c_source.html#l03399">evhttp_find_alias()</a>, <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, and <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03399">evhttp_find_alias()</a>, and <a class="el" href="http_8c_source.html#l03436">evhttp_find_vhost()</a>.</p>

</div>
</div>
<a id="a2f22ee71113d25b89efa127d98ec0766" name="a2f22ee71113d25b89efa127d98ec0766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f22ee71113d25b89efa127d98ec0766">&#9670;&nbsp;</a></span>evhttp_find_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_find_header </td>
          <td>(</td>
          <td class="paramtype">const struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01899">1899</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1900</span>{</div>
<div class="line"><span class="lineno"> 1901</span>    <span class="keyword">struct </span>evkeyval *header;</div>
<div class="line"><span class="lineno"> 1902</span> </div>
<div class="line"><span class="lineno"> 1903</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(header, headers, next) {</div>
<div class="line"><span class="lineno"> 1904</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(header-&gt;key, key) == 0)</div>
<div class="line"><span class="lineno"> 1905</span>            <span class="keywordflow">return</span> (header-&gt;value);</div>
<div class="line"><span class="lineno"> 1906</span>    }</div>
<div class="line"><span class="lineno"> 1907</span> </div>
<div class="line"><span class="lineno"> 1908</span>    <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 1909</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, and <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, <a class="el" href="http_8c_source.html#l02159">evhttp_get_body_length()</a>, <a class="el" href="http_8c_source.html#l00586">evhttp_have_expect()</a>, <a class="el" href="http_8c_source.html#l00468">evhttp_is_connection_close()</a>, <a class="el" href="http_8c_source.html#l00492">evhttp_is_connection_keepalive()</a>, <a class="el" href="http_8c_source.html#l00438">evhttp_make_header_request()</a>, <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>, <a class="el" href="http_8c_source.html#l00514">evhttp_maybe_add_content_length_header()</a>, <a class="el" href="http_8c_source.html#l00501">evhttp_maybe_add_date_header()</a>, <a class="el" href="http_8c_source.html#l04139">evhttp_request_get_host()</a>, <a class="el" href="http_8c_source.html#l02867">evhttp_send_reply_start()</a>, and <a class="el" href="evrpc_8c_source.html#l00474">evrpc_request_done_closure()</a>.</p>

</div>
</div>
<a id="a52d5625a2e540c973db9b2cc66f3348c" name="a52d5625a2e540c973db9b2cc66f3348c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d5625a2e540c973db9b2cc66f3348c">&#9670;&nbsp;</a></span>evhttp_find_vhost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_find_vhost </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> **&#160;</td>
          <td class="paramname"><em>outhttp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hostname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03436">3436</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3438</span>{</div>
<div class="line"><span class="lineno"> 3439</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *vhost;</div>
<div class="line"><span class="lineno"> 3440</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *oldhttp;</div>
<div class="line"><span class="lineno"> 3441</span>    <span class="keywordtype">int</span> match_found = 0;</div>
<div class="line"><span class="lineno"> 3442</span> </div>
<div class="line"><span class="lineno"> 3443</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#adb678a22a48f4bbb34c292ee893e1ebc">evhttp_find_alias</a>(http, outhttp, hostname))</div>
<div class="line"><span class="lineno"> 3444</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 3445</span> </div>
<div class="line"><span class="lineno"> 3446</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 3447</span>        oldhttp = http;</div>
<div class="line"><span class="lineno"> 3448</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(vhost, &amp;http-&gt;virtualhosts, next_vhost) {</div>
<div class="line"><span class="lineno"> 3449</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#ac1683680e128df804c6895207849f5f6">prefix_suffix_match</a>(vhost-&gt;<a class="code hl_variable" href="structevhttp.html#a305c78f5d37661748603cc87db084e28">vhost_pattern</a>,</div>
<div class="line"><span class="lineno"> 3450</span>                hostname, 1 <span class="comment">/* ignorecase */</span>)) {</div>
<div class="line"><span class="lineno"> 3451</span>                http = vhost;</div>
<div class="line"><span class="lineno"> 3452</span>                match_found = 1;</div>
<div class="line"><span class="lineno"> 3453</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3454</span>            }</div>
<div class="line"><span class="lineno"> 3455</span>        }</div>
<div class="line"><span class="lineno"> 3456</span>    } <span class="keywordflow">while</span> (oldhttp != http);</div>
<div class="line"><span class="lineno"> 3457</span> </div>
<div class="line"><span class="lineno"> 3458</span>    <span class="keywordflow">if</span> (outhttp)</div>
<div class="line"><span class="lineno"> 3459</span>        *outhttp = http;</div>
<div class="line"><span class="lineno"> 3460</span> </div>
<div class="line"><span class="lineno"> 3461</span>    <span class="keywordflow">return</span> match_found;</div>
<div class="line"><span class="lineno"> 3462</span>}</div>
<div class="ttc" id="ahttp_8c_html_ac1683680e128df804c6895207849f5f6"><div class="ttname"><a href="http_8c.html#ac1683680e128df804c6895207849f5f6">prefix_suffix_match</a></div><div class="ttdeci">static int prefix_suffix_match(const char *pattern, const char *name, int ignorecase)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03363">http.c:3363</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03399">evhttp_find_alias()</a>, <a class="el" href="http_8c_source.html#l03363">prefix_suffix_match()</a>, <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>, and <a class="el" href="http-internal_8h_source.html#l00151">evhttp::vhost_pattern</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>, and <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>.</p>

</div>
</div>
<a id="a91b647671f1482f5a996509aad50b5ba" name="a91b647671f1482f5a996509aad50b5ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91b647671f1482f5a996509aad50b5ba">&#9670;&nbsp;</a></span>evhttp_foreach_bound_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_foreach_bound_socket </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evhttp_bound_socket_foreach_fn *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argument</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03598">3598</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3601</span>{</div>
<div class="line"><span class="lineno"> 3602</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound;</div>
<div class="line"><span class="lineno"> 3603</span> </div>
<div class="line"><span class="lineno"> 3604</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(bound, &amp;http-&gt;sockets, next)</div>
<div class="line"><span class="lineno"> 3605</span>        function(bound, argument);</div>
<div class="line"><span class="lineno"> 3606</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>.</p>

</div>
</div>
<a id="a849acf0f233772b486b8057fcf3aaf4a" name="a849acf0f233772b486b8057fcf3aaf4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a849acf0f233772b486b8057fcf3aaf4a">&#9670;&nbsp;</a></span>evhttp_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03731">3731</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3732</span>{</div>
<div class="line"><span class="lineno"> 3733</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__cb.html">evhttp_cb</a> *http_cb;</div>
<div class="line"><span class="lineno"> 3734</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon;</div>
<div class="line"><span class="lineno"> 3735</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__bound__socket.html">evhttp_bound_socket</a> *bound;</div>
<div class="line"><span class="lineno"> 3736</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a>* vhost;</div>
<div class="line"><span class="lineno"> 3737</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__server__alias.html">evhttp_server_alias</a> *<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>;</div>
<div class="line"><span class="lineno"> 3738</span> </div>
<div class="line"><span class="lineno"> 3739</span>    <span class="comment">/* Remove the accepting part */</span></div>
<div class="line"><span class="lineno"> 3740</span>    <span class="keywordflow">while</span> ((bound = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;http-&gt;sockets)) != NULL) {</div>
<div class="line"><span class="lineno"> 3741</span>        TAILQ_REMOVE(&amp;http-&gt;sockets, bound, next);</div>
<div class="line"><span class="lineno"> 3742</span> </div>
<div class="line"><span class="lineno"> 3743</span>        <a class="code hl_function" href="listener_8c.html#a8f2a4e2acac6ac07344f03e26f5420e0">evconnlistener_free</a>(bound-&gt;<a class="code hl_variable" href="structevhttp__bound__socket.html#adee3b42ecac9bee341df9509f54458cc">listener</a>);</div>
<div class="line"><span class="lineno"> 3744</span> </div>
<div class="line"><span class="lineno"> 3745</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(bound);</div>
<div class="line"><span class="lineno"> 3746</span>    }</div>
<div class="line"><span class="lineno"> 3747</span> </div>
<div class="line"><span class="lineno"> 3748</span>    <span class="keywordflow">while</span> ((evcon = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;http-&gt;<a class="code hl_variable" href="structevhttp.html#a6295127b5a8f06a1bfb847b5e9b1b90c">connections</a>)) != NULL) {</div>
<div class="line"><span class="lineno"> 3749</span>        <span class="comment">/* evhttp_connection_free removes the connection */</span></div>
<div class="line"><span class="lineno"> 3750</span>        <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno"> 3751</span>    }</div>
<div class="line"><span class="lineno"> 3752</span> </div>
<div class="line"><span class="lineno"> 3753</span>    <span class="keywordflow">while</span> ((http_cb = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;http-&gt;callbacks)) != NULL) {</div>
<div class="line"><span class="lineno"> 3754</span>        TAILQ_REMOVE(&amp;http-&gt;callbacks, http_cb, next);</div>
<div class="line"><span class="lineno"> 3755</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(http_cb-&gt;<a class="code hl_variable" href="structevhttp__cb.html#a60001dda2d58adbcab52aa3509eaf85a">what</a>);</div>
<div class="line"><span class="lineno"> 3756</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(http_cb);</div>
<div class="line"><span class="lineno"> 3757</span>    }</div>
<div class="line"><span class="lineno"> 3758</span> </div>
<div class="line"><span class="lineno"> 3759</span>    <span class="keywordflow">while</span> ((vhost = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;http-&gt;virtualhosts)) != NULL) {</div>
<div class="line"><span class="lineno"> 3760</span>        TAILQ_REMOVE(&amp;http-&gt;virtualhosts, vhost, next_vhost);</div>
<div class="line"><span class="lineno"> 3761</span> </div>
<div class="line"><span class="lineno"> 3762</span>        <a class="code hl_function" href="http_8c.html#a849acf0f233772b486b8057fcf3aaf4a">evhttp_free</a>(vhost);</div>
<div class="line"><span class="lineno"> 3763</span>    }</div>
<div class="line"><span class="lineno"> 3764</span> </div>
<div class="line"><span class="lineno"> 3765</span>    <span class="keywordflow">if</span> (http-&gt;<a class="code hl_variable" href="structevhttp.html#a305c78f5d37661748603cc87db084e28">vhost_pattern</a> != NULL)</div>
<div class="line"><span class="lineno"> 3766</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(http-&gt;<a class="code hl_variable" href="structevhttp.html#a305c78f5d37661748603cc87db084e28">vhost_pattern</a>);</div>
<div class="line"><span class="lineno"> 3767</span> </div>
<div class="line"><span class="lineno"> 3768</span>    <span class="keywordflow">while</span> ((<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a> = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;http-&gt;aliases)) != NULL) {</div>
<div class="line"><span class="lineno"> 3769</span>        TAILQ_REMOVE(&amp;http-&gt;aliases, <a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>, next);</div>
<div class="line"><span class="lineno"> 3770</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>-&gt;alias);</div>
<div class="line"><span class="lineno"> 3771</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>);</div>
<div class="line"><span class="lineno"> 3772</span>    }</div>
<div class="line"><span class="lineno"> 3773</span> </div>
<div class="line"><span class="lineno"> 3774</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(http);</div>
<div class="line"><span class="lineno"> 3775</span>}</div>
<div class="ttc" id="ahttp_8c_html_a849acf0f233772b486b8057fcf3aaf4a"><div class="ttname"><a href="http_8c.html#a849acf0f233772b486b8057fcf3aaf4a">evhttp_free</a></div><div class="ttdeci">void evhttp_free(struct evhttp *http)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03731">http.c:3731</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00131">evhttp_server_alias::alias</a>, <a class="el" href="http-internal_8h_source.html#l00144">evhttp::connections</a>, <a class="el" href="listener_8c_source.html#l00270">evconnlistener_free()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l03731">evhttp_free()</a>, <a class="el" href="http-internal_8h_source.html#l00124">evhttp_bound_socket::listener</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>, <a class="el" href="http-internal_8h_source.html#l00151">evhttp::vhost_pattern</a>, and <a class="el" href="http-internal_8h_source.html#l00111">evhttp_cb::what</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03731">evhttp_free()</a>.</p>

</div>
</div>
<a id="a6e09f2a77faf6a2ffacc7e99005a0ff6" name="a6e09f2a77faf6a2ffacc7e99005a0ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e09f2a77faf6a2ffacc7e99005a0ff6">&#9670;&nbsp;</a></span>evhttp_get_body()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_get_body </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02215">2215</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2216</span>{</div>
<div class="line"><span class="lineno"> 2217</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *xfer_enc;</div>
<div class="line"><span class="lineno"> 2218</span> </div>
<div class="line"><span class="lineno"> 2219</span>    <span class="comment">/* If this is a request without a body, then we are done */</span></div>
<div class="line"><span class="lineno"> 2220</span>    <span class="keywordflow">if</span> (req-&gt;kind == EVHTTP_REQUEST &amp;&amp;</div>
<div class="line"><span class="lineno"> 2221</span>        !<a class="code hl_function" href="http_8c.html#ae7dd2208193d6666ad2501e33eb5bf7d">evhttp_method_may_have_body</a>(req-&gt;type)) {</div>
<div class="line"><span class="lineno"> 2222</span>        <a class="code hl_function" href="http_8c.html#adcab479b0018f22f0295150a5fd2d03d">evhttp_connection_done</a>(evcon);</div>
<div class="line"><span class="lineno"> 2223</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2224</span>    }</div>
<div class="line"><span class="lineno"> 2225</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9">EVCON_READING_BODY</a>;</div>
<div class="line"><span class="lineno"> 2226</span>    xfer_enc = <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(req-&gt;input_headers, <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>);</div>
<div class="line"><span class="lineno"> 2227</span>    <span class="keywordflow">if</span> (xfer_enc != NULL &amp;&amp; <a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(xfer_enc, <span class="stringliteral">&quot;chunked&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2228</span>        req-&gt;chunked = 1;</div>
<div class="line"><span class="lineno"> 2229</span>        req-&gt;ntoread = -1;</div>
<div class="line"><span class="lineno"> 2230</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2231</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a4b86a5781cb843099d7b40e93efde217">evhttp_get_body_length</a>(req) == -1) {</div>
<div class="line"><span class="lineno"> 2232</span>            <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_INVALID_HEADER);</div>
<div class="line"><span class="lineno"> 2233</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2234</span>        }</div>
<div class="line"><span class="lineno"> 2235</span>        <span class="keywordflow">if</span> (req-&gt;kind == EVHTTP_REQUEST &amp;&amp; req-&gt;ntoread &lt; 1) {</div>
<div class="line"><span class="lineno"> 2236</span>            <span class="comment">/* An incoming request with no content-length and no</span></div>
<div class="line"><span class="lineno"> 2237</span><span class="comment">             * transfer-encoding has no body. */</span></div>
<div class="line"><span class="lineno"> 2238</span>            <a class="code hl_function" href="http_8c.html#adcab479b0018f22f0295150a5fd2d03d">evhttp_connection_done</a>(evcon);</div>
<div class="line"><span class="lineno"> 2239</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2240</span>        }</div>
<div class="line"><span class="lineno"> 2241</span>    }</div>
<div class="line"><span class="lineno"> 2242</span> </div>
<div class="line"><span class="lineno"> 2243</span>    <span class="comment">/* Should we send a 100 Continue status line? */</span></div>
<div class="line"><span class="lineno"> 2244</span>    <span class="keywordflow">switch</span> (<a class="code hl_function" href="http_8c.html#a8b711d9faf585de0afc9482074f032f1">evhttp_have_expect</a>(req, 1)) {</div>
<div class="line"><span class="lineno"> 2245</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a49959dd441dcda75d6898cf2c68fb374">CONTINUE</a>:</div>
<div class="line"><span class="lineno"> 2246</span>                <span class="comment">/* XXX It would be nice to do some sanity</span></div>
<div class="line"><span class="lineno"> 2247</span><span class="comment">                   checking here. Does the resource exist?</span></div>
<div class="line"><span class="lineno"> 2248</span><span class="comment">                   Should the resource accept post requests? If</span></div>
<div class="line"><span class="lineno"> 2249</span><span class="comment">                   no, we should respond with an error. For</span></div>
<div class="line"><span class="lineno"> 2250</span><span class="comment">                   now, just optimistically tell the client to</span></div>
<div class="line"><span class="lineno"> 2251</span><span class="comment">                   send their message body. */</span></div>
<div class="line"><span class="lineno"> 2252</span>                <span class="keywordflow">if</span> (req-&gt;ntoread &gt; 0) {</div>
<div class="line"><span class="lineno"> 2253</span>                    <span class="comment">/* ntoread is ev_int64_t, max_body_size is ev_uint64_t */</span> </div>
<div class="line"><span class="lineno"> 2254</span>                    <span class="keywordflow">if</span> ((req-&gt;evcon-&gt;max_body_size &lt;= EV_INT64_MAX) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2255</span>                        (ev_uint64_t)req-&gt;ntoread &gt; req-&gt;evcon-&gt;max_body_size) {</div>
<div class="line"><span class="lineno"> 2256</span>                        <a class="code hl_function" href="http_8c.html#aecb1c6e18c84c4074fc7939264db56b5">evhttp_lingering_fail</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 2257</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2258</span>                    }</div>
<div class="line"><span class="lineno"> 2259</span>                }</div>
<div class="line"><span class="lineno"> 2260</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>)))</div>
<div class="line"><span class="lineno"> 2261</span>                    <a class="code hl_function" href="http_8c.html#a9e508893832c1adacc2d9ea24f88aaf5">evhttp_send_continue</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 2262</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2263</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919adbf1dee1b8cd7ea3c82661943c7b74f4">OTHER</a>:</div>
<div class="line"><span class="lineno"> 2264</span>            <a class="code hl_function" href="http_8c.html#a629ef7f70ed916e162dee3bd12e397c9">evhttp_send_error</a>(req, HTTP_EXPECTATIONFAILED, NULL);</div>
<div class="line"><span class="lineno"> 2265</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2266</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a0d077f5b932ce05e5b9f30c6087a2f31">NO</a>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2267</span>    }</div>
<div class="line"><span class="lineno"> 2268</span> </div>
<div class="line"><span class="lineno"> 2269</span>    <a class="code hl_function" href="http_8c.html#a86a93ad9abc750b2588f751514e6c22b">evhttp_read_body</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 2270</span>    <span class="comment">/* note the request may have been freed in evhttp_read_body */</span></div>
<div class="line"><span class="lineno"> 2271</span>}</div>
<div class="ttc" id="ahttp_8c_html_a2f22ee71113d25b89efa127d98ec0766"><div class="ttname"><a href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a></div><div class="ttdeci">const char * evhttp_find_header(const struct evkeyvalq *headers, const char *key)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01899">http.c:1899</a></div></div>
<div class="ttc" id="ahttp_8c_html_a4b86a5781cb843099d7b40e93efde217"><div class="ttname"><a href="http_8c.html#a4b86a5781cb843099d7b40e93efde217">evhttp_get_body_length</a></div><div class="ttdeci">static int evhttp_get_body_length(struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02159">http.c:2159</a></div></div>
<div class="ttc" id="ahttp_8c_html_a629ef7f70ed916e162dee3bd12e397c9"><div class="ttname"><a href="http_8c.html#a629ef7f70ed916e162dee3bd12e397c9">evhttp_send_error</a></div><div class="ttdeci">void evhttp_send_error(struct evhttp_request *req, int error, const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02801">http.c:2801</a></div></div>
<div class="ttc" id="ahttp_8c_html_a86a93ad9abc750b2588f751514e6c22b"><div class="ttname"><a href="http_8c.html#a86a93ad9abc750b2588f751514e6c22b">evhttp_read_body</a></div><div class="ttdeci">static void evhttp_read_body(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01047">http.c:1047</a></div></div>
<div class="ttc" id="ahttp_8c_html_a8b711d9faf585de0afc9482074f032f1"><div class="ttname"><a href="http_8c.html#a8b711d9faf585de0afc9482074f032f1">evhttp_have_expect</a></div><div class="ttdeci">static enum expect evhttp_have_expect(struct evhttp_request *req, int input)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00586">http.c:586</a></div></div>
<div class="ttc" id="ahttp_8c_html_a9e508893832c1adacc2d9ea24f88aaf5"><div class="ttname"><a href="http_8c.html#a9e508893832c1adacc2d9ea24f88aaf5">evhttp_send_continue</a></div><div class="ttdeci">static void evhttp_send_continue(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00398">http.c:398</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae7dd2208193d6666ad2501e33eb5bf7d"><div class="ttname"><a href="http_8c.html#ae7dd2208193d6666ad2501e33eb5bf7d">evhttp_method_may_have_body</a></div><div class="ttdeci">static int evhttp_method_may_have_body(enum evhttp_cmd_type type)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02194">http.c:2194</a></div></div>
<div class="ttc" id="ahttp_8c_html_aecb1c6e18c84c4074fc7939264db56b5"><div class="ttname"><a href="http_8c.html#aecb1c6e18c84c4074fc7939264db56b5">evhttp_lingering_fail</a></div><div class="ttdeci">static void evhttp_lingering_fail(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01037">http.c:1037</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="http_8c_source.html#l00585">CONTINUE</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http-internal_8h_source.html#l00043">EVCON_READING_BODY</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, <a class="el" href="http_8c_source.html#l02159">evhttp_get_body_length()</a>, <a class="el" href="http_8c_source.html#l00586">evhttp_have_expect()</a>, <a class="el" href="http_8c_source.html#l01037">evhttp_lingering_fail()</a>, <a class="el" href="http_8c_source.html#l02194">evhttp_method_may_have_body()</a>, <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>, <a class="el" href="http_8c_source.html#l00398">evhttp_send_continue()</a>, <a class="el" href="http_8c_source.html#l02801">evhttp_send_error()</a>, <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, <a class="el" href="http_8c_source.html#l00585">NO</a>, <a class="el" href="http_8c_source.html#l00585">OTHER</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>.</p>

</div>
</div>
<a id="a4b86a5781cb843099d7b40e93efde217" name="a4b86a5781cb843099d7b40e93efde217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b86a5781cb843099d7b40e93efde217">&#9670;&nbsp;</a></span>evhttp_get_body_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_get_body_length </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02159">2159</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2160</span>{</div>
<div class="line"><span class="lineno"> 2161</span>    <span class="keyword">struct </span>evkeyvalq *headers = req-&gt;input_headers;</div>
<div class="line"><span class="lineno"> 2162</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *content_length;</div>
<div class="line"><span class="lineno"> 2163</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *connection;</div>
<div class="line"><span class="lineno"> 2164</span> </div>
<div class="line"><span class="lineno"> 2165</span>    content_length = <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(headers, <span class="stringliteral">&quot;Content-Length&quot;</span>);</div>
<div class="line"><span class="lineno"> 2166</span>    connection = <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(headers, <span class="stringliteral">&quot;Connection&quot;</span>);</div>
<div class="line"><span class="lineno"> 2167</span> </div>
<div class="line"><span class="lineno"> 2168</span>    <span class="keywordflow">if</span> (content_length == NULL &amp;&amp; connection == NULL)</div>
<div class="line"><span class="lineno"> 2169</span>        req-&gt;ntoread = -1;</div>
<div class="line"><span class="lineno"> 2170</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (content_length == NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2171</span>        <a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(connection, <span class="stringliteral">&quot;Close&quot;</span>) != 0) {</div>
<div class="line"><span class="lineno"> 2172</span>        req-&gt;ntoread = 0;</div>
<div class="line"><span class="lineno"> 2173</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (content_length == NULL) {</div>
<div class="line"><span class="lineno"> 2174</span>        req-&gt;ntoread = -1;</div>
<div class="line"><span class="lineno"> 2175</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2176</span>        <span class="keywordtype">char</span> *endp;</div>
<div class="line"><span class="lineno"> 2177</span>        ev_int64_t ntoread = <a class="code hl_function" href="evutil_8c.html#a87762fbc9974b211df3babfacd99df19">evutil_strtoll</a>(content_length, &amp;endp, 10);</div>
<div class="line"><span class="lineno"> 2178</span>        <span class="keywordflow">if</span> (*content_length == <span class="charliteral">&#39;\0&#39;</span> || *endp != <span class="charliteral">&#39;\0&#39;</span> || ntoread &lt; 0) {</div>
<div class="line"><span class="lineno"> 2179</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: illegal content length: %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 2180</span>                <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, content_length));</div>
<div class="line"><span class="lineno"> 2181</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2182</span>        }</div>
<div class="line"><span class="lineno"> 2183</span>        req-&gt;ntoread = ntoread;</div>
<div class="line"><span class="lineno"> 2184</span>    }</div>
<div class="line"><span class="lineno"> 2185</span> </div>
<div class="line"><span class="lineno"> 2186</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: bytes to read: &quot;</span><a class="code hl_define" href="util-internal_8h.html#a2d6d8697f840ae468e96d2ab95d23d5e">EV_I64_FMT</a><span class="stringliteral">&quot; (in buffer &quot;</span><a class="code hl_define" href="util-internal_8h.html#a98b3bbf9bce92f1eb231dc5aead267a7">EV_SIZE_FMT</a><span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2187</span>        <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, <a class="code hl_define" href="util-internal_8h.html#aa73b1288f10121d91d3683ca13086cb8">EV_I64_ARG</a>(req-&gt;ntoread),</div>
<div class="line"><span class="lineno"> 2188</span>        <a class="code hl_define" href="util-internal_8h.html#ab7d3b18d459ed5a75c9b6b19edd9b054">EV_SIZE_ARG</a>(<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(req-&gt;evcon-&gt;bufev)))));</div>
<div class="line"><span class="lineno"> 2189</span> </div>
<div class="line"><span class="lineno"> 2190</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2191</span>}</div>
<div class="ttc" id="aevutil_8c_html_a87762fbc9974b211df3babfacd99df19"><div class="ttname"><a href="evutil_8c.html#a87762fbc9974b211df3babfacd99df19">evutil_strtoll</a></div><div class="ttdeci">ev_int64_t evutil_strtoll(const char *s, char **endptr, int base)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00464">evutil.c:464</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a2d6d8697f840ae468e96d2ab95d23d5e"><div class="ttname"><a href="util-internal_8h.html#a2d6d8697f840ae468e96d2ab95d23d5e">EV_I64_FMT</a></div><div class="ttdeci">#define EV_I64_FMT</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00466">util-internal.h:466</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a98b3bbf9bce92f1eb231dc5aead267a7"><div class="ttname"><a href="util-internal_8h.html#a98b3bbf9bce92f1eb231dc5aead267a7">EV_SIZE_FMT</a></div><div class="ttdeci">#define EV_SIZE_FMT</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00491">util-internal.h:491</a></div></div>
<div class="ttc" id="autil-internal_8h_html_aa73b1288f10121d91d3683ca13086cb8"><div class="ttname"><a href="util-internal_8h.html#aa73b1288f10121d91d3683ca13086cb8">EV_I64_ARG</a></div><div class="ttdeci">#define EV_I64_ARG(x)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00467">util-internal.h:467</a></div></div>
<div class="ttc" id="autil-internal_8h_html_ab7d3b18d459ed5a75c9b6b19edd9b054"><div class="ttname"><a href="util-internal_8h.html#ab7d3b18d459ed5a75c9b6b19edd9b054">EV_SIZE_ARG</a></div><div class="ttdeci">#define EV_SIZE_ARG(x)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00493">util-internal.h:493</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="util-internal_8h_source.html#l00467">EV_I64_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00466">EV_I64_FMT</a>, <a class="el" href="util-internal_8h_source.html#l00493">EV_SIZE_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00491">EV_SIZE_FMT</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, and <a class="el" href="evutil_8c_source.html#l00464">evutil_strtoll()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>.</p>

</div>
</div>
<a id="aff912d0329a7025677b0e5f010e8b2e1" name="aff912d0329a7025677b0e5f010e8b2e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff912d0329a7025677b0e5f010e8b2e1">&#9670;&nbsp;</a></span>evhttp_get_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_get_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_socklen_t&#160;</td>
          <td class="paramname"><em>salen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04321">4321</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4323</span>{</div>
<div class="line"><span class="lineno"> 4324</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon;</div>
<div class="line"><span class="lineno"> 4325</span> </div>
<div class="line"><span class="lineno"> 4326</span>    evcon = <a class="code hl_function" href="http_8c.html#a39367e9de43b5610d177b1841748082e">evhttp_get_request_connection</a>(http, <a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>, sa, salen);</div>
<div class="line"><span class="lineno"> 4327</span>    <span class="keywordflow">if</span> (evcon == NULL) {</div>
<div class="line"><span class="lineno"> 4328</span>        <a class="code hl_function" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn</a>(<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>, <span class="stringliteral">&quot;%s: cannot get connection on &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a>,</div>
<div class="line"><span class="lineno"> 4329</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>));</div>
<div class="line"><span class="lineno"> 4330</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>);</div>
<div class="line"><span class="lineno"> 4331</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 4332</span>    }</div>
<div class="line"><span class="lineno"> 4333</span> </div>
<div class="line"><span class="lineno"> 4334</span>    <span class="comment">/* the timeout can be used by the server to close idle connections */</span></div>
<div class="line"><span class="lineno"> 4335</span>    <span class="keywordflow">if</span> (evutil_timerisset(&amp;http-&gt;<a class="code hl_variable" href="structevhttp.html#a622c65d68ce8a8be347acbe0aacfb434">timeout</a>))</div>
<div class="line"><span class="lineno"> 4336</span>        <a class="code hl_function" href="http_8c.html#a1e1b58248069bf209da93896acc9115f">evhttp_connection_set_timeout_tv</a>(evcon, &amp;http-&gt;<a class="code hl_variable" href="structevhttp.html#a622c65d68ce8a8be347acbe0aacfb434">timeout</a>);</div>
<div class="line"><span class="lineno"> 4337</span> </div>
<div class="line"><span class="lineno"> 4338</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4339</span><span class="comment">     * if we want to accept more than one request on a connection,</span></div>
<div class="line"><span class="lineno"> 4340</span><span class="comment">     * we need to know which http server it belongs to.</span></div>
<div class="line"><span class="lineno"> 4341</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4342</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a384062befaf1654ea365663f4bd4b73c">http_server</a> = http;</div>
<div class="line"><span class="lineno"> 4343</span>    TAILQ_INSERT_TAIL(&amp;http-&gt;<a class="code hl_variable" href="structevhttp.html#a6295127b5a8f06a1bfb847b5e9b1b90c">connections</a>, evcon, next);</div>
<div class="line"><span class="lineno"> 4344</span> </div>
<div class="line"><span class="lineno"> 4345</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#ad7fcb292a0c9868222024aff72207615">evhttp_associate_new_request_with_connection</a>(evcon) == -1)</div>
<div class="line"><span class="lineno"> 4346</span>        <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno"> 4347</span>}</div>
<div class="ttc" id="ahttp_8c_html_a39367e9de43b5610d177b1841748082e"><div class="ttname"><a href="http_8c.html#a39367e9de43b5610d177b1841748082e">evhttp_get_request_connection</a></div><div class="ttdeci">static struct evhttp_connection * evhttp_get_request_connection(struct evhttp *http, evutil_socket_t fd, struct sockaddr *sa, ev_socklen_t salen)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04224">http.c:4224</a></div></div>
<div class="ttc" id="ahttp_8c_html_ad7fcb292a0c9868222024aff72207615"><div class="ttname"><a href="http_8c.html#ad7fcb292a0c9868222024aff72207615">evhttp_associate_new_request_with_connection</a></div><div class="ttdeci">static int evhttp_associate_new_request_with_connection(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04286">http.c:4286</a></div></div>
<div class="ttc" id="astructevhttp_html_a622c65d68ce8a8be347acbe0aacfb434"><div class="ttname"><a href="structevhttp.html#a622c65d68ce8a8be347acbe0aacfb434">evhttp::timeout</a></div><div class="ttdeci">struct timeval timeout</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00153">http-internal.h:153</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00144">evhttp::connections</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn()</a>, <a class="el" href="http_8c_source.html#l04286">evhttp_associate_new_request_with_connection()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l02508">evhttp_connection_set_timeout_tv()</a>, <a class="el" href="http_8c_source.html#l04224">evhttp_get_request_connection()</a>, <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00090">evhttp_connection::http_server</a>, and <a class="el" href="http-internal_8h_source.html#l00153">evhttp::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03541">accept_socket_cb()</a>.</p>

</div>
</div>
<a id="a39367e9de43b5610d177b1841748082e" name="a39367e9de43b5610d177b1841748082e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39367e9de43b5610d177b1841748082e">&#9670;&nbsp;</a></span>evhttp_get_request_connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> * evhttp_get_request_connection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_socklen_t&#160;</td>
          <td class="paramname"><em>salen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04224">4224</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4227</span>{</div>
<div class="line"><span class="lineno"> 4228</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon;</div>
<div class="line"><span class="lineno"> 4229</span>    <span class="keywordtype">char</span> *hostname = NULL, *portname = NULL;</div>
<div class="line"><span class="lineno"> 4230</span>    <span class="keyword">struct </span>bufferevent* bev = NULL;</div>
<div class="line"><span class="lineno"> 4231</span> </div>
<div class="line"><span class="lineno"> 4232</span><span class="preprocessor">#ifdef EVENT__HAVE_STRUCT_SOCKADDR_UN</span></div>
<div class="line"><span class="lineno"> 4233</span>    <span class="keywordflow">if</span> (sa-&gt;sa_family == AF_UNIX) {</div>
<div class="line"><span class="lineno"> 4234</span>        <span class="keyword">struct </span>sockaddr_un *sa_un = (<span class="keyword">struct </span>sockaddr_un *)sa;</div>
<div class="line"><span class="lineno"> 4235</span>        sa_un-&gt;sun_path[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 4236</span>    }</div>
<div class="line"><span class="lineno"> 4237</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4238</span> </div>
<div class="line"><span class="lineno"> 4239</span>    <a class="code hl_function" href="http_8c.html#ad61654aa6055911f49b12a418075c572">name_from_addr</a>(sa, salen, &amp;hostname, &amp;portname);</div>
<div class="line"><span class="lineno"> 4240</span>    <span class="keywordflow">if</span> (hostname == NULL || portname == NULL) {</div>
<div class="line"><span class="lineno"> 4241</span>        <span class="keywordflow">if</span> (hostname) <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(hostname);</div>
<div class="line"><span class="lineno"> 4242</span>        <span class="keywordflow">if</span> (portname) <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(portname);</div>
<div class="line"><span class="lineno"> 4243</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 4244</span>    }</div>
<div class="line"><span class="lineno"> 4245</span> </div>
<div class="line"><span class="lineno"> 4246</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: new request from %s:%s on &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4247</span>        <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, hostname, portname, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(fd)));</div>
<div class="line"><span class="lineno"> 4248</span> </div>
<div class="line"><span class="lineno"> 4249</span>    <span class="comment">/* we need a connection object to put the http request on */</span></div>
<div class="line"><span class="lineno"> 4250</span>    <span class="keywordflow">if</span> (http-&gt;<a class="code hl_variable" href="structevhttp.html#a7203e616d99ff5041b0b58994f488b3e">bevcb</a> != NULL) {</div>
<div class="line"><span class="lineno"> 4251</span>        bev = (*http-&gt;<a class="code hl_variable" href="structevhttp.html#a7203e616d99ff5041b0b58994f488b3e">bevcb</a>)(http-&gt;<a class="code hl_variable" href="structevhttp.html#a33a7da3c699cea2edad331dc724184e5">base</a>, http-&gt;<a class="code hl_variable" href="structevhttp.html#a0cb2229a5cc84f74c1b8c91596c09c8f">bevcbarg</a>);</div>
<div class="line"><span class="lineno"> 4252</span>    }</div>
<div class="line"><span class="lineno"> 4253</span>    evcon = <a class="code hl_function" href="http_8c.html#a01e6a9d31e73de20b9740ac4fea642ff">evhttp_connection_base_bufferevent_new</a>(</div>
<div class="line"><span class="lineno"> 4254</span>        http-&gt;<a class="code hl_variable" href="structevhttp.html#a33a7da3c699cea2edad331dc724184e5">base</a>, NULL, bev, hostname, atoi(portname));</div>
<div class="line"><span class="lineno"> 4255</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(hostname);</div>
<div class="line"><span class="lineno"> 4256</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(portname);</div>
<div class="line"><span class="lineno"> 4257</span>    <span class="keywordflow">if</span> (evcon == NULL)</div>
<div class="line"><span class="lineno"> 4258</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 4259</span> </div>
<div class="line"><span class="lineno"> 4260</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a402923bfc4b91f7ac1d9398d70f383e7">max_headers_size</a> = http-&gt;<a class="code hl_variable" href="structevhttp.html#ad09ae8f4d0d1450559524dae3338b87a">default_max_headers_size</a>;</div>
<div class="line"><span class="lineno"> 4261</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1a3f936fb8a9810a012e82ff63142e79">max_body_size</a> = http-&gt;<a class="code hl_variable" href="structevhttp.html#a74e119d831afeb1211b3d82f62dfe453">default_max_body_size</a>;</div>
<div class="line"><span class="lineno"> 4262</span>    <span class="keywordflow">if</span> (http-&gt;<a class="code hl_variable" href="structevhttp.html#abc8fda0426e195117bc8e6c32b94a841">flags</a> &amp; EVHTTP_SERVER_LINGERING_CLOSE)</div>
<div class="line"><span class="lineno"> 4263</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> |= EVHTTP_CON_LINGERING_CLOSE;</div>
<div class="line"><span class="lineno"> 4264</span> </div>
<div class="line"><span class="lineno"> 4265</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> |= <a class="code hl_define" href="http-internal_8h.html#a223d4db848b4d88eb162b22bac60db72">EVHTTP_CON_INCOMING</a>;</div>
<div class="line"><span class="lineno"> 4266</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a>;</div>
<div class="line"><span class="lineno"> 4267</span> </div>
<div class="line"><span class="lineno"> 4268</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = fd;</div>
<div class="line"><span class="lineno"> 4269</span> </div>
<div class="line"><span class="lineno"> 4270</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, fd))</div>
<div class="line"><span class="lineno"> 4271</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4272</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ))</div>
<div class="line"><span class="lineno"> 4273</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4274</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_WRITE))</div>
<div class="line"><span class="lineno"> 4275</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4276</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#ab780556b0b9c3787574c838604ccb1e7">bufferevent_socket_set_conn_address_</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, sa, salen);</div>
<div class="line"><span class="lineno"> 4277</span> </div>
<div class="line"><span class="lineno"> 4278</span>    <span class="keywordflow">return</span> (evcon);</div>
<div class="line"><span class="lineno"> 4279</span> </div>
<div class="line"><span class="lineno"> 4280</span>err:</div>
<div class="line"><span class="lineno"> 4281</span>    <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno"> 4282</span>    <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 4283</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_ab780556b0b9c3787574c838604ccb1e7"><div class="ttname"><a href="bufferevent-internal_8h.html#ab780556b0b9c3787574c838604ccb1e7">bufferevent_socket_set_conn_address_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void bufferevent_socket_set_conn_address_(struct bufferevent *bev, struct sockaddr *addr, size_t addrlen)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__sock_8c_source.html#l00120">bufferevent_sock.c:120</a></div></div>
<div class="ttc" id="ahttp_8c_html_ad61654aa6055911f49b12a418075c572"><div class="ttname"><a href="http_8c.html#ad61654aa6055911f49b12a418075c572">name_from_addr</a></div><div class="ttdeci">static void name_from_addr(struct sockaddr *, ev_socklen_t, char **, char **)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04356">http.c:4356</a></div></div>
<div class="ttc" id="astructevhttp_html_a0cb2229a5cc84f74c1b8c91596c09c8f"><div class="ttname"><a href="structevhttp.html#a0cb2229a5cc84f74c1b8c91596c09c8f">evhttp::bevcbarg</a></div><div class="ttdeci">void * bevcbarg</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00169">http-internal.h:169</a></div></div>
<div class="ttc" id="astructevhttp_html_a7203e616d99ff5041b0b58994f488b3e"><div class="ttname"><a href="structevhttp.html#a7203e616d99ff5041b0b58994f488b3e">evhttp::bevcb</a></div><div class="ttdeci">struct bufferevent *(* bevcb)(struct event_base *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00167">http-internal.h:168</a></div></div>
<div class="ttc" id="astructevhttp_html_a74e119d831afeb1211b3d82f62dfe453"><div class="ttname"><a href="structevhttp.html#a74e119d831afeb1211b3d82f62dfe453">evhttp::default_max_body_size</a></div><div class="ttdeci">ev_uint64_t default_max_body_size</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00156">http-internal.h:156</a></div></div>
<div class="ttc" id="astructevhttp_html_abc8fda0426e195117bc8e6c32b94a841"><div class="ttname"><a href="structevhttp.html#abc8fda0426e195117bc8e6c32b94a841">evhttp::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00157">http-internal.h:157</a></div></div>
<div class="ttc" id="astructevhttp_html_ad09ae8f4d0d1450559524dae3338b87a"><div class="ttname"><a href="structevhttp.html#ad09ae8f4d0d1450559524dae3338b87a">evhttp::default_max_headers_size</a></div><div class="ttdeci">size_t default_max_headers_size</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00155">http-internal.h:155</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00171">evhttp::base</a>, <a class="el" href="http-internal_8h_source.html#l00168">evhttp::bevcb</a>, <a class="el" href="http-internal_8h_source.html#l00169">evhttp::bevcbarg</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00865">bufferevent_setfd()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00120">bufferevent_socket_set_conn_address_()</a>, <a class="el" href="http-internal_8h_source.html#l00156">evhttp::default_max_body_size</a>, <a class="el" href="http-internal_8h_source.html#l00155">evhttp::default_max_headers_size</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="http-internal_8h_source.html#l00040">EVCON_READING_FIRSTLINE</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="http-internal_8h_source.html#l00071">EVHTTP_CON_INCOMING</a>, <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, <a class="el" href="http-internal_8h_source.html#l00157">evhttp::flags</a>, <a class="el" href="http-internal_8h_source.html#l00068">evhttp_connection::max_body_size</a>, <a class="el" href="http-internal_8h_source.html#l00067">evhttp_connection::max_headers_size</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="http_8c_source.html#l04356">name_from_addr()</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04321">evhttp_get_request()</a>.</p>

</div>
</div>
<a id="afe9b9b1bc06be4087c0aa4ff7a40c623" name="afe9b9b1bc06be4087c0aa4ff7a40c623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe9b9b1bc06be4087c0aa4ff7a40c623">&#9670;&nbsp;</a></span>evhttp_handle_chunked_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> evhttp_handle_chunked_read </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00906">906</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  907</span>{</div>
<div class="line"><span class="lineno">  908</span>    <span class="keywordflow">if</span> (req == NULL || buf == NULL) {</div>
<div class="line"><span class="lineno">  909</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno">  910</span>    }</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><span class="lineno">  913</span>        <span class="keywordtype">size_t</span> buflen;</div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>        <span class="keywordflow">if</span> ((buflen = <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf)) == 0) {</div>
<div class="line"><span class="lineno">  916</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  917</span>        }</div>
<div class="line"><span class="lineno">  918</span> </div>
<div class="line"><span class="lineno">  919</span>        <span class="comment">/* evbuffer_get_length returns size_t, but len variable is ssize_t,</span></div>
<div class="line"><span class="lineno">  920</span><span class="comment">         * check for overflow conditions */</span></div>
<div class="line"><span class="lineno">  921</span>        <span class="keywordflow">if</span> (buflen &gt; EV_SSIZE_MAX) {</div>
<div class="line"><span class="lineno">  922</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno">  923</span>        }</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>        <span class="keywordflow">if</span> (req-&gt;ntoread &lt; 0) {</div>
<div class="line"><span class="lineno">  926</span>            <span class="comment">/* Read chunk size */</span></div>
<div class="line"><span class="lineno">  927</span>            ev_int64_t ntoread;</div>
<div class="line"><span class="lineno">  928</span>            <span class="keywordtype">char</span> *p = <a class="code hl_function" href="libevent_2buffer_8c.html#a145454dc7f26b678aa6b724aaf8742e7">evbuffer_readln</a>(buf, NULL, EVBUFFER_EOL_CRLF);</div>
<div class="line"><span class="lineno">  929</span>            <span class="keywordtype">char</span> *endp;</div>
<div class="line"><span class="lineno">  930</span>            <span class="keywordtype">int</span> error;</div>
<div class="line"><span class="lineno">  931</span>            <span class="keywordflow">if</span> (p == NULL)</div>
<div class="line"><span class="lineno">  932</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  933</span>            <span class="comment">/* the last chunk is on a new line? */</span></div>
<div class="line"><span class="lineno">  934</span>            <span class="keywordflow">if</span> (strlen(p) == 0) {</div>
<div class="line"><span class="lineno">  935</span>                <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(p);</div>
<div class="line"><span class="lineno">  936</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  937</span>            }</div>
<div class="line"><span class="lineno">  938</span>            ntoread = <a class="code hl_function" href="evutil_8c.html#a87762fbc9974b211df3babfacd99df19">evutil_strtoll</a>(p, &amp;endp, 16);</div>
<div class="line"><span class="lineno">  939</span>            error = (*p == <span class="charliteral">&#39;\0&#39;</span> ||</div>
<div class="line"><span class="lineno">  940</span>                (*endp != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; *endp != <span class="charliteral">&#39; &#39;</span>) ||</div>
<div class="line"><span class="lineno">  941</span>                ntoread &lt; 0);</div>
<div class="line"><span class="lineno">  942</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(p);</div>
<div class="line"><span class="lineno">  943</span>            <span class="keywordflow">if</span> (error) {</div>
<div class="line"><span class="lineno">  944</span>                <span class="comment">/* could not get chunk size */</span></div>
<div class="line"><span class="lineno">  945</span>                <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>);</div>
<div class="line"><span class="lineno">  946</span>            }</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>            <span class="comment">/* ntoread is signed int64, body_size is unsigned size_t, check for under/overflow conditions */</span></div>
<div class="line"><span class="lineno">  949</span>            <span class="keywordflow">if</span> ((ev_uint64_t)ntoread &gt; EV_SIZE_MAX - req-&gt;body_size) {</div>
<div class="line"><span class="lineno">  950</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno">  951</span>            }</div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span>            <span class="keywordflow">if</span> (req-&gt;body_size + (<span class="keywordtype">size_t</span>)ntoread &gt; req-&gt;evcon-&gt;max_body_size) {</div>
<div class="line"><span class="lineno">  954</span>                <span class="comment">/* failed body length test */</span></div>
<div class="line"><span class="lineno">  955</span>                <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;Request body is too long&quot;</span>));</div>
<div class="line"><span class="lineno">  956</span>                <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>);</div>
<div class="line"><span class="lineno">  957</span>            }</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>            req-&gt;body_size += (size_t)ntoread;</div>
<div class="line"><span class="lineno">  960</span>            req-&gt;ntoread = ntoread;</div>
<div class="line"><span class="lineno">  961</span>            <span class="keywordflow">if</span> (req-&gt;ntoread == 0) {</div>
<div class="line"><span class="lineno">  962</span>                <span class="comment">/* Last chunk */</span></div>
<div class="line"><span class="lineno">  963</span>                <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a>);</div>
<div class="line"><span class="lineno">  964</span>            }</div>
<div class="line"><span class="lineno">  965</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  966</span>        }</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span>        <span class="comment">/* req-&gt;ntoread is signed int64, len is ssize_t, based on arch,</span></div>
<div class="line"><span class="lineno">  969</span><span class="comment">         * ssize_t could only be 32b, check for these conditions */</span></div>
<div class="line"><span class="lineno">  970</span>        <span class="keywordflow">if</span> (req-&gt;ntoread &gt; EV_SSIZE_MAX) {</div>
<div class="line"><span class="lineno">  971</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno">  972</span>        }</div>
<div class="line"><span class="lineno">  973</span> </div>
<div class="line"><span class="lineno">  974</span>        <span class="comment">/* don&#39;t have enough to complete a chunk; wait for more */</span></div>
<div class="line"><span class="lineno">  975</span>        <span class="keywordflow">if</span> (req-&gt;ntoread &gt; 0 &amp;&amp; buflen &lt; (ev_uint64_t)req-&gt;ntoread)</div>
<div class="line"><span class="lineno">  976</span>            <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>);</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>        <span class="comment">/* Completed chunk */</span></div>
<div class="line"><span class="lineno">  979</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a0bdef97f6a142425b271b329a90de869">evbuffer_remove_buffer</a>(buf, req-&gt;input_buffer, (<span class="keywordtype">size_t</span>)req-&gt;ntoread);</div>
<div class="line"><span class="lineno">  980</span>        req-&gt;ntoread = -1;</div>
<div class="line"><span class="lineno">  981</span>        <span class="keywordflow">if</span> (req-&gt;chunk_cb != NULL) {</div>
<div class="line"><span class="lineno">  982</span>            req-&gt;flags |= EVHTTP_REQ_DEFER_FREE;</div>
<div class="line"><span class="lineno">  983</span>            (*req-&gt;chunk_cb)(req, req-&gt;cb_arg);</div>
<div class="line"><span class="lineno">  984</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a>(req-&gt;input_buffer,</div>
<div class="line"><span class="lineno">  985</span>                <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(req-&gt;input_buffer));</div>
<div class="line"><span class="lineno">  986</span>            req-&gt;flags &amp;= ~EVHTTP_REQ_DEFER_FREE;</div>
<div class="line"><span class="lineno">  987</span>            <span class="keywordflow">if</span> ((req-&gt;flags &amp; EVHTTP_REQ_NEEDS_FREE) != 0) {</div>
<div class="line"><span class="lineno">  988</span>                <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21">REQUEST_CANCELED</a>);</div>
<div class="line"><span class="lineno">  989</span>            }</div>
<div class="line"><span class="lineno">  990</span>        }</div>
<div class="line"><span class="lineno">  991</span>    }</div>
<div class="line"><span class="lineno">  992</span> </div>
<div class="line"><span class="lineno">  993</span>    <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>);</div>
<div class="line"><span class="lineno">  994</span>}</div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21">REQUEST_CANCELED</a></div><div class="ttdeci">@ REQUEST_CANCELED</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00025">http-internal.h:25</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a></div><div class="ttdeci">@ ALL_DATA_READ</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00022">http-internal.h:22</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a></div><div class="ttdeci">@ DATA_CORRUPTED</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00024">http-internal.h:24</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a></div><div class="ttdeci">@ DATA_TOO_LONG</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00027">http-internal.h:26</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a></div><div class="ttdeci">@ MORE_DATA_EXPECTED</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00023">http-internal.h:23</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a0bdef97f6a142425b271b329a90de869"><div class="ttname"><a href="libevent_2buffer_8c.html#a0bdef97f6a142425b271b329a90de869">evbuffer_remove_buffer</a></div><div class="ttdeci">int evbuffer_remove_buffer(struct evbuffer *src, struct evbuffer *dst, size_t datlen)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01260">buffer.c:1260</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a145454dc7f26b678aa6b724aaf8742e7"><div class="ttname"><a href="libevent_2buffer_8c.html#a145454dc7f26b678aa6b724aaf8742e7">evbuffer_readln</a></div><div class="ttdeci">char * evbuffer_readln(struct evbuffer *buffer, size_t *n_read_out, enum evbuffer_eol_style eol_style)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01687">buffer.c:1687</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00022">ALL_DATA_READ</a>, <a class="el" href="http-internal_8h_source.html#l00024">DATA_CORRUPTED</a>, <a class="el" href="http-internal_8h_source.html#l00026">DATA_TOO_LONG</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01101">evbuffer_drain()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01687">evbuffer_readln()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01260">evbuffer_remove_buffer()</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="evutil_8c_source.html#l00464">evutil_strtoll()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="http-internal_8h_source.html#l00023">MORE_DATA_EXPECTED</a>, and <a class="el" href="http-internal_8h_source.html#l00025">REQUEST_CANCELED</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>.</p>

</div>
</div>
<a id="a5ab9095dd85258c0f3e900b0dbe528fe" name="a5ab9095dd85258c0f3e900b0dbe528fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab9095dd85258c0f3e900b0dbe528fe">&#9670;&nbsp;</a></span>evhttp_handle_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_handle_request </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03465">3465</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3466</span>{</div>
<div class="line"><span class="lineno"> 3467</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *http = arg;</div>
<div class="line"><span class="lineno"> 3468</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__cb.html">evhttp_cb</a> *<a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a> = NULL;</div>
<div class="line"><span class="lineno"> 3469</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *hostname;</div>
<div class="line"><span class="lineno"> 3470</span> </div>
<div class="line"><span class="lineno"> 3471</span>    <span class="comment">/* we have a new request on which the user needs to take action */</span></div>
<div class="line"><span class="lineno"> 3472</span>    req-&gt;userdone = 0;</div>
<div class="line"><span class="lineno"> 3473</span> </div>
<div class="line"><span class="lineno"> 3474</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(req-&gt;evcon-&gt;bufev, EV_READ);</div>
<div class="line"><span class="lineno"> 3475</span> </div>
<div class="line"><span class="lineno"> 3476</span>    <span class="keywordflow">if</span> (req-&gt;type == 0 || req-&gt;uri == NULL) {</div>
<div class="line"><span class="lineno"> 3477</span>        <a class="code hl_function" href="http_8c.html#a629ef7f70ed916e162dee3bd12e397c9">evhttp_send_error</a>(req, req-&gt;response_code, NULL);</div>
<div class="line"><span class="lineno"> 3478</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3479</span>    }</div>
<div class="line"><span class="lineno"> 3480</span> </div>
<div class="line"><span class="lineno"> 3481</span>    <span class="keywordflow">if</span> ((http-&gt;<a class="code hl_variable" href="structevhttp.html#a5967f184d9f8b41eebadb5faa9b5c12c">allowed_methods</a> &amp; req-&gt;type) == 0) {</div>
<div class="line"><span class="lineno"> 3482</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;Rejecting disallowed method %x (allowed: %x)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3483</span>            (<span class="keywordtype">unsigned</span>)req-&gt;type, (<span class="keywordtype">unsigned</span>)http-&gt;<a class="code hl_variable" href="structevhttp.html#a5967f184d9f8b41eebadb5faa9b5c12c">allowed_methods</a>));</div>
<div class="line"><span class="lineno"> 3484</span>        <a class="code hl_function" href="http_8c.html#a629ef7f70ed916e162dee3bd12e397c9">evhttp_send_error</a>(req, HTTP_NOTIMPLEMENTED, NULL);</div>
<div class="line"><span class="lineno"> 3485</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3486</span>    }</div>
<div class="line"><span class="lineno"> 3487</span> </div>
<div class="line"><span class="lineno"> 3488</span>    <span class="comment">/* handle potential virtual hosts */</span></div>
<div class="line"><span class="lineno"> 3489</span>    hostname = <a class="code hl_function" href="http_8c.html#a7bd50bae1efd0d7740e1121fc28f8e79">evhttp_request_get_host</a>(req);</div>
<div class="line"><span class="lineno"> 3490</span>    <span class="keywordflow">if</span> (hostname != NULL) {</div>
<div class="line"><span class="lineno"> 3491</span>        <a class="code hl_function" href="http_8c.html#a52d5625a2e540c973db9b2cc66f3348c">evhttp_find_vhost</a>(http, &amp;http, hostname);</div>
<div class="line"><span class="lineno"> 3492</span>    }</div>
<div class="line"><span class="lineno"> 3493</span> </div>
<div class="line"><span class="lineno"> 3494</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a> = <a class="code hl_function" href="http_8c.html#af78c91ffe7e5352bd4b8ab67140a0445">evhttp_dispatch_callback</a>(&amp;http-&gt;callbacks, req)) != NULL) {</div>
<div class="line"><span class="lineno"> 3495</span>        (*<a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a>-&gt;cb)(req, <a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a>-&gt;cbarg);</div>
<div class="line"><span class="lineno"> 3496</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3497</span>    }</div>
<div class="line"><span class="lineno"> 3498</span> </div>
<div class="line"><span class="lineno"> 3499</span>    <span class="comment">/* Generic call back */</span></div>
<div class="line"><span class="lineno"> 3500</span>    <span class="keywordflow">if</span> (http-&gt;<a class="code hl_variable" href="structevhttp.html#abbcb33668073194856b66dffe49e2123">gencb</a>) {</div>
<div class="line"><span class="lineno"> 3501</span>        (*http-&gt;<a class="code hl_variable" href="structevhttp.html#abbcb33668073194856b66dffe49e2123">gencb</a>)(req, http-&gt;<a class="code hl_variable" href="structevhttp.html#a12e99b19453daf90d06014de1f19b5e4">gencbarg</a>);</div>
<div class="line"><span class="lineno"> 3502</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3503</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3504</span>        <span class="comment">/* We need to send a 404 here */</span></div>
<div class="line"><span class="lineno"> 3505</span><span class="preprocessor">#define ERR_FORMAT &quot;&lt;html&gt;&lt;head&gt;&quot;</span> \</div>
<div class="line"><span class="lineno"> 3506</span>            &quot;&lt;title&gt;404 Not Found&lt;/title&gt;&quot; \</div>
<div class="line"><span class="lineno"> 3507</span>            &quot;&lt;/head&gt;&lt;body&gt;&quot; \</div>
<div class="line"><span class="lineno"> 3508</span>            &quot;&lt;h1&gt;Not Found&lt;/h1&gt;&quot; \</div>
<div class="line"><span class="lineno"> 3509</span>            &quot;&lt;p&gt;The requested URL %s was not found on this server.&lt;/p&gt;&quot;\</div>
<div class="line"><span class="lineno"> 3510</span>            &quot;&lt;/body&gt;&lt;/html&gt;\n&quot;</div>
<div class="line"><span class="lineno"> 3511</span> </div>
<div class="line"><span class="lineno"> 3512</span>        <span class="keywordtype">char</span> *escaped_html;</div>
<div class="line"><span class="lineno"> 3513</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *buf;</div>
<div class="line"><span class="lineno"> 3514</span> </div>
<div class="line"><span class="lineno"> 3515</span>        <span class="keywordflow">if</span> ((escaped_html = <a class="code hl_function" href="http_8c.html#a3515dee052641e149edbdd1b7a1c2f4f">evhttp_htmlescape</a>(req-&gt;uri)) == NULL) {</div>
<div class="line"><span class="lineno"> 3516</span>            <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(req-&gt;evcon);</div>
<div class="line"><span class="lineno"> 3517</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3518</span>        }</div>
<div class="line"><span class="lineno"> 3519</span> </div>
<div class="line"><span class="lineno"> 3520</span>        <span class="keywordflow">if</span> ((buf = <a class="code hl_function" href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a>()) == NULL) {</div>
<div class="line"><span class="lineno"> 3521</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(escaped_html);</div>
<div class="line"><span class="lineno"> 3522</span>            <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(req-&gt;evcon);</div>
<div class="line"><span class="lineno"> 3523</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3524</span>        }</div>
<div class="line"><span class="lineno"> 3525</span> </div>
<div class="line"><span class="lineno"> 3526</span>        <a class="code hl_function" href="http_8c.html#a05ae915a2f291a6fe7b810da72e96980">evhttp_response_code_</a>(req, HTTP_NOTFOUND, <span class="stringliteral">&quot;Not Found&quot;</span>);</div>
<div class="line"><span class="lineno"> 3527</span> </div>
<div class="line"><span class="lineno"> 3528</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(buf, <a class="code hl_define" href="http_8c.html#a7bd608453b83e74874a4983106a1d9cd">ERR_FORMAT</a>, escaped_html);</div>
<div class="line"><span class="lineno"> 3529</span> </div>
<div class="line"><span class="lineno"> 3530</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(escaped_html);</div>
<div class="line"><span class="lineno"> 3531</span> </div>
<div class="line"><span class="lineno"> 3532</span>        <a class="code hl_function" href="http_8c.html#a004d96be76dfc73ca208f2465925e936">evhttp_send_page_</a>(req, buf);</div>
<div class="line"><span class="lineno"> 3533</span> </div>
<div class="line"><span class="lineno"> 3534</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(buf);</div>
<div class="line"><span class="lineno"> 3535</span><span class="preprocessor">#undef ERR_FORMAT</span></div>
<div class="line"><span class="lineno"> 3536</span>    }</div>
<div class="line"><span class="lineno"> 3537</span>}</div>
<div class="ttc" id="ahttp_8c_html_a004d96be76dfc73ca208f2465925e936"><div class="ttname"><a href="http_8c.html#a004d96be76dfc73ca208f2465925e936">evhttp_send_page_</a></div><div class="ttdeci">void evhttp_send_page_(struct evhttp_request *req, struct evbuffer *databuf)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03062">http.c:3062</a></div></div>
<div class="ttc" id="ahttp_8c_html_a05ae915a2f291a6fe7b810da72e96980"><div class="ttname"><a href="http_8c.html#a05ae915a2f291a6fe7b810da72e96980">evhttp_response_code_</a></div><div class="ttdeci">void evhttp_response_code_(struct evhttp_request *req, int code, const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03046">http.c:3046</a></div></div>
<div class="ttc" id="ahttp_8c_html_a3515dee052641e149edbdd1b7a1c2f4f"><div class="ttname"><a href="http_8c.html#a3515dee052641e149edbdd1b7a1c2f4f">evhttp_htmlescape</a></div><div class="ttdeci">char * evhttp_htmlescape(const char *html)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00265">http.c:265</a></div></div>
<div class="ttc" id="ahttp_8c_html_a52d5625a2e540c973db9b2cc66f3348c"><div class="ttname"><a href="http_8c.html#a52d5625a2e540c973db9b2cc66f3348c">evhttp_find_vhost</a></div><div class="ttdeci">static int evhttp_find_vhost(struct evhttp *http, struct evhttp **outhttp, const char *hostname)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03436">http.c:3436</a></div></div>
<div class="ttc" id="ahttp_8c_html_a7bd50bae1efd0d7740e1121fc28f8e79"><div class="ttname"><a href="http_8c.html#a7bd50bae1efd0d7740e1121fc28f8e79">evhttp_request_get_host</a></div><div class="ttdeci">const char * evhttp_request_get_host(struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04139">http.c:4139</a></div></div>
<div class="ttc" id="ahttp_8c_html_a7bd608453b83e74874a4983106a1d9cd"><div class="ttname"><a href="http_8c.html#a7bd608453b83e74874a4983106a1d9cd">ERR_FORMAT</a></div><div class="ttdeci">#define ERR_FORMAT</div></div>
<div class="ttc" id="ahttp_8c_html_af78c91ffe7e5352bd4b8ab67140a0445"><div class="ttname"><a href="http_8c.html#af78c91ffe7e5352bd4b8ab67140a0445">evhttp_dispatch_callback</a></div><div class="ttdeci">static struct evhttp_cb * evhttp_dispatch_callback(struct httpcbq *callbacks, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03335">http.c:3335</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a968e69551bc692f3383d1874a70bc867"><div class="ttname"><a href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a></div><div class="ttdeci">struct evbuffer * evbuffer_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00362">buffer.c:362</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_ab27f081c089aebd2536296c13d53f735"><div class="ttname"><a href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a></div><div class="ttdeci">void evbuffer_free(struct evbuffer *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00588">buffer.c:588</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_adeb9457f344ddaf459726dbe348ac3db"><div class="ttname"><a href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a></div><div class="ttdeci">int evbuffer_add_printf(struct evbuffer *buf, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l02908">buffer.c:2908</a></div></div>
<div class="ttc" id="astructevhttp_html_a12e99b19453daf90d06014de1f19b5e4"><div class="ttname"><a href="structevhttp.html#a12e99b19453daf90d06014de1f19b5e4">evhttp::gencbarg</a></div><div class="ttdeci">void * gencbarg</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00167">http-internal.h:167</a></div></div>
<div class="ttc" id="astructevhttp_html_a5967f184d9f8b41eebadb5faa9b5c12c"><div class="ttname"><a href="structevhttp.html#a5967f184d9f8b41eebadb5faa9b5c12c">evhttp::allowed_methods</a></div><div class="ttdeci">ev_uint16_t allowed_methods</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00162">http-internal.h:162</a></div></div>
<div class="ttc" id="astructevhttp_html_abbcb33668073194856b66dffe49e2123"><div class="ttname"><a href="structevhttp.html#abbcb33668073194856b66dffe49e2123">evhttp::gencb</a></div><div class="ttdeci">void(* gencb)(struct evhttp_request *req, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00166">http-internal.h:166</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00162">evhttp::allowed_methods</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="http-internal_8h_source.html#l00113">evhttp_cb::cb</a>, <a class="el" href="http_8c.html#a7bd608453b83e74874a4983106a1d9cd">ERR_FORMAT</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02908">evbuffer_add_printf()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00588">evbuffer_free()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00362">evbuffer_new()</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l03335">evhttp_dispatch_callback()</a>, <a class="el" href="http_8c_source.html#l03436">evhttp_find_vhost()</a>, <a class="el" href="http_8c_source.html#l00265">evhttp_htmlescape()</a>, <a class="el" href="http_8c_source.html#l04139">evhttp_request_get_host()</a>, <a class="el" href="http_8c_source.html#l03046">evhttp_response_code_()</a>, <a class="el" href="http_8c_source.html#l02801">evhttp_send_error()</a>, <a class="el" href="http_8c_source.html#l03062">evhttp_send_page_()</a>, <a class="el" href="http-internal_8h_source.html#l00166">evhttp::gencb</a>, <a class="el" href="http-internal_8h_source.html#l00167">evhttp::gencbarg</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04286">evhttp_associate_new_request_with_connection()</a>.</p>

</div>
</div>
<a id="a8b711d9faf585de0afc9482074f032f1" name="a8b711d9faf585de0afc9482074f032f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b711d9faf585de0afc9482074f032f1">&#9670;&nbsp;</a></span>evhttp_have_expect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919">expect</a> evhttp_have_expect </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00586">586</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  587</span>{</div>
<div class="line"><span class="lineno">  588</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_enumeration" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919">expect</a>;</div>
<div class="line"><span class="lineno">  589</span>    <span class="keyword">struct </span>evkeyvalq *h = input ? req-&gt;input_headers : req-&gt;output_headers;</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">if</span> (!(req-&gt;kind == EVHTTP_REQUEST) || !<a class="code hl_define" href="http_8c.html#a78aee06e216bc57d9d8328f994bf19b0">REQ_VERSION_ATLEAST</a>(req, 1, 1))</div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a0d077f5b932ce05e5b9f30c6087a2f31">NO</a>;</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>    <a class="code hl_enumeration" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919">expect</a> = <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(h, <span class="stringliteral">&quot;Expect&quot;</span>);</div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordflow">if</span> (!<a class="code hl_enumeration" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919">expect</a>)</div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a0d077f5b932ce05e5b9f30c6087a2f31">NO</a>;</div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span>    <span class="keywordflow">return</span> !<a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(<a class="code hl_enumeration" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919">expect</a>, <span class="stringliteral">&quot;100-continue&quot;</span>) ? <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a49959dd441dcda75d6898cf2c68fb374">CONTINUE</a> : <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919adbf1dee1b8cd7ea3c82661943c7b74f4">OTHER</a>;</div>
<div class="line"><span class="lineno">  599</span>}</div>
<div class="ttc" id="ahttp_8c_html_a5c5a9605ed22760f5ebe9e9121e2a919"><div class="ttname"><a href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919">expect</a></div><div class="ttdeci">expect</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00585">http.c:585</a></div></div>
<div class="ttc" id="ahttp_8c_html_a78aee06e216bc57d9d8328f994bf19b0"><div class="ttname"><a href="http_8c.html#a78aee06e216bc57d9d8328f994bf19b0">REQ_VERSION_ATLEAST</a></div><div class="ttdeci">#define REQ_VERSION_ATLEAST(req, major_v, minor_v)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00170">http.c:170</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l00585">CONTINUE</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, <a class="el" href="http_8c_source.html#l00585">NO</a>, <a class="el" href="http_8c_source.html#l00585">OTHER</a>, and <a class="el" href="http_8c_source.html#l00170">REQ_VERSION_ATLEAST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, and <a class="el" href="http_8c_source.html#l00606">evhttp_make_header()</a>.</p>

</div>
</div>
<a id="a5ed13d8c74cc39081d910f7a46b25091" name="a5ed13d8c74cc39081d910f7a46b25091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ed13d8c74cc39081d910f7a46b25091">&#9670;&nbsp;</a></span>evhttp_header_is_valid_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_header_is_valid_value </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01954">1954</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1955</span>{</div>
<div class="line"><span class="lineno"> 1956</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p = value;</div>
<div class="line"><span class="lineno"> 1957</span> </div>
<div class="line"><span class="lineno"> 1958</span>    <span class="keywordflow">while</span> ((p = strpbrk(p, <span class="stringliteral">&quot;\r\n&quot;</span>)) != NULL) {</div>
<div class="line"><span class="lineno"> 1959</span>        <span class="comment">/* we really expect only one new line */</span></div>
<div class="line"><span class="lineno"> 1960</span>        p += strspn(p, <span class="stringliteral">&quot;\r\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1961</span>        <span class="comment">/* we expect a space or tab for continuation */</span></div>
<div class="line"><span class="lineno"> 1962</span>        <span class="keywordflow">if</span> (*p != <span class="charliteral">&#39; &#39;</span> &amp;&amp; *p != <span class="charliteral">&#39;\t&#39;</span>)</div>
<div class="line"><span class="lineno"> 1963</span>            <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 1964</span>    }</div>
<div class="line"><span class="lineno"> 1965</span>    <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno"> 1966</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>.</p>

</div>
</div>
<a id="a3515dee052641e149edbdd1b7a1c2f4f" name="a3515dee052641e149edbdd1b7a1c2f4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3515dee052641e149edbdd1b7a1c2f4f">&#9670;&nbsp;</a></span>evhttp_htmlescape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * evhttp_htmlescape </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>html</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00265">265</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  266</span>{</div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordtype">size_t</span> new_size = 0, old_size = 0;</div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordtype">char</span> *escaped_html, *p;</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">if</span> (html == NULL)</div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    old_size = strlen(html);</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">for</span> (i = 0; i &lt; old_size; ++i) {</div>
<div class="line"><span class="lineno">  276</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *replaced = NULL;</div>
<div class="line"><span class="lineno">  277</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> replace_size = <a class="code hl_function" href="http_8c.html#aa0facec2d8401a25b6efb141296fa967">html_replace</a>(html[i], &amp;replaced);</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">if</span> (replace_size &gt; EV_SIZE_MAX - new_size) {</div>
<div class="line"><span class="lineno">  279</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: html_replace overflow&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno">  280</span>            <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno">  281</span>        }</div>
<div class="line"><span class="lineno">  282</span>        new_size += replace_size;</div>
<div class="line"><span class="lineno">  283</span>    }</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">if</span> (new_size == EV_SIZE_MAX)</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno">  287</span>    p = escaped_html = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(new_size + 1);</div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">if</span> (escaped_html == NULL) {</div>
<div class="line"><span class="lineno">  289</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: malloc(%lu)&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno">  290</span>                   (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(new_size + 1));</div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno">  292</span>    }</div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">for</span> (i = 0; i &lt; old_size; ++i) {</div>
<div class="line"><span class="lineno">  294</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *replaced = &amp;html[i];</div>
<div class="line"><span class="lineno">  295</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> len = <a class="code hl_function" href="http_8c.html#aa0facec2d8401a25b6efb141296fa967">html_replace</a>(html[i], &amp;replaced);</div>
<div class="line"><span class="lineno">  296</span>        memcpy(p, replaced, len);</div>
<div class="line"><span class="lineno">  297</span>        p += len;</div>
<div class="line"><span class="lineno">  298</span>    }</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    *p = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordflow">return</span> (escaped_html);</div>
<div class="line"><span class="lineno">  303</span>}</div>
<div class="ttc" id="ahttp_8c_html_aa0facec2d8401a25b6efb141296fa967"><div class="ttname"><a href="http_8c.html#aa0facec2d8401a25b6efb141296fa967">html_replace</a></div><div class="ttdeci">static size_t html_replace(const char ch, const char **escaped)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00232">http.c:232</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l00232">html_replace()</a>, and <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>.</p>

</div>
</div>
<a id="a7b132975235a9fd2381ae07f39db9994" name="a7b132975235a9fd2381ae07f39db9994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b132975235a9fd2381ae07f39db9994">&#9670;&nbsp;</a></span>evhttp_is_connection_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_is_connection_close </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Return true if the list of headers in 'headers', intepreted with respect to flags, means that we should send a "connection: close" when the request is done. </p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00468">468</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  469</span>{</div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> (flags &amp; EVHTTP_PROXY_REQUEST) {</div>
<div class="line"><span class="lineno">  471</span>        <span class="comment">/* proxy connection */</span></div>
<div class="line"><span class="lineno">  472</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *connection = <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(headers, <span class="stringliteral">&quot;Proxy-Connection&quot;</span>);</div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordflow">return</span> (connection == NULL || <a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(connection, <span class="stringliteral">&quot;keep-alive&quot;</span>) != 0);</div>
<div class="line"><span class="lineno">  474</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  475</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *connection = <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(headers, <span class="stringliteral">&quot;Connection&quot;</span>);</div>
<div class="line"><span class="lineno">  476</span>        <span class="keywordflow">return</span> (connection != NULL &amp;&amp; <a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(connection, <span class="stringliteral">&quot;close&quot;</span>) == 0);</div>
<div class="line"><span class="lineno">  477</span>    }</div>
<div class="line"><span class="lineno">  478</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, and <a class="el" href="http_8c_source.html#l04481">evhttp_uri::flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00480">evhttp_is_request_connection_close()</a>, and <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>.</p>

</div>
</div>
<a id="a07b58430a19af2f684dbef815f3464da" name="a07b58430a19af2f684dbef815f3464da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b58430a19af2f684dbef815f3464da">&#9670;&nbsp;</a></span>evhttp_is_connection_keepalive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_is_connection_keepalive </td>
          <td>(</td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00492">492</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  493</span>{</div>
<div class="line"><span class="lineno">  494</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *connection = <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(headers, <span class="stringliteral">&quot;Connection&quot;</span>);</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordflow">return</span> (connection != NULL</div>
<div class="line"><span class="lineno">  496</span>        &amp;&amp; <a class="code hl_function" href="evutil_8c.html#a2050dff3ba61d6e68bfcd6652b1f4e5d">evutil_ascii_strncasecmp</a>(connection, <span class="stringliteral">&quot;keep-alive&quot;</span>, 10) == 0);</div>
<div class="line"><span class="lineno">  497</span>}</div>
<div class="ttc" id="aevutil_8c_html_a2050dff3ba61d6e68bfcd6652b1f4e5d"><div class="ttname"><a href="evutil_8c.html#a2050dff3ba61d6e68bfcd6652b1f4e5d">evutil_ascii_strncasecmp</a></div><div class="ttdeci">int evutil_ascii_strncasecmp(const char *s1, const char *s2, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02406">evutil.c:2406</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, and <a class="el" href="evutil_8c_source.html#l02406">evutil_ascii_strncasecmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>, and <a class="el" href="http_8c_source.html#l02767">evhttp_send_done()</a>.</p>

</div>
</div>
<a id="a22b49e50c376f1792c3fe36d66ed180f" name="a22b49e50c376f1792c3fe36d66ed180f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b49e50c376f1792c3fe36d66ed180f">&#9670;&nbsp;</a></span>evhttp_is_request_connection_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_is_request_connection_close </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00480">480</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  481</span>{</div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordflow">if</span> (req-&gt;type == EVHTTP_REQ_CONNECT)</div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  486</span>        <a class="code hl_function" href="http_8c.html#a7b132975235a9fd2381ae07f39db9994">evhttp_is_connection_close</a>(req-&gt;flags, req-&gt;input_headers) ||</div>
<div class="line"><span class="lineno">  487</span>        <a class="code hl_function" href="http_8c.html#a7b132975235a9fd2381ae07f39db9994">evhttp_is_connection_close</a>(req-&gt;flags, req-&gt;output_headers);</div>
<div class="line"><span class="lineno">  488</span>}</div>
<div class="ttc" id="ahttp_8c_html_a7b132975235a9fd2381ae07f39db9994"><div class="ttname"><a href="http_8c.html#a7b132975235a9fd2381ae07f39db9994">evhttp_is_connection_close</a></div><div class="ttdeci">static int evhttp_is_connection_close(int flags, struct evkeyvalq *headers)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00468">http.c:468</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l00468">evhttp_is_connection_close()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, and <a class="el" href="http_8c_source.html#l02767">evhttp_send_done()</a>.</p>

</div>
</div>
<a id="a2c599bb7cc6d0dd83cae6e4698c3c8c5" name="a2c599bb7cc6d0dd83cae6e4698c3c8c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c599bb7cc6d0dd83cae6e4698c3c8c5">&#9670;&nbsp;</a></span>evhttp_lingering_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_lingering_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01018">1018</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1020</span>{</div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *buf = <a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="line"><span class="lineno"> 1023</span>    <span class="keywordtype">size_t</span> n = <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf);</div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keywordflow">if</span> (n &gt; (<span class="keywordtype">size_t</span>) req-&gt;ntoread)</div>
<div class="line"><span class="lineno"> 1025</span>        n = (size_t) req-&gt;ntoread;</div>
<div class="line"><span class="lineno"> 1026</span>    req-&gt;ntoread -= n;</div>
<div class="line"><span class="lineno"> 1027</span>    req-&gt;body_size += n;</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;Request body is too long, left &quot;</span> <a class="code hl_define" href="util-internal_8h.html#a2d6d8697f840ae468e96d2ab95d23d5e">EV_I64_FMT</a>,</div>
<div class="line"><span class="lineno"> 1030</span>        <a class="code hl_define" href="util-internal_8h.html#aa73b1288f10121d91d3683ca13086cb8">EV_I64_ARG</a>(req-&gt;ntoread)));</div>
<div class="line"><span class="lineno"> 1031</span> </div>
<div class="line"><span class="lineno"> 1032</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a>(buf, n);</div>
<div class="line"><span class="lineno"> 1033</span>    <span class="keywordflow">if</span> (!req-&gt;ntoread)</div>
<div class="line"><span class="lineno"> 1034</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_DATA_TOO_LONG);</div>
<div class="line"><span class="lineno"> 1035</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="util-internal_8h_source.html#l00467">EV_I64_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00466">EV_I64_FMT</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01101">evbuffer_drain()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, and <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01037">evhttp_lingering_fail()</a>.</p>

</div>
</div>
<a id="aecb1c6e18c84c4074fc7939264db56b5" name="aecb1c6e18c84c4074fc7939264db56b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecb1c6e18c84c4074fc7939264db56b5">&#9670;&nbsp;</a></span>evhttp_lingering_fail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_lingering_fail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01037">1037</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1039</span>{</div>
<div class="line"><span class="lineno"> 1040</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; EVHTTP_CON_LINGERING_CLOSE)</div>
<div class="line"><span class="lineno"> 1041</span>        <a class="code hl_function" href="http_8c.html#a2c599bb7cc6d0dd83cae6e4698c3c8c5">evhttp_lingering_close</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1042</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1043</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_DATA_TOO_LONG);</div>
<div class="line"><span class="lineno"> 1044</span>}</div>
<div class="ttc" id="ahttp_8c_html_a2c599bb7cc6d0dd83cae6e4698c3c8c5"><div class="ttname"><a href="http_8c.html#a2c599bb7cc6d0dd83cae6e4698c3c8c5">evhttp_lingering_close</a></div><div class="ttdeci">static void evhttp_lingering_close(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01018">http.c:1018</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l01018">evhttp_lingering_close()</a>, and <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, and <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>.</p>

</div>
</div>
<a id="a1ed4a49a3e33f637ea7c0bf1490a1144" name="a1ed4a49a3e33f637ea7c0bf1490a1144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed4a49a3e33f637ea7c0bf1490a1144">&#9670;&nbsp;</a></span>evhttp_make_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_make_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Generate all headers appropriate for sending the http request in req (or the response, if we're sending a response), and write them to evcon's bufferevent. Also writes all data from req-&gt;output_buffer </p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00606">606</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  607</span>{</div>
<div class="line"><span class="lineno">  608</span>    <span class="keyword">struct </span>evkeyval *header;</div>
<div class="line"><span class="lineno">  609</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *output = <a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  612</span><span class="comment">     * Depending if this is a HTTP request or response, we might need to</span></div>
<div class="line"><span class="lineno">  613</span><span class="comment">     * add some new headers or remove existing headers.</span></div>
<div class="line"><span class="lineno">  614</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">if</span> (req-&gt;kind == EVHTTP_REQUEST) {</div>
<div class="line"><span class="lineno">  616</span>        <a class="code hl_function" href="http_8c.html#a3e364297bd323141b07a18a2f9e0694b">evhttp_make_header_request</a>(evcon, req);</div>
<div class="line"><span class="lineno">  617</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  618</span>        <a class="code hl_function" href="http_8c.html#ae21f4d79b530ba364a7a7dc68cd07460">evhttp_make_header_response</a>(evcon, req);</div>
<div class="line"><span class="lineno">  619</span>    }</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(header, req-&gt;output_headers, next) {</div>
<div class="line"><span class="lineno">  622</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(output, <span class="stringliteral">&quot;%s: %s\r\n&quot;</span>,</div>
<div class="line"><span class="lineno">  623</span>            header-&gt;key, header-&gt;value);</div>
<div class="line"><span class="lineno">  624</span>    }</div>
<div class="line"><span class="lineno">  625</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(output, <span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a8b711d9faf585de0afc9482074f032f1">evhttp_have_expect</a>(req, 0) != <a class="code hl_enumvalue" href="http_8c.html#a5c5a9605ed22760f5ebe9e9121e2a919a49959dd441dcda75d6898cf2c68fb374">CONTINUE</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  628</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(req-&gt;output_buffer)) {</div>
<div class="line"><span class="lineno">  629</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  630</span><span class="comment">         * For a request, we add the POST data, for a reply, this</span></div>
<div class="line"><span class="lineno">  631</span><span class="comment">         * is the regular data.</span></div>
<div class="line"><span class="lineno">  632</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  633</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a9d2edd536246d70c50678a3865305414">evbuffer_add_buffer</a>(output, req-&gt;output_buffer);</div>
<div class="line"><span class="lineno">  634</span>    }</div>
<div class="line"><span class="lineno">  635</span>}</div>
<div class="ttc" id="ahttp_8c_html_a3e364297bd323141b07a18a2f9e0694b"><div class="ttname"><a href="http_8c.html#a3e364297bd323141b07a18a2f9e0694b">evhttp_make_header_request</a></div><div class="ttdeci">static void evhttp_make_header_request(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00438">http.c:438</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae21f4d79b530ba364a7a7dc68cd07460"><div class="ttname"><a href="http_8c.html#ae21f4d79b530ba364a7a7dc68cd07460">evhttp_make_header_response</a></div><div class="ttdeci">static void evhttp_make_header_response(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00531">http.c:531</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a8bcbab1212ab067b8faa767febc347ef"><div class="ttname"><a href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a></div><div class="ttdeci">int evbuffer_add(struct evbuffer *buf, const void *data_in, size_t datlen)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01730">buffer.c:1730</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a9d2edd536246d70c50678a3865305414"><div class="ttname"><a href="libevent_2buffer_8c.html#a9d2edd536246d70c50678a3865305414">evbuffer_add_buffer</a></div><div class="ttdeci">int evbuffer_add_buffer(struct evbuffer *outbuf, struct evbuffer *inbuf)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00966">buffer.c:966</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="http_8c_source.html#l00585">CONTINUE</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01730">evbuffer_add()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00966">evbuffer_add_buffer()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02908">evbuffer_add_printf()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http_8c_source.html#l00586">evhttp_have_expect()</a>, <a class="el" href="http_8c_source.html#l00438">evhttp_make_header_request()</a>, <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>, and <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01303">evhttp_request_dispatch()</a>, <a class="el" href="http_8c_source.html#l02833">evhttp_send()</a>, and <a class="el" href="http_8c_source.html#l02867">evhttp_send_reply_start()</a>.</p>

</div>
</div>
<a id="a3e364297bd323141b07a18a2f9e0694b" name="a3e364297bd323141b07a18a2f9e0694b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e364297bd323141b07a18a2f9e0694b">&#9670;&nbsp;</a></span>evhttp_make_header_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_make_header_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00438">438</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  440</span>{</div>
<div class="line"><span class="lineno">  441</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *method;</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>    <a class="code hl_function" href="http_8c.html#ab87600f14a6f8c36beedbeed8267b856">evhttp_remove_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Proxy-Connection&quot;</span>);</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>    <span class="comment">/* Generate request line */</span></div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">if</span> (!(method = <a class="code hl_function" href="http_8c.html#adce2fa984774896f19286a02ef934ad4">evhttp_method</a>(req-&gt;type))) {</div>
<div class="line"><span class="lineno">  447</span>        method = <span class="stringliteral">&quot;NULL&quot;</span>;</div>
<div class="line"><span class="lineno">  448</span>    }</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(<a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>),</div>
<div class="line"><span class="lineno">  451</span>        <span class="stringliteral">&quot;%s %s HTTP/%d.%d\r\n&quot;</span>,</div>
<div class="line"><span class="lineno">  452</span>        method, req-&gt;uri, req-&gt;major, req-&gt;minor);</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="comment">/* Add the content length on a post or put request if missing */</span></div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">if</span> ((req-&gt;type == EVHTTP_REQ_POST || req-&gt;type == EVHTTP_REQ_PUT) &amp;&amp;</div>
<div class="line"><span class="lineno">  456</span>        <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Content-Length&quot;</span>) == NULL){</div>
<div class="line"><span class="lineno">  457</span>        <span class="keywordtype">char</span> size[22];</div>
<div class="line"><span class="lineno">  458</span>        <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(size, <span class="keyword">sizeof</span>(size), <a class="code hl_define" href="util-internal_8h.html#a98b3bbf9bce92f1eb231dc5aead267a7">EV_SIZE_FMT</a>,</div>
<div class="line"><span class="lineno">  459</span>            <a class="code hl_define" href="util-internal_8h.html#ab7d3b18d459ed5a75c9b6b19edd9b054">EV_SIZE_ARG</a>(<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(req-&gt;output_buffer)));</div>
<div class="line"><span class="lineno">  460</span>        <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Content-Length&quot;</span>, size);</div>
<div class="line"><span class="lineno">  461</span>    }</div>
<div class="line"><span class="lineno">  462</span>}</div>
<div class="ttc" id="aevutil_8c_html_a55dc7427a539b8c710acf6eb117364e1"><div class="ttname"><a href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a></div><div class="ttdeci">int evutil_snprintf(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01858">evutil.c:1858</a></div></div>
<div class="ttc" id="ahttp_8c_html_a04e3f41c14b8e0e74da13a8d308b93b7"><div class="ttname"><a href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a></div><div class="ttdeci">int evhttp_add_header(struct evkeyvalq *headers, const char *key, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01969">http.c:1969</a></div></div>
<div class="ttc" id="ahttp_8c_html_ab87600f14a6f8c36beedbeed8267b856"><div class="ttname"><a href="http_8c.html#ab87600f14a6f8c36beedbeed8267b856">evhttp_remove_header</a></div><div class="ttdeci">int evhttp_remove_header(struct evkeyvalq *headers, const char *key)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01932">http.c:1932</a></div></div>
<div class="ttc" id="ahttp_8c_html_adce2fa984774896f19286a02ef934ad4"><div class="ttname"><a href="http_8c.html#adce2fa984774896f19286a02ef934ad4">evhttp_method</a></div><div class="ttdeci">static const char * evhttp_method(enum evhttp_cmd_type type)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00309">http.c:309</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="util-internal_8h_source.html#l00493">EV_SIZE_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00491">EV_SIZE_FMT</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02908">evbuffer_add_printf()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, <a class="el" href="http_8c_source.html#l00309">evhttp_method()</a>, <a class="el" href="http_8c_source.html#l01932">evhttp_remove_header()</a>, and <a class="el" href="evutil_8c_source.html#l01858">evutil_snprintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00606">evhttp_make_header()</a>.</p>

</div>
</div>
<a id="ae21f4d79b530ba364a7a7dc68cd07460" name="ae21f4d79b530ba364a7a7dc68cd07460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae21f4d79b530ba364a7a7dc68cd07460">&#9670;&nbsp;</a></span>evhttp_make_header_response()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_make_header_response </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00531">531</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  533</span>{</div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordtype">int</span> is_keepalive = <a class="code hl_function" href="http_8c.html#a07b58430a19af2f684dbef815f3464da">evhttp_is_connection_keepalive</a>(req-&gt;input_headers);</div>
<div class="line"><span class="lineno">  535</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(<a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>),</div>
<div class="line"><span class="lineno">  536</span>        <span class="stringliteral">&quot;HTTP/%d.%d %d %s\r\n&quot;</span>,</div>
<div class="line"><span class="lineno">  537</span>        req-&gt;major, req-&gt;minor, req-&gt;response_code,</div>
<div class="line"><span class="lineno">  538</span>        req-&gt;response_code_line);</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    <span class="keywordflow">if</span> (req-&gt;major == 1) {</div>
<div class="line"><span class="lineno">  541</span>        <span class="keywordflow">if</span> (req-&gt;minor &gt;= 1)</div>
<div class="line"><span class="lineno">  542</span>            <a class="code hl_function" href="http_8c.html#a008a79510a2e1e08ee3f6cd0fa25cc35">evhttp_maybe_add_date_header</a>(req-&gt;output_headers);</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  545</span><span class="comment">         * if the protocol is 1.0; and the connection was keep-alive</span></div>
<div class="line"><span class="lineno">  546</span><span class="comment">         * we need to add a keep-alive header, too.</span></div>
<div class="line"><span class="lineno">  547</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordflow">if</span> (req-&gt;minor == 0 &amp;&amp; is_keepalive)</div>
<div class="line"><span class="lineno">  549</span>            <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(req-&gt;output_headers,</div>
<div class="line"><span class="lineno">  550</span>                <span class="stringliteral">&quot;Connection&quot;</span>, <span class="stringliteral">&quot;keep-alive&quot;</span>);</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>        <span class="keywordflow">if</span> ((req-&gt;minor &gt;= 1 || is_keepalive) &amp;&amp;</div>
<div class="line"><span class="lineno">  553</span>            <a class="code hl_function" href="http_8c.html#a192640c318669b3ac03ee3a7e8b1e21b">evhttp_response_needs_body</a>(req)) {</div>
<div class="line"><span class="lineno">  554</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  555</span><span class="comment">             * we need to add the content length if the</span></div>
<div class="line"><span class="lineno">  556</span><span class="comment">             * user did not give it, this is required for</span></div>
<div class="line"><span class="lineno">  557</span><span class="comment">             * persistent connections to work.</span></div>
<div class="line"><span class="lineno">  558</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  559</span>            <a class="code hl_function" href="http_8c.html#a92f2e6eb57be6e19385d3e389907f8ba">evhttp_maybe_add_content_length_header</a>(</div>
<div class="line"><span class="lineno">  560</span>                req-&gt;output_headers,</div>
<div class="line"><span class="lineno">  561</span>                <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(req-&gt;output_buffer));</div>
<div class="line"><span class="lineno">  562</span>        }</div>
<div class="line"><span class="lineno">  563</span>    }</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>    <span class="comment">/* Potentially add headers for unidentified content. */</span></div>
<div class="line"><span class="lineno">  566</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a192640c318669b3ac03ee3a7e8b1e21b">evhttp_response_needs_body</a>(req)) {</div>
<div class="line"><span class="lineno">  567</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(req-&gt;output_headers,</div>
<div class="line"><span class="lineno">  568</span>            <span class="stringliteral">&quot;Content-Type&quot;</span>) == NULL</div>
<div class="line"><span class="lineno">  569</span>            &amp;&amp; evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a384062befaf1654ea365663f4bd4b73c">http_server</a>-&gt;<a class="code hl_variable" href="structevhttp.html#aa87ef04bad2362fc5daa68239ec1a3a6">default_content_type</a>) {</div>
<div class="line"><span class="lineno">  570</span>            <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(req-&gt;output_headers,</div>
<div class="line"><span class="lineno">  571</span>                <span class="stringliteral">&quot;Content-Type&quot;</span>,</div>
<div class="line"><span class="lineno">  572</span>                evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a384062befaf1654ea365663f4bd4b73c">http_server</a>-&gt;<a class="code hl_variable" href="structevhttp.html#aa87ef04bad2362fc5daa68239ec1a3a6">default_content_type</a>);</div>
<div class="line"><span class="lineno">  573</span>        }</div>
<div class="line"><span class="lineno">  574</span>    }</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>    <span class="comment">/* if the request asked for a close, we send a close, too */</span></div>
<div class="line"><span class="lineno">  577</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a7b132975235a9fd2381ae07f39db9994">evhttp_is_connection_close</a>(req-&gt;flags, req-&gt;input_headers)) {</div>
<div class="line"><span class="lineno">  578</span>        <a class="code hl_function" href="http_8c.html#ab87600f14a6f8c36beedbeed8267b856">evhttp_remove_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Connection&quot;</span>);</div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">if</span> (!(req-&gt;flags &amp; EVHTTP_PROXY_REQUEST))</div>
<div class="line"><span class="lineno">  580</span>            <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Connection&quot;</span>, <span class="stringliteral">&quot;close&quot;</span>);</div>
<div class="line"><span class="lineno">  581</span>        <a class="code hl_function" href="http_8c.html#ab87600f14a6f8c36beedbeed8267b856">evhttp_remove_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Proxy-Connection&quot;</span>);</div>
<div class="line"><span class="lineno">  582</span>    }</div>
<div class="line"><span class="lineno">  583</span>}</div>
<div class="ttc" id="ahttp_8c_html_a008a79510a2e1e08ee3f6cd0fa25cc35"><div class="ttname"><a href="http_8c.html#a008a79510a2e1e08ee3f6cd0fa25cc35">evhttp_maybe_add_date_header</a></div><div class="ttdeci">static void evhttp_maybe_add_date_header(struct evkeyvalq *headers)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00501">http.c:501</a></div></div>
<div class="ttc" id="ahttp_8c_html_a07b58430a19af2f684dbef815f3464da"><div class="ttname"><a href="http_8c.html#a07b58430a19af2f684dbef815f3464da">evhttp_is_connection_keepalive</a></div><div class="ttdeci">static int evhttp_is_connection_keepalive(struct evkeyvalq *headers)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00492">http.c:492</a></div></div>
<div class="ttc" id="ahttp_8c_html_a192640c318669b3ac03ee3a7e8b1e21b"><div class="ttname"><a href="http_8c.html#a192640c318669b3ac03ee3a7e8b1e21b">evhttp_response_needs_body</a></div><div class="ttdeci">static int evhttp_response_needs_body(struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00356">http.c:356</a></div></div>
<div class="ttc" id="ahttp_8c_html_a92f2e6eb57be6e19385d3e389907f8ba"><div class="ttname"><a href="http_8c.html#a92f2e6eb57be6e19385d3e389907f8ba">evhttp_maybe_add_content_length_header</a></div><div class="ttdeci">static void evhttp_maybe_add_content_length_header(struct evkeyvalq *headers, size_t content_length)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00514">http.c:514</a></div></div>
<div class="ttc" id="astructevhttp_html_aa87ef04bad2362fc5daa68239ec1a3a6"><div class="ttname"><a href="structevhttp.html#aa87ef04bad2362fc5daa68239ec1a3a6">evhttp::default_content_type</a></div><div class="ttdeci">const char * default_content_type</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00158">http-internal.h:158</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="http-internal_8h_source.html#l00158">evhttp::default_content_type</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02908">evbuffer_add_printf()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, <a class="el" href="http_8c_source.html#l00468">evhttp_is_connection_close()</a>, <a class="el" href="http_8c_source.html#l00492">evhttp_is_connection_keepalive()</a>, <a class="el" href="http_8c_source.html#l00514">evhttp_maybe_add_content_length_header()</a>, <a class="el" href="http_8c_source.html#l00501">evhttp_maybe_add_date_header()</a>, <a class="el" href="http_8c_source.html#l01932">evhttp_remove_header()</a>, <a class="el" href="http_8c_source.html#l00356">evhttp_response_needs_body()</a>, and <a class="el" href="http-internal_8h_source.html#l00090">evhttp_connection::http_server</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00606">evhttp_make_header()</a>.</p>

</div>
</div>
<a id="a70af2a5e67da78782e06c640b9f85d4e" name="a70af2a5e67da78782e06c640b9f85d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70af2a5e67da78782e06c640b9f85d4e">&#9670;&nbsp;</a></span>evhttp_make_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_make_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum evhttp_cmd_type&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02648">2648</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2651</span>{</div>
<div class="line"><span class="lineno"> 2652</span>    <span class="comment">/* We are making a request */</span></div>
<div class="line"><span class="lineno"> 2653</span>    req-&gt;kind = EVHTTP_REQUEST;</div>
<div class="line"><span class="lineno"> 2654</span>    req-&gt;type = type;</div>
<div class="line"><span class="lineno"> 2655</span>    <span class="keywordflow">if</span> (req-&gt;uri != NULL)</div>
<div class="line"><span class="lineno"> 2656</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;uri);</div>
<div class="line"><span class="lineno"> 2657</span>    <span class="keywordflow">if</span> ((req-&gt;uri = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(uri)) == NULL) {</div>
<div class="line"><span class="lineno"> 2658</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2659</span>        <a class="code hl_function" href="http_8c.html#a09dae252ede7e4113f56f7463f600321">evhttp_request_free_auto</a>(req);</div>
<div class="line"><span class="lineno"> 2660</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2661</span>    }</div>
<div class="line"><span class="lineno"> 2662</span> </div>
<div class="line"><span class="lineno"> 2663</span>    <span class="comment">/* Set the protocol version if it is not supplied */</span></div>
<div class="line"><span class="lineno"> 2664</span>    <span class="keywordflow">if</span> (!req-&gt;major &amp;&amp; !req-&gt;minor) {</div>
<div class="line"><span class="lineno"> 2665</span>        req-&gt;major = 1;</div>
<div class="line"><span class="lineno"> 2666</span>        req-&gt;minor = 1;</div>
<div class="line"><span class="lineno"> 2667</span>    }</div>
<div class="line"><span class="lineno"> 2668</span> </div>
<div class="line"><span class="lineno"> 2669</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(req-&gt;evcon == NULL);</div>
<div class="line"><span class="lineno"> 2670</span>    req-&gt;evcon = evcon;</div>
<div class="line"><span class="lineno"> 2671</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!(req-&gt;flags &amp; EVHTTP_REQ_OWN_CONNECTION));</div>
<div class="line"><span class="lineno"> 2672</span> </div>
<div class="line"><span class="lineno"> 2673</span>    TAILQ_INSERT_TAIL(&amp;evcon-&gt;requests, req, next);</div>
<div class="line"><span class="lineno"> 2674</span> </div>
<div class="line"><span class="lineno"> 2675</span>    <span class="comment">/* We do not want to conflict with retry_ev */</span></div>
<div class="line"><span class="lineno"> 2676</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a7121cd5ee7144170bd4b473df26bfcb1">retry_cnt</a>)</div>
<div class="line"><span class="lineno"> 2677</span>        <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2678</span> </div>
<div class="line"><span class="lineno"> 2679</span>    <span class="comment">/* If the connection object is not connected; make it so */</span></div>
<div class="line"><span class="lineno"> 2680</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="http_8c.html#a988819fcfbc66361040eece863074fb0">evhttp_connected</a>(evcon)) {</div>
<div class="line"><span class="lineno"> 2681</span>        <span class="keywordtype">int</span> res = <a class="code hl_function" href="http_8c.html#ad586ab94898476d79f5f314a5b42e38b">evhttp_connection_connect_</a>(evcon);</div>
<div class="line"><span class="lineno"> 2682</span>        <span class="comment">/* evhttp_connection_fail_(), which is called through</span></div>
<div class="line"><span class="lineno"> 2683</span><span class="comment">         * evhttp_connection_connect_(), assumes that req lies in</span></div>
<div class="line"><span class="lineno"> 2684</span><span class="comment">         * evcon-&gt;requests.  Thus, enqueue the request in advance and</span></div>
<div class="line"><span class="lineno"> 2685</span><span class="comment">         * remove it in the error case. */</span></div>
<div class="line"><span class="lineno"> 2686</span>        <span class="keywordflow">if</span> (res != 0)</div>
<div class="line"><span class="lineno"> 2687</span>            TAILQ_REMOVE(&amp;evcon-&gt;requests, req, next);</div>
<div class="line"><span class="lineno"> 2688</span> </div>
<div class="line"><span class="lineno"> 2689</span>        <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 2690</span>    }</div>
<div class="line"><span class="lineno"> 2691</span> </div>
<div class="line"><span class="lineno"> 2692</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2693</span><span class="comment">     * If it&#39;s connected already and we are the first in the queue,</span></div>
<div class="line"><span class="lineno"> 2694</span><span class="comment">     * then we can dispatch this request immediately.  Otherwise, it</span></div>
<div class="line"><span class="lineno"> 2695</span><span class="comment">     * will be dispatched once the pending requests are completed.</span></div>
<div class="line"><span class="lineno"> 2696</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2697</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests) == req)</div>
<div class="line"><span class="lineno"> 2698</span>        <a class="code hl_function" href="http_8c.html#a91d1317d5fbac429a86d00737143bdd1">evhttp_request_dispatch</a>(evcon);</div>
<div class="line"><span class="lineno"> 2699</span> </div>
<div class="line"><span class="lineno"> 2700</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2701</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l00416">evhttp_connected()</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, <a class="el" href="http_8c_source.html#l01303">evhttp_request_dispatch()</a>, <a class="el" href="http_8c_source.html#l00716">evhttp_request_free_auto()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, <a class="el" href="http-internal_8h_source.html#l00081">evhttp_connection::retry_cnt</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="evrpc_8c_source.html#l00718">evrpc_schedule_request_closure()</a>.</p>

</div>
</div>
<a id="a92f2e6eb57be6e19385d3e389907f8ba" name="a92f2e6eb57be6e19385d3e389907f8ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f2e6eb57be6e19385d3e389907f8ba">&#9670;&nbsp;</a></span>evhttp_maybe_add_content_length_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_maybe_add_content_length_header </td>
          <td>(</td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>content_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00514">514</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  516</span>{</div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(headers, <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>) == NULL &amp;&amp;</div>
<div class="line"><span class="lineno">  518</span>        <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(headers, <span class="stringliteral">&quot;Content-Length&quot;</span>) == NULL) {</div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordtype">char</span> len[22];</div>
<div class="line"><span class="lineno">  520</span>        <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(len, <span class="keyword">sizeof</span>(len), <a class="code hl_define" href="util-internal_8h.html#a98b3bbf9bce92f1eb231dc5aead267a7">EV_SIZE_FMT</a>,</div>
<div class="line"><span class="lineno">  521</span>            <a class="code hl_define" href="util-internal_8h.html#ab7d3b18d459ed5a75c9b6b19edd9b054">EV_SIZE_ARG</a>(content_length));</div>
<div class="line"><span class="lineno">  522</span>        <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(headers, <span class="stringliteral">&quot;Content-Length&quot;</span>, len);</div>
<div class="line"><span class="lineno">  523</span>    }</div>
<div class="line"><span class="lineno">  524</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00493">EV_SIZE_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00491">EV_SIZE_FMT</a>, <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, and <a class="el" href="evutil_8c_source.html#l01858">evutil_snprintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>.</p>

</div>
</div>
<a id="a008a79510a2e1e08ee3f6cd0fa25cc35" name="a008a79510a2e1e08ee3f6cd0fa25cc35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a008a79510a2e1e08ee3f6cd0fa25cc35">&#9670;&nbsp;</a></span>evhttp_maybe_add_date_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_maybe_add_date_header </td>
          <td>(</td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00501">501</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  502</span>{</div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(headers, <span class="stringliteral">&quot;Date&quot;</span>) == NULL) {</div>
<div class="line"><span class="lineno">  504</span>        <span class="keywordtype">char</span> date[50];</div>
<div class="line"><span class="lineno">  505</span>        <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(date) - <a class="code hl_function" href="evutil__time_8c.html#a32387518104d24e118ecfaabb3b7a49e">evutil_date_rfc1123</a>(date, <span class="keyword">sizeof</span>(date), NULL) &gt; 0) {</div>
<div class="line"><span class="lineno">  506</span>            <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(headers, <span class="stringliteral">&quot;Date&quot;</span>, date);</div>
<div class="line"><span class="lineno">  507</span>        }</div>
<div class="line"><span class="lineno">  508</span>    }</div>
<div class="line"><span class="lineno">  509</span>}</div>
<div class="ttc" id="aevutil__time_8c_html_a32387518104d24e118ecfaabb3b7a49e"><div class="ttname"><a href="evutil__time_8c.html#a32387518104d24e118ecfaabb3b7a49e">evutil_date_rfc1123</a></div><div class="ttdeci">int evutil_date_rfc1123(char *date, const size_t datelen, const struct tm *tm)</div><div class="ttdef"><b>Definition:</b> <a href="evutil__time_8c_source.html#l00184">evutil_time.c:184</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, and <a class="el" href="evutil__time_8c_source.html#l00184">evutil_date_rfc1123()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>.</p>

</div>
</div>
<a id="adce2fa984774896f19286a02ef934ad4" name="adce2fa984774896f19286a02ef934ad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adce2fa984774896f19286a02ef934ad4">&#9670;&nbsp;</a></span>evhttp_method()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * evhttp_method </td>
          <td>(</td>
          <td class="paramtype">enum evhttp_cmd_type&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Given an evhttp_cmd_type, returns a constant string containing the equivalent HTTP command, or NULL if the evhttp_command_type is unrecognized. </p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00309">309</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  310</span>{</div>
<div class="line"><span class="lineno">  311</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *method;</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><span class="lineno">  314</span>    <span class="keywordflow">case</span> EVHTTP_REQ_GET:</div>
<div class="line"><span class="lineno">  315</span>        method = <span class="stringliteral">&quot;GET&quot;</span>;</div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">case</span> EVHTTP_REQ_POST:</div>
<div class="line"><span class="lineno">  318</span>        method = <span class="stringliteral">&quot;POST&quot;</span>;</div>
<div class="line"><span class="lineno">  319</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  320</span>    <span class="keywordflow">case</span> EVHTTP_REQ_HEAD:</div>
<div class="line"><span class="lineno">  321</span>        method = <span class="stringliteral">&quot;HEAD&quot;</span>;</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordflow">case</span> EVHTTP_REQ_PUT:</div>
<div class="line"><span class="lineno">  324</span>        method = <span class="stringliteral">&quot;PUT&quot;</span>;</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">case</span> EVHTTP_REQ_DELETE:</div>
<div class="line"><span class="lineno">  327</span>        method = <span class="stringliteral">&quot;DELETE&quot;</span>;</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">case</span> EVHTTP_REQ_OPTIONS:</div>
<div class="line"><span class="lineno">  330</span>        method = <span class="stringliteral">&quot;OPTIONS&quot;</span>;</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">case</span> EVHTTP_REQ_TRACE:</div>
<div class="line"><span class="lineno">  333</span>        method = <span class="stringliteral">&quot;TRACE&quot;</span>;</div>
<div class="line"><span class="lineno">  334</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">case</span> EVHTTP_REQ_CONNECT:</div>
<div class="line"><span class="lineno">  336</span>        method = <span class="stringliteral">&quot;CONNECT&quot;</span>;</div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">case</span> EVHTTP_REQ_PATCH:</div>
<div class="line"><span class="lineno">  339</span>        method = <span class="stringliteral">&quot;PATCH&quot;</span>;</div>
<div class="line"><span class="lineno">  340</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  342</span>        method = NULL;</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  344</span>    }</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">return</span> (method);</div>
<div class="line"><span class="lineno">  347</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00438">evhttp_make_header_request()</a>.</p>

</div>
</div>
<a id="ae7dd2208193d6666ad2501e33eb5bf7d" name="ae7dd2208193d6666ad2501e33eb5bf7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7dd2208193d6666ad2501e33eb5bf7d">&#9670;&nbsp;</a></span>evhttp_method_may_have_body()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_method_may_have_body </td>
          <td>(</td>
          <td class="paramtype">enum evhttp_cmd_type&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02194">2194</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2195</span>{</div>
<div class="line"><span class="lineno"> 2196</span>    <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><span class="lineno"> 2197</span>    <span class="keywordflow">case</span> EVHTTP_REQ_POST:</div>
<div class="line"><span class="lineno"> 2198</span>    <span class="keywordflow">case</span> EVHTTP_REQ_PUT:</div>
<div class="line"><span class="lineno"> 2199</span>    <span class="keywordflow">case</span> EVHTTP_REQ_PATCH:</div>
<div class="line"><span class="lineno"> 2200</span> </div>
<div class="line"><span class="lineno"> 2201</span>    <span class="keywordflow">case</span> EVHTTP_REQ_GET:</div>
<div class="line"><span class="lineno"> 2202</span>    <span class="keywordflow">case</span> EVHTTP_REQ_DELETE:</div>
<div class="line"><span class="lineno"> 2203</span>    <span class="keywordflow">case</span> EVHTTP_REQ_OPTIONS:</div>
<div class="line"><span class="lineno"> 2204</span>    <span class="keywordflow">case</span> EVHTTP_REQ_CONNECT:</div>
<div class="line"><span class="lineno"> 2205</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2206</span> </div>
<div class="line"><span class="lineno"> 2207</span>    <span class="keywordflow">case</span> EVHTTP_REQ_TRACE:</div>
<div class="line"><span class="lineno"> 2208</span>    <span class="keywordflow">case</span> EVHTTP_REQ_HEAD:</div>
<div class="line"><span class="lineno"> 2209</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2210</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2211</span>    }</div>
<div class="line"><span class="lineno"> 2212</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>.</p>

</div>
</div>
<a id="ade17ed2aeb68659771e9d2dd720e660e" name="ade17ed2aeb68659771e9d2dd720e660e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade17ed2aeb68659771e9d2dd720e660e">&#9670;&nbsp;</a></span>evhttp_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp.html">evhttp</a> * evhttp_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03698">3698</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3699</span>{</div>
<div class="line"><span class="lineno"> 3700</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *http = NULL;</div>
<div class="line"><span class="lineno"> 3701</span> </div>
<div class="line"><span class="lineno"> 3702</span>    http = <a class="code hl_function" href="http_8c.html#a1188fc7453febddf64b14e34f2a351e6">evhttp_new_object</a>();</div>
<div class="line"><span class="lineno"> 3703</span>    <span class="keywordflow">if</span> (http == NULL)</div>
<div class="line"><span class="lineno"> 3704</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3705</span>    http-&gt;<a class="code hl_variable" href="structevhttp.html#a33a7da3c699cea2edad331dc724184e5">base</a> = <a class="code hl_variable" href="structevhttp.html#a33a7da3c699cea2edad331dc724184e5">base</a>;</div>
<div class="line"><span class="lineno"> 3706</span> </div>
<div class="line"><span class="lineno"> 3707</span>    <span class="keywordflow">return</span> (http);</div>
<div class="line"><span class="lineno"> 3708</span>}</div>
<div class="ttc" id="ahttp_8c_html_a1188fc7453febddf64b14e34f2a351e6"><div class="ttname"><a href="http_8c.html#a1188fc7453febddf64b14e34f2a351e6">evhttp_new_object</a></div><div class="ttdeci">static struct evhttp * evhttp_new_object(void)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03668">http.c:3668</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00171">evhttp::base</a>, and <a class="el" href="http_8c_source.html#l03668">evhttp_new_object()</a>.</p>

</div>
</div>
<a id="a1188fc7453febddf64b14e34f2a351e6" name="a1188fc7453febddf64b14e34f2a351e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1188fc7453febddf64b14e34f2a351e6">&#9670;&nbsp;</a></span>evhttp_new_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structevhttp.html">evhttp</a> * evhttp_new_object </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03668">3668</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3669</span>{</div>
<div class="line"><span class="lineno"> 3670</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *http = NULL;</div>
<div class="line"><span class="lineno"> 3671</span> </div>
<div class="line"><span class="lineno"> 3672</span>    <span class="keywordflow">if</span> ((http = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevhttp.html">evhttp</a>))) == NULL) {</div>
<div class="line"><span class="lineno"> 3673</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 3674</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3675</span>    }</div>
<div class="line"><span class="lineno"> 3676</span> </div>
<div class="line"><span class="lineno"> 3677</span>    evutil_timerclear(&amp;http-&gt;<a class="code hl_variable" href="structevhttp.html#a622c65d68ce8a8be347acbe0aacfb434">timeout</a>);</div>
<div class="line"><span class="lineno"> 3678</span>    <a class="code hl_function" href="http_8c.html#ae936aa6e7b0cb9617d0548a952db93cf">evhttp_set_max_headers_size</a>(http, EV_SIZE_MAX);</div>
<div class="line"><span class="lineno"> 3679</span>    <a class="code hl_function" href="http_8c.html#a8406065dcb34f9a058b2a7a6988ac351">evhttp_set_max_body_size</a>(http, EV_SIZE_MAX);</div>
<div class="line"><span class="lineno"> 3680</span>    <a class="code hl_function" href="http_8c.html#a9d7dcce5c2618396d175e1c4b8d8c4f5">evhttp_set_default_content_type</a>(http, <span class="stringliteral">&quot;text/html; charset=ISO-8859-1&quot;</span>);</div>
<div class="line"><span class="lineno"> 3681</span>    <a class="code hl_function" href="http_8c.html#ae63a0370f59570e00753f7fb512a7f59">evhttp_set_allowed_methods</a>(http,</div>
<div class="line"><span class="lineno"> 3682</span>        EVHTTP_REQ_GET |</div>
<div class="line"><span class="lineno"> 3683</span>        EVHTTP_REQ_POST |</div>
<div class="line"><span class="lineno"> 3684</span>        EVHTTP_REQ_HEAD |</div>
<div class="line"><span class="lineno"> 3685</span>        EVHTTP_REQ_PUT |</div>
<div class="line"><span class="lineno"> 3686</span>        EVHTTP_REQ_DELETE);</div>
<div class="line"><span class="lineno"> 3687</span> </div>
<div class="line"><span class="lineno"> 3688</span>    TAILQ_INIT(&amp;http-&gt;sockets);</div>
<div class="line"><span class="lineno"> 3689</span>    TAILQ_INIT(&amp;http-&gt;callbacks);</div>
<div class="line"><span class="lineno"> 3690</span>    TAILQ_INIT(&amp;http-&gt;<a class="code hl_variable" href="structevhttp.html#a6295127b5a8f06a1bfb847b5e9b1b90c">connections</a>);</div>
<div class="line"><span class="lineno"> 3691</span>    TAILQ_INIT(&amp;http-&gt;virtualhosts);</div>
<div class="line"><span class="lineno"> 3692</span>    TAILQ_INIT(&amp;http-&gt;aliases);</div>
<div class="line"><span class="lineno"> 3693</span> </div>
<div class="line"><span class="lineno"> 3694</span>    <span class="keywordflow">return</span> (http);</div>
<div class="line"><span class="lineno"> 3695</span>}</div>
<div class="ttc" id="ahttp_8c_html_a8406065dcb34f9a058b2a7a6988ac351"><div class="ttname"><a href="http_8c.html#a8406065dcb34f9a058b2a7a6988ac351">evhttp_set_max_body_size</a></div><div class="ttdeci">void evhttp_set_max_body_size(struct evhttp *http, ev_ssize_t max_body_size)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03893">http.c:3893</a></div></div>
<div class="ttc" id="ahttp_8c_html_a9d7dcce5c2618396d175e1c4b8d8c4f5"><div class="ttname"><a href="http_8c.html#a9d7dcce5c2618396d175e1c4b8d8c4f5">evhttp_set_default_content_type</a></div><div class="ttdeci">void evhttp_set_default_content_type(struct evhttp *http, const char *content_type)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03902">http.c:3902</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae63a0370f59570e00753f7fb512a7f59"><div class="ttname"><a href="http_8c.html#ae63a0370f59570e00753f7fb512a7f59">evhttp_set_allowed_methods</a></div><div class="ttdeci">void evhttp_set_allowed_methods(struct evhttp *http, ev_uint16_t methods)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03908">http.c:3908</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae936aa6e7b0cb9617d0548a952db93cf"><div class="ttname"><a href="http_8c.html#ae936aa6e7b0cb9617d0548a952db93cf">evhttp_set_max_headers_size</a></div><div class="ttdeci">void evhttp_set_max_headers_size(struct evhttp *http, ev_ssize_t max_headers_size)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03884">http.c:3884</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00144">evhttp::connections</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l03908">evhttp_set_allowed_methods()</a>, <a class="el" href="http_8c_source.html#l03902">evhttp_set_default_content_type()</a>, <a class="el" href="http_8c_source.html#l03893">evhttp_set_max_body_size()</a>, <a class="el" href="http_8c_source.html#l03884">evhttp_set_max_headers_size()</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, and <a class="el" href="http-internal_8h_source.html#l00153">evhttp::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03698">evhttp_new()</a>, and <a class="el" href="http_8c_source.html#l03715">evhttp_start()</a>.</p>

</div>
</div>
<a id="ac8d4bfe605c668e8f92c6fb8016649f0" name="ac8d4bfe605c668e8f92c6fb8016649f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d4bfe605c668e8f92c6fb8016649f0">&#9670;&nbsp;</a></span>evhttp_parse_firstline_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> evhttp_parse_firstline_ </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02025">2025</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2026</span>{</div>
<div class="line"><span class="lineno"> 2027</span>    <span class="keywordtype">char</span> *line;</div>
<div class="line"><span class="lineno"> 2028</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a>;</div>
<div class="line"><span class="lineno"> 2029</span> </div>
<div class="line"><span class="lineno"> 2030</span>    <span class="keywordtype">size_t</span> len;</div>
<div class="line"><span class="lineno"> 2031</span>    <span class="comment">/* XXX try */</span></div>
<div class="line"><span class="lineno"> 2032</span>    line = <a class="code hl_function" href="libevent_2buffer_8c.html#a145454dc7f26b678aa6b724aaf8742e7">evbuffer_readln</a>(<a class="code hl_struct" href="structbuffer.html">buffer</a>, &amp;len, EVBUFFER_EOL_CRLF);</div>
<div class="line"><span class="lineno"> 2033</span>    <span class="keywordflow">if</span> (line == NULL) {</div>
<div class="line"><span class="lineno"> 2034</span>        <span class="keywordflow">if</span> (req-&gt;evcon != NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2035</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_struct" href="structbuffer.html">buffer</a>) &gt; req-&gt;evcon-&gt;max_headers_size)</div>
<div class="line"><span class="lineno"> 2036</span>            <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>);</div>
<div class="line"><span class="lineno"> 2037</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2038</span>            <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>);</div>
<div class="line"><span class="lineno"> 2039</span>    }</div>
<div class="line"><span class="lineno"> 2040</span> </div>
<div class="line"><span class="lineno"> 2041</span>    <span class="keywordflow">if</span> (req-&gt;evcon != NULL &amp;&amp; len &gt; req-&gt;evcon-&gt;max_headers_size) {</div>
<div class="line"><span class="lineno"> 2042</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2043</span>        <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>);</div>
<div class="line"><span class="lineno"> 2044</span>    }</div>
<div class="line"><span class="lineno"> 2045</span> </div>
<div class="line"><span class="lineno"> 2046</span>    req-&gt;headers_size = len;</div>
<div class="line"><span class="lineno"> 2047</span> </div>
<div class="line"><span class="lineno"> 2048</span>    <span class="keywordflow">switch</span> (req-&gt;kind) {</div>
<div class="line"><span class="lineno"> 2049</span>    <span class="keywordflow">case</span> EVHTTP_REQUEST:</div>
<div class="line"><span class="lineno"> 2050</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#aaa607a6329cb3b702c07c28f01fc398d">evhttp_parse_request_line</a>(req, line, len) == -1)</div>
<div class="line"><span class="lineno"> 2051</span>            status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno"> 2052</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2053</span>    <span class="keywordflow">case</span> EVHTTP_RESPONSE:</div>
<div class="line"><span class="lineno"> 2054</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a8c4f0c2da9510ad94e73134a2fc39e3e">evhttp_parse_response_line</a>(req, line) == -1)</div>
<div class="line"><span class="lineno"> 2055</span>            status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno"> 2056</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2057</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2058</span>        status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno"> 2059</span>    }</div>
<div class="line"><span class="lineno"> 2060</span> </div>
<div class="line"><span class="lineno"> 2061</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2062</span>    <span class="keywordflow">return</span> (status);</div>
<div class="line"><span class="lineno"> 2063</span>}</div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a></div><div class="ttdeci">message_read_status</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00021">http-internal.h:21</a></div></div>
<div class="ttc" id="ahttp_8c_html_a8c4f0c2da9510ad94e73134a2fc39e3e"><div class="ttname"><a href="http_8c.html#a8c4f0c2da9510ad94e73134a2fc39e3e">evhttp_parse_response_line</a></div><div class="ttdeci">static int evhttp_parse_response_line(struct evhttp_request *req, char *line)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01682">http.c:1682</a></div></div>
<div class="ttc" id="ahttp_8c_html_aaa607a6329cb3b702c07c28f01fc398d"><div class="ttname"><a href="http_8c.html#aaa607a6329cb3b702c07c28f01fc398d">evhttp_parse_request_line</a></div><div class="ttdeci">static int evhttp_parse_request_line(struct evhttp_request *req, char *line, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01718">http.c:1718</a></div></div>
<div class="ttc" id="astructbuffer_html"><div class="ttname"><a href="structbuffer.html">buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00037">buffer.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00022">ALL_DATA_READ</a>, <a class="el" href="http-internal_8h_source.html#l00024">DATA_CORRUPTED</a>, <a class="el" href="http-internal_8h_source.html#l00026">DATA_TOO_LONG</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01687">evbuffer_readln()</a>, <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>, <a class="el" href="http_8c_source.html#l01682">evhttp_parse_response_line()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="http-internal_8h_source.html#l00023">MORE_DATA_EXPECTED</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02274">evhttp_read_firstline()</a>.</p>

</div>
</div>
<a id="a8196d3b911bc2517ac03a44d9adfe99b" name="a8196d3b911bc2517ac03a44d9adfe99b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8196d3b911bc2517ac03a44d9adfe99b">&#9670;&nbsp;</a></span>evhttp_parse_headers_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> evhttp_parse_headers_ </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02096">2096</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2097</span>{</div>
<div class="line"><span class="lineno"> 2098</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> errcode = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno"> 2099</span>    <span class="keywordtype">char</span> *line;</div>
<div class="line"><span class="lineno"> 2100</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>;</div>
<div class="line"><span class="lineno"> 2101</span> </div>
<div class="line"><span class="lineno"> 2102</span>    <span class="keyword">struct </span>evkeyvalq* headers = req-&gt;input_headers;</div>
<div class="line"><span class="lineno"> 2103</span>    <span class="keywordtype">size_t</span> len;</div>
<div class="line"><span class="lineno"> 2104</span>    <span class="keywordflow">while</span> ((line = <a class="code hl_function" href="libevent_2buffer_8c.html#a145454dc7f26b678aa6b724aaf8742e7">evbuffer_readln</a>(<a class="code hl_struct" href="structbuffer.html">buffer</a>, &amp;len, EVBUFFER_EOL_CRLF))</div>
<div class="line"><span class="lineno"> 2105</span>           != NULL) {</div>
<div class="line"><span class="lineno"> 2106</span>        <span class="keywordtype">char</span> *skey, *svalue;</div>
<div class="line"><span class="lineno"> 2107</span> </div>
<div class="line"><span class="lineno"> 2108</span>        req-&gt;headers_size += len;</div>
<div class="line"><span class="lineno"> 2109</span> </div>
<div class="line"><span class="lineno"> 2110</span>        <span class="keywordflow">if</span> (req-&gt;evcon != NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2111</span>            req-&gt;headers_size &gt; req-&gt;evcon-&gt;max_headers_size) {</div>
<div class="line"><span class="lineno"> 2112</span>            errcode = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>;</div>
<div class="line"><span class="lineno"> 2113</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2114</span>        }</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>        <span class="keywordflow">if</span> (*line == <span class="charliteral">&#39;\0&#39;</span>) { <span class="comment">/* Last header - Done */</span></div>
<div class="line"><span class="lineno"> 2117</span>            status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a>;</div>
<div class="line"><span class="lineno"> 2118</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2119</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2120</span>        }</div>
<div class="line"><span class="lineno"> 2121</span> </div>
<div class="line"><span class="lineno"> 2122</span>        <span class="comment">/* Check if this is a continuation line */</span></div>
<div class="line"><span class="lineno"> 2123</span>        <span class="keywordflow">if</span> (*line == <span class="charliteral">&#39; &#39;</span> || *line == <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><span class="lineno"> 2124</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a04abb4a67cf4fd168923c72fabf77c55">evhttp_append_to_last_header</a>(headers, line) == -1)</div>
<div class="line"><span class="lineno"> 2125</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2126</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2127</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2128</span>        }</div>
<div class="line"><span class="lineno"> 2129</span> </div>
<div class="line"><span class="lineno"> 2130</span>        <span class="comment">/* Processing of header lines */</span></div>
<div class="line"><span class="lineno"> 2131</span>        svalue = line;</div>
<div class="line"><span class="lineno"> 2132</span>        skey = <a class="code hl_function" href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a>(&amp;svalue, <span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line"><span class="lineno"> 2133</span>        <span class="keywordflow">if</span> (svalue == NULL)</div>
<div class="line"><span class="lineno"> 2134</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2135</span> </div>
<div class="line"><span class="lineno"> 2136</span>        svalue += strspn(svalue, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2137</span>        <a class="code hl_function" href="evutil_8c.html#adbbe34990531ffb2560076fa58392515">evutil_rtrim_lws_</a>(svalue);</div>
<div class="line"><span class="lineno"> 2138</span> </div>
<div class="line"><span class="lineno"> 2139</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(headers, skey, svalue) == -1)</div>
<div class="line"><span class="lineno"> 2140</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2141</span> </div>
<div class="line"><span class="lineno"> 2142</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2143</span>    }</div>
<div class="line"><span class="lineno"> 2144</span> </div>
<div class="line"><span class="lineno"> 2145</span>    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>) {</div>
<div class="line"><span class="lineno"> 2146</span>        <span class="keywordflow">if</span> (req-&gt;evcon != NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2147</span>        req-&gt;headers_size + <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_struct" href="structbuffer.html">buffer</a>) &gt; req-&gt;evcon-&gt;max_headers_size)</div>
<div class="line"><span class="lineno"> 2148</span>            <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>);</div>
<div class="line"><span class="lineno"> 2149</span>    }</div>
<div class="line"><span class="lineno"> 2150</span> </div>
<div class="line"><span class="lineno"> 2151</span>    <span class="keywordflow">return</span> (status);</div>
<div class="line"><span class="lineno"> 2152</span> </div>
<div class="line"><span class="lineno"> 2153</span> error:</div>
<div class="line"><span class="lineno"> 2154</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2155</span>    <span class="keywordflow">return</span> (errcode);</div>
<div class="line"><span class="lineno"> 2156</span>}</div>
<div class="ttc" id="ahttp_8c_html_a04abb4a67cf4fd168923c72fabf77c55"><div class="ttname"><a href="http_8c.html#a04abb4a67cf4fd168923c72fabf77c55">evhttp_append_to_last_header</a></div><div class="ttdeci">static int evhttp_append_to_last_header(struct evkeyvalq *headers, char *line)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02066">http.c:2066</a></div></div>
<div class="ttc" id="ahttp_8c_html_a844fbdb1603906de8cd282f2f5a649a4"><div class="ttname"><a href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a></div><div class="ttdeci">static char * strsep(char **s, const char *del)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00214">http.c:214</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00022">ALL_DATA_READ</a>, <a class="el" href="http-internal_8h_source.html#l00024">DATA_CORRUPTED</a>, <a class="el" href="http-internal_8h_source.html#l00026">DATA_TOO_LONG</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01687">evbuffer_readln()</a>, <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, <a class="el" href="http_8c_source.html#l02066">evhttp_append_to_last_header()</a>, <a class="el" href="evutil_8c_source.html#l02423">evutil_rtrim_lws_()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="http-internal_8h_source.html#l00023">MORE_DATA_EXPECTED</a>, and <a class="el" href="http_8c_source.html#l00214">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, and <a class="el" href="http_8c_source.html#l00997">evhttp_read_trailer()</a>.</p>

</div>
</div>
<a id="a2642198f784e8a9d464a3c7658c18acf" name="a2642198f784e8a9d464a3c7658c18acf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2642198f784e8a9d464a3c7658c18acf">&#9670;&nbsp;</a></span>evhttp_parse_http_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_parse_http_version </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01664">1664</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1665</span>{</div>
<div class="line"><span class="lineno"> 1666</span>    <span class="keywordtype">int</span> major, minor;</div>
<div class="line"><span class="lineno"> 1667</span>    <span class="keywordtype">char</span> ch;</div>
<div class="line"><span class="lineno"> 1668</span>    <span class="keywordtype">int</span> n = sscanf(version, <span class="stringliteral">&quot;HTTP/%d.%d%c&quot;</span>, &amp;major, &amp;minor, &amp;ch);</div>
<div class="line"><span class="lineno"> 1669</span>    <span class="keywordflow">if</span> (n != 2 || major &gt; 1) {</div>
<div class="line"><span class="lineno"> 1670</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: bad version %s on message %p from %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1671</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, version, req, req-&gt;remote_host));</div>
<div class="line"><span class="lineno"> 1672</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1673</span>    }</div>
<div class="line"><span class="lineno"> 1674</span>    req-&gt;major = major;</div>
<div class="line"><span class="lineno"> 1675</span>    req-&gt;minor = minor;</div>
<div class="line"><span class="lineno"> 1676</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 1677</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, and <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>, and <a class="el" href="http_8c_source.html#l01682">evhttp_parse_response_line()</a>.</p>

</div>
</div>
<a id="a12d3940d23fb53c38106f8ac0d3dfff6" name="a12d3940d23fb53c38106f8ac0d3dfff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12d3940d23fb53c38106f8ac0d3dfff6">&#9670;&nbsp;</a></span>evhttp_parse_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_parse_query </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03324">3324</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3325</span>{</div>
<div class="line"><span class="lineno"> 3326</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="http_8c.html#ab7de0ff2730961e7617b704f190c32a8">evhttp_parse_query_impl</a>(uri, headers, 1);</div>
<div class="line"><span class="lineno"> 3327</span>}</div>
<div class="ttc" id="ahttp_8c_html_ab7de0ff2730961e7617b704f190c32a8"><div class="ttname"><a href="http_8c.html#ab7de0ff2730961e7617b704f190c32a8">evhttp_parse_query_impl</a></div><div class="ttdeci">static int evhttp_parse_query_impl(const char *str, struct evkeyvalq *headers, int is_whole_uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03254">http.c:3254</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>.</p>

</div>
</div>
<a id="ab7de0ff2730961e7617b704f190c32a8" name="ab7de0ff2730961e7617b704f190c32a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7de0ff2730961e7617b704f190c32a8">&#9670;&nbsp;</a></span>evhttp_parse_query_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_parse_query_impl </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_whole_uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03254">3254</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3256</span>{</div>
<div class="line"><span class="lineno"> 3257</span>    <span class="keywordtype">char</span> *line=NULL;</div>
<div class="line"><span class="lineno"> 3258</span>    <span class="keywordtype">char</span> *argument;</div>
<div class="line"><span class="lineno"> 3259</span>    <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 3260</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *query_part;</div>
<div class="line"><span class="lineno"> 3261</span>    <span class="keywordtype">int</span> result = -1;</div>
<div class="line"><span class="lineno"> 3262</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__uri.html">evhttp_uri</a> *uri=NULL;</div>
<div class="line"><span class="lineno"> 3263</span> </div>
<div class="line"><span class="lineno"> 3264</span>    TAILQ_INIT(headers);</div>
<div class="line"><span class="lineno"> 3265</span> </div>
<div class="line"><span class="lineno"> 3266</span>    <span class="keywordflow">if</span> (is_whole_uri) {</div>
<div class="line"><span class="lineno"> 3267</span>        uri = <a class="code hl_function" href="http_8c.html#acb89eaafdea9278bab61ea954730cb64">evhttp_uri_parse</a>(str);</div>
<div class="line"><span class="lineno"> 3268</span>        <span class="keywordflow">if</span> (!uri)</div>
<div class="line"><span class="lineno"> 3269</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 3270</span>        query_part = <a class="code hl_function" href="http_8c.html#ae339c4820e5459f635d268d878fc6f4f">evhttp_uri_get_query</a>(uri);</div>
<div class="line"><span class="lineno"> 3271</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3272</span>        query_part = str;</div>
<div class="line"><span class="lineno"> 3273</span>    }</div>
<div class="line"><span class="lineno"> 3274</span> </div>
<div class="line"><span class="lineno"> 3275</span>    <span class="comment">/* No arguments - we are done */</span></div>
<div class="line"><span class="lineno"> 3276</span>    <span class="keywordflow">if</span> (!query_part || !strlen(query_part)) {</div>
<div class="line"><span class="lineno"> 3277</span>        result = 0;</div>
<div class="line"><span class="lineno"> 3278</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 3279</span>    }</div>
<div class="line"><span class="lineno"> 3280</span> </div>
<div class="line"><span class="lineno"> 3281</span>    <span class="keywordflow">if</span> ((line = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(query_part)) == NULL) {</div>
<div class="line"><span class="lineno"> 3282</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 3283</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 3284</span>    }</div>
<div class="line"><span class="lineno"> 3285</span> </div>
<div class="line"><span class="lineno"> 3286</span>    p = argument = line;</div>
<div class="line"><span class="lineno"> 3287</span>    <span class="keywordflow">while</span> (p != NULL &amp;&amp; *p != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><span class="lineno"> 3288</span>        <span class="keywordtype">char</span> *key, *value, *decoded_value;</div>
<div class="line"><span class="lineno"> 3289</span>        <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno"> 3290</span>        argument = <a class="code hl_function" href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a>(&amp;p, <span class="stringliteral">&quot;&amp;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3291</span> </div>
<div class="line"><span class="lineno"> 3292</span>        value = argument;</div>
<div class="line"><span class="lineno"> 3293</span>        key = <a class="code hl_function" href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a>(&amp;value, <span class="stringliteral">&quot;=&quot;</span>);</div>
<div class="line"><span class="lineno"> 3294</span>        <span class="keywordflow">if</span> (value == NULL || *key == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><span class="lineno"> 3295</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 3296</span>        }</div>
<div class="line"><span class="lineno"> 3297</span> </div>
<div class="line"><span class="lineno"> 3298</span>        <span class="keywordflow">if</span> ((decoded_value = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(strlen(value) + 1)) == NULL) {</div>
<div class="line"><span class="lineno"> 3299</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: mm_malloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 3300</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 3301</span>        }</div>
<div class="line"><span class="lineno"> 3302</span>        <a class="code hl_function" href="http_8c.html#a6388e8fafd94605920e6e0c22ffa869f">evhttp_decode_uri_internal</a>(value, strlen(value),</div>
<div class="line"><span class="lineno"> 3303</span>            decoded_value, 1 <span class="comment">/*always_decode_plus*/</span>);</div>
<div class="line"><span class="lineno"> 3304</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;Query Param: %s -&gt; %s\n&quot;</span>, key, decoded_value));</div>
<div class="line"><span class="lineno"> 3305</span>        err = <a class="code hl_function" href="http_8c.html#a35c71de8ffdf44a75dc74f6df4cb4f9b">evhttp_add_header_internal</a>(headers, key, decoded_value);</div>
<div class="line"><span class="lineno"> 3306</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(decoded_value);</div>
<div class="line"><span class="lineno"> 3307</span>        <span class="keywordflow">if</span> (err)</div>
<div class="line"><span class="lineno"> 3308</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 3309</span>    }</div>
<div class="line"><span class="lineno"> 3310</span> </div>
<div class="line"><span class="lineno"> 3311</span>    result = 0;</div>
<div class="line"><span class="lineno"> 3312</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 3313</span>error:</div>
<div class="line"><span class="lineno"> 3314</span>    <a class="code hl_function" href="http_8c.html#adfd33f73c8d7af63a0da05ebb32b7e72">evhttp_clear_headers</a>(headers);</div>
<div class="line"><span class="lineno"> 3315</span>done:</div>
<div class="line"><span class="lineno"> 3316</span>    <span class="keywordflow">if</span> (line)</div>
<div class="line"><span class="lineno"> 3317</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 3318</span>    <span class="keywordflow">if</span> (uri)</div>
<div class="line"><span class="lineno"> 3319</span>        <a class="code hl_function" href="http_8c.html#a5ee82311278b8fda3ed93a8e358683bb">evhttp_uri_free</a>(uri);</div>
<div class="line"><span class="lineno"> 3320</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3321</span>}</div>
<div class="ttc" id="ahttp_8c_html_acb89eaafdea9278bab61ea954730cb64"><div class="ttname"><a href="http_8c.html#acb89eaafdea9278bab61ea954730cb64">evhttp_uri_parse</a></div><div class="ttdeci">struct evhttp_uri * evhttp_uri_parse(const char *source_uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04765">http.c:4765</a></div></div>
<div class="ttc" id="ahttp_8c_html_adfd33f73c8d7af63a0da05ebb32b7e72"><div class="ttname"><a href="http_8c.html#adfd33f73c8d7af63a0da05ebb32b7e72">evhttp_clear_headers</a></div><div class="ttdeci">void evhttp_clear_headers(struct evkeyvalq *headers)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01912">http.c:1912</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae339c4820e5459f635d268d878fc6f4f"><div class="ttname"><a href="http_8c.html#ae339c4820e5459f635d268d878fc6f4f">evhttp_uri_get_query</a></div><div class="ttdeci">const char * evhttp_uri_get_query(const struct evhttp_uri *uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l05037">http.c:5037</a></div></div>
<div class="ttc" id="astructevhttp__uri_html"><div class="ttname"><a href="structevhttp__uri.html">evhttp_uri</a></div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04480">http.c:4480</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l01989">evhttp_add_header_internal()</a>, <a class="el" href="http_8c_source.html#l01912">evhttp_clear_headers()</a>, <a class="el" href="http_8c_source.html#l03176">evhttp_decode_uri_internal()</a>, <a class="el" href="http_8c_source.html#l04929">evhttp_uri_free()</a>, <a class="el" href="http_8c_source.html#l05037">evhttp_uri_get_query()</a>, <a class="el" href="http_8c_source.html#l04765">evhttp_uri_parse()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, and <a class="el" href="http_8c_source.html#l00214">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03324">evhttp_parse_query()</a>, and <a class="el" href="http_8c_source.html#l03329">evhttp_parse_query_str()</a>.</p>

</div>
</div>
<a id="a1598fb5757f39dde6dc43dee9a2e7fca" name="a1598fb5757f39dde6dc43dee9a2e7fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1598fb5757f39dde6dc43dee9a2e7fca">&#9670;&nbsp;</a></span>evhttp_parse_query_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_parse_query_str </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03329">3329</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3330</span>{</div>
<div class="line"><span class="lineno"> 3331</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="http_8c.html#ab7de0ff2730961e7617b704f190c32a8">evhttp_parse_query_impl</a>(uri, headers, 0);</div>
<div class="line"><span class="lineno"> 3332</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>.</p>

</div>
</div>
<a id="aaa607a6329cb3b702c07c28f01fc398d" name="aaa607a6329cb3b702c07c28f01fc398d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa607a6329cb3b702c07c28f01fc398d">&#9670;&nbsp;</a></span>evhttp_parse_request_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_parse_request_line </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01718">1718</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1719</span>{</div>
<div class="line"><span class="lineno"> 1720</span>    <span class="keywordtype">char</span> *eos = line + len;</div>
<div class="line"><span class="lineno"> 1721</span>    <span class="keywordtype">char</span> *method;</div>
<div class="line"><span class="lineno"> 1722</span>    <span class="keywordtype">char</span> *uri;</div>
<div class="line"><span class="lineno"> 1723</span>    <span class="keywordtype">char</span> *version;</div>
<div class="line"><span class="lineno"> 1724</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *hostname;</div>
<div class="line"><span class="lineno"> 1725</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *scheme;</div>
<div class="line"><span class="lineno"> 1726</span>    <span class="keywordtype">size_t</span> method_len;</div>
<div class="line"><span class="lineno"> 1727</span>    <span class="keyword">enum</span> evhttp_cmd_type type;</div>
<div class="line"><span class="lineno"> 1728</span> </div>
<div class="line"><span class="lineno"> 1729</span>    <span class="keywordflow">while</span> (eos &gt; line &amp;&amp; *(eos-1) == <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><span class="lineno"> 1730</span>        *(eos-1) = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1731</span>        --eos;</div>
<div class="line"><span class="lineno"> 1732</span>        --len;</div>
<div class="line"><span class="lineno"> 1733</span>    }</div>
<div class="line"><span class="lineno"> 1734</span>    <span class="keywordflow">if</span> (len &lt; strlen(<span class="stringliteral">&quot;GET / HTTP/1.0&quot;</span>))</div>
<div class="line"><span class="lineno"> 1735</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1736</span> </div>
<div class="line"><span class="lineno"> 1737</span>    <span class="comment">/* Parse the request line */</span></div>
<div class="line"><span class="lineno"> 1738</span>    method = <a class="code hl_function" href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a>(&amp;line, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1739</span>    <span class="keywordflow">if</span> (!line)</div>
<div class="line"><span class="lineno"> 1740</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1741</span>    uri = line;</div>
<div class="line"><span class="lineno"> 1742</span>    version = strrchr(uri, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno"> 1743</span>    <span class="keywordflow">if</span> (!version || uri == version)</div>
<div class="line"><span class="lineno"> 1744</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1745</span>    *version = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1746</span>    version++;</div>
<div class="line"><span class="lineno"> 1747</span> </div>
<div class="line"><span class="lineno"> 1748</span>    method_len = (uri - method) - 1;</div>
<div class="line"><span class="lineno"> 1749</span>    type       = <a class="code hl_define" href="http-internal_8h.html#aa84f02965a06f74b822c81fa515acd0b">EVHTTP_REQ_UNKNOWN_</a>;</div>
<div class="line"><span class="lineno"> 1750</span> </div>
<div class="line"><span class="lineno"> 1751</span>    <span class="comment">/* First line */</span></div>
<div class="line"><span class="lineno"> 1752</span>    <span class="keywordflow">switch</span> (method_len) {</div>
<div class="line"><span class="lineno"> 1753</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 1754</span>        <span class="comment">/* The length of the method string is 3, meaning it can only be one of two methods: GET or PUT */</span></div>
<div class="line"><span class="lineno"> 1755</span>            </div>
<div class="line"><span class="lineno"> 1756</span>        <span class="comment">/* Since both GET and PUT share the same character &#39;T&#39; at the end,</span></div>
<div class="line"><span class="lineno"> 1757</span><span class="comment">         * if the string doesn&#39;t have &#39;T&#39;, we can immediately determine this</span></div>
<div class="line"><span class="lineno"> 1758</span><span class="comment">         * is an invalid HTTP method */</span></div>
<div class="line"><span class="lineno"> 1759</span>            </div>
<div class="line"><span class="lineno"> 1760</span>        <span class="keywordflow">if</span> (method[2] != <span class="charliteral">&#39;T&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1761</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1762</span>        }</div>
<div class="line"><span class="lineno"> 1763</span>            </div>
<div class="line"><span class="lineno"> 1764</span>        <span class="keywordflow">switch</span> (*method) {</div>
<div class="line"><span class="lineno"> 1765</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;G&#39;</span>:</div>
<div class="line"><span class="lineno"> 1766</span>            <span class="comment">/* This first byte is &#39;G&#39;, so make sure the next byte is</span></div>
<div class="line"><span class="lineno"> 1767</span><span class="comment">             * &#39;E&#39;, if it isn&#39;t then this isn&#39;t a valid method */</span></div>
<div class="line"><span class="lineno"> 1768</span>                    </div>
<div class="line"><span class="lineno"> 1769</span>            <span class="keywordflow">if</span> (method[1] == <span class="charliteral">&#39;E&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1770</span>                type = EVHTTP_REQ_GET;</div>
<div class="line"><span class="lineno"> 1771</span>            }</div>
<div class="line"><span class="lineno"> 1772</span>                    </div>
<div class="line"><span class="lineno"> 1773</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1774</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:</div>
<div class="line"><span class="lineno"> 1775</span>            <span class="comment">/* First byte is P, check second byte for &#39;U&#39;, if not,</span></div>
<div class="line"><span class="lineno"> 1776</span><span class="comment">             * we know it&#39;s an invalid method */</span></div>
<div class="line"><span class="lineno"> 1777</span>            <span class="keywordflow">if</span> (method[1] == <span class="charliteral">&#39;U&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1778</span>                type = EVHTTP_REQ_PUT;</div>
<div class="line"><span class="lineno"> 1779</span>            }</div>
<div class="line"><span class="lineno"> 1780</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1781</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1782</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1783</span>        }</div>
<div class="line"><span class="lineno"> 1784</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1785</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 1786</span>        <span class="comment">/* The method length is 4 bytes, leaving only the methods &quot;POST&quot; and &quot;HEAD&quot; */</span></div>
<div class="line"><span class="lineno"> 1787</span>        <span class="keywordflow">switch</span> (*method) {</div>
<div class="line"><span class="lineno"> 1788</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:</div>
<div class="line"><span class="lineno"> 1789</span>            <span class="keywordflow">if</span> (method[3] == <span class="charliteral">&#39;T&#39;</span> &amp;&amp; method[2] == <span class="charliteral">&#39;S&#39;</span> &amp;&amp; method[1] == <span class="charliteral">&#39;O&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1790</span>                type = EVHTTP_REQ_POST;</div>
<div class="line"><span class="lineno"> 1791</span>            }</div>
<div class="line"><span class="lineno"> 1792</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1793</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>:</div>
<div class="line"><span class="lineno"> 1794</span>            <span class="keywordflow">if</span> (method[3] == <span class="charliteral">&#39;D&#39;</span> &amp;&amp; method[2] == <span class="charliteral">&#39;A&#39;</span> &amp;&amp; method[1] == <span class="charliteral">&#39;E&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1795</span>                type = EVHTTP_REQ_HEAD;</div>
<div class="line"><span class="lineno"> 1796</span>            }</div>
<div class="line"><span class="lineno"> 1797</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1798</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1799</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1800</span>        }</div>
<div class="line"><span class="lineno"> 1801</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1802</span>        <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 1803</span>        <span class="comment">/* Method length is 5 bytes, which can only encompass PATCH and TRACE */</span></div>
<div class="line"><span class="lineno"> 1804</span>        <span class="keywordflow">switch</span> (*method) {</div>
<div class="line"><span class="lineno"> 1805</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:</div>
<div class="line"><span class="lineno"> 1806</span>            <span class="keywordflow">if</span> (method[4] == <span class="charliteral">&#39;H&#39;</span> &amp;&amp; method[3] == <span class="charliteral">&#39;C&#39;</span> &amp;&amp; method[2] == <span class="charliteral">&#39;T&#39;</span> &amp;&amp; method[1] == <span class="charliteral">&#39;A&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1807</span>                type = EVHTTP_REQ_PATCH;</div>
<div class="line"><span class="lineno"> 1808</span>            }</div>
<div class="line"><span class="lineno"> 1809</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1810</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:</div>
<div class="line"><span class="lineno"> 1811</span>            <span class="keywordflow">if</span> (method[4] == <span class="charliteral">&#39;E&#39;</span> &amp;&amp; method[3] == <span class="charliteral">&#39;C&#39;</span> &amp;&amp; method[2] == <span class="charliteral">&#39;A&#39;</span> &amp;&amp; method[1] == <span class="charliteral">&#39;R&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1812</span>                type = EVHTTP_REQ_TRACE;</div>
<div class="line"><span class="lineno"> 1813</span>            }</div>
<div class="line"><span class="lineno"> 1814</span>                    </div>
<div class="line"><span class="lineno"> 1815</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1816</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1817</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1818</span>        }</div>
<div class="line"><span class="lineno"> 1819</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1820</span>        <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno"> 1821</span>        <span class="comment">/* Method length is 6, only valid method 6 bytes in length is DELEte */</span></div>
<div class="line"><span class="lineno"> 1822</span>            </div>
<div class="line"><span class="lineno"> 1823</span>        <span class="comment">/* If the first byte isn&#39;t &#39;D&#39; then it&#39;s invalid */</span></div>
<div class="line"><span class="lineno"> 1824</span>        <span class="keywordflow">if</span> (*method != <span class="charliteral">&#39;D&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1825</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1826</span>        }</div>
<div class="line"><span class="lineno"> 1827</span> </div>
<div class="line"><span class="lineno"> 1828</span>        <span class="keywordflow">if</span> (method[5] == <span class="charliteral">&#39;E&#39;</span> &amp;&amp; method[4] == <span class="charliteral">&#39;T&#39;</span> &amp;&amp; method[3] == <span class="charliteral">&#39;E&#39;</span> &amp;&amp; method[2] == <span class="charliteral">&#39;L&#39;</span> &amp;&amp; method[1] == <span class="charliteral">&#39;E&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1829</span>            type = EVHTTP_REQ_DELETE;</div>
<div class="line"><span class="lineno"> 1830</span>        }</div>
<div class="line"><span class="lineno"> 1831</span> </div>
<div class="line"><span class="lineno"> 1832</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1833</span>        <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno"> 1834</span>        <span class="comment">/* Method length is 7, only valid methods are &quot;OPTIONS&quot; and &quot;CONNECT&quot; */</span></div>
<div class="line"><span class="lineno"> 1835</span>        <span class="keywordflow">switch</span> (*method) {</div>
<div class="line"><span class="lineno"> 1836</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:</div>
<div class="line"><span class="lineno"> 1837</span>            <span class="keywordflow">if</span> (method[6] == <span class="charliteral">&#39;S&#39;</span> &amp;&amp; method[5] == <span class="charliteral">&#39;N&#39;</span> &amp;&amp; method[4] == <span class="charliteral">&#39;O&#39;</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 1838</span>                method[3] == <span class="charliteral">&#39;I&#39;</span> &amp;&amp; method[2] == <span class="charliteral">&#39;T&#39;</span> &amp;&amp; method[1] == <span class="charliteral">&#39;P&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1839</span>                type = EVHTTP_REQ_OPTIONS;</div>
<div class="line"><span class="lineno"> 1840</span>            }</div>
<div class="line"><span class="lineno"> 1841</span>                   </div>
<div class="line"><span class="lineno"> 1842</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1843</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div>
<div class="line"><span class="lineno"> 1844</span>            <span class="keywordflow">if</span> (method[6] == <span class="charliteral">&#39;T&#39;</span> &amp;&amp; method[5] == <span class="charliteral">&#39;C&#39;</span> &amp;&amp; method[4] == <span class="charliteral">&#39;E&#39;</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 1845</span>                method[3] == <span class="charliteral">&#39;N&#39;</span> &amp;&amp; method[2] == <span class="charliteral">&#39;N&#39;</span> &amp;&amp; method[1] == <span class="charliteral">&#39;O&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1846</span>                type = EVHTTP_REQ_CONNECT;</div>
<div class="line"><span class="lineno"> 1847</span>            }</div>
<div class="line"><span class="lineno"> 1848</span>                    </div>
<div class="line"><span class="lineno"> 1849</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1850</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1851</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1852</span>        }</div>
<div class="line"><span class="lineno"> 1853</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1854</span>    } <span class="comment">/* switch */</span></div>
<div class="line"><span class="lineno"> 1855</span> </div>
<div class="line"><span class="lineno"> 1856</span>    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)type == <a class="code hl_define" href="http-internal_8h.html#aa84f02965a06f74b822c81fa515acd0b">EVHTTP_REQ_UNKNOWN_</a>) {</div>
<div class="line"><span class="lineno"> 1857</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: bad method %s on request %p from %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1858</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, method, req, req-&gt;remote_host));</div>
<div class="line"><span class="lineno"> 1859</span>                <span class="comment">/* No error yet; we&#39;ll give a better error later when</span></div>
<div class="line"><span class="lineno"> 1860</span><span class="comment">                 * we see that req-&gt;type is unsupported. */</span></div>
<div class="line"><span class="lineno"> 1861</span>    }</div>
<div class="line"><span class="lineno"> 1862</span>        </div>
<div class="line"><span class="lineno"> 1863</span>    req-&gt;type = type;</div>
<div class="line"><span class="lineno"> 1864</span> </div>
<div class="line"><span class="lineno"> 1865</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a2642198f784e8a9d464a3c7658c18acf">evhttp_parse_http_version</a>(version, req) &lt; 0)</div>
<div class="line"><span class="lineno"> 1866</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1867</span> </div>
<div class="line"><span class="lineno"> 1868</span>    <span class="keywordflow">if</span> ((req-&gt;uri = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(uri)) == NULL) {</div>
<div class="line"><span class="lineno"> 1869</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: mm_strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>));</div>
<div class="line"><span class="lineno"> 1870</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1871</span>    }</div>
<div class="line"><span class="lineno"> 1872</span> </div>
<div class="line"><span class="lineno"> 1873</span>    <span class="keywordflow">if</span> (type == EVHTTP_REQ_CONNECT) {</div>
<div class="line"><span class="lineno"> 1874</span>        <span class="keywordflow">if</span> ((req-&gt;uri_elems = <a class="code hl_function" href="http_8c.html#aa3cb41421c13aacc8a69c62f9b92d75c">evhttp_uri_parse_authority</a>(req-&gt;uri)) == NULL) {</div>
<div class="line"><span class="lineno"> 1875</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1876</span>        }</div>
<div class="line"><span class="lineno"> 1877</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1878</span>        <span class="keywordflow">if</span> ((req-&gt;uri_elems = <a class="code hl_function" href="http_8c.html#afcdb80b5b1747de1f41146e04b5f5e8e">evhttp_uri_parse_with_flags</a>(req-&gt;uri,</div>
<div class="line"><span class="lineno"> 1879</span>                EVHTTP_URI_NONCONFORMANT)) == NULL) {</div>
<div class="line"><span class="lineno"> 1880</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1881</span>        }</div>
<div class="line"><span class="lineno"> 1882</span>    }</div>
<div class="line"><span class="lineno"> 1883</span> </div>
<div class="line"><span class="lineno"> 1884</span>    <span class="comment">/* If we have an absolute-URI, check to see if it is an http request</span></div>
<div class="line"><span class="lineno"> 1885</span><span class="comment">       for a known vhost or server alias. If we don&#39;t know about this</span></div>
<div class="line"><span class="lineno"> 1886</span><span class="comment">       host, we consider it a proxy request. */</span></div>
<div class="line"><span class="lineno"> 1887</span>    scheme = <a class="code hl_function" href="http_8c.html#a9a8b356ec6612eda91d83aa0f039a884">evhttp_uri_get_scheme</a>(req-&gt;uri_elems);</div>
<div class="line"><span class="lineno"> 1888</span>    hostname = <a class="code hl_function" href="http_8c.html#ac65d0a129ce87b510fb294d9dd6c1e0d">evhttp_uri_get_host</a>(req-&gt;uri_elems);</div>
<div class="line"><span class="lineno"> 1889</span>    <span class="keywordflow">if</span> (scheme &amp;&amp; (!<a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(scheme, <span class="stringliteral">&quot;http&quot;</span>) ||</div>
<div class="line"><span class="lineno"> 1890</span>               !<a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(scheme, <span class="stringliteral">&quot;https&quot;</span>)) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1891</span>        hostname &amp;&amp;</div>
<div class="line"><span class="lineno"> 1892</span>        !<a class="code hl_function" href="http_8c.html#a52d5625a2e540c973db9b2cc66f3348c">evhttp_find_vhost</a>(req-&gt;evcon-&gt;http_server, NULL, hostname))</div>
<div class="line"><span class="lineno"> 1893</span>        req-&gt;flags |= EVHTTP_PROXY_REQUEST;</div>
<div class="line"><span class="lineno"> 1894</span> </div>
<div class="line"><span class="lineno"> 1895</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1896</span>}</div>
<div class="ttc" id="ahttp-internal_8h_html_aa84f02965a06f74b822c81fa515acd0b"><div class="ttname"><a href="http-internal_8h.html#aa84f02965a06f74b822c81fa515acd0b">EVHTTP_REQ_UNKNOWN_</a></div><div class="ttdeci">#define EVHTTP_REQ_UNKNOWN_</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00034">http-internal.h:34</a></div></div>
<div class="ttc" id="ahttp_8c_html_a2642198f784e8a9d464a3c7658c18acf"><div class="ttname"><a href="http_8c.html#a2642198f784e8a9d464a3c7658c18acf">evhttp_parse_http_version</a></div><div class="ttdeci">static int evhttp_parse_http_version(const char *version, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01664">http.c:1664</a></div></div>
<div class="ttc" id="ahttp_8c_html_a9a8b356ec6612eda91d83aa0f039a884"><div class="ttname"><a href="http_8c.html#a9a8b356ec6612eda91d83aa0f039a884">evhttp_uri_get_scheme</a></div><div class="ttdeci">const char * evhttp_uri_get_scheme(const struct evhttp_uri *uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l05012">http.c:5012</a></div></div>
<div class="ttc" id="ahttp_8c_html_aa3cb41421c13aacc8a69c62f9b92d75c"><div class="ttname"><a href="http_8c.html#aa3cb41421c13aacc8a69c62f9b92d75c">evhttp_uri_parse_authority</a></div><div class="ttdeci">static struct evhttp_uri * evhttp_uri_parse_authority(char *source_uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04899">http.c:4899</a></div></div>
<div class="ttc" id="ahttp_8c_html_ac65d0a129ce87b510fb294d9dd6c1e0d"><div class="ttname"><a href="http_8c.html#ac65d0a129ce87b510fb294d9dd6c1e0d">evhttp_uri_get_host</a></div><div class="ttdeci">const char * evhttp_uri_get_host(const struct evhttp_uri *uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l05022">http.c:5022</a></div></div>
<div class="ttc" id="ahttp_8c_html_afcdb80b5b1747de1f41146e04b5f5e8e"><div class="ttname"><a href="http_8c.html#afcdb80b5b1747de1f41146e04b5f5e8e">evhttp_uri_parse_with_flags</a></div><div class="ttdeci">struct evhttp_uri * evhttp_uri_parse_with_flags(const char *source_uri, unsigned flags)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04771">http.c:4771</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="http_8c_source.html#l03436">evhttp_find_vhost()</a>, <a class="el" href="http_8c_source.html#l01664">evhttp_parse_http_version()</a>, <a class="el" href="http-internal_8h_source.html#l00034">EVHTTP_REQ_UNKNOWN_</a>, <a class="el" href="http_8c_source.html#l05022">evhttp_uri_get_host()</a>, <a class="el" href="http_8c_source.html#l05012">evhttp_uri_get_scheme()</a>, <a class="el" href="http_8c_source.html#l04899">evhttp_uri_parse_authority()</a>, <a class="el" href="http_8c_source.html#l04771">evhttp_uri_parse_with_flags()</a>, <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, and <a class="el" href="http_8c_source.html#l00214">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02025">evhttp_parse_firstline_()</a>.</p>

</div>
</div>
<a id="a8c4f0c2da9510ad94e73134a2fc39e3e" name="a8c4f0c2da9510ad94e73134a2fc39e3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c4f0c2da9510ad94e73134a2fc39e3e">&#9670;&nbsp;</a></span>evhttp_parse_response_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_parse_response_line </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01682">1682</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1683</span>{</div>
<div class="line"><span class="lineno"> 1684</span>    <span class="keywordtype">char</span> *protocol;</div>
<div class="line"><span class="lineno"> 1685</span>    <span class="keywordtype">char</span> *number;</div>
<div class="line"><span class="lineno"> 1686</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *readable = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1687</span> </div>
<div class="line"><span class="lineno"> 1688</span>    protocol = <a class="code hl_function" href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a>(&amp;line, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1689</span>    <span class="keywordflow">if</span> (line == NULL)</div>
<div class="line"><span class="lineno"> 1690</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1691</span>    number = <a class="code hl_function" href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a>(&amp;line, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1692</span>    <span class="keywordflow">if</span> (line != NULL)</div>
<div class="line"><span class="lineno"> 1693</span>        readable = line;</div>
<div class="line"><span class="lineno"> 1694</span> </div>
<div class="line"><span class="lineno"> 1695</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a2642198f784e8a9d464a3c7658c18acf">evhttp_parse_http_version</a>(protocol, req) &lt; 0)</div>
<div class="line"><span class="lineno"> 1696</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1697</span> </div>
<div class="line"><span class="lineno"> 1698</span>    req-&gt;response_code = atoi(number);</div>
<div class="line"><span class="lineno"> 1699</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="http_8c.html#a3a0a72405893139c9dc3a5812c3e84ec">evhttp_valid_response_code</a>(req-&gt;response_code)) {</div>
<div class="line"><span class="lineno"> 1700</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: bad response code \&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 1701</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, number));</div>
<div class="line"><span class="lineno"> 1702</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1703</span>    }</div>
<div class="line"><span class="lineno"> 1704</span> </div>
<div class="line"><span class="lineno"> 1705</span>    <span class="keywordflow">if</span> (req-&gt;response_code_line != NULL)</div>
<div class="line"><span class="lineno"> 1706</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;response_code_line);</div>
<div class="line"><span class="lineno"> 1707</span>    <span class="keywordflow">if</span> ((req-&gt;response_code_line = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(readable)) == NULL) {</div>
<div class="line"><span class="lineno"> 1708</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 1709</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1710</span>    }</div>
<div class="line"><span class="lineno"> 1711</span> </div>
<div class="line"><span class="lineno"> 1712</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 1713</span>}</div>
<div class="ttc" id="ahttp_8c_html_a3a0a72405893139c9dc3a5812c3e84ec"><div class="ttname"><a href="http_8c.html#a3a0a72405893139c9dc3a5812c3e84ec">evhttp_valid_response_code</a></div><div class="ttdeci">static int evhttp_valid_response_code(int code)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01655">http.c:1655</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l01664">evhttp_parse_http_version()</a>, <a class="el" href="http_8c_source.html#l01655">evhttp_valid_response_code()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, and <a class="el" href="http_8c_source.html#l00214">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02025">evhttp_parse_firstline_()</a>.</p>

</div>
</div>
<a id="a86a93ad9abc750b2588f751514e6c22b" name="a86a93ad9abc750b2588f751514e6c22b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a93ad9abc750b2588f751514e6c22b">&#9670;&nbsp;</a></span>evhttp_read_body()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_read_body </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01047">1047</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1048</span>{</div>
<div class="line"><span class="lineno"> 1049</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *buf = <a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>    <span class="keywordflow">if</span> (req-&gt;chunked) {</div>
<div class="line"><span class="lineno"> 1052</span>        <span class="keywordflow">switch</span> (<a class="code hl_function" href="http_8c.html#afe9b9b1bc06be4087c0aa4ff7a40c623">evhttp_handle_chunked_read</a>(req, buf)) {</div>
<div class="line"><span class="lineno"> 1053</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a>:</div>
<div class="line"><span class="lineno"> 1054</span>            <span class="comment">/* finished last chunk */</span></div>
<div class="line"><span class="lineno"> 1055</span>            evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d">EVCON_READING_TRAILER</a>;</div>
<div class="line"><span class="lineno"> 1056</span>            <a class="code hl_function" href="http_8c.html#afb4a5a068e6014cf19d7f35a642d3a9f">evhttp_read_trailer</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1057</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1058</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>:</div>
<div class="line"><span class="lineno"> 1059</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>:</div>
<div class="line"><span class="lineno"> 1060</span>            <span class="comment">/* corrupted data */</span></div>
<div class="line"><span class="lineno"> 1061</span>            <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon,</div>
<div class="line"><span class="lineno"> 1062</span>                EVREQ_HTTP_DATA_TOO_LONG);</div>
<div class="line"><span class="lineno"> 1063</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1064</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21">REQUEST_CANCELED</a>:</div>
<div class="line"><span class="lineno"> 1065</span>            <span class="comment">/* request canceled */</span></div>
<div class="line"><span class="lineno"> 1066</span>            <a class="code hl_function" href="http_8c.html#a09dae252ede7e4113f56f7463f600321">evhttp_request_free_auto</a>(req);</div>
<div class="line"><span class="lineno"> 1067</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1068</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>:</div>
<div class="line"><span class="lineno"> 1069</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1070</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1071</span>        }</div>
<div class="line"><span class="lineno"> 1072</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (req-&gt;ntoread &lt; 0) {</div>
<div class="line"><span class="lineno"> 1073</span>        <span class="comment">/* Read until connection close. */</span></div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)(req-&gt;body_size + <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf)) &lt; req-&gt;body_size) {</div>
<div class="line"><span class="lineno"> 1075</span>            <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_INVALID_HEADER);</div>
<div class="line"><span class="lineno"> 1076</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1077</span>        }</div>
<div class="line"><span class="lineno"> 1078</span> </div>
<div class="line"><span class="lineno"> 1079</span>        req-&gt;body_size += <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf);</div>
<div class="line"><span class="lineno"> 1080</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a9d2edd536246d70c50678a3865305414">evbuffer_add_buffer</a>(req-&gt;input_buffer, buf);</div>
<div class="line"><span class="lineno"> 1081</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (req-&gt;chunk_cb != NULL || <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf) &gt;= (<span class="keywordtype">size_t</span>)req-&gt;ntoread) {</div>
<div class="line"><span class="lineno"> 1082</span>        <span class="comment">/* XXX: the above get_length comparison has to be fixed for overflow conditions! */</span></div>
<div class="line"><span class="lineno"> 1083</span>        <span class="comment">/* We&#39;ve postponed moving the data until now, but we&#39;re</span></div>
<div class="line"><span class="lineno"> 1084</span><span class="comment">         * about to use it. */</span></div>
<div class="line"><span class="lineno"> 1085</span>        <span class="keywordtype">size_t</span> n = <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf);</div>
<div class="line"><span class="lineno"> 1086</span> </div>
<div class="line"><span class="lineno"> 1087</span>        <span class="keywordflow">if</span> (n &gt; (<span class="keywordtype">size_t</span>) req-&gt;ntoread)</div>
<div class="line"><span class="lineno"> 1088</span>            n = (size_t) req-&gt;ntoread;</div>
<div class="line"><span class="lineno"> 1089</span>        req-&gt;ntoread -= n;</div>
<div class="line"><span class="lineno"> 1090</span>        req-&gt;body_size += n;</div>
<div class="line"><span class="lineno"> 1091</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a0bdef97f6a142425b271b329a90de869">evbuffer_remove_buffer</a>(buf, req-&gt;input_buffer, n);</div>
<div class="line"><span class="lineno"> 1092</span>    }</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>    <span class="keywordflow">if</span> (req-&gt;body_size &gt; req-&gt;evcon-&gt;max_body_size ||</div>
<div class="line"><span class="lineno"> 1095</span>        (!req-&gt;chunked &amp;&amp; req-&gt;ntoread &gt;= 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1096</span>        (<span class="keywordtype">size_t</span>)req-&gt;ntoread &gt; req-&gt;evcon-&gt;max_body_size)) {</div>
<div class="line"><span class="lineno"> 1097</span>        <span class="comment">/* XXX: The above casted comparison must checked for overflow */</span></div>
<div class="line"><span class="lineno"> 1098</span>        <span class="comment">/* failed body length test */</span></div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span>        <a class="code hl_function" href="http_8c.html#aecb1c6e18c84c4074fc7939264db56b5">evhttp_lingering_fail</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1101</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1102</span>    }</div>
<div class="line"><span class="lineno"> 1103</span> </div>
<div class="line"><span class="lineno"> 1104</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(req-&gt;input_buffer) &gt; 0 &amp;&amp; req-&gt;chunk_cb != NULL) {</div>
<div class="line"><span class="lineno"> 1105</span>        req-&gt;flags |= EVHTTP_REQ_DEFER_FREE;</div>
<div class="line"><span class="lineno"> 1106</span>        (*req-&gt;chunk_cb)(req, req-&gt;cb_arg);</div>
<div class="line"><span class="lineno"> 1107</span>        req-&gt;flags &amp;= ~EVHTTP_REQ_DEFER_FREE;</div>
<div class="line"><span class="lineno"> 1108</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a>(req-&gt;input_buffer,</div>
<div class="line"><span class="lineno"> 1109</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(req-&gt;input_buffer));</div>
<div class="line"><span class="lineno"> 1110</span>        <span class="keywordflow">if</span> ((req-&gt;flags &amp; EVHTTP_REQ_NEEDS_FREE) != 0) {</div>
<div class="line"><span class="lineno"> 1111</span>            <a class="code hl_function" href="http_8c.html#a09dae252ede7e4113f56f7463f600321">evhttp_request_free_auto</a>(req);</div>
<div class="line"><span class="lineno"> 1112</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1113</span>        }</div>
<div class="line"><span class="lineno"> 1114</span>    }</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span>    <span class="keywordflow">if</span> (!req-&gt;ntoread) {</div>
<div class="line"><span class="lineno"> 1117</span>        <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ);</div>
<div class="line"><span class="lineno"> 1118</span>        <span class="comment">/* Completed content length */</span></div>
<div class="line"><span class="lineno"> 1119</span>        <a class="code hl_function" href="http_8c.html#adcab479b0018f22f0295150a5fd2d03d">evhttp_connection_done</a>(evcon);</div>
<div class="line"><span class="lineno"> 1120</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1121</span>    }</div>
<div class="line"><span class="lineno"> 1122</span>}</div>
<div class="ttc" id="ahttp_8c_html_afb4a5a068e6014cf19d7f35a642d3a9f"><div class="ttname"><a href="http_8c.html#afb4a5a068e6014cf19d7f35a642d3a9f">evhttp_read_trailer</a></div><div class="ttdeci">static void evhttp_read_trailer(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00997">http.c:997</a></div></div>
<div class="ttc" id="ahttp_8c_html_afe9b9b1bc06be4087c0aa4ff7a40c623"><div class="ttname"><a href="http_8c.html#afe9b9b1bc06be4087c0aa4ff7a40c623">evhttp_handle_chunked_read</a></div><div class="ttdeci">static enum message_read_status evhttp_handle_chunked_read(struct evhttp_request *req, struct evbuffer *buf)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00906">http.c:906</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00022">ALL_DATA_READ</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="http-internal_8h_source.html#l00024">DATA_CORRUPTED</a>, <a class="el" href="http-internal_8h_source.html#l00026">DATA_TOO_LONG</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00966">evbuffer_add_buffer()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01101">evbuffer_drain()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01260">evbuffer_remove_buffer()</a>, <a class="el" href="http-internal_8h_source.html#l00044">EVCON_READING_TRAILER</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l00906">evhttp_handle_chunked_read()</a>, <a class="el" href="http_8c_source.html#l01037">evhttp_lingering_fail()</a>, <a class="el" href="http_8c_source.html#l00997">evhttp_read_trailer()</a>, <a class="el" href="http_8c_source.html#l00716">evhttp_request_free_auto()</a>, <a class="el" href="http-internal_8h_source.html#l00023">MORE_DATA_EXPECTED</a>, <a class="el" href="http-internal_8h_source.html#l00025">REQUEST_CANCELED</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, and <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>.</p>

</div>
</div>
<a id="a95241fd0965764d55cdd3609c8d3a3ca" name="a95241fd0965764d55cdd3609c8d3a3ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95241fd0965764d55cdd3609c8d3a3ca">&#9670;&nbsp;</a></span>evhttp_read_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_read_cb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01132">1132</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1133</span>{</div>
<div class="line"><span class="lineno"> 1134</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = arg;</div>
<div class="line"><span class="lineno"> 1135</span>    <span class="keyword">struct </span>evhttp_request *req = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno"> 1136</span> </div>
<div class="line"><span class="lineno"> 1137</span>    <span class="comment">/* Cancel if it&#39;s pending. */</span></div>
<div class="line"><span class="lineno"> 1138</span>    <a class="code hl_function" href="defer-internal_8h.html#aae154198179f3170689c8d80ff6dc549">event_deferred_cb_cancel_</a>(<a class="code hl_define" href="http_8c.html#a148fc0a6cc62b69f27dd7025c0b121c9">get_deferred_queue</a>(evcon),</div>
<div class="line"><span class="lineno"> 1139</span>        &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ae362b994e6dd892dbae9083caa4ab40c">read_more_deferred_cb</a>);</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>    <span class="keywordflow">switch</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a>) {</div>
<div class="line"><span class="lineno"> 1142</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a>:</div>
<div class="line"><span class="lineno"> 1143</span>        <a class="code hl_function" href="http_8c.html#adeaf0de87ed5bfc7f7c545826ffdccb0">evhttp_read_firstline</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1144</span>        <span class="comment">/* note the request may have been freed in</span></div>
<div class="line"><span class="lineno"> 1145</span><span class="comment">         * evhttp_read_body */</span></div>
<div class="line"><span class="lineno"> 1146</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1147</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b">EVCON_READING_HEADERS</a>:</div>
<div class="line"><span class="lineno"> 1148</span>        <a class="code hl_function" href="http_8c.html#ac69c3551726a0a00531286b1ce5ef486">evhttp_read_header</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1149</span>        <span class="comment">/* note the request may have been freed in</span></div>
<div class="line"><span class="lineno"> 1150</span><span class="comment">         * evhttp_read_body */</span></div>
<div class="line"><span class="lineno"> 1151</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1152</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9">EVCON_READING_BODY</a>:</div>
<div class="line"><span class="lineno"> 1153</span>        <a class="code hl_function" href="http_8c.html#a86a93ad9abc750b2588f751514e6c22b">evhttp_read_body</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1154</span>        <span class="comment">/* note the request may have been freed in</span></div>
<div class="line"><span class="lineno"> 1155</span><span class="comment">         * evhttp_read_body */</span></div>
<div class="line"><span class="lineno"> 1156</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1157</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d">EVCON_READING_TRAILER</a>:</div>
<div class="line"><span class="lineno"> 1158</span>        <a class="code hl_function" href="http_8c.html#afb4a5a068e6014cf19d7f35a642d3a9f">evhttp_read_trailer</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1159</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1160</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a>:</div>
<div class="line"><span class="lineno"> 1161</span>        {</div>
<div class="line"><span class="lineno"> 1162</span><span class="preprocessor">#ifdef USE_DEBUG</span></div>
<div class="line"><span class="lineno"> 1163</span>            <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *input;</div>
<div class="line"><span class="lineno"> 1164</span>            <span class="keywordtype">size_t</span> <a class="code hl_variable" href="structevbuffer.html#af432b67ab2e1b3dd8b96e314a0785116">total_len</a>;</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>            input = <a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1167</span>            <a class="code hl_variable" href="structevbuffer.html#af432b67ab2e1b3dd8b96e314a0785116">total_len</a> = <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(input);</div>
<div class="line"><span class="lineno"> 1168</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: read &quot;</span><a class="code hl_define" href="util-internal_8h.html#a98b3bbf9bce92f1eb231dc5aead267a7">EV_SIZE_FMT</a></div>
<div class="line"><span class="lineno"> 1169</span>                <span class="stringliteral">&quot; bytes in EVCON_IDLE state,&quot;</span></div>
<div class="line"><span class="lineno"> 1170</span>                <span class="stringliteral">&quot; resetting connection&quot;</span>,</div>
<div class="line"><span class="lineno"> 1171</span>                <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, <a class="code hl_define" href="util-internal_8h.html#ab7d3b18d459ed5a75c9b6b19edd9b054">EV_SIZE_ARG</a>(<a class="code hl_variable" href="structevbuffer.html#af432b67ab2e1b3dd8b96e314a0785116">total_len</a>)));</div>
<div class="line"><span class="lineno"> 1172</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>            <a class="code hl_function" href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a>(evcon);</div>
<div class="line"><span class="lineno"> 1175</span>        }</div>
<div class="line"><span class="lineno"> 1176</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1177</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>:</div>
<div class="line"><span class="lineno"> 1178</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a>:</div>
<div class="line"><span class="lineno"> 1179</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>:</div>
<div class="line"><span class="lineno"> 1180</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1181</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s: illegal connection state %d&quot;</span>,</div>
<div class="line"><span class="lineno"> 1182</span>               <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a>);</div>
<div class="line"><span class="lineno"> 1183</span>    }</div>
<div class="line"><span class="lineno"> 1184</span>}</div>
<div class="ttc" id="ahttp_8c_html_ac69c3551726a0a00531286b1ce5ef486"><div class="ttname"><a href="http_8c.html#ac69c3551726a0a00531286b1ce5ef486">evhttp_read_header</a></div><div class="ttdeci">static void evhttp_read_header(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02296">http.c:2296</a></div></div>
<div class="ttc" id="ahttp_8c_html_adeaf0de87ed5bfc7f7c545826ffdccb0"><div class="ttname"><a href="http_8c.html#adeaf0de87ed5bfc7f7c545826ffdccb0">evhttp_read_firstline</a></div><div class="ttdeci">static void evhttp_read_firstline(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02274">http.c:2274</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a806e47302b770376a451ae2efac9a504"><div class="ttname"><a href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void EVENT2_EXPORT_SYMBOL void event_errx(int eval, const char *fmt,...) EV_CHECK_FMT(2</div></div>
<div class="ttc" id="astructevbuffer_html_af432b67ab2e1b3dd8b96e314a0785116"><div class="ttname"><a href="structevbuffer.html#af432b67ab2e1b3dd8b96e314a0785116">evbuffer::total_len</a></div><div class="ttdeci">size_t total_len</div><div class="ttdef"><b>Definition:</b> <a href="evbuffer-internal_8h_source.html#l00102">evbuffer-internal.h:102</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="util-internal_8h_source.html#l00493">EV_SIZE_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00491">EV_SIZE_FMT</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http-internal_8h_source.html#l00038">EVCON_CONNECTING</a>, <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="http-internal_8h_source.html#l00039">EVCON_IDLE</a>, <a class="el" href="http-internal_8h_source.html#l00043">EVCON_READING_BODY</a>, <a class="el" href="http-internal_8h_source.html#l00040">EVCON_READING_FIRSTLINE</a>, <a class="el" href="http-internal_8h_source.html#l00042">EVCON_READING_HEADERS</a>, <a class="el" href="http-internal_8h_source.html#l00044">EVCON_READING_TRAILER</a>, <a class="el" href="http-internal_8h_source.html#l00045">EVCON_WRITING</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l03115">event_deferred_cb_cancel_()</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>, <a class="el" href="http_8c_source.html#l02274">evhttp_read_firstline()</a>, <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, <a class="el" href="http_8c_source.html#l00997">evhttp_read_trailer()</a>, <a class="el" href="http_8c_source.html#l01124">get_deferred_queue</a>, <a class="el" href="http-internal_8h_source.html#l00100">evhttp_connection::read_more_deferred_cb</a>, <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>, <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>, and <a class="el" href="evbuffer-internal_8h_source.html#l00102">evbuffer::total_len</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>, <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l00398">evhttp_send_continue()</a>, and <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>.</p>

</div>
</div>
<a id="adeaf0de87ed5bfc7f7c545826ffdccb0" name="adeaf0de87ed5bfc7f7c545826ffdccb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeaf0de87ed5bfc7f7c545826ffdccb0">&#9670;&nbsp;</a></span>evhttp_read_firstline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_read_firstline </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02274">2274</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2276</span>{</div>
<div class="line"><span class="lineno"> 2277</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> res;</div>
<div class="line"><span class="lineno"> 2278</span> </div>
<div class="line"><span class="lineno"> 2279</span>    res = <a class="code hl_function" href="http_8c.html#ac8d4bfe605c668e8f92c6fb8016649f0">evhttp_parse_firstline_</a>(req, <a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>));</div>
<div class="line"><span class="lineno"> 2280</span>    <span class="keywordflow">if</span> (res == <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a> || res == <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>) {</div>
<div class="line"><span class="lineno"> 2281</span>        <span class="comment">/* Error while reading, terminate */</span></div>
<div class="line"><span class="lineno"> 2282</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: bad header lines on &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2283</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>)));</div>
<div class="line"><span class="lineno"> 2284</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_INVALID_HEADER);</div>
<div class="line"><span class="lineno"> 2285</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2286</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res == <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>) {</div>
<div class="line"><span class="lineno"> 2287</span>        <span class="comment">/* Need more header lines */</span></div>
<div class="line"><span class="lineno"> 2288</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2289</span>    }</div>
<div class="line"><span class="lineno"> 2290</span> </div>
<div class="line"><span class="lineno"> 2291</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b">EVCON_READING_HEADERS</a>;</div>
<div class="line"><span class="lineno"> 2292</span>    <a class="code hl_function" href="http_8c.html#ac69c3551726a0a00531286b1ce5ef486">evhttp_read_header</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 2293</span>}</div>
<div class="ttc" id="ahttp_8c_html_ac8d4bfe605c668e8f92c6fb8016649f0"><div class="ttname"><a href="http_8c.html#ac8d4bfe605c668e8f92c6fb8016649f0">evhttp_parse_firstline_</a></div><div class="ttdeci">enum message_read_status evhttp_parse_firstline_(struct evhttp_request *req, struct evbuffer *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02025">http.c:2025</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="http-internal_8h_source.html#l00024">DATA_CORRUPTED</a>, <a class="el" href="http-internal_8h_source.html#l00026">DATA_TOO_LONG</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="http-internal_8h_source.html#l00042">EVCON_READING_HEADERS</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l02025">evhttp_parse_firstline_()</a>, <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00023">MORE_DATA_EXPECTED</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>.</p>

</div>
</div>
<a id="ac69c3551726a0a00531286b1ce5ef486" name="ac69c3551726a0a00531286b1ce5ef486"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac69c3551726a0a00531286b1ce5ef486">&#9670;&nbsp;</a></span>evhttp_read_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_read_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02296">2296</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2298</span>{</div>
<div class="line"><span class="lineno"> 2299</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> res;</div>
<div class="line"><span class="lineno"> 2300</span>    evutil_socket_t fd = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>;</div>
<div class="line"><span class="lineno"> 2301</span> </div>
<div class="line"><span class="lineno"> 2302</span>    res = <a class="code hl_function" href="http_8c.html#a8196d3b911bc2517ac03a44d9adfe99b">evhttp_parse_headers_</a>(req, <a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>));</div>
<div class="line"><span class="lineno"> 2303</span>    <span class="keywordflow">if</span> (res == <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a> || res == <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>) {</div>
<div class="line"><span class="lineno"> 2304</span>        <span class="comment">/* Error while reading, terminate */</span></div>
<div class="line"><span class="lineno"> 2305</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: bad header lines on &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2306</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(fd)));</div>
<div class="line"><span class="lineno"> 2307</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_INVALID_HEADER);</div>
<div class="line"><span class="lineno"> 2308</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2309</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res == <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>) {</div>
<div class="line"><span class="lineno"> 2310</span>        <span class="comment">/* Need more header lines */</span></div>
<div class="line"><span class="lineno"> 2311</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2312</span>    }</div>
<div class="line"><span class="lineno"> 2313</span> </div>
<div class="line"><span class="lineno"> 2314</span>    <span class="comment">/* Callback can shut down connection with negative return value */</span></div>
<div class="line"><span class="lineno"> 2315</span>    <span class="keywordflow">if</span> (req-&gt;header_cb != NULL) {</div>
<div class="line"><span class="lineno"> 2316</span>        <span class="keywordflow">if</span> ((*req-&gt;header_cb)(req, req-&gt;cb_arg) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2317</span>            <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_EOF);</div>
<div class="line"><span class="lineno"> 2318</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2319</span>        }</div>
<div class="line"><span class="lineno"> 2320</span>    }</div>
<div class="line"><span class="lineno"> 2321</span> </div>
<div class="line"><span class="lineno"> 2322</span>    <span class="comment">/* Done reading headers, do the real work */</span></div>
<div class="line"><span class="lineno"> 2323</span>    <span class="keywordflow">switch</span> (req-&gt;kind) {</div>
<div class="line"><span class="lineno"> 2324</span>    <span class="keywordflow">case</span> EVHTTP_REQUEST:</div>
<div class="line"><span class="lineno"> 2325</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: checking for post data on &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2326</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(fd)));</div>
<div class="line"><span class="lineno"> 2327</span>        <a class="code hl_function" href="http_8c.html#a6e09f2a77faf6a2ffacc7e99005a0ff6">evhttp_get_body</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 2328</span>        <span class="comment">/* note the request may have been freed in evhttp_get_body */</span></div>
<div class="line"><span class="lineno"> 2329</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2330</span> </div>
<div class="line"><span class="lineno"> 2331</span>    <span class="keywordflow">case</span> EVHTTP_RESPONSE:</div>
<div class="line"><span class="lineno"> 2332</span>        <span class="comment">/* Start over if we got a 100 Continue response. */</span></div>
<div class="line"><span class="lineno"> 2333</span>        <span class="keywordflow">if</span> (req-&gt;response_code == 100) {</div>
<div class="line"><span class="lineno"> 2334</span>            <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *output = <a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 2335</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#a9d2edd536246d70c50678a3865305414">evbuffer_add_buffer</a>(output, req-&gt;output_buffer);</div>
<div class="line"><span class="lineno"> 2336</span>            <a class="code hl_function" href="http_8c.html#a060c9248a2b156afde93466886d9e87d">evhttp_start_write_</a>(evcon);</div>
<div class="line"><span class="lineno"> 2337</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2338</span>        }</div>
<div class="line"><span class="lineno"> 2339</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="http_8c.html#a192640c318669b3ac03ee3a7e8b1e21b">evhttp_response_needs_body</a>(req)) {</div>
<div class="line"><span class="lineno"> 2340</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: skipping body for code %d\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2341</span>                    <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, req-&gt;response_code));</div>
<div class="line"><span class="lineno"> 2342</span>            <a class="code hl_function" href="http_8c.html#adcab479b0018f22f0295150a5fd2d03d">evhttp_connection_done</a>(evcon);</div>
<div class="line"><span class="lineno"> 2343</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2344</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: start of read body for %s on &quot;</span></div>
<div class="line"><span class="lineno"> 2345</span>                <a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2346</span>                <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, req-&gt;remote_host, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(fd)));</div>
<div class="line"><span class="lineno"> 2347</span>            <a class="code hl_function" href="http_8c.html#a6e09f2a77faf6a2ffacc7e99005a0ff6">evhttp_get_body</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 2348</span>            <span class="comment">/* note the request may have been freed in</span></div>
<div class="line"><span class="lineno"> 2349</span><span class="comment">             * evhttp_get_body */</span></div>
<div class="line"><span class="lineno"> 2350</span>        }</div>
<div class="line"><span class="lineno"> 2351</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2352</span> </div>
<div class="line"><span class="lineno"> 2353</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2354</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: bad header on &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 2355</span>            <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(fd));</div>
<div class="line"><span class="lineno"> 2356</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_INVALID_HEADER);</div>
<div class="line"><span class="lineno"> 2357</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2358</span>    }</div>
<div class="line"><span class="lineno"> 2359</span>    <span class="comment">/* request may have been freed above */</span></div>
<div class="line"><span class="lineno"> 2360</span>}</div>
<div class="ttc" id="ahttp_8c_html_a060c9248a2b156afde93466886d9e87d"><div class="ttname"><a href="http_8c.html#a060c9248a2b156afde93466886d9e87d">evhttp_start_write_</a></div><div class="ttdeci">void evhttp_start_write_(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02757">http.c:2757</a></div></div>
<div class="ttc" id="ahttp_8c_html_a6e09f2a77faf6a2ffacc7e99005a0ff6"><div class="ttname"><a href="http_8c.html#a6e09f2a77faf6a2ffacc7e99005a0ff6">evhttp_get_body</a></div><div class="ttdeci">static void evhttp_get_body(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02215">http.c:2215</a></div></div>
<div class="ttc" id="ahttp_8c_html_a8196d3b911bc2517ac03a44d9adfe99b"><div class="ttname"><a href="http_8c.html#a8196d3b911bc2517ac03a44d9adfe99b">evhttp_parse_headers_</a></div><div class="ttdeci">enum message_read_status evhttp_parse_headers_(struct evhttp_request *req, struct evbuffer *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02096">http.c:2096</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a0e3973f226e9585030596534e23cd95f"><div class="ttname"><a href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warnx(const char *fmt,...) EV_CHECK_FMT(1</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="http-internal_8h_source.html#l00024">DATA_CORRUPTED</a>, <a class="el" href="http-internal_8h_source.html#l00026">DATA_TOO_LONG</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00966">evbuffer_add_buffer()</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, <a class="el" href="http_8c_source.html#l02096">evhttp_parse_headers_()</a>, <a class="el" href="http_8c_source.html#l00356">evhttp_response_needs_body()</a>, <a class="el" href="http_8c_source.html#l02757">evhttp_start_write_()</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, and <a class="el" href="http-internal_8h_source.html#l00023">MORE_DATA_EXPECTED</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>, and <a class="el" href="http_8c_source.html#l02274">evhttp_read_firstline()</a>.</p>

</div>
</div>
<a id="afb4a5a068e6014cf19d7f35a642d3a9f" name="afb4a5a068e6014cf19d7f35a642d3a9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb4a5a068e6014cf19d7f35a642d3a9f">&#9670;&nbsp;</a></span>evhttp_read_trailer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_read_trailer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00997">997</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  998</span>{</div>
<div class="line"><span class="lineno">  999</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *buf = <a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1000</span> </div>
<div class="line"><span class="lineno"> 1001</span>    <span class="keywordflow">switch</span> (<a class="code hl_function" href="http_8c.html#a8196d3b911bc2517ac03a44d9adfe99b">evhttp_parse_headers_</a>(req, buf)) {</div>
<div class="line"><span class="lineno"> 1002</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>:</div>
<div class="line"><span class="lineno"> 1003</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>:</div>
<div class="line"><span class="lineno"> 1004</span>        <a class="code hl_function" href="http_8c.html#a5f3513313656cfa735a3d5fe41476740">evhttp_connection_fail_</a>(evcon, EVREQ_HTTP_DATA_TOO_LONG);</div>
<div class="line"><span class="lineno"> 1005</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1006</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a>:</div>
<div class="line"><span class="lineno"> 1007</span>        <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ);</div>
<div class="line"><span class="lineno"> 1008</span>        <a class="code hl_function" href="http_8c.html#adcab479b0018f22f0295150a5fd2d03d">evhttp_connection_done</a>(evcon);</div>
<div class="line"><span class="lineno"> 1009</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1010</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>:</div>
<div class="line"><span class="lineno"> 1011</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21">REQUEST_CANCELED</a>: <span class="comment">/* ??? */</span></div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1013</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1014</span>    }</div>
<div class="line"><span class="lineno"> 1015</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00022">ALL_DATA_READ</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="http-internal_8h_source.html#l00024">DATA_CORRUPTED</a>, <a class="el" href="http-internal_8h_source.html#l00026">DATA_TOO_LONG</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l02096">evhttp_parse_headers_()</a>, <a class="el" href="http-internal_8h_source.html#l00023">MORE_DATA_EXPECTED</a>, and <a class="el" href="http-internal_8h_source.html#l00025">REQUEST_CANCELED</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>, and <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>.</p>

</div>
</div>
<a id="ab87600f14a6f8c36beedbeed8267b856" name="ab87600f14a6f8c36beedbeed8267b856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab87600f14a6f8c36beedbeed8267b856">&#9670;&nbsp;</a></span>evhttp_remove_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_remove_header </td>
          <td>(</td>
          <td class="paramtype">struct evkeyvalq *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01932">1932</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1933</span>{</div>
<div class="line"><span class="lineno"> 1934</span>    <span class="keyword">struct </span>evkeyval *header;</div>
<div class="line"><span class="lineno"> 1935</span> </div>
<div class="line"><span class="lineno"> 1936</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(header, headers, next) {</div>
<div class="line"><span class="lineno"> 1937</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(header-&gt;key, key) == 0)</div>
<div class="line"><span class="lineno"> 1938</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1939</span>    }</div>
<div class="line"><span class="lineno"> 1940</span> </div>
<div class="line"><span class="lineno"> 1941</span>    <span class="keywordflow">if</span> (header == NULL)</div>
<div class="line"><span class="lineno"> 1942</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1943</span> </div>
<div class="line"><span class="lineno"> 1944</span>    <span class="comment">/* Free and remove the header that we found */</span></div>
<div class="line"><span class="lineno"> 1945</span>    TAILQ_REMOVE(headers, header, next);</div>
<div class="line"><span class="lineno"> 1946</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(header-&gt;key);</div>
<div class="line"><span class="lineno"> 1947</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(header-&gt;value);</div>
<div class="line"><span class="lineno"> 1948</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(header);</div>
<div class="line"><span class="lineno"> 1949</span> </div>
<div class="line"><span class="lineno"> 1950</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 1951</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00438">evhttp_make_header_request()</a>, and <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>.</p>

</div>
</div>
<a id="a88fe4c5507e88c4db284ea30a0478e5d" name="a88fe4c5507e88c4db284ea30a0478e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88fe4c5507e88c4db284ea30a0478e5d">&#9670;&nbsp;</a></span>evhttp_remove_server_alias()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_remove_server_alias </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>alias</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03830">3830</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3831</span>{</div>
<div class="line"><span class="lineno"> 3832</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__server__alias.html">evhttp_server_alias</a> *evalias;</div>
<div class="line"><span class="lineno"> 3833</span> </div>
<div class="line"><span class="lineno"> 3834</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(evalias, &amp;http-&gt;aliases, next) {</div>
<div class="line"><span class="lineno"> 3835</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a>(evalias-&gt;<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>, <a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>) == 0) {</div>
<div class="line"><span class="lineno"> 3836</span>            TAILQ_REMOVE(&amp;http-&gt;aliases, evalias, next);</div>
<div class="line"><span class="lineno"> 3837</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(evalias-&gt;<a class="code hl_variable" href="structevhttp__server__alias.html#a00489cdafd4ed0d630d430539d4771c0">alias</a>);</div>
<div class="line"><span class="lineno"> 3838</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(evalias);</div>
<div class="line"><span class="lineno"> 3839</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3840</span>        }</div>
<div class="line"><span class="lineno"> 3841</span>    }</div>
<div class="line"><span class="lineno"> 3842</span> </div>
<div class="line"><span class="lineno"> 3843</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3844</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00131">evhttp_server_alias::alias</a>, <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>.</p>

</div>
</div>
<a id="ab2eb1ac82f36e7f0180b18d4553d3994" name="ab2eb1ac82f36e7f0180b18d4553d3994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2eb1ac82f36e7f0180b18d4553d3994">&#9670;&nbsp;</a></span>evhttp_remove_virtual_host()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_remove_virtual_host </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>vhost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03796">3796</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3797</span>{</div>
<div class="line"><span class="lineno"> 3798</span>    <span class="keywordflow">if</span> (vhost-&gt;<a class="code hl_variable" href="structevhttp.html#a305c78f5d37661748603cc87db084e28">vhost_pattern</a> == NULL)</div>
<div class="line"><span class="lineno"> 3799</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 3800</span> </div>
<div class="line"><span class="lineno"> 3801</span>    TAILQ_REMOVE(&amp;http-&gt;virtualhosts, vhost, next_vhost);</div>
<div class="line"><span class="lineno"> 3802</span> </div>
<div class="line"><span class="lineno"> 3803</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(vhost-&gt;<a class="code hl_variable" href="structevhttp.html#a305c78f5d37661748603cc87db084e28">vhost_pattern</a>);</div>
<div class="line"><span class="lineno"> 3804</span>    vhost-&gt;<a class="code hl_variable" href="structevhttp.html#a305c78f5d37661748603cc87db084e28">vhost_pattern</a> = NULL;</div>
<div class="line"><span class="lineno"> 3805</span> </div>
<div class="line"><span class="lineno"> 3806</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 3807</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="http-internal_8h_source.html#l00151">evhttp::vhost_pattern</a>.</p>

</div>
</div>
<a id="a91d1317d5fbac429a86d00737143bdd1" name="a91d1317d5fbac429a86d00737143bdd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d1317d5fbac429a86d00737143bdd1">&#9670;&nbsp;</a></span>evhttp_request_dispatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_request_dispatch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01303">1303</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1304</span>{</div>
<div class="line"><span class="lineno"> 1305</span>    <span class="keyword">struct </span>evhttp_request *req = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno"> 1306</span> </div>
<div class="line"><span class="lineno"> 1307</span>    <span class="comment">/* this should not usually happy but it&#39;s possible */</span></div>
<div class="line"><span class="lineno"> 1308</span>    <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line"><span class="lineno"> 1309</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1310</span> </div>
<div class="line"><span class="lineno"> 1311</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(req-&gt;kind == EVHTTP_REQUEST);</div>
<div class="line"><span class="lineno"> 1312</span> </div>
<div class="line"><span class="lineno"> 1313</span>    <span class="comment">/* delete possible close detection events */</span></div>
<div class="line"><span class="lineno"> 1314</span>    <a class="code hl_function" href="http_8c.html#a4effa3e1a976dd4c74653dbfe5015ada">evhttp_connection_stop_detectclose</a>(evcon);</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>    <span class="comment">/* we assume that the connection is connected already */</span></div>
<div class="line"><span class="lineno"> 1317</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> == <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a>);</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>;</div>
<div class="line"><span class="lineno"> 1320</span> </div>
<div class="line"><span class="lineno"> 1321</span>    <span class="comment">/* Create the header from the store arguments */</span></div>
<div class="line"><span class="lineno"> 1322</span>    <a class="code hl_function" href="http_8c.html#a1ed4a49a3e33f637ea7c0bf1490a1144">evhttp_make_header</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>    <a class="code hl_function" href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a>(evcon, <a class="code hl_function" href="http_8c.html#ac7ab724169fe6336605ef79ffb3576f6">evhttp_write_connectioncb</a>, NULL);</div>
<div class="line"><span class="lineno"> 1325</span>}</div>
<div class="ttc" id="ahttp_8c_html_a1ed4a49a3e33f637ea7c0bf1490a1144"><div class="ttname"><a href="http_8c.html#a1ed4a49a3e33f637ea7c0bf1490a1144">evhttp_make_header</a></div><div class="ttdeci">static void evhttp_make_header(struct evhttp_connection *, struct evhttp_request *)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00606">http.c:606</a></div></div>
<div class="ttc" id="ahttp_8c_html_a4effa3e1a976dd4c74653dbfe5015ada"><div class="ttname"><a href="http_8c.html#a4effa3e1a976dd4c74653dbfe5015ada">evhttp_connection_stop_detectclose</a></div><div class="ttdeci">static void evhttp_connection_stop_detectclose(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01386">http.c:1386</a></div></div>
<div class="ttc" id="ahttp_8c_html_ac7ab724169fe6336605ef79ffb3576f6"><div class="ttname"><a href="http_8c.html#ac7ab724169fe6336605ef79ffb3576f6">evhttp_write_connectioncb</a></div><div class="ttdeci">static void evhttp_write_connectioncb(struct evhttp_connection *evcon, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01196">http.c:1196</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae93e6f4eb93486410ffc3fac5f01f440"><div class="ttname"><a href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a></div><div class="ttdeci">static void evhttp_write_buffer(struct evhttp_connection *, void(*)(struct evhttp_connection *, void *), void *)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00370">http.c:370</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00039">EVCON_IDLE</a>, <a class="el" href="http-internal_8h_source.html#l00045">EVCON_WRITING</a>, <a class="el" href="http_8c_source.html#l01386">evhttp_connection_stop_detectclose()</a>, <a class="el" href="http_8c_source.html#l00606">evhttp_make_header()</a>, <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>, <a class="el" href="http_8c_source.html#l01196">evhttp_write_connectioncb()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, and <a class="el" href="http_8c_source.html#l02648">evhttp_make_request()</a>.</p>

</div>
</div>
<a id="aad0392c873fa034be3ff09d4f8b68aba" name="aad0392c873fa034be3ff09d4f8b68aba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad0392c873fa034be3ff09d4f8b68aba">&#9670;&nbsp;</a></span>evhttp_request_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_request_free </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04033">4033</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4034</span>{</div>
<div class="line"><span class="lineno"> 4035</span>    <span class="keywordflow">if</span> ((req-&gt;flags &amp; EVHTTP_REQ_DEFER_FREE) != 0) {</div>
<div class="line"><span class="lineno"> 4036</span>        req-&gt;flags |= EVHTTP_REQ_NEEDS_FREE;</div>
<div class="line"><span class="lineno"> 4037</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 4038</span>    }</div>
<div class="line"><span class="lineno"> 4039</span> </div>
<div class="line"><span class="lineno"> 4040</span>    <span class="keywordflow">if</span> (req-&gt;remote_host != NULL)</div>
<div class="line"><span class="lineno"> 4041</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;remote_host);</div>
<div class="line"><span class="lineno"> 4042</span>    <span class="keywordflow">if</span> (req-&gt;uri != NULL)</div>
<div class="line"><span class="lineno"> 4043</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;uri);</div>
<div class="line"><span class="lineno"> 4044</span>    <span class="keywordflow">if</span> (req-&gt;uri_elems != NULL)</div>
<div class="line"><span class="lineno"> 4045</span>        <a class="code hl_function" href="http_8c.html#a5ee82311278b8fda3ed93a8e358683bb">evhttp_uri_free</a>(req-&gt;uri_elems);</div>
<div class="line"><span class="lineno"> 4046</span>    <span class="keywordflow">if</span> (req-&gt;response_code_line != NULL)</div>
<div class="line"><span class="lineno"> 4047</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;response_code_line);</div>
<div class="line"><span class="lineno"> 4048</span>    <span class="keywordflow">if</span> (req-&gt;host_cache != NULL)</div>
<div class="line"><span class="lineno"> 4049</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;host_cache);</div>
<div class="line"><span class="lineno"> 4050</span> </div>
<div class="line"><span class="lineno"> 4051</span>    <a class="code hl_function" href="http_8c.html#adfd33f73c8d7af63a0da05ebb32b7e72">evhttp_clear_headers</a>(req-&gt;input_headers);</div>
<div class="line"><span class="lineno"> 4052</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;input_headers);</div>
<div class="line"><span class="lineno"> 4053</span> </div>
<div class="line"><span class="lineno"> 4054</span>    <a class="code hl_function" href="http_8c.html#adfd33f73c8d7af63a0da05ebb32b7e72">evhttp_clear_headers</a>(req-&gt;output_headers);</div>
<div class="line"><span class="lineno"> 4055</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;output_headers);</div>
<div class="line"><span class="lineno"> 4056</span> </div>
<div class="line"><span class="lineno"> 4057</span>    <span class="keywordflow">if</span> (req-&gt;input_buffer != NULL)</div>
<div class="line"><span class="lineno"> 4058</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(req-&gt;input_buffer);</div>
<div class="line"><span class="lineno"> 4059</span> </div>
<div class="line"><span class="lineno"> 4060</span>    <span class="keywordflow">if</span> (req-&gt;output_buffer != NULL)</div>
<div class="line"><span class="lineno"> 4061</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(req-&gt;output_buffer);</div>
<div class="line"><span class="lineno"> 4062</span> </div>
<div class="line"><span class="lineno"> 4063</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req);</div>
<div class="line"><span class="lineno"> 4064</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="libevent_2buffer_8c_source.html#l00588">evbuffer_free()</a>, <a class="el" href="http_8c_source.html#l01912">evhttp_clear_headers()</a>, <a class="el" href="http_8c_source.html#l04929">evhttp_uri_free()</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04286">evhttp_associate_new_request_with_connection()</a>, <a class="el" href="http_8c_source.html#l00716">evhttp_request_free_auto()</a>, <a class="el" href="http_8c_source.html#l03983">evhttp_request_new()</a>, <a class="el" href="http_8c_source.html#l02833">evhttp_send()</a>, <a class="el" href="http_8c_source.html#l02767">evhttp_send_done()</a>, <a class="el" href="http_8c_source.html#l02926">evhttp_send_reply_end()</a>, and <a class="el" href="evrpc_8c_source.html#l00913">evrpc_reply_done_closure()</a>.</p>

</div>
</div>
<a id="aec52e9f0edd6a27790e1fbc0a67abe82" name="aec52e9f0edd6a27790e1fbc0a67abe82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec52e9f0edd6a27790e1fbc0a67abe82">&#9670;&nbsp;</a></span>evhttp_request_free_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_request_free_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00723">723</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  724</span>{</div>
<div class="line"><span class="lineno">  725</span>    TAILQ_REMOVE(&amp;evcon-&gt;requests, req, next);</div>
<div class="line"><span class="lineno">  726</span>    <a class="code hl_function" href="http_8c.html#a09dae252ede7e4113f56f7463f600321">evhttp_request_free_auto</a>(req);</div>
<div class="line"><span class="lineno">  727</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l00716">evhttp_request_free_auto()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, and <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>.</p>

</div>
</div>
<a id="a09dae252ede7e4113f56f7463f600321" name="a09dae252ede7e4113f56f7463f600321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09dae252ede7e4113f56f7463f600321">&#9670;&nbsp;</a></span>evhttp_request_free_auto()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_request_free_auto </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00716">716</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  717</span>{</div>
<div class="line"><span class="lineno">  718</span>    <span class="keywordflow">if</span> (!(req-&gt;flags &amp; EVHTTP_USER_OWNED))</div>
<div class="line"><span class="lineno">  719</span>        <a class="code hl_function" href="http_8c.html#aad0392c873fa034be3ff09d4f8b68aba">evhttp_request_free</a>(req);</div>
<div class="line"><span class="lineno">  720</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04033">evhttp_request_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02704">evhttp_cancel_request()</a>, <a class="el" href="http_8c_source.html#l01402">evhttp_connection_cb_cleanup()</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l02648">evhttp_make_request()</a>, <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>, and <a class="el" href="http_8c_source.html#l00723">evhttp_request_free_()</a>.</p>

</div>
</div>
<a id="a552bcfe23acec6858742e44a1b932dad" name="a552bcfe23acec6858742e44a1b932dad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a552bcfe23acec6858742e44a1b932dad">&#9670;&nbsp;</a></span>evhttp_request_get_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum evhttp_cmd_type evhttp_request_get_command </td>
          <td>(</td>
          <td class="paramtype">const struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04177">4177</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4177</span>                                                             {</div>
<div class="line"><span class="lineno"> 4178</span>    <span class="keywordflow">return</span> (req-&gt;type);</div>
<div class="line"><span class="lineno"> 4179</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ada59ca729137cf9c403a96bf7e5fc2d2" name="ada59ca729137cf9c403a96bf7e5fc2d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada59ca729137cf9c403a96bf7e5fc2d2">&#9670;&nbsp;</a></span>evhttp_request_get_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> * evhttp_request_get_connection </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04079">4079</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4080</span>{</div>
<div class="line"><span class="lineno"> 4081</span>    <span class="keywordflow">return</span> req-&gt;evcon;</div>
<div class="line"><span class="lineno"> 4082</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a29b47f0ed6e5b550a319f4bb199ef0bf" name="a29b47f0ed6e5b550a319f4bb199ef0bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b47f0ed6e5b550a319f4bb199ef0bf">&#9670;&nbsp;</a></span>evhttp_request_get_evhttp_uri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> * evhttp_request_get_evhttp_uri </td>
          <td>(</td>
          <td class="paramtype">const struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04131">4131</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4131</span>                                                                {</div>
<div class="line"><span class="lineno"> 4132</span>    <span class="keywordflow">if</span> (req-&gt;uri_elems == NULL)</div>
<div class="line"><span class="lineno"> 4133</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: request %p has no uri elems\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4134</span>                <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, req));</div>
<div class="line"><span class="lineno"> 4135</span>    <span class="keywordflow">return</span> (req-&gt;uri_elems);</div>
<div class="line"><span class="lineno"> 4136</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, and <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>.</p>

</div>
</div>
<a id="a7bd50bae1efd0d7740e1121fc28f8e79" name="a7bd50bae1efd0d7740e1121fc28f8e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd50bae1efd0d7740e1121fc28f8e79">&#9670;&nbsp;</a></span>evhttp_request_get_host()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_request_get_host </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04139">4139</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4140</span>{</div>
<div class="line"><span class="lineno"> 4141</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *host = NULL;</div>
<div class="line"><span class="lineno"> 4142</span> </div>
<div class="line"><span class="lineno"> 4143</span>    <span class="keywordflow">if</span> (req-&gt;host_cache)</div>
<div class="line"><span class="lineno"> 4144</span>        <span class="keywordflow">return</span> req-&gt;host_cache;</div>
<div class="line"><span class="lineno"> 4145</span> </div>
<div class="line"><span class="lineno"> 4146</span>    <span class="keywordflow">if</span> (req-&gt;uri_elems)</div>
<div class="line"><span class="lineno"> 4147</span>        host = <a class="code hl_function" href="http_8c.html#ac65d0a129ce87b510fb294d9dd6c1e0d">evhttp_uri_get_host</a>(req-&gt;uri_elems);</div>
<div class="line"><span class="lineno"> 4148</span>    <span class="keywordflow">if</span> (!host &amp;&amp; req-&gt;input_headers) {</div>
<div class="line"><span class="lineno"> 4149</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 4150</span>        <span class="keywordtype">size_t</span> len;</div>
<div class="line"><span class="lineno"> 4151</span> </div>
<div class="line"><span class="lineno"> 4152</span>        host = <a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(req-&gt;input_headers, <span class="stringliteral">&quot;Host&quot;</span>);</div>
<div class="line"><span class="lineno"> 4153</span>        <span class="comment">/* The Host: header may include a port. Remove it here</span></div>
<div class="line"><span class="lineno"> 4154</span><span class="comment">           to be consistent with uri_elems case above. */</span></div>
<div class="line"><span class="lineno"> 4155</span>        <span class="keywordflow">if</span> (host) {</div>
<div class="line"><span class="lineno"> 4156</span>            p = host + strlen(host) - 1;</div>
<div class="line"><span class="lineno"> 4157</span>            <span class="keywordflow">while</span> (p &gt; host &amp;&amp; <a class="code hl_function" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_</a>(*p))</div>
<div class="line"><span class="lineno"> 4158</span>                --p;</div>
<div class="line"><span class="lineno"> 4159</span>            <span class="keywordflow">if</span> (p &gt; host &amp;&amp; *p == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><span class="lineno"> 4160</span>                len = p - host;</div>
<div class="line"><span class="lineno"> 4161</span>                req-&gt;host_cache = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(len + 1);</div>
<div class="line"><span class="lineno"> 4162</span>                <span class="keywordflow">if</span> (!req-&gt;host_cache) {</div>
<div class="line"><span class="lineno"> 4163</span>                    <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: malloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4164</span>                    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 4165</span>                }</div>
<div class="line"><span class="lineno"> 4166</span>                memcpy(req-&gt;host_cache, host, len);</div>
<div class="line"><span class="lineno"> 4167</span>                req-&gt;host_cache[len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 4168</span>                host = req-&gt;host_cache;</div>
<div class="line"><span class="lineno"> 4169</span>            }</div>
<div class="line"><span class="lineno"> 4170</span>        }</div>
<div class="line"><span class="lineno"> 4171</span>    }</div>
<div class="line"><span class="lineno"> 4172</span> </div>
<div class="line"><span class="lineno"> 4173</span>    <span class="keywordflow">return</span> host;</div>
<div class="line"><span class="lineno"> 4174</span>}</div>
<div class="ttc" id="autil-internal_8h_html_a0fb29ac45a7bd8df683d79f26f36967c"><div class="ttname"><a href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int EVUTIL_ISDIGIT_(char c)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, <a class="el" href="http_8c_source.html#l05022">evhttp_uri_get_host()</a>, <a class="el" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_()</a>, <a class="el" href="http_8c_source.html#l04484">evhttp_uri::host</a>, and <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>.</p>

</div>
</div>
<a id="a16a0637cf8cdb06b59fcc34f3ee7cd0e" name="a16a0637cf8cdb06b59fcc34f3ee7cd0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16a0637cf8cdb06b59fcc34f3ee7cd0e">&#9670;&nbsp;</a></span>evhttp_request_get_input_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevbuffer.html">evbuffer</a> * evhttp_request_get_input_buffer </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the input buffer </p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04206">4206</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4207</span>{</div>
<div class="line"><span class="lineno"> 4208</span>    <span class="keywordflow">return</span> (req-&gt;input_buffer);</div>
<div class="line"><span class="lineno"> 4209</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d4bce87bfedf59ec048b765bcce49cf" name="a3d4bce87bfedf59ec048b765bcce49cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d4bce87bfedf59ec048b765bcce49cf">&#9670;&nbsp;</a></span>evhttp_request_get_input_headers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct evkeyvalq * evhttp_request_get_input_headers </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the input headers </p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04194">4194</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4195</span>{</div>
<div class="line"><span class="lineno"> 4196</span>    <span class="keywordflow">return</span> (req-&gt;input_headers);</div>
<div class="line"><span class="lineno"> 4197</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d6f2d776eb11f7877e936a0b13b2eaf" name="a3d6f2d776eb11f7877e936a0b13b2eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d6f2d776eb11f7877e936a0b13b2eaf">&#9670;&nbsp;</a></span>evhttp_request_get_output_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevbuffer.html">evbuffer</a> * evhttp_request_get_output_buffer </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the output buffer </p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04212">4212</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4213</span>{</div>
<div class="line"><span class="lineno"> 4214</span>    <span class="keywordflow">return</span> (req-&gt;output_buffer);</div>
<div class="line"><span class="lineno"> 4215</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a072e9fbfb645fcd87aca16929124e7fe" name="a072e9fbfb645fcd87aca16929124e7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a072e9fbfb645fcd87aca16929124e7fe">&#9670;&nbsp;</a></span>evhttp_request_get_output_headers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct evkeyvalq * evhttp_request_get_output_headers </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the output headers </p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04200">4200</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4201</span>{</div>
<div class="line"><span class="lineno"> 4202</span>    <span class="keywordflow">return</span> (req-&gt;output_headers);</div>
<div class="line"><span class="lineno"> 4203</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1452ea8db0ddb07f52d5de739f026af" name="ac1452ea8db0ddb07f52d5de739f026af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1452ea8db0ddb07f52d5de739f026af">&#9670;&nbsp;</a></span>evhttp_request_get_response_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_request_get_response_code </td>
          <td>(</td>
          <td class="paramtype">const struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04182">4182</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4183</span>{</div>
<div class="line"><span class="lineno"> 4184</span>    <span class="keywordflow">return</span> req-&gt;response_code;</div>
<div class="line"><span class="lineno"> 4185</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afa930f226babf4265151b5865f37c325" name="afa930f226babf4265151b5865f37c325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa930f226babf4265151b5865f37c325">&#9670;&nbsp;</a></span>evhttp_request_get_response_code_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_request_get_response_code_line </td>
          <td>(</td>
          <td class="paramtype">const struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04188">4188</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4189</span>{</div>
<div class="line"><span class="lineno"> 4190</span>    <span class="keywordflow">return</span> req-&gt;response_code_line;</div>
<div class="line"><span class="lineno"> 4191</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ebcf7d556fb28dfab94a5f1f9753be5" name="a8ebcf7d556fb28dfab94a5f1f9753be5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ebcf7d556fb28dfab94a5f1f9753be5">&#9670;&nbsp;</a></span>evhttp_request_get_uri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_request_get_uri </td>
          <td>(</td>
          <td class="paramtype">const struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04124">4124</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4124</span>                                                         {</div>
<div class="line"><span class="lineno"> 4125</span>    <span class="keywordflow">if</span> (req-&gt;uri == NULL)</div>
<div class="line"><span class="lineno"> 4126</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: request %p has no uri\n&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, req));</div>
<div class="line"><span class="lineno"> 4127</span>    <span class="keywordflow">return</span> (req-&gt;uri);</div>
<div class="line"><span class="lineno"> 4128</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, and <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>.</p>

</div>
</div>
<a id="a25516c0fb1b0ef47c81f623da3782bd1" name="a25516c0fb1b0ef47c81f623da3782bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25516c0fb1b0ef47c81f623da3782bd1">&#9670;&nbsp;</a></span>evhttp_request_is_owned()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_request_is_owned </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04073">4073</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4074</span>{</div>
<div class="line"><span class="lineno"> 4075</span>    <span class="keywordflow">return</span> (req-&gt;flags &amp; EVHTTP_USER_OWNED) != 0;</div>
<div class="line"><span class="lineno"> 4076</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evrpc_8c_source.html#l00913">evrpc_reply_done_closure()</a>.</p>

</div>
</div>
<a id="a35c07f708c785a53df1efc4e5f68be42" name="a35c07f708c785a53df1efc4e5f68be42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c07f708c785a53df1efc4e5f68be42">&#9670;&nbsp;</a></span>evhttp_request_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct evhttp_request * evhttp_request_new </td>
          <td>(</td>
          <td class="paramtype">void(*)(struct evhttp_request *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03983">3983</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3984</span>{</div>
<div class="line"><span class="lineno"> 3985</span>    <span class="keyword">struct </span>evhttp_request *req = NULL;</div>
<div class="line"><span class="lineno"> 3986</span> </div>
<div class="line"><span class="lineno"> 3987</span>    <span class="comment">/* Allocate request structure */</span></div>
<div class="line"><span class="lineno"> 3988</span>    <span class="keywordflow">if</span> ((req = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> evhttp_request))) == NULL) {</div>
<div class="line"><span class="lineno"> 3989</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 3990</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 3991</span>    }</div>
<div class="line"><span class="lineno"> 3992</span> </div>
<div class="line"><span class="lineno"> 3993</span>    req-&gt;headers_size = 0;</div>
<div class="line"><span class="lineno"> 3994</span>    req-&gt;body_size = 0;</div>
<div class="line"><span class="lineno"> 3995</span> </div>
<div class="line"><span class="lineno"> 3996</span>    req-&gt;kind = EVHTTP_RESPONSE;</div>
<div class="line"><span class="lineno"> 3997</span>    req-&gt;input_headers = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> evkeyvalq));</div>
<div class="line"><span class="lineno"> 3998</span>    <span class="keywordflow">if</span> (req-&gt;input_headers == NULL) {</div>
<div class="line"><span class="lineno"> 3999</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4000</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 4001</span>    }</div>
<div class="line"><span class="lineno"> 4002</span>    TAILQ_INIT(req-&gt;input_headers);</div>
<div class="line"><span class="lineno"> 4003</span> </div>
<div class="line"><span class="lineno"> 4004</span>    req-&gt;output_headers = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> evkeyvalq));</div>
<div class="line"><span class="lineno"> 4005</span>    <span class="keywordflow">if</span> (req-&gt;output_headers == NULL) {</div>
<div class="line"><span class="lineno"> 4006</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4007</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 4008</span>    }</div>
<div class="line"><span class="lineno"> 4009</span>    TAILQ_INIT(req-&gt;output_headers);</div>
<div class="line"><span class="lineno"> 4010</span> </div>
<div class="line"><span class="lineno"> 4011</span>    <span class="keywordflow">if</span> ((req-&gt;input_buffer = <a class="code hl_function" href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a>()) == NULL) {</div>
<div class="line"><span class="lineno"> 4012</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: evbuffer_new&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4013</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 4014</span>    }</div>
<div class="line"><span class="lineno"> 4015</span> </div>
<div class="line"><span class="lineno"> 4016</span>    <span class="keywordflow">if</span> ((req-&gt;output_buffer = <a class="code hl_function" href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a>()) == NULL) {</div>
<div class="line"><span class="lineno"> 4017</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: evbuffer_new&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4018</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 4019</span>    }</div>
<div class="line"><span class="lineno"> 4020</span> </div>
<div class="line"><span class="lineno"> 4021</span>    req-&gt;cb = cb;</div>
<div class="line"><span class="lineno"> 4022</span>    req-&gt;cb_arg = arg;</div>
<div class="line"><span class="lineno"> 4023</span> </div>
<div class="line"><span class="lineno"> 4024</span>    <span class="keywordflow">return</span> (req);</div>
<div class="line"><span class="lineno"> 4025</span> </div>
<div class="line"><span class="lineno"> 4026</span> error:</div>
<div class="line"><span class="lineno"> 4027</span>    <span class="keywordflow">if</span> (req != NULL)</div>
<div class="line"><span class="lineno"> 4028</span>        <a class="code hl_function" href="http_8c.html#aad0392c873fa034be3ff09d4f8b68aba">evhttp_request_free</a>(req);</div>
<div class="line"><span class="lineno"> 4029</span>    <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 4030</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00362">evbuffer_new()</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l04033">evhttp_request_free()</a>, and <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04286">evhttp_associate_new_request_with_connection()</a>, and <a class="el" href="evrpc_8c_source.html#l00659">evrpc_schedule_request()</a>.</p>

</div>
</div>
<a id="a93a13d12f579bf22af35e2f1a6d82f4c" name="a93a13d12f579bf22af35e2f1a6d82f4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93a13d12f579bf22af35e2f1a6d82f4c">&#9670;&nbsp;</a></span>evhttp_request_own()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_request_own </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04067">4067</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4068</span>{</div>
<div class="line"><span class="lineno"> 4069</span>    req-&gt;flags |= EVHTTP_USER_OWNED;</div>
<div class="line"><span class="lineno"> 4070</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evrpc_8c_source.html#l00860">evrpc_reply_done()</a>.</p>

</div>
</div>
<a id="a633d80d0697aa07018ba9e6411fe14b7" name="a633d80d0697aa07018ba9e6411fe14b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a633d80d0697aa07018ba9e6411fe14b7">&#9670;&nbsp;</a></span>evhttp_request_set_chunked_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_request_set_chunked_cb </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct evhttp_request *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04091">4091</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4093</span>{</div>
<div class="line"><span class="lineno"> 4094</span>    req-&gt;chunk_cb = cb;</div>
<div class="line"><span class="lineno"> 4095</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acc26301831e403e64c50352c49e1d646" name="acc26301831e403e64c50352c49e1d646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc26301831e403e64c50352c49e1d646">&#9670;&nbsp;</a></span>evhttp_request_set_error_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_request_set_error_cb </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(enum evhttp_request_error, void *)&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04105">4105</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4107</span>{</div>
<div class="line"><span class="lineno"> 4108</span>    req-&gt;error_cb = cb;</div>
<div class="line"><span class="lineno"> 4109</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0882e86bc0810223647cb98a652bd690" name="a0882e86bc0810223647cb98a652bd690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0882e86bc0810223647cb98a652bd690">&#9670;&nbsp;</a></span>evhttp_request_set_header_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_request_set_header_cb </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct evhttp_request *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04098">4098</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4100</span>{</div>
<div class="line"><span class="lineno"> 4101</span>    req-&gt;header_cb = cb;</div>
<div class="line"><span class="lineno"> 4102</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac43a3d787062e1e74d84f68cedcc43a3" name="ac43a3d787062e1e74d84f68cedcc43a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac43a3d787062e1e74d84f68cedcc43a3">&#9670;&nbsp;</a></span>evhttp_request_set_on_complete_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_request_set_on_complete_cb </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct evhttp_request *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04112">4112</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4114</span>{</div>
<div class="line"><span class="lineno"> 4115</span>    req-&gt;on_complete_cb = cb;</div>
<div class="line"><span class="lineno"> 4116</span>    req-&gt;on_complete_cb_arg = cb_arg;</div>
<div class="line"><span class="lineno"> 4117</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a05ae915a2f291a6fe7b810da72e96980" name="a05ae915a2f291a6fe7b810da72e96980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05ae915a2f291a6fe7b810da72e96980">&#9670;&nbsp;</a></span>evhttp_response_code_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_response_code_ </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03046">3046</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3047</span>{</div>
<div class="line"><span class="lineno"> 3048</span>    req-&gt;kind = EVHTTP_RESPONSE;</div>
<div class="line"><span class="lineno"> 3049</span>    req-&gt;response_code = code;</div>
<div class="line"><span class="lineno"> 3050</span>    <span class="keywordflow">if</span> (req-&gt;response_code_line != NULL)</div>
<div class="line"><span class="lineno"> 3051</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;response_code_line);</div>
<div class="line"><span class="lineno"> 3052</span>    <span class="keywordflow">if</span> (reason == NULL)</div>
<div class="line"><span class="lineno"> 3053</span>        reason = <a class="code hl_function" href="http_8c.html#a610e1a5b478ac02e181b095900ff22bb">evhttp_response_phrase_internal</a>(code);</div>
<div class="line"><span class="lineno"> 3054</span>    req-&gt;response_code_line = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(reason);</div>
<div class="line"><span class="lineno"> 3055</span>    <span class="keywordflow">if</span> (req-&gt;response_code_line == NULL) {</div>
<div class="line"><span class="lineno"> 3056</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 3057</span>        <span class="comment">/* XXX what else can we do? */</span></div>
<div class="line"><span class="lineno"> 3058</span>    }</div>
<div class="line"><span class="lineno"> 3059</span>}</div>
<div class="ttc" id="ahttp_8c_html_a610e1a5b478ac02e181b095900ff22bb"><div class="ttname"><a href="http_8c.html#a610e1a5b478ac02e181b095900ff22bb">evhttp_response_phrase_internal</a></div><div class="ttdeci">static const char * evhttp_response_phrase_internal(int code)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03029">http.c:3029</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l03029">evhttp_response_phrase_internal()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>, <a class="el" href="http_8c_source.html#l02801">evhttp_send_error()</a>, <a class="el" href="http_8c_source.html#l03062">evhttp_send_page_()</a>, <a class="el" href="http_8c_source.html#l02858">evhttp_send_reply()</a>, and <a class="el" href="http_8c_source.html#l02867">evhttp_send_reply_start()</a>.</p>

</div>
</div>
<a id="a192640c318669b3ac03ee3a7e8b1e21b" name="a192640c318669b3ac03ee3a7e8b1e21b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192640c318669b3ac03ee3a7e8b1e21b">&#9670;&nbsp;</a></span>evhttp_response_needs_body()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_response_needs_body </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Determines if a response should have a body. Follows the rules in RFC 2616 section 4.3. </p><dl class="section return"><dt>Returns</dt><dd>1 if the response MUST have a body; 0 if the response MUST NOT have a body. </dd></dl>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00356">356</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  357</span>{</div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">return</span> (req-&gt;response_code != HTTP_NOCONTENT &amp;&amp;</div>
<div class="line"><span class="lineno">  359</span>        req-&gt;response_code != HTTP_NOTMODIFIED &amp;&amp;</div>
<div class="line"><span class="lineno">  360</span>        (req-&gt;response_code &lt; 100 || req-&gt;response_code &gt;= 200) &amp;&amp;</div>
<div class="line"><span class="lineno">  361</span>        req-&gt;type != EVHTTP_REQ_CONNECT &amp;&amp;</div>
<div class="line"><span class="lineno">  362</span>        req-&gt;type != EVHTTP_REQ_HEAD);</div>
<div class="line"><span class="lineno">  363</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>, <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, <a class="el" href="http_8c_source.html#l02894">evhttp_send_reply_chunk_with_cb()</a>, and <a class="el" href="http_8c_source.html#l02867">evhttp_send_reply_start()</a>.</p>

</div>
</div>
<a id="a610e1a5b478ac02e181b095900ff22bb" name="a610e1a5b478ac02e181b095900ff22bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a610e1a5b478ac02e181b095900ff22bb">&#9670;&nbsp;</a></span>evhttp_response_phrase_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * evhttp_response_phrase_internal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03029">3029</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3030</span>{</div>
<div class="line"><span class="lineno"> 3031</span>    <span class="keywordtype">int</span> klass = code / 100 - 1;</div>
<div class="line"><span class="lineno"> 3032</span>    <span class="keywordtype">int</span> subcode = code % 100;</div>
<div class="line"><span class="lineno"> 3033</span> </div>
<div class="line"><span class="lineno"> 3034</span>    <span class="comment">/* Unknown class - can&#39;t do any better here */</span></div>
<div class="line"><span class="lineno"> 3035</span>    <span class="keywordflow">if</span> (klass &lt; 0 || klass &gt;= (<span class="keywordtype">int</span>) <a class="code hl_define" href="http_8c.html#aa28a3b1f039fa3f5cb598eb1005a98f5">MEMBERSOF</a>(<a class="code hl_variable" href="http_8c.html#affaa67a76051a24c0975b2bb6adf4e78">response_classes</a>))</div>
<div class="line"><span class="lineno"> 3036</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown Status Class&quot;</span>;</div>
<div class="line"><span class="lineno"> 3037</span> </div>
<div class="line"><span class="lineno"> 3038</span>    <span class="comment">/* Unknown sub-code, return class name at least */</span></div>
<div class="line"><span class="lineno"> 3039</span>    <span class="keywordflow">if</span> (subcode &gt;= (<span class="keywordtype">int</span>) <a class="code hl_variable" href="http_8c.html#affaa67a76051a24c0975b2bb6adf4e78">response_classes</a>[klass].num_responses)</div>
<div class="line"><span class="lineno"> 3040</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="http_8c.html#affaa67a76051a24c0975b2bb6adf4e78">response_classes</a>[klass].<a class="code hl_variable" href="structresponse__class.html#a0eca9ee15421a68cb654095529ca7d47">name</a>;</div>
<div class="line"><span class="lineno"> 3041</span> </div>
<div class="line"><span class="lineno"> 3042</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="http_8c.html#affaa67a76051a24c0975b2bb6adf4e78">response_classes</a>[klass].<a class="code hl_variable" href="structresponse__class.html#ae2dc6b69c0df7d7ce8d40d1aed28802d">responses</a>[subcode];</div>
<div class="line"><span class="lineno"> 3043</span>}</div>
<div class="ttc" id="ahttp_8c_html_aa28a3b1f039fa3f5cb598eb1005a98f5"><div class="ttname"><a href="http_8c.html#aa28a3b1f039fa3f5cb598eb1005a98f5">MEMBERSOF</a></div><div class="ttdeci">#define MEMBERSOF(x)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03017">http.c:3017</a></div></div>
<div class="ttc" id="ahttp_8c_html_affaa67a76051a24c0975b2bb6adf4e78"><div class="ttname"><a href="http_8c.html#affaa67a76051a24c0975b2bb6adf4e78">response_classes</a></div><div class="ttdeci">static const struct response_class response_classes[]</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03020">http.c:3020</a></div></div>
<div class="ttc" id="astructresponse__class_html_a0eca9ee15421a68cb654095529ca7d47"><div class="ttname"><a href="structresponse__class.html#a0eca9ee15421a68cb654095529ca7d47">response_class::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03011">http.c:3011</a></div></div>
<div class="ttc" id="astructresponse__class_html_ae2dc6b69c0df7d7ce8d40d1aed28802d"><div class="ttname"><a href="structresponse__class.html#ae2dc6b69c0df7d7ce8d40d1aed28802d">response_class::responses</a></div><div class="ttdeci">const char ** responses</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03013">http.c:3013</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03017">MEMBERSOF</a>, <a class="el" href="http_8c_source.html#l03011">response_class::name</a>, <a class="el" href="http_8c_source.html#l03012">response_class::num_responses</a>, <a class="el" href="http_8c_source.html#l03020">response_classes</a>, and <a class="el" href="http_8c_source.html#l03013">response_class::responses</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03046">evhttp_response_code_()</a>, and <a class="el" href="http_8c_source.html#l02801">evhttp_send_error()</a>.</p>

</div>
</div>
<a id="ab6eacc4b3e43882175b4b22b4dcfe7e7" name="ab6eacc4b3e43882175b4b22b4dcfe7e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6eacc4b3e43882175b4b22b4dcfe7e7">&#9670;&nbsp;</a></span>evhttp_send()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_send </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>databuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02833">2833</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2834</span>{</div>
<div class="line"><span class="lineno"> 2835</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = req-&gt;evcon;</div>
<div class="line"><span class="lineno"> 2836</span> </div>
<div class="line"><span class="lineno"> 2837</span>    <span class="keywordflow">if</span> (evcon == NULL) {</div>
<div class="line"><span class="lineno"> 2838</span>        <a class="code hl_function" href="http_8c.html#aad0392c873fa034be3ff09d4f8b68aba">evhttp_request_free</a>(req);</div>
<div class="line"><span class="lineno"> 2839</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2840</span>    }</div>
<div class="line"><span class="lineno"> 2841</span> </div>
<div class="line"><span class="lineno"> 2842</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests) == req);</div>
<div class="line"><span class="lineno"> 2843</span> </div>
<div class="line"><span class="lineno"> 2844</span>    <span class="comment">/* we expect no more calls form the user on this request */</span></div>
<div class="line"><span class="lineno"> 2845</span>    req-&gt;userdone = 1;</div>
<div class="line"><span class="lineno"> 2846</span> </div>
<div class="line"><span class="lineno"> 2847</span>    <span class="comment">/* xxx: not sure if we really should expose the data buffer this way */</span></div>
<div class="line"><span class="lineno"> 2848</span>    <span class="keywordflow">if</span> (databuf != NULL)</div>
<div class="line"><span class="lineno"> 2849</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a9d2edd536246d70c50678a3865305414">evbuffer_add_buffer</a>(req-&gt;output_buffer, databuf);</div>
<div class="line"><span class="lineno"> 2850</span> </div>
<div class="line"><span class="lineno"> 2851</span>    <span class="comment">/* Adds headers to the response */</span></div>
<div class="line"><span class="lineno"> 2852</span>    <a class="code hl_function" href="http_8c.html#a1ed4a49a3e33f637ea7c0bf1490a1144">evhttp_make_header</a>(evcon, req);</div>
<div class="line"><span class="lineno"> 2853</span> </div>
<div class="line"><span class="lineno"> 2854</span>    <a class="code hl_function" href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a>(evcon, <a class="code hl_function" href="http_8c.html#a00439049af8e7aa0ab3eb4b35f48aa95">evhttp_send_done</a>, NULL);</div>
<div class="line"><span class="lineno"> 2855</span>}</div>
<div class="ttc" id="ahttp_8c_html_a00439049af8e7aa0ab3eb4b35f48aa95"><div class="ttname"><a href="http_8c.html#a00439049af8e7aa0ab3eb4b35f48aa95">evhttp_send_done</a></div><div class="ttdeci">static void evhttp_send_done(struct evhttp_connection *evcon, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02767">http.c:2767</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="libevent_2buffer_8c_source.html#l00966">evbuffer_add_buffer()</a>, <a class="el" href="http_8c_source.html#l00606">evhttp_make_header()</a>, <a class="el" href="http_8c_source.html#l04033">evhttp_request_free()</a>, <a class="el" href="http_8c_source.html#l02767">evhttp_send_done()</a>, <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03062">evhttp_send_page_()</a>, and <a class="el" href="http_8c_source.html#l02858">evhttp_send_reply()</a>.</p>

</div>
</div>
<a id="a9e508893832c1adacc2d9ea24f88aaf5" name="a9e508893832c1adacc2d9ea24f88aaf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e508893832c1adacc2d9ea24f88aaf5">&#9670;&nbsp;</a></span>evhttp_send_continue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_send_continue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00398">398</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  400</span>{</div>
<div class="line"><span class="lineno">  401</span>    <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_WRITE);</div>
<div class="line"><span class="lineno">  402</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(<a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>),</div>
<div class="line"><span class="lineno">  403</span>            <span class="stringliteral">&quot;HTTP/%d.%d 100 Continue\r\n\r\n&quot;</span>,</div>
<div class="line"><span class="lineno">  404</span>            req-&gt;major, req-&gt;minor);</div>
<div class="line"><span class="lineno">  405</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#af6d051ba504b6ffac23c3f5963cf8b00">cb</a> = <a class="code hl_function" href="http_8c.html#a0275faa681dd2788a1bf7c2e3514c11a">evhttp_send_continue_done</a>;</div>
<div class="line"><span class="lineno">  406</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a175b75c98397d9b3c9b30ff2e5a1003d">cb_arg</a> = NULL;</div>
<div class="line"><span class="lineno">  407</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>,</div>
<div class="line"><span class="lineno">  408</span>        <a class="code hl_function" href="http_8c.html#a95241fd0965764d55cdd3609c8d3a3ca">evhttp_read_cb</a>,</div>
<div class="line"><span class="lineno">  409</span>        <a class="code hl_function" href="http_8c.html#af2982b8516dba583cab6be97d9ca8461">evhttp_write_cb</a>,</div>
<div class="line"><span class="lineno">  410</span>        <a class="code hl_function" href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a>,</div>
<div class="line"><span class="lineno">  411</span>        evcon);</div>
<div class="line"><span class="lineno">  412</span>}</div>
<div class="ttc" id="ahttp_8c_html_a0275faa681dd2788a1bf7c2e3514c11a"><div class="ttname"><a href="http_8c.html#a0275faa681dd2788a1bf7c2e3514c11a">evhttp_send_continue_done</a></div><div class="ttdeci">static void evhttp_send_continue_done(struct evhttp_connection *evcon, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00392">http.c:392</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a175b75c98397d9b3c9b30ff2e5a1003d"><div class="ttname"><a href="structevhttp__connection.html#a175b75c98397d9b3c9b30ff2e5a1003d">evhttp_connection::cb_arg</a></div><div class="ttdeci">void * cb_arg</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00095">http-internal.h:95</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_af6d051ba504b6ffac23c3f5963cf8b00"><div class="ttname"><a href="structevhttp__connection.html#af6d051ba504b6ffac23c3f5963cf8b00">evhttp_connection::cb</a></div><div class="ttdeci">void(* cb)(struct evhttp_connection *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00094">http-internal.h:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="http-internal_8h_source.html#l00094">evhttp_connection::cb</a>, <a class="el" href="http-internal_8h_source.html#l00095">evhttp_connection::cb_arg</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02908">evbuffer_add_printf()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>, <a class="el" href="http_8c_source.html#l00392">evhttp_send_continue_done()</a>, and <a class="el" href="http_8c_source.html#l00807">evhttp_write_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>.</p>

</div>
</div>
<a id="a0275faa681dd2788a1bf7c2e3514c11a" name="a0275faa681dd2788a1bf7c2e3514c11a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0275faa681dd2788a1bf7c2e3514c11a">&#9670;&nbsp;</a></span>evhttp_send_continue_done()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_send_continue_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00392">392</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  393</span>{</div>
<div class="line"><span class="lineno">  394</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_WRITE);</div>
<div class="line"><span class="lineno">  395</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, and <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00398">evhttp_send_continue()</a>.</p>

</div>
</div>
<a id="a00439049af8e7aa0ab3eb4b35f48aa95" name="a00439049af8e7aa0ab3eb4b35f48aa95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00439049af8e7aa0ab3eb4b35f48aa95">&#9670;&nbsp;</a></span>evhttp_send_done()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_send_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02767">2767</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2768</span>{</div>
<div class="line"><span class="lineno"> 2769</span>    <span class="keywordtype">int</span> need_close;</div>
<div class="line"><span class="lineno"> 2770</span>    <span class="keyword">struct </span>evhttp_request *req = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno"> 2771</span>    TAILQ_REMOVE(&amp;evcon-&gt;requests, req, next);</div>
<div class="line"><span class="lineno"> 2772</span> </div>
<div class="line"><span class="lineno"> 2773</span>    <span class="keywordflow">if</span> (req-&gt;on_complete_cb != NULL) {</div>
<div class="line"><span class="lineno"> 2774</span>        req-&gt;on_complete_cb(req, req-&gt;on_complete_cb_arg);</div>
<div class="line"><span class="lineno"> 2775</span>    }</div>
<div class="line"><span class="lineno"> 2776</span> </div>
<div class="line"><span class="lineno"> 2777</span>    need_close =</div>
<div class="line"><span class="lineno"> 2778</span>        (<a class="code hl_define" href="http_8c.html#a3a76979addb9524d4a00a150a067c8bd">REQ_VERSION_BEFORE</a>(req, 1, 1) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2779</span>        !<a class="code hl_function" href="http_8c.html#a07b58430a19af2f684dbef815f3464da">evhttp_is_connection_keepalive</a>(req-&gt;input_headers)) ||</div>
<div class="line"><span class="lineno"> 2780</span>        <a class="code hl_function" href="http_8c.html#a22b49e50c376f1792c3fe36d66ed180f">evhttp_is_request_connection_close</a>(req);</div>
<div class="line"><span class="lineno"> 2781</span> </div>
<div class="line"><span class="lineno"> 2782</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(req-&gt;flags &amp; EVHTTP_REQ_OWN_CONNECTION);</div>
<div class="line"><span class="lineno"> 2783</span>    <a class="code hl_function" href="http_8c.html#aad0392c873fa034be3ff09d4f8b68aba">evhttp_request_free</a>(req);</div>
<div class="line"><span class="lineno"> 2784</span> </div>
<div class="line"><span class="lineno"> 2785</span>    <span class="keywordflow">if</span> (need_close) {</div>
<div class="line"><span class="lineno"> 2786</span>        <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno"> 2787</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2788</span>    }</div>
<div class="line"><span class="lineno"> 2789</span> </div>
<div class="line"><span class="lineno"> 2790</span>    <span class="comment">/* we have a persistent connection; try to accept another request. */</span></div>
<div class="line"><span class="lineno"> 2791</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#ad7fcb292a0c9868222024aff72207615">evhttp_associate_new_request_with_connection</a>(evcon) == -1) {</div>
<div class="line"><span class="lineno"> 2792</span>        <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno"> 2793</span>    }</div>
<div class="line"><span class="lineno"> 2794</span>}</div>
<div class="ttc" id="ahttp_8c_html_a3a76979addb9524d4a00a150a067c8bd"><div class="ttname"><a href="http_8c.html#a3a76979addb9524d4a00a150a067c8bd">REQ_VERSION_BEFORE</a></div><div class="ttdeci">#define REQ_VERSION_BEFORE(req, major_v, minor_v)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00166">http.c:166</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04286">evhttp_associate_new_request_with_connection()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l00492">evhttp_is_connection_keepalive()</a>, <a class="el" href="http_8c_source.html#l00480">evhttp_is_request_connection_close()</a>, <a class="el" href="http_8c_source.html#l04033">evhttp_request_free()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="http_8c_source.html#l00166">REQ_VERSION_BEFORE</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02833">evhttp_send()</a>, and <a class="el" href="http_8c_source.html#l02926">evhttp_send_reply_end()</a>.</p>

</div>
</div>
<a id="a629ef7f70ed916e162dee3bd12e397c9" name="a629ef7f70ed916e162dee3bd12e397c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629ef7f70ed916e162dee3bd12e397c9">&#9670;&nbsp;</a></span>evhttp_send_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_send_error </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02801">2801</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2802</span>{</div>
<div class="line"><span class="lineno"> 2803</span> </div>
<div class="line"><span class="lineno"> 2804</span><span class="preprocessor">#define ERR_FORMAT &quot;&lt;HTML&gt;&lt;HEAD&gt;\n&quot;</span> \</div>
<div class="line"><span class="lineno"> 2805</span>        &quot;&lt;TITLE&gt;%d %s&lt;/TITLE&gt;\n&quot; \</div>
<div class="line"><span class="lineno"> 2806</span>        &quot;&lt;/HEAD&gt;&lt;BODY&gt;\n&quot; \</div>
<div class="line"><span class="lineno"> 2807</span>        &quot;&lt;H1&gt;%s&lt;/H1&gt;\n&quot; \</div>
<div class="line"><span class="lineno"> 2808</span>        &quot;&lt;/BODY&gt;&lt;/HTML&gt;\n&quot;</div>
<div class="line"><span class="lineno"> 2809</span> </div>
<div class="line"><span class="lineno"> 2810</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *buf = <a class="code hl_function" href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a>();</div>
<div class="line"><span class="lineno"> 2811</span>    <span class="keywordflow">if</span> (buf == NULL) {</div>
<div class="line"><span class="lineno"> 2812</span>        <span class="comment">/* if we cannot allocate memory; we just drop the connection */</span></div>
<div class="line"><span class="lineno"> 2813</span>        <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(req-&gt;evcon);</div>
<div class="line"><span class="lineno"> 2814</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2815</span>    }</div>
<div class="line"><span class="lineno"> 2816</span>    <span class="keywordflow">if</span> (reason == NULL) {</div>
<div class="line"><span class="lineno"> 2817</span>        reason = <a class="code hl_function" href="http_8c.html#a610e1a5b478ac02e181b095900ff22bb">evhttp_response_phrase_internal</a>(error);</div>
<div class="line"><span class="lineno"> 2818</span>    }</div>
<div class="line"><span class="lineno"> 2819</span> </div>
<div class="line"><span class="lineno"> 2820</span>    <a class="code hl_function" href="http_8c.html#a05ae915a2f291a6fe7b810da72e96980">evhttp_response_code_</a>(req, error, reason);</div>
<div class="line"><span class="lineno"> 2821</span> </div>
<div class="line"><span class="lineno"> 2822</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(buf, <a class="code hl_define" href="http_8c.html#a7bd608453b83e74874a4983106a1d9cd">ERR_FORMAT</a>, error, reason, reason);</div>
<div class="line"><span class="lineno"> 2823</span> </div>
<div class="line"><span class="lineno"> 2824</span>    <a class="code hl_function" href="http_8c.html#a004d96be76dfc73ca208f2465925e936">evhttp_send_page_</a>(req, buf);</div>
<div class="line"><span class="lineno"> 2825</span> </div>
<div class="line"><span class="lineno"> 2826</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(buf);</div>
<div class="line"><span class="lineno"> 2827</span><span class="preprocessor">#undef ERR_FORMAT</span></div>
<div class="line"><span class="lineno"> 2828</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c.html#a7bd608453b83e74874a4983106a1d9cd">ERR_FORMAT</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02908">evbuffer_add_printf()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00588">evbuffer_free()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00362">evbuffer_new()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l03046">evhttp_response_code_()</a>, <a class="el" href="http_8c_source.html#l03029">evhttp_response_phrase_internal()</a>, and <a class="el" href="http_8c_source.html#l03062">evhttp_send_page_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>, <a class="el" href="evrpc_8c_source.html#l00285">evrpc_request_cb()</a>, <a class="el" href="evrpc_8c_source.html#l00339">evrpc_request_cb_closure()</a>, <a class="el" href="evrpc_8c_source.html#l00404">evrpc_request_done()</a>, and <a class="el" href="evrpc_8c_source.html#l00474">evrpc_request_done_closure()</a>.</p>

</div>
</div>
<a id="a004d96be76dfc73ca208f2465925e936" name="a004d96be76dfc73ca208f2465925e936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a004d96be76dfc73ca208f2465925e936">&#9670;&nbsp;</a></span>evhttp_send_page_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_send_page_ </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>databuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03062">3062</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3063</span>{</div>
<div class="line"><span class="lineno"> 3064</span>    <span class="keywordflow">if</span> (!req-&gt;major || !req-&gt;minor) {</div>
<div class="line"><span class="lineno"> 3065</span>        req-&gt;major = 1;</div>
<div class="line"><span class="lineno"> 3066</span>        req-&gt;minor = 1;</div>
<div class="line"><span class="lineno"> 3067</span>    }</div>
<div class="line"><span class="lineno"> 3068</span> </div>
<div class="line"><span class="lineno"> 3069</span>    <span class="keywordflow">if</span> (req-&gt;kind != EVHTTP_RESPONSE)</div>
<div class="line"><span class="lineno"> 3070</span>        <a class="code hl_function" href="http_8c.html#a05ae915a2f291a6fe7b810da72e96980">evhttp_response_code_</a>(req, 200, <span class="stringliteral">&quot;OK&quot;</span>);</div>
<div class="line"><span class="lineno"> 3071</span> </div>
<div class="line"><span class="lineno"> 3072</span>    <a class="code hl_function" href="http_8c.html#adfd33f73c8d7af63a0da05ebb32b7e72">evhttp_clear_headers</a>(req-&gt;output_headers);</div>
<div class="line"><span class="lineno"> 3073</span>    <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;text/html&quot;</span>);</div>
<div class="line"><span class="lineno"> 3074</span>    <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Connection&quot;</span>, <span class="stringliteral">&quot;close&quot;</span>);</div>
<div class="line"><span class="lineno"> 3075</span> </div>
<div class="line"><span class="lineno"> 3076</span>    <a class="code hl_function" href="http_8c.html#ab6eacc4b3e43882175b4b22b4dcfe7e7">evhttp_send</a>(req, databuf);</div>
<div class="line"><span class="lineno"> 3077</span>}</div>
<div class="ttc" id="ahttp_8c_html_ab6eacc4b3e43882175b4b22b4dcfe7e7"><div class="ttname"><a href="http_8c.html#ab6eacc4b3e43882175b4b22b4dcfe7e7">evhttp_send</a></div><div class="ttdeci">static void evhttp_send(struct evhttp_request *req, struct evbuffer *databuf)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02833">http.c:2833</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, <a class="el" href="http_8c_source.html#l01912">evhttp_clear_headers()</a>, <a class="el" href="http_8c_source.html#l03046">evhttp_response_code_()</a>, and <a class="el" href="http_8c_source.html#l02833">evhttp_send()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>, and <a class="el" href="http_8c_source.html#l02801">evhttp_send_error()</a>.</p>

</div>
</div>
<a id="a9df5ec9adc9bc664db5d6b161a293525" name="a9df5ec9adc9bc664db5d6b161a293525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9df5ec9adc9bc664db5d6b161a293525">&#9670;&nbsp;</a></span>evhttp_send_reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_send_reply </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>databuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02858">2858</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2860</span>{</div>
<div class="line"><span class="lineno"> 2861</span>    <a class="code hl_function" href="http_8c.html#a05ae915a2f291a6fe7b810da72e96980">evhttp_response_code_</a>(req, code, reason);</div>
<div class="line"><span class="lineno"> 2862</span> </div>
<div class="line"><span class="lineno"> 2863</span>    <a class="code hl_function" href="http_8c.html#ab6eacc4b3e43882175b4b22b4dcfe7e7">evhttp_send</a>(req, databuf);</div>
<div class="line"><span class="lineno"> 2864</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03046">evhttp_response_code_()</a>, and <a class="el" href="http_8c_source.html#l02833">evhttp_send()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evrpc_8c_source.html#l00474">evrpc_request_done_closure()</a>.</p>

</div>
</div>
<a id="a7950f70e66678fda56fdf8288811639c" name="a7950f70e66678fda56fdf8288811639c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7950f70e66678fda56fdf8288811639c">&#9670;&nbsp;</a></span>evhttp_send_reply_chunk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_send_reply_chunk </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>databuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02921">2921</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2922</span>{</div>
<div class="line"><span class="lineno"> 2923</span>    <a class="code hl_function" href="http_8c.html#a32f0b611cb00366bd3327b00d04f1d0a">evhttp_send_reply_chunk_with_cb</a>(req, databuf, NULL, NULL);</div>
<div class="line"><span class="lineno"> 2924</span>}</div>
<div class="ttc" id="ahttp_8c_html_a32f0b611cb00366bd3327b00d04f1d0a"><div class="ttname"><a href="http_8c.html#a32f0b611cb00366bd3327b00d04f1d0a">evhttp_send_reply_chunk_with_cb</a></div><div class="ttdeci">void evhttp_send_reply_chunk_with_cb(struct evhttp_request *req, struct evbuffer *databuf, void(*cb)(struct evhttp_connection *, void *), void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02894">http.c:2894</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l02894">evhttp_send_reply_chunk_with_cb()</a>.</p>

</div>
</div>
<a id="a32f0b611cb00366bd3327b00d04f1d0a" name="a32f0b611cb00366bd3327b00d04f1d0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32f0b611cb00366bd3327b00d04f1d0a">&#9670;&nbsp;</a></span>evhttp_send_reply_chunk_with_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_send_reply_chunk_with_cb </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>databuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02894">2894</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2896</span>{</div>
<div class="line"><span class="lineno"> 2897</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = req-&gt;evcon;</div>
<div class="line"><span class="lineno"> 2898</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *output;</div>
<div class="line"><span class="lineno"> 2899</span> </div>
<div class="line"><span class="lineno"> 2900</span>    <span class="keywordflow">if</span> (evcon == NULL)</div>
<div class="line"><span class="lineno"> 2901</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2902</span> </div>
<div class="line"><span class="lineno"> 2903</span>    output = <a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 2904</span> </div>
<div class="line"><span class="lineno"> 2905</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(databuf) == 0)</div>
<div class="line"><span class="lineno"> 2906</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2907</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="http_8c.html#a192640c318669b3ac03ee3a7e8b1e21b">evhttp_response_needs_body</a>(req))</div>
<div class="line"><span class="lineno"> 2908</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2909</span>    <span class="keywordflow">if</span> (req-&gt;chunked) {</div>
<div class="line"><span class="lineno"> 2910</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(output, <span class="stringliteral">&quot;%x\r\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2911</span>                    (<span class="keywordtype">unsigned</span>)<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(databuf));</div>
<div class="line"><span class="lineno"> 2912</span>    }</div>
<div class="line"><span class="lineno"> 2913</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a9d2edd536246d70c50678a3865305414">evbuffer_add_buffer</a>(output, databuf);</div>
<div class="line"><span class="lineno"> 2914</span>    <span class="keywordflow">if</span> (req-&gt;chunked) {</div>
<div class="line"><span class="lineno"> 2915</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(output, <span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 2916</span>    }</div>
<div class="line"><span class="lineno"> 2917</span>    <a class="code hl_function" href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a>(evcon, cb, arg);</div>
<div class="line"><span class="lineno"> 2918</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01730">evbuffer_add()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00966">evbuffer_add_buffer()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02908">evbuffer_add_printf()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http_8c_source.html#l00356">evhttp_response_needs_body()</a>, and <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02921">evhttp_send_reply_chunk()</a>.</p>

</div>
</div>
<a id="a77024706313626c5857089b08ec5e0ae" name="a77024706313626c5857089b08ec5e0ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77024706313626c5857089b08ec5e0ae">&#9670;&nbsp;</a></span>evhttp_send_reply_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_send_reply_end </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02926">2926</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2927</span>{</div>
<div class="line"><span class="lineno"> 2928</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = req-&gt;evcon;</div>
<div class="line"><span class="lineno"> 2929</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *output;</div>
<div class="line"><span class="lineno"> 2930</span> </div>
<div class="line"><span class="lineno"> 2931</span>    <span class="keywordflow">if</span> (evcon == NULL) {</div>
<div class="line"><span class="lineno"> 2932</span>        <a class="code hl_function" href="http_8c.html#aad0392c873fa034be3ff09d4f8b68aba">evhttp_request_free</a>(req);</div>
<div class="line"><span class="lineno"> 2933</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2934</span>    }</div>
<div class="line"><span class="lineno"> 2935</span> </div>
<div class="line"><span class="lineno"> 2936</span>    output = <a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 2937</span> </div>
<div class="line"><span class="lineno"> 2938</span>    <span class="comment">/* we expect no more calls form the user on this request */</span></div>
<div class="line"><span class="lineno"> 2939</span>    req-&gt;userdone = 1;</div>
<div class="line"><span class="lineno"> 2940</span> </div>
<div class="line"><span class="lineno"> 2941</span>    <span class="keywordflow">if</span> (req-&gt;chunked) {</div>
<div class="line"><span class="lineno"> 2942</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(output, <span class="stringliteral">&quot;0\r\n\r\n&quot;</span>, 5);</div>
<div class="line"><span class="lineno"> 2943</span>        <a class="code hl_function" href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a>(req-&gt;evcon, <a class="code hl_function" href="http_8c.html#a00439049af8e7aa0ab3eb4b35f48aa95">evhttp_send_done</a>, NULL);</div>
<div class="line"><span class="lineno"> 2944</span>        req-&gt;chunked = 0;</div>
<div class="line"><span class="lineno"> 2945</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(output) == 0) {</div>
<div class="line"><span class="lineno"> 2946</span>        <span class="comment">/* let the connection know that we are done with the request */</span></div>
<div class="line"><span class="lineno"> 2947</span>        <a class="code hl_function" href="http_8c.html#a00439049af8e7aa0ab3eb4b35f48aa95">evhttp_send_done</a>(evcon, NULL);</div>
<div class="line"><span class="lineno"> 2948</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2949</span>        <span class="comment">/* make the callback execute after all data has been written */</span></div>
<div class="line"><span class="lineno"> 2950</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#af6d051ba504b6ffac23c3f5963cf8b00">cb</a> = <a class="code hl_function" href="http_8c.html#a00439049af8e7aa0ab3eb4b35f48aa95">evhttp_send_done</a>;</div>
<div class="line"><span class="lineno"> 2951</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a175b75c98397d9b3c9b30ff2e5a1003d">cb_arg</a> = NULL;</div>
<div class="line"><span class="lineno"> 2952</span>    }</div>
<div class="line"><span class="lineno"> 2953</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="http-internal_8h_source.html#l00094">evhttp_connection::cb</a>, <a class="el" href="http-internal_8h_source.html#l00095">evhttp_connection::cb_arg</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01730">evbuffer_add()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http_8c_source.html#l04033">evhttp_request_free()</a>, <a class="el" href="http_8c_source.html#l02767">evhttp_send_done()</a>, and <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>.</p>

</div>
</div>
<a id="a69c93aab46133521997cdfb8c2e07195" name="a69c93aab46133521997cdfb8c2e07195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69c93aab46133521997cdfb8c2e07195">&#9670;&nbsp;</a></span>evhttp_send_reply_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_send_reply_start </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02867">2867</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2869</span>{</div>
<div class="line"><span class="lineno"> 2870</span>    <a class="code hl_function" href="http_8c.html#a05ae915a2f291a6fe7b810da72e96980">evhttp_response_code_</a>(req, code, reason);</div>
<div class="line"><span class="lineno"> 2871</span> </div>
<div class="line"><span class="lineno"> 2872</span>    <span class="keywordflow">if</span> (req-&gt;evcon == NULL)</div>
<div class="line"><span class="lineno"> 2873</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2874</span> </div>
<div class="line"><span class="lineno"> 2875</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a2f22ee71113d25b89efa127d98ec0766">evhttp_find_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Content-Length&quot;</span>) == NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2876</span>        <a class="code hl_define" href="http_8c.html#a78aee06e216bc57d9d8328f994bf19b0">REQ_VERSION_ATLEAST</a>(req, 1, 1) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2877</span>        <a class="code hl_function" href="http_8c.html#a192640c318669b3ac03ee3a7e8b1e21b">evhttp_response_needs_body</a>(req)) {</div>
<div class="line"><span class="lineno"> 2878</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2879</span><span class="comment">         * prefer HTTP/1.1 chunked encoding to closing the connection;</span></div>
<div class="line"><span class="lineno"> 2880</span><span class="comment">         * note RFC 2616 section 4.4 forbids it with Content-Length:</span></div>
<div class="line"><span class="lineno"> 2881</span><span class="comment">         * and it&#39;s not necessary then anyway.</span></div>
<div class="line"><span class="lineno"> 2882</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 2883</span>        <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>,</div>
<div class="line"><span class="lineno"> 2884</span>            <span class="stringliteral">&quot;chunked&quot;</span>);</div>
<div class="line"><span class="lineno"> 2885</span>        req-&gt;chunked = 1;</div>
<div class="line"><span class="lineno"> 2886</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2887</span>        req-&gt;chunked = 0;</div>
<div class="line"><span class="lineno"> 2888</span>    }</div>
<div class="line"><span class="lineno"> 2889</span>    <a class="code hl_function" href="http_8c.html#a1ed4a49a3e33f637ea7c0bf1490a1144">evhttp_make_header</a>(req-&gt;evcon, req);</div>
<div class="line"><span class="lineno"> 2890</span>    <a class="code hl_function" href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a>(req-&gt;evcon, NULL, NULL);</div>
<div class="line"><span class="lineno"> 2891</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, <a class="el" href="http_8c_source.html#l00606">evhttp_make_header()</a>, <a class="el" href="http_8c_source.html#l03046">evhttp_response_code_()</a>, <a class="el" href="http_8c_source.html#l00356">evhttp_response_needs_body()</a>, <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>, and <a class="el" href="http_8c_source.html#l00170">REQ_VERSION_ATLEAST</a>.</p>

</div>
</div>
<a id="ae63a0370f59570e00753f7fb512a7f59" name="ae63a0370f59570e00753f7fb512a7f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae63a0370f59570e00753f7fb512a7f59">&#9670;&nbsp;</a></span>evhttp_set_allowed_methods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_set_allowed_methods </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>methods</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03908">3908</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3909</span>{</div>
<div class="line"><span class="lineno"> 3910</span>    http-&gt;<a class="code hl_variable" href="structevhttp.html#a5967f184d9f8b41eebadb5faa9b5c12c">allowed_methods</a> = methods;</div>
<div class="line"><span class="lineno"> 3911</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00162">evhttp::allowed_methods</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03668">evhttp_new_object()</a>.</p>

</div>
</div>
<a id="a4fb60c15f97c30a2dfd6b7b6b875785d" name="a4fb60c15f97c30a2dfd6b7b6b875785d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb60c15f97c30a2dfd6b7b6b875785d">&#9670;&nbsp;</a></span>evhttp_set_bevcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_set_bevcb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct bufferevent *(*)(struct <a class="el" href="structevent__base.html">event_base</a> *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03971">3971</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3973</span>{</div>
<div class="line"><span class="lineno"> 3974</span>    http-&gt;<a class="code hl_variable" href="structevhttp.html#a7203e616d99ff5041b0b58994f488b3e">bevcb</a> = cb;</div>
<div class="line"><span class="lineno"> 3975</span>    http-&gt;<a class="code hl_variable" href="structevhttp.html#a0cb2229a5cc84f74c1b8c91596c09c8f">bevcbarg</a> = cbarg;</div>
<div class="line"><span class="lineno"> 3976</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00168">evhttp::bevcb</a>, <a class="el" href="http-internal_8h_source.html#l00169">evhttp::bevcbarg</a>, <a class="el" href="http-internal_8h_source.html#l00113">evhttp_cb::cb</a>, and <a class="el" href="http-internal_8h_source.html#l00114">evhttp_cb::cbarg</a>.</p>

</div>
</div>
<a id="a2099db7b5c8eba7e0be98341c9846a91" name="a2099db7b5c8eba7e0be98341c9846a91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2099db7b5c8eba7e0be98341c9846a91">&#9670;&nbsp;</a></span>evhttp_set_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_set_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct evhttp_request *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03914">3914</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3916</span>{</div>
<div class="line"><span class="lineno"> 3917</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__cb.html">evhttp_cb</a> *http_cb;</div>
<div class="line"><span class="lineno"> 3918</span> </div>
<div class="line"><span class="lineno"> 3919</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(http_cb, &amp;http-&gt;callbacks, next) {</div>
<div class="line"><span class="lineno"> 3920</span>        <span class="keywordflow">if</span> (strcmp(http_cb-&gt;<a class="code hl_variable" href="structevhttp__cb.html#a60001dda2d58adbcab52aa3509eaf85a">what</a>, uri) == 0)</div>
<div class="line"><span class="lineno"> 3921</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 3922</span>    }</div>
<div class="line"><span class="lineno"> 3923</span> </div>
<div class="line"><span class="lineno"> 3924</span>    <span class="keywordflow">if</span> ((http_cb = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevhttp__cb.html">evhttp_cb</a>))) == NULL) {</div>
<div class="line"><span class="lineno"> 3925</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 3926</span>        <span class="keywordflow">return</span> (-2);</div>
<div class="line"><span class="lineno"> 3927</span>    }</div>
<div class="line"><span class="lineno"> 3928</span> </div>
<div class="line"><span class="lineno"> 3929</span>    http_cb-&gt;<a class="code hl_variable" href="structevhttp__cb.html#a60001dda2d58adbcab52aa3509eaf85a">what</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(uri);</div>
<div class="line"><span class="lineno"> 3930</span>    <span class="keywordflow">if</span> (http_cb-&gt;<a class="code hl_variable" href="structevhttp__cb.html#a60001dda2d58adbcab52aa3509eaf85a">what</a> == NULL) {</div>
<div class="line"><span class="lineno"> 3931</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 3932</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(http_cb);</div>
<div class="line"><span class="lineno"> 3933</span>        <span class="keywordflow">return</span> (-3);</div>
<div class="line"><span class="lineno"> 3934</span>    }</div>
<div class="line"><span class="lineno"> 3935</span>    http_cb-&gt;<a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a> = <a class="code hl_variable" href="structevhttp__cb.html#a197b0af28e6ad8c6daf9df6fed624be1">cb</a>;</div>
<div class="line"><span class="lineno"> 3936</span>    http_cb-&gt;<a class="code hl_variable" href="structevhttp__cb.html#ae277e103a7a3e9e2cd5b1deb6505d705">cbarg</a> = <a class="code hl_variable" href="structevhttp__cb.html#ae277e103a7a3e9e2cd5b1deb6505d705">cbarg</a>;</div>
<div class="line"><span class="lineno"> 3937</span> </div>
<div class="line"><span class="lineno"> 3938</span>    TAILQ_INSERT_TAIL(&amp;http-&gt;callbacks, http_cb, next);</div>
<div class="line"><span class="lineno"> 3939</span> </div>
<div class="line"><span class="lineno"> 3940</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 3941</span>}</div>
<div class="ttc" id="astructevhttp__cb_html_ae277e103a7a3e9e2cd5b1deb6505d705"><div class="ttname"><a href="structevhttp__cb.html#ae277e103a7a3e9e2cd5b1deb6505d705">evhttp_cb::cbarg</a></div><div class="ttdeci">void * cbarg</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00114">http-internal.h:114</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00113">evhttp_cb::cb</a>, <a class="el" href="http-internal_8h_source.html#l00114">evhttp_cb::cbarg</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>, and <a class="el" href="http-internal_8h_source.html#l00111">evhttp_cb::what</a>.</p>

<p class="reference">Referenced by <a class="el" href="evrpc_8c_source.html#l00228">evrpc_register_rpc()</a>.</p>

</div>
</div>
<a id="a9d7dcce5c2618396d175e1c4b8d8c4f5" name="a9d7dcce5c2618396d175e1c4b8d8c4f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d7dcce5c2618396d175e1c4b8d8c4f5">&#9670;&nbsp;</a></span>evhttp_set_default_content_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_set_default_content_type </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>content_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03902">3902</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3903</span>                              {</div>
<div class="line"><span class="lineno"> 3904</span>    http-&gt;<a class="code hl_variable" href="structevhttp.html#aa87ef04bad2362fc5daa68239ec1a3a6">default_content_type</a> = content_type;</div>
<div class="line"><span class="lineno"> 3905</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00158">evhttp::default_content_type</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03668">evhttp_new_object()</a>.</p>

</div>
</div>
<a id="adafc884097be806b11afe6d529660d93" name="adafc884097be806b11afe6d529660d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adafc884097be806b11afe6d529660d93">&#9670;&nbsp;</a></span>evhttp_set_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_set_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03869">3869</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3870</span>{</div>
<div class="line"><span class="lineno"> 3871</span>    <span class="keywordtype">int</span> avail_flags = 0;</div>
<div class="line"><span class="lineno"> 3872</span>    avail_flags |= EVHTTP_SERVER_LINGERING_CLOSE;</div>
<div class="line"><span class="lineno"> 3873</span> </div>
<div class="line"><span class="lineno"> 3874</span>    <span class="keywordflow">if</span> (flags &amp; ~avail_flags)</div>
<div class="line"><span class="lineno"> 3875</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 3876</span>    http-&gt;<a class="code hl_variable" href="structevhttp.html#abc8fda0426e195117bc8e6c32b94a841">flags</a> &amp;= ~avail_flags;</div>
<div class="line"><span class="lineno"> 3877</span> </div>
<div class="line"><span class="lineno"> 3878</span>    http-&gt;<a class="code hl_variable" href="structevhttp.html#abc8fda0426e195117bc8e6c32b94a841">flags</a> |= flags;</div>
<div class="line"><span class="lineno"> 3879</span> </div>
<div class="line"><span class="lineno"> 3880</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3881</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00157">evhttp::flags</a>.</p>

</div>
</div>
<a id="ac21eca8aa608f6ccff4ddb72f72bb9e5" name="ac21eca8aa608f6ccff4ddb72f72bb9e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac21eca8aa608f6ccff4ddb72f72bb9e5">&#9670;&nbsp;</a></span>evhttp_set_gencb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_set_gencb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct evhttp_request *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03963">3963</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3965</span>{</div>
<div class="line"><span class="lineno"> 3966</span>    http-&gt;<a class="code hl_variable" href="structevhttp.html#abbcb33668073194856b66dffe49e2123">gencb</a> = cb;</div>
<div class="line"><span class="lineno"> 3967</span>    http-&gt;<a class="code hl_variable" href="structevhttp.html#a12e99b19453daf90d06014de1f19b5e4">gencbarg</a> = cbarg;</div>
<div class="line"><span class="lineno"> 3968</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00113">evhttp_cb::cb</a>, <a class="el" href="http-internal_8h_source.html#l00114">evhttp_cb::cbarg</a>, <a class="el" href="http-internal_8h_source.html#l00166">evhttp::gencb</a>, and <a class="el" href="http-internal_8h_source.html#l00167">evhttp::gencbarg</a>.</p>

</div>
</div>
<a id="a8406065dcb34f9a058b2a7a6988ac351" name="a8406065dcb34f9a058b2a7a6988ac351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8406065dcb34f9a058b2a7a6988ac351">&#9670;&nbsp;</a></span>evhttp_set_max_body_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_set_max_body_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_ssize_t&#160;</td>
          <td class="paramname"><em>max_body_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03893">3893</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3894</span>{</div>
<div class="line"><span class="lineno"> 3895</span>    <span class="keywordflow">if</span> (max_body_size &lt; 0)</div>
<div class="line"><span class="lineno"> 3896</span>        http-&gt;<a class="code hl_variable" href="structevhttp.html#a74e119d831afeb1211b3d82f62dfe453">default_max_body_size</a> = EV_UINT64_MAX;</div>
<div class="line"><span class="lineno"> 3897</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3898</span>        http-&gt;<a class="code hl_variable" href="structevhttp.html#a74e119d831afeb1211b3d82f62dfe453">default_max_body_size</a> = max_body_size;</div>
<div class="line"><span class="lineno"> 3899</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00156">evhttp::default_max_body_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03668">evhttp_new_object()</a>.</p>

</div>
</div>
<a id="ae936aa6e7b0cb9617d0548a952db93cf" name="ae936aa6e7b0cb9617d0548a952db93cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae936aa6e7b0cb9617d0548a952db93cf">&#9670;&nbsp;</a></span>evhttp_set_max_headers_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_set_max_headers_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_ssize_t&#160;</td>
          <td class="paramname"><em>max_headers_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03884">3884</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3885</span>{</div>
<div class="line"><span class="lineno"> 3886</span>    <span class="keywordflow">if</span> (max_headers_size &lt; 0)</div>
<div class="line"><span class="lineno"> 3887</span>        http-&gt;<a class="code hl_variable" href="structevhttp.html#ad09ae8f4d0d1450559524dae3338b87a">default_max_headers_size</a> = EV_SIZE_MAX;</div>
<div class="line"><span class="lineno"> 3888</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3889</span>        http-&gt;<a class="code hl_variable" href="structevhttp.html#ad09ae8f4d0d1450559524dae3338b87a">default_max_headers_size</a> = max_headers_size;</div>
<div class="line"><span class="lineno"> 3890</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00155">evhttp::default_max_headers_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03668">evhttp_new_object()</a>.</p>

</div>
</div>
<a id="acc8bb4d9e196f957510b5db9f6a02e44" name="acc8bb4d9e196f957510b5db9f6a02e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc8bb4d9e196f957510b5db9f6a02e44">&#9670;&nbsp;</a></span>evhttp_set_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_set_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_in_secs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03847">3847</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3848</span>{</div>
<div class="line"><span class="lineno"> 3849</span>    <span class="keywordflow">if</span> (timeout_in_secs == -1) {</div>
<div class="line"><span class="lineno"> 3850</span>        <a class="code hl_function" href="http_8c.html#a50579ff2be98cd24ae698222a57faf23">evhttp_set_timeout_tv</a>(http, NULL);</div>
<div class="line"><span class="lineno"> 3851</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3852</span>        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno"> 3853</span>        tv.tv_sec = timeout_in_secs;</div>
<div class="line"><span class="lineno"> 3854</span>        tv.tv_usec = 0;</div>
<div class="line"><span class="lineno"> 3855</span>        <a class="code hl_function" href="http_8c.html#a50579ff2be98cd24ae698222a57faf23">evhttp_set_timeout_tv</a>(http, &amp;tv);</div>
<div class="line"><span class="lineno"> 3856</span>    }</div>
<div class="line"><span class="lineno"> 3857</span>}</div>
<div class="ttc" id="ahttp_8c_html_a50579ff2be98cd24ae698222a57faf23"><div class="ttname"><a href="http_8c.html#a50579ff2be98cd24ae698222a57faf23">evhttp_set_timeout_tv</a></div><div class="ttdeci">void evhttp_set_timeout_tv(struct evhttp *http, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03860">http.c:3860</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03860">evhttp_set_timeout_tv()</a>.</p>

</div>
</div>
<a id="a50579ff2be98cd24ae698222a57faf23" name="a50579ff2be98cd24ae698222a57faf23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50579ff2be98cd24ae698222a57faf23">&#9670;&nbsp;</a></span>evhttp_set_timeout_tv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_set_timeout_tv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp.html">evhttp</a> *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03860">3860</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3861</span>{</div>
<div class="line"><span class="lineno"> 3862</span>    <span class="keywordflow">if</span> (tv) {</div>
<div class="line"><span class="lineno"> 3863</span>        http-&gt;<a class="code hl_variable" href="structevhttp.html#a622c65d68ce8a8be347acbe0aacfb434">timeout</a> = *tv;</div>
<div class="line"><span class="lineno"> 3864</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3865</span>        evutil_timerclear(&amp;http-&gt;<a class="code hl_variable" href="structevhttp.html#a622c65d68ce8a8be347acbe0aacfb434">timeout</a>);</div>
<div class="line"><span class="lineno"> 3866</span>    }</div>
<div class="line"><span class="lineno"> 3867</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00153">evhttp::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03847">evhttp_set_timeout()</a>.</p>

</div>
</div>
<a id="a5b93361f1cf04a9806b2264a6983b6a8" name="a5b93361f1cf04a9806b2264a6983b6a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b93361f1cf04a9806b2264a6983b6a8">&#9670;&nbsp;</a></span>evhttp_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp.html">evhttp</a> * evhttp_start </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03715">3715</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3716</span>{</div>
<div class="line"><span class="lineno"> 3717</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp.html">evhttp</a> *http = NULL;</div>
<div class="line"><span class="lineno"> 3718</span> </div>
<div class="line"><span class="lineno"> 3719</span>    http = <a class="code hl_function" href="http_8c.html#a1188fc7453febddf64b14e34f2a351e6">evhttp_new_object</a>();</div>
<div class="line"><span class="lineno"> 3720</span>    <span class="keywordflow">if</span> (http == NULL)</div>
<div class="line"><span class="lineno"> 3721</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3722</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a80ea2b819c0997a0ecc0d915446aeaa4">evhttp_bind_socket</a>(http, address, port) == -1) {</div>
<div class="line"><span class="lineno"> 3723</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(http);</div>
<div class="line"><span class="lineno"> 3724</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3725</span>    }</div>
<div class="line"><span class="lineno"> 3726</span> </div>
<div class="line"><span class="lineno"> 3727</span>    <span class="keywordflow">return</span> (http);</div>
<div class="line"><span class="lineno"> 3728</span>}</div>
<div class="ttc" id="ahttp_8c_html_a80ea2b819c0997a0ecc0d915446aeaa4"><div class="ttname"><a href="http_8c.html#a80ea2b819c0997a0ecc0d915446aeaa4">evhttp_bind_socket</a></div><div class="ttdeci">int evhttp_bind_socket(struct evhttp *http, const char *address, ev_uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03549">http.c:3549</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03549">evhttp_bind_socket()</a>, <a class="el" href="http_8c_source.html#l03668">evhttp_new_object()</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

</div>
</div>
<a id="a881831d0aeddf00f1aa55b5ab92758a7" name="a881831d0aeddf00f1aa55b5ab92758a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a881831d0aeddf00f1aa55b5ab92758a7">&#9670;&nbsp;</a></span>evhttp_start_read_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_start_read_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02735">2735</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2736</span>{</div>
<div class="line"><span class="lineno"> 2737</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_WRITE);</div>
<div class="line"><span class="lineno"> 2738</span>    <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ);</div>
<div class="line"><span class="lineno"> 2739</span> </div>
<div class="line"><span class="lineno"> 2740</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a>;</div>
<div class="line"><span class="lineno"> 2741</span>    <span class="comment">/* Reset the bufferevent callbacks */</span></div>
<div class="line"><span class="lineno"> 2742</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>,</div>
<div class="line"><span class="lineno"> 2743</span>        <a class="code hl_function" href="http_8c.html#a95241fd0965764d55cdd3609c8d3a3ca">evhttp_read_cb</a>,</div>
<div class="line"><span class="lineno"> 2744</span>        <a class="code hl_function" href="http_8c.html#af2982b8516dba583cab6be97d9ca8461">evhttp_write_cb</a>,</div>
<div class="line"><span class="lineno"> 2745</span>        <a class="code hl_function" href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a>,</div>
<div class="line"><span class="lineno"> 2746</span>        evcon);</div>
<div class="line"><span class="lineno"> 2747</span> </div>
<div class="line"><span class="lineno"> 2748</span>    <span class="comment">/* If there&#39;s still data pending, process it next time through the</span></div>
<div class="line"><span class="lineno"> 2749</span><span class="comment">     * loop.  Don&#39;t do it now; that could get recusive. */</span></div>
<div class="line"><span class="lineno"> 2750</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>))) {</div>
<div class="line"><span class="lineno"> 2751</span>        <a class="code hl_function" href="defer-internal_8h.html#a24707370a90c5bb18a23743420290ef1">event_deferred_cb_schedule_</a>(<a class="code hl_define" href="http_8c.html#a148fc0a6cc62b69f27dd7025c0b121c9">get_deferred_queue</a>(evcon),</div>
<div class="line"><span class="lineno"> 2752</span>            &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ae362b994e6dd892dbae9083caa4ab40c">read_more_deferred_cb</a>);</div>
<div class="line"><span class="lineno"> 2753</span>    }</div>
<div class="line"><span class="lineno"> 2754</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http-internal_8h_source.html#l00040">EVCON_READING_FIRSTLINE</a>, <a class="el" href="event_8c_source.html#l03124">event_deferred_cb_schedule_()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>, <a class="el" href="http_8c_source.html#l00807">evhttp_write_cb()</a>, <a class="el" href="http_8c_source.html#l01124">get_deferred_queue</a>, <a class="el" href="http-internal_8h_source.html#l00100">evhttp_connection::read_more_deferred_cb</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04286">evhttp_associate_new_request_with_connection()</a>, <a class="el" href="http_8c_source.html#l01455">evhttp_connection_read_on_write_error()</a>, and <a class="el" href="http_8c_source.html#l01196">evhttp_write_connectioncb()</a>.</p>

</div>
</div>
<a id="a060c9248a2b156afde93466886d9e87d" name="a060c9248a2b156afde93466886d9e87d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a060c9248a2b156afde93466886d9e87d">&#9670;&nbsp;</a></span>evhttp_start_write_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_start_write_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02757">2757</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2758</span>{</div>
<div class="line"><span class="lineno"> 2759</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_WRITE);</div>
<div class="line"><span class="lineno"> 2760</span>    <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ);</div>
<div class="line"><span class="lineno"> 2761</span> </div>
<div class="line"><span class="lineno"> 2762</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>;</div>
<div class="line"><span class="lineno"> 2763</span>    <a class="code hl_function" href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a>(evcon, <a class="code hl_function" href="http_8c.html#ac7ab724169fe6336605ef79ffb3576f6">evhttp_write_connectioncb</a>, NULL);</div>
<div class="line"><span class="lineno"> 2764</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="http-internal_8h_source.html#l00045">EVCON_WRITING</a>, <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>, <a class="el" href="http_8c_source.html#l01196">evhttp_write_connectioncb()</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>.</p>

</div>
</div>
<a id="a5ee82311278b8fda3ed93a8e358683bb" name="a5ee82311278b8fda3ed93a8e358683bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ee82311278b8fda3ed93a8e358683bb">&#9670;&nbsp;</a></span>evhttp_uri_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_uri_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04929">4929</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4930</span>{</div>
<div class="line"><span class="lineno"> 4931</span><span class="preprocessor">#define URI_FREE_STR_(f)        \</span></div>
<div class="line"><span class="lineno"> 4932</span><span class="preprocessor">    if (uri-&gt;f) {           \</span></div>
<div class="line"><span class="lineno"> 4933</span><span class="preprocessor">        mm_free(uri-&gt;f);        \</span></div>
<div class="line"><span class="lineno"> 4934</span><span class="preprocessor">    }</span></div>
<div class="line"><span class="lineno"> 4935</span> </div>
<div class="line"><span class="lineno"> 4936</span>    <a class="code hl_define" href="http_8c.html#ad35afb9124face4a32b2ea62684396eb">URI_FREE_STR_</a>(scheme);</div>
<div class="line"><span class="lineno"> 4937</span>    <a class="code hl_define" href="http_8c.html#ad35afb9124face4a32b2ea62684396eb">URI_FREE_STR_</a>(userinfo);</div>
<div class="line"><span class="lineno"> 4938</span>    <a class="code hl_define" href="http_8c.html#ad35afb9124face4a32b2ea62684396eb">URI_FREE_STR_</a>(host);</div>
<div class="line"><span class="lineno"> 4939</span>    <a class="code hl_define" href="http_8c.html#ad35afb9124face4a32b2ea62684396eb">URI_FREE_STR_</a>(path);</div>
<div class="line"><span class="lineno"> 4940</span>    <a class="code hl_define" href="http_8c.html#ad35afb9124face4a32b2ea62684396eb">URI_FREE_STR_</a>(query);</div>
<div class="line"><span class="lineno"> 4941</span>    <a class="code hl_define" href="http_8c.html#ad35afb9124face4a32b2ea62684396eb">URI_FREE_STR_</a>(fragment);</div>
<div class="line"><span class="lineno"> 4942</span> </div>
<div class="line"><span class="lineno"> 4943</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(uri);</div>
<div class="line"><span class="lineno"> 4944</span><span class="preprocessor">#undef URI_FREE_STR_</span></div>
<div class="line"><span class="lineno"> 4945</span>}</div>
<div class="ttc" id="ahttp_8c_html_ad35afb9124face4a32b2ea62684396eb"><div class="ttname"><a href="http_8c.html#ad35afb9124face4a32b2ea62684396eb">URI_FREE_STR_</a></div><div class="ttdeci">#define URI_FREE_STR_(f)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04488">evhttp_uri::fragment</a>, <a class="el" href="http_8c_source.html#l04484">evhttp_uri::host</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="http_8c_source.html#l04486">evhttp_uri::path</a>, <a class="el" href="http_8c_source.html#l04487">evhttp_uri::query</a>, <a class="el" href="http_8c_source.html#l04482">evhttp_uri::scheme</a>, <a class="el" href="http_8c.html#ad35afb9124face4a32b2ea62684396eb">URI_FREE_STR_</a>, and <a class="el" href="http_8c_source.html#l04483">evhttp_uri::userinfo</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00657">evhttp_connection_incoming_fail()</a>, <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>, <a class="el" href="http_8c_source.html#l04033">evhttp_request_free()</a>, <a class="el" href="http_8c_source.html#l04899">evhttp_uri_parse_authority()</a>, and <a class="el" href="http_8c_source.html#l04771">evhttp_uri_parse_with_flags()</a>.</p>

</div>
</div>
<a id="a0514b6ea093c0652efa058b0857c4237" name="a0514b6ea093c0652efa058b0857c4237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0514b6ea093c0652efa058b0857c4237">&#9670;&nbsp;</a></span>evhttp_uri_get_fragment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_uri_get_fragment </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05042">5042</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5043</span>{</div>
<div class="line"><span class="lineno"> 5044</span>    <span class="keywordflow">return</span> uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a304fd55436cfde4adb5dbef62cf23b35">fragment</a>;</div>
<div class="line"><span class="lineno"> 5045</span>}</div>
<div class="ttc" id="astructevhttp__uri_html_a304fd55436cfde4adb5dbef62cf23b35"><div class="ttname"><a href="structevhttp__uri.html#a304fd55436cfde4adb5dbef62cf23b35">evhttp_uri::fragment</a></div><div class="ttdeci">char * fragment</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04488">http.c:4488</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04488">evhttp_uri::fragment</a>.</p>

</div>
</div>
<a id="ac65d0a129ce87b510fb294d9dd6c1e0d" name="ac65d0a129ce87b510fb294d9dd6c1e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac65d0a129ce87b510fb294d9dd6c1e0d">&#9670;&nbsp;</a></span>evhttp_uri_get_host()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_uri_get_host </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05022">5022</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5023</span>{</div>
<div class="line"><span class="lineno"> 5024</span>    <span class="keywordflow">return</span> uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a4184972a6dcc14ea5707d3d9ef88adbb">host</a>;</div>
<div class="line"><span class="lineno"> 5025</span>}</div>
<div class="ttc" id="astructevhttp__uri_html_a4184972a6dcc14ea5707d3d9ef88adbb"><div class="ttname"><a href="structevhttp__uri.html#a4184972a6dcc14ea5707d3d9ef88adbb">evhttp_uri::host</a></div><div class="ttdeci">char * host</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04484">http.c:4484</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04484">evhttp_uri::host</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>, and <a class="el" href="http_8c_source.html#l04139">evhttp_request_get_host()</a>.</p>

</div>
</div>
<a id="ab57ca4f4fcac1f2fc6a1bdb20efbb2ea" name="ab57ca4f4fcac1f2fc6a1bdb20efbb2ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab57ca4f4fcac1f2fc6a1bdb20efbb2ea">&#9670;&nbsp;</a></span>evhttp_uri_get_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_uri_get_path </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05032">5032</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5033</span>{</div>
<div class="line"><span class="lineno"> 5034</span>    <span class="keywordflow">return</span> uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>;</div>
<div class="line"><span class="lineno"> 5035</span>}</div>
<div class="ttc" id="astructevhttp__uri_html_ac5ddadc57be4a136046d9f42b80624bc"><div class="ttname"><a href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">evhttp_uri::path</a></div><div class="ttdeci">char * path</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04486">http.c:4486</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04486">evhttp_uri::path</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03335">evhttp_dispatch_callback()</a>.</p>

</div>
</div>
<a id="a60d456504f4f93f61384eb0b526f5a4c" name="a60d456504f4f93f61384eb0b526f5a4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60d456504f4f93f61384eb0b526f5a4c">&#9670;&nbsp;</a></span>evhttp_uri_get_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_uri_get_port </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05027">5027</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5028</span>{</div>
<div class="line"><span class="lineno"> 5029</span>    <span class="keywordflow">return</span> uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">port</a>;</div>
<div class="line"><span class="lineno"> 5030</span>}</div>
<div class="ttc" id="astructevhttp__uri_html_ab2bce4ef82e93eb393cd0ae3c2e857b0"><div class="ttname"><a href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">evhttp_uri::port</a></div><div class="ttdeci">int port</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04485">http.c:4485</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04485">evhttp_uri::port</a>.</p>

</div>
</div>
<a id="ae339c4820e5459f635d268d878fc6f4f" name="ae339c4820e5459f635d268d878fc6f4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae339c4820e5459f635d268d878fc6f4f">&#9670;&nbsp;</a></span>evhttp_uri_get_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_uri_get_query </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05037">5037</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5038</span>{</div>
<div class="line"><span class="lineno"> 5039</span>    <span class="keywordflow">return</span> uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a392701b16845c6feace8fb78dcb86c3c">query</a>;</div>
<div class="line"><span class="lineno"> 5040</span>}</div>
<div class="ttc" id="astructevhttp__uri_html_a392701b16845c6feace8fb78dcb86c3c"><div class="ttname"><a href="structevhttp__uri.html#a392701b16845c6feace8fb78dcb86c3c">evhttp_uri::query</a></div><div class="ttdeci">char * query</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04487">http.c:4487</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04487">evhttp_uri::query</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>.</p>

</div>
</div>
<a id="a9a8b356ec6612eda91d83aa0f039a884" name="a9a8b356ec6612eda91d83aa0f039a884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8b356ec6612eda91d83aa0f039a884">&#9670;&nbsp;</a></span>evhttp_uri_get_scheme()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_uri_get_scheme </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05012">5012</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5013</span>{</div>
<div class="line"><span class="lineno"> 5014</span>    <span class="keywordflow">return</span> uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#abedd422093763f4211b438a0581d3201">scheme</a>;</div>
<div class="line"><span class="lineno"> 5015</span>}</div>
<div class="ttc" id="astructevhttp__uri_html_abedd422093763f4211b438a0581d3201"><div class="ttname"><a href="structevhttp__uri.html#abedd422093763f4211b438a0581d3201">evhttp_uri::scheme</a></div><div class="ttdeci">char * scheme</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04482">http.c:4482</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04482">evhttp_uri::scheme</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>.</p>

</div>
</div>
<a id="a58dad68397982a1f41f5acecd980b46d" name="a58dad68397982a1f41f5acecd980b46d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58dad68397982a1f41f5acecd980b46d">&#9670;&nbsp;</a></span>evhttp_uri_get_userinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evhttp_uri_get_userinfo </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05017">5017</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5018</span>{</div>
<div class="line"><span class="lineno"> 5019</span>    <span class="keywordflow">return</span> uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a693362c6ed54c9b19268da06cda4020d">userinfo</a>;</div>
<div class="line"><span class="lineno"> 5020</span>}</div>
<div class="ttc" id="astructevhttp__uri_html_a693362c6ed54c9b19268da06cda4020d"><div class="ttname"><a href="structevhttp__uri.html#a693362c6ed54c9b19268da06cda4020d">evhttp_uri::userinfo</a></div><div class="ttdeci">char * userinfo</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04483">http.c:4483</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04483">evhttp_uri::userinfo</a>.</p>

</div>
</div>
<a id="a53e75781664e9f86ce4c020eee13c881" name="a53e75781664e9f86ce4c020eee13c881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e75781664e9f86ce4c020eee13c881">&#9670;&nbsp;</a></span>evhttp_uri_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * evhttp_uri_join </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04948">4948</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4949</span>{</div>
<div class="line"><span class="lineno"> 4950</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *tmp = 0;</div>
<div class="line"><span class="lineno"> 4951</span>    <span class="keywordtype">size_t</span> joined_size = 0;</div>
<div class="line"><span class="lineno"> 4952</span>    <span class="keywordtype">char</span> *output = NULL;</div>
<div class="line"><span class="lineno"> 4953</span> </div>
<div class="line"><span class="lineno"> 4954</span><span class="preprocessor">#define URI_ADD_(f) evbuffer_add(tmp, uri-&gt;f, strlen(uri-&gt;f))</span></div>
<div class="line"><span class="lineno"> 4955</span> </div>
<div class="line"><span class="lineno"> 4956</span>    <span class="keywordflow">if</span> (!uri || !buf || !limit)</div>
<div class="line"><span class="lineno"> 4957</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 4958</span> </div>
<div class="line"><span class="lineno"> 4959</span>    tmp = <a class="code hl_function" href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a>();</div>
<div class="line"><span class="lineno"> 4960</span>    <span class="keywordflow">if</span> (!tmp)</div>
<div class="line"><span class="lineno"> 4961</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 4962</span> </div>
<div class="line"><span class="lineno"> 4963</span>    <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#abedd422093763f4211b438a0581d3201">scheme</a>) {</div>
<div class="line"><span class="lineno"> 4964</span>        <a class="code hl_define" href="http_8c.html#a9b07d3ff0d051937640aa0a9890d77c3">URI_ADD_</a>(scheme);</div>
<div class="line"><span class="lineno"> 4965</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(tmp, <span class="stringliteral">&quot;:&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 4966</span>    }</div>
<div class="line"><span class="lineno"> 4967</span>    <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a4184972a6dcc14ea5707d3d9ef88adbb">host</a>) {</div>
<div class="line"><span class="lineno"> 4968</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(tmp, <span class="stringliteral">&quot;//&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 4969</span>        <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a693362c6ed54c9b19268da06cda4020d">userinfo</a>)</div>
<div class="line"><span class="lineno"> 4970</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(tmp,<span class="stringliteral">&quot;%s@&quot;</span>, uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a693362c6ed54c9b19268da06cda4020d">userinfo</a>);</div>
<div class="line"><span class="lineno"> 4971</span>        <a class="code hl_define" href="http_8c.html#a9b07d3ff0d051937640aa0a9890d77c3">URI_ADD_</a>(host);</div>
<div class="line"><span class="lineno"> 4972</span>        <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">port</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 4973</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(tmp,<span class="stringliteral">&quot;:%d&quot;</span>, uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">port</a>);</div>
<div class="line"><span class="lineno"> 4974</span> </div>
<div class="line"><span class="lineno"> 4975</span>        <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a> &amp;&amp; uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>[0] != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>[0] != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno"> 4976</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4977</span>    }</div>
<div class="line"><span class="lineno"> 4978</span> </div>
<div class="line"><span class="lineno"> 4979</span>    <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>)</div>
<div class="line"><span class="lineno"> 4980</span>        <a class="code hl_define" href="http_8c.html#a9b07d3ff0d051937640aa0a9890d77c3">URI_ADD_</a>(path);</div>
<div class="line"><span class="lineno"> 4981</span> </div>
<div class="line"><span class="lineno"> 4982</span>    <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a392701b16845c6feace8fb78dcb86c3c">query</a>) {</div>
<div class="line"><span class="lineno"> 4983</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(tmp, <span class="stringliteral">&quot;?&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 4984</span>        <a class="code hl_define" href="http_8c.html#a9b07d3ff0d051937640aa0a9890d77c3">URI_ADD_</a>(query);</div>
<div class="line"><span class="lineno"> 4985</span>    }</div>
<div class="line"><span class="lineno"> 4986</span> </div>
<div class="line"><span class="lineno"> 4987</span>    <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a304fd55436cfde4adb5dbef62cf23b35">fragment</a>) {</div>
<div class="line"><span class="lineno"> 4988</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(tmp, <span class="stringliteral">&quot;#&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 4989</span>        <a class="code hl_define" href="http_8c.html#a9b07d3ff0d051937640aa0a9890d77c3">URI_ADD_</a>(fragment);</div>
<div class="line"><span class="lineno"> 4990</span>    }</div>
<div class="line"><span class="lineno"> 4991</span> </div>
<div class="line"><span class="lineno"> 4992</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(tmp, <span class="stringliteral">&quot;\0&quot;</span>, 1); <span class="comment">/* NUL */</span></div>
<div class="line"><span class="lineno"> 4993</span> </div>
<div class="line"><span class="lineno"> 4994</span>    joined_size = <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(tmp);</div>
<div class="line"><span class="lineno"> 4995</span> </div>
<div class="line"><span class="lineno"> 4996</span>    <span class="keywordflow">if</span> (joined_size &gt; limit) {</div>
<div class="line"><span class="lineno"> 4997</span>        <span class="comment">/* It doesn&#39;t fit. */</span></div>
<div class="line"><span class="lineno"> 4998</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(tmp);</div>
<div class="line"><span class="lineno"> 4999</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 5000</span>    }</div>
<div class="line"><span class="lineno"> 5001</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#af5a341004cb2b4fb591fe11544b3228d">evbuffer_remove</a>(tmp, buf, joined_size);</div>
<div class="line"><span class="lineno"> 5002</span> </div>
<div class="line"><span class="lineno"> 5003</span>    output = buf;</div>
<div class="line"><span class="lineno"> 5004</span>err:</div>
<div class="line"><span class="lineno"> 5005</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(tmp);</div>
<div class="line"><span class="lineno"> 5006</span> </div>
<div class="line"><span class="lineno"> 5007</span>    <span class="keywordflow">return</span> output;</div>
<div class="line"><span class="lineno"> 5008</span><span class="preprocessor">#undef URI_ADD_</span></div>
<div class="line"><span class="lineno"> 5009</span>}</div>
<div class="ttc" id="ahttp_8c_html_a9b07d3ff0d051937640aa0a9890d77c3"><div class="ttname"><a href="http_8c.html#a9b07d3ff0d051937640aa0a9890d77c3">URI_ADD_</a></div><div class="ttdeci">#define URI_ADD_(f)</div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_af5a341004cb2b4fb591fe11544b3228d"><div class="ttname"><a href="libevent_2buffer_8c.html#af5a341004cb2b4fb591fe11544b3228d">evbuffer_remove</a></div><div class="ttdeci">int evbuffer_remove(struct evbuffer *buf, void *data_out, size_t datlen)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01170">buffer.c:1170</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="libevent_2buffer_8c_source.html#l01730">evbuffer_add()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02908">evbuffer_add_printf()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00588">evbuffer_free()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00362">evbuffer_new()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01170">evbuffer_remove()</a>, <a class="el" href="http_8c_source.html#l04488">evhttp_uri::fragment</a>, <a class="el" href="http_8c_source.html#l04484">evhttp_uri::host</a>, <a class="el" href="http_8c_source.html#l04486">evhttp_uri::path</a>, <a class="el" href="http_8c_source.html#l04485">evhttp_uri::port</a>, <a class="el" href="http_8c_source.html#l04487">evhttp_uri::query</a>, <a class="el" href="http_8c_source.html#l04482">evhttp_uri::scheme</a>, <a class="el" href="http_8c.html#a9b07d3ff0d051937640aa0a9890d77c3">URI_ADD_</a>, and <a class="el" href="http_8c_source.html#l04483">evhttp_uri::userinfo</a>.</p>

</div>
</div>
<a id="ab954d434342997e401eeb10c2a1c89d7" name="ab954d434342997e401eeb10c2a1c89d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab954d434342997e401eeb10c2a1c89d7">&#9670;&nbsp;</a></span>evhttp_uri_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> * evhttp_uri_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04492">4492</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4493</span>{</div>
<div class="line"><span class="lineno"> 4494</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__uri.html">evhttp_uri</a> *uri = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevhttp__uri.html">evhttp_uri</a>), 1);</div>
<div class="line"><span class="lineno"> 4495</span>    <span class="keywordflow">if</span> (uri)</div>
<div class="line"><span class="lineno"> 4496</span>        uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">port</a> = -1;</div>
<div class="line"><span class="lineno"> 4497</span>    <span class="keywordflow">return</span> uri;</div>
<div class="line"><span class="lineno"> 4498</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, and <a class="el" href="http_8c_source.html#l04485">evhttp_uri::port</a>.</p>

</div>
</div>
<a id="acb89eaafdea9278bab61ea954730cb64" name="acb89eaafdea9278bab61ea954730cb64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb89eaafdea9278bab61ea954730cb64">&#9670;&nbsp;</a></span>evhttp_uri_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> * evhttp_uri_parse </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source_uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04765">4765</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4766</span>{</div>
<div class="line"><span class="lineno"> 4767</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="http_8c.html#afcdb80b5b1747de1f41146e04b5f5e8e">evhttp_uri_parse_with_flags</a>(source_uri, 0);</div>
<div class="line"><span class="lineno"> 4768</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04771">evhttp_uri_parse_with_flags()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>.</p>

</div>
</div>
<a id="aa3cb41421c13aacc8a69c62f9b92d75c" name="aa3cb41421c13aacc8a69c62f9b92d75c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3cb41421c13aacc8a69c62f9b92d75c">&#9670;&nbsp;</a></span>evhttp_uri_parse_authority()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> * evhttp_uri_parse_authority </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>source_uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04899">4899</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4900</span>{</div>
<div class="line"><span class="lineno"> 4901</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__uri.html">evhttp_uri</a> *uri = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevhttp__uri.html">evhttp_uri</a>));</div>
<div class="line"><span class="lineno"> 4902</span>    <span class="keywordtype">char</span> *end;</div>
<div class="line"><span class="lineno"> 4903</span> </div>
<div class="line"><span class="lineno"> 4904</span>    <span class="keywordflow">if</span> (uri == NULL) {</div>
<div class="line"><span class="lineno"> 4905</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4906</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4907</span>    }</div>
<div class="line"><span class="lineno"> 4908</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">port</a> = -1;</div>
<div class="line"><span class="lineno"> 4909</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a> = 0;</div>
<div class="line"><span class="lineno"> 4910</span> </div>
<div class="line"><span class="lineno"> 4911</span>    end = <a class="code hl_function" href="http_8c.html#a567a13897c30396c30a441b622e4b338">end_of_authority</a>(source_uri);</div>
<div class="line"><span class="lineno"> 4912</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#afa840fbb1e3cfae410e4fd939891906b">parse_authority</a>(uri, source_uri, end) &lt; 0)</div>
<div class="line"><span class="lineno"> 4913</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4914</span> </div>
<div class="line"><span class="lineno"> 4915</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 4916</span>    <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a> == NULL) {</div>
<div class="line"><span class="lineno"> 4917</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4918</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4919</span>    }</div>
<div class="line"><span class="lineno"> 4920</span> </div>
<div class="line"><span class="lineno"> 4921</span>    <span class="keywordflow">return</span> uri;</div>
<div class="line"><span class="lineno"> 4922</span>err:</div>
<div class="line"><span class="lineno"> 4923</span>    <span class="keywordflow">if</span> (uri)</div>
<div class="line"><span class="lineno"> 4924</span>        <a class="code hl_function" href="http_8c.html#a5ee82311278b8fda3ed93a8e358683bb">evhttp_uri_free</a>(uri);</div>
<div class="line"><span class="lineno"> 4925</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 4926</span>}</div>
<div class="ttc" id="ahttp_8c_html_a567a13897c30396c30a441b622e4b338"><div class="ttname"><a href="http_8c.html#a567a13897c30396c30a441b622e4b338">end_of_authority</a></div><div class="ttdeci">static char * end_of_authority(char *cp)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04690">http.c:4690</a></div></div>
<div class="ttc" id="ahttp_8c_html_afa840fbb1e3cfae410e4fd939891906b"><div class="ttname"><a href="http_8c.html#afa840fbb1e3cfae410e4fd939891906b">parse_authority</a></div><div class="ttdeci">static int parse_authority(struct evhttp_uri *uri, char *s, char *eos)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04627">http.c:4627</a></div></div>
<div class="ttc" id="astructevhttp__uri_html_aaf04d2857924c3d031597179affedeb5"><div class="ttname"><a href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">evhttp_uri::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04481">http.c:4481</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http_8c_source.html#l04690">end_of_authority()</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l04929">evhttp_uri_free()</a>, <a class="el" href="http_8c_source.html#l04481">evhttp_uri::flags</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, <a class="el" href="http_8c_source.html#l04627">parse_authority()</a>, <a class="el" href="http_8c_source.html#l04486">evhttp_uri::path</a>, and <a class="el" href="http_8c_source.html#l04485">evhttp_uri::port</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>.</p>

</div>
</div>
<a id="afcdb80b5b1747de1f41146e04b5f5e8e" name="afcdb80b5b1747de1f41146e04b5f5e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcdb80b5b1747de1f41146e04b5f5e8e">&#9670;&nbsp;</a></span>evhttp_uri_parse_with_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> * evhttp_uri_parse_with_flags </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source_uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04771">4771</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4772</span>{</div>
<div class="line"><span class="lineno"> 4773</span>    <span class="keywordtype">char</span> *readbuf = NULL, *readp = NULL, *token = NULL, *query = NULL;</div>
<div class="line"><span class="lineno"> 4774</span>    <span class="keywordtype">char</span> *path = NULL, *fragment = NULL;</div>
<div class="line"><span class="lineno"> 4775</span>    <span class="keywordtype">int</span> got_authority = 0;</div>
<div class="line"><span class="lineno"> 4776</span> </div>
<div class="line"><span class="lineno"> 4777</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__uri.html">evhttp_uri</a> *uri = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevhttp__uri.html">evhttp_uri</a>));</div>
<div class="line"><span class="lineno"> 4778</span>    <span class="keywordflow">if</span> (uri == NULL) {</div>
<div class="line"><span class="lineno"> 4779</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4780</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4781</span>    }</div>
<div class="line"><span class="lineno"> 4782</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">port</a> = -1;</div>
<div class="line"><span class="lineno"> 4783</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a> = <a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a>;</div>
<div class="line"><span class="lineno"> 4784</span> </div>
<div class="line"><span class="lineno"> 4785</span>    readbuf = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(source_uri);</div>
<div class="line"><span class="lineno"> 4786</span>    <span class="keywordflow">if</span> (readbuf == NULL) {</div>
<div class="line"><span class="lineno"> 4787</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4788</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4789</span>    }</div>
<div class="line"><span class="lineno"> 4790</span> </div>
<div class="line"><span class="lineno"> 4791</span>    readp = readbuf;</div>
<div class="line"><span class="lineno"> 4792</span>    token = NULL;</div>
<div class="line"><span class="lineno"> 4793</span> </div>
<div class="line"><span class="lineno"> 4794</span>    <span class="comment">/* We try to follow RFC3986 here as much as we can, and match</span></div>
<div class="line"><span class="lineno"> 4795</span><span class="comment">       the productions</span></div>
<div class="line"><span class="lineno"> 4796</span><span class="comment"></span> </div>
<div class="line"><span class="lineno"> 4797</span><span class="comment">          URI = scheme &quot;:&quot; hier-part [ &quot;?&quot; query ] [ &quot;#&quot; fragment ]</span></div>
<div class="line"><span class="lineno"> 4798</span><span class="comment"></span> </div>
<div class="line"><span class="lineno"> 4799</span><span class="comment">          relative-ref  = relative-part [ &quot;?&quot; query ] [ &quot;#&quot; fragment ]</span></div>
<div class="line"><span class="lineno"> 4800</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4801</span> </div>
<div class="line"><span class="lineno"> 4802</span>    <span class="comment">/* 1. scheme: */</span></div>
<div class="line"><span class="lineno"> 4803</span>    token = strchr(readp, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 4804</span>    <span class="keywordflow">if</span> (token &amp;&amp; <a class="code hl_function" href="http_8c.html#a5a14e3fee977494783b7d2c6d71b5e96">scheme_ok</a>(readp,token)) {</div>
<div class="line"><span class="lineno"> 4805</span>        *token = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 4806</span>        uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#abedd422093763f4211b438a0581d3201">scheme</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(readp);</div>
<div class="line"><span class="lineno"> 4807</span>        <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#abedd422093763f4211b438a0581d3201">scheme</a> == NULL) {</div>
<div class="line"><span class="lineno"> 4808</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4809</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4810</span>        }</div>
<div class="line"><span class="lineno"> 4811</span>        readp = token+1; <span class="comment">/* eat : */</span></div>
<div class="line"><span class="lineno"> 4812</span>    }</div>
<div class="line"><span class="lineno"> 4813</span> </div>
<div class="line"><span class="lineno"> 4814</span>    <span class="comment">/* 2. Optionally, &quot;//&quot; then an &#39;authority&#39; part. */</span></div>
<div class="line"><span class="lineno"> 4815</span>    <span class="keywordflow">if</span> (readp[0]==<span class="charliteral">&#39;/&#39;</span> &amp;&amp; readp[1] == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><span class="lineno"> 4816</span>        <span class="keywordtype">char</span> *authority;</div>
<div class="line"><span class="lineno"> 4817</span>        readp += 2;</div>
<div class="line"><span class="lineno"> 4818</span>        authority = readp;</div>
<div class="line"><span class="lineno"> 4819</span>        <a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a> = <a class="code hl_function" href="http_8c.html#a567a13897c30396c30a441b622e4b338">end_of_authority</a>(readp);</div>
<div class="line"><span class="lineno"> 4820</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#afa840fbb1e3cfae410e4fd939891906b">parse_authority</a>(uri, authority, <a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>) &lt; 0)</div>
<div class="line"><span class="lineno"> 4821</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4822</span>        readp = <a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>;</div>
<div class="line"><span class="lineno"> 4823</span>        got_authority = 1;</div>
<div class="line"><span class="lineno"> 4824</span>    }</div>
<div class="line"><span class="lineno"> 4825</span> </div>
<div class="line"><span class="lineno"> 4826</span>    <span class="comment">/* 3. Query: path-abempty, path-absolute, path-rootless, or path-empty</span></div>
<div class="line"><span class="lineno"> 4827</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4828</span>    <a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a> = readp;</div>
<div class="line"><span class="lineno"> 4829</span>    readp = <a class="code hl_function" href="http_8c.html#aa2f2e0addc4d2b31f768d416951316ab">end_of_path</a>(<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>, <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893">PART_PATH</a>, <a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a>);</div>
<div class="line"><span class="lineno"> 4830</span> </div>
<div class="line"><span class="lineno"> 4831</span>    <span class="comment">/* Query */</span></div>
<div class="line"><span class="lineno"> 4832</span>    <span class="keywordflow">if</span> (*readp == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><span class="lineno"> 4833</span>        *readp = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 4834</span>        ++readp;</div>
<div class="line"><span class="lineno"> 4835</span>        <a class="code hl_variable" href="structevhttp__uri.html#a392701b16845c6feace8fb78dcb86c3c">query</a> = readp;</div>
<div class="line"><span class="lineno"> 4836</span>        readp = <a class="code hl_function" href="http_8c.html#aa2f2e0addc4d2b31f768d416951316ab">end_of_path</a>(readp, <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa387dee858a040af11bdc308c8a261fd7">PART_QUERY</a>, <a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a>);</div>
<div class="line"><span class="lineno"> 4837</span>    }</div>
<div class="line"><span class="lineno"> 4838</span>    <span class="comment">/* fragment */</span></div>
<div class="line"><span class="lineno"> 4839</span>    <span class="keywordflow">if</span> (*readp == <span class="charliteral">&#39;#&#39;</span>) {</div>
<div class="line"><span class="lineno"> 4840</span>        *readp = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 4841</span>        ++readp;</div>
<div class="line"><span class="lineno"> 4842</span>        <a class="code hl_variable" href="structevhttp__uri.html#a304fd55436cfde4adb5dbef62cf23b35">fragment</a> = readp;</div>
<div class="line"><span class="lineno"> 4843</span>        readp = <a class="code hl_function" href="http_8c.html#aa2f2e0addc4d2b31f768d416951316ab">end_of_path</a>(readp, <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa615c3b6a8736f0055bdbce1d8ca72cd8">PART_FRAGMENT</a>, <a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a>);</div>
<div class="line"><span class="lineno"> 4844</span>    }</div>
<div class="line"><span class="lineno"> 4845</span>    <span class="keywordflow">if</span> (*readp != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><span class="lineno"> 4846</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4847</span>    }</div>
<div class="line"><span class="lineno"> 4848</span> </div>
<div class="line"><span class="lineno"> 4849</span>    <span class="comment">/* These next two cases may be unreachable; I&#39;m leaving them</span></div>
<div class="line"><span class="lineno"> 4850</span><span class="comment">     * in to be defensive. */</span></div>
<div class="line"><span class="lineno"> 4851</span>    <span class="comment">/* If you didn&#39;t get an authority, the path can&#39;t begin with &quot;//&quot; */</span></div>
<div class="line"><span class="lineno"> 4852</span>    <span class="keywordflow">if</span> (!got_authority &amp;&amp; <a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>[0]==<span class="charliteral">&#39;/&#39;</span> &amp;&amp; <a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>[1]==<span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 4853</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4854</span>    <span class="comment">/* If you did get an authority, the path must begin with &quot;/&quot; or be</span></div>
<div class="line"><span class="lineno"> 4855</span><span class="comment">     * empty. */</span></div>
<div class="line"><span class="lineno"> 4856</span>    <span class="keywordflow">if</span> (got_authority &amp;&amp; <a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>[0] != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; <a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>[0] != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno"> 4857</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4858</span>    <span class="comment">/* (End of maybe-unreachable cases) */</span></div>
<div class="line"><span class="lineno"> 4859</span> </div>
<div class="line"><span class="lineno"> 4860</span>    <span class="comment">/* If there was no scheme, the first part of the path (if any) must</span></div>
<div class="line"><span class="lineno"> 4861</span><span class="comment">     * have no colon in it. */</span></div>
<div class="line"><span class="lineno"> 4862</span>    <span class="keywordflow">if</span> (! uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#abedd422093763f4211b438a0581d3201">scheme</a> &amp;&amp; !<a class="code hl_function" href="http_8c.html#ac1b09ff2441d8c20690a822595631b96">path_matches_noscheme</a>(<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>))</div>
<div class="line"><span class="lineno"> 4863</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4864</span> </div>
<div class="line"><span class="lineno"> 4865</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>);</div>
<div class="line"><span class="lineno"> 4866</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a>);</div>
<div class="line"><span class="lineno"> 4867</span>    <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ac5ddadc57be4a136046d9f42b80624bc">path</a> == NULL) {</div>
<div class="line"><span class="lineno"> 4868</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4869</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4870</span>    }</div>
<div class="line"><span class="lineno"> 4871</span> </div>
<div class="line"><span class="lineno"> 4872</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevhttp__uri.html#a392701b16845c6feace8fb78dcb86c3c">query</a>) {</div>
<div class="line"><span class="lineno"> 4873</span>        uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a392701b16845c6feace8fb78dcb86c3c">query</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(<a class="code hl_variable" href="structevhttp__uri.html#a392701b16845c6feace8fb78dcb86c3c">query</a>);</div>
<div class="line"><span class="lineno"> 4874</span>        <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a392701b16845c6feace8fb78dcb86c3c">query</a> == NULL) {</div>
<div class="line"><span class="lineno"> 4875</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4876</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4877</span>        }</div>
<div class="line"><span class="lineno"> 4878</span>    }</div>
<div class="line"><span class="lineno"> 4879</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevhttp__uri.html#a304fd55436cfde4adb5dbef62cf23b35">fragment</a>) {</div>
<div class="line"><span class="lineno"> 4880</span>        uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a304fd55436cfde4adb5dbef62cf23b35">fragment</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(<a class="code hl_variable" href="structevhttp__uri.html#a304fd55436cfde4adb5dbef62cf23b35">fragment</a>);</div>
<div class="line"><span class="lineno"> 4881</span>        <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a304fd55436cfde4adb5dbef62cf23b35">fragment</a> == NULL) {</div>
<div class="line"><span class="lineno"> 4882</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4883</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 4884</span>        }</div>
<div class="line"><span class="lineno"> 4885</span>    }</div>
<div class="line"><span class="lineno"> 4886</span> </div>
<div class="line"><span class="lineno"> 4887</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(readbuf);</div>
<div class="line"><span class="lineno"> 4888</span> </div>
<div class="line"><span class="lineno"> 4889</span>    <span class="keywordflow">return</span> uri;</div>
<div class="line"><span class="lineno"> 4890</span>err:</div>
<div class="line"><span class="lineno"> 4891</span>    <span class="keywordflow">if</span> (uri)</div>
<div class="line"><span class="lineno"> 4892</span>        <a class="code hl_function" href="http_8c.html#a5ee82311278b8fda3ed93a8e358683bb">evhttp_uri_free</a>(uri);</div>
<div class="line"><span class="lineno"> 4893</span>    <span class="keywordflow">if</span> (readbuf)</div>
<div class="line"><span class="lineno"> 4894</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(readbuf);</div>
<div class="line"><span class="lineno"> 4895</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 4896</span>}</div>
<div class="ttc" id="ahttp_8c_html_a5a14e3fee977494783b7d2c6d71b5e96"><div class="ttname"><a href="http_8c.html#a5a14e3fee977494783b7d2c6d71b5e96">scheme_ok</a></div><div class="ttdeci">static int scheme_ok(const char *s, const char *eos)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04510">http.c:4510</a></div></div>
<div class="ttc" id="ahttp_8c_html_aa2f2e0addc4d2b31f768d416951316ab"><div class="ttname"><a href="http_8c.html#aa2f2e0addc4d2b31f768d416951316ab">end_of_path</a></div><div class="ttdeci">static char * end_of_path(char *cp, enum uri_part part, unsigned flags)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04711">http.c:4711</a></div></div>
<div class="ttc" id="ahttp_8c_html_ac1b09ff2441d8c20690a822595631b96"><div class="ttname"><a href="http_8c.html#ac1b09ff2441d8c20690a822595631b96">path_matches_noscheme</a></div><div class="ttdeci">static int path_matches_noscheme(const char *cp)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04752">http.c:4752</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http_8c_source.html#l04690">end_of_authority()</a>, <a class="el" href="http_8c_source.html#l04711">end_of_path()</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l04929">evhttp_uri_free()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="http_8c_source.html#l04481">evhttp_uri::flags</a>, <a class="el" href="http_8c_source.html#l04488">evhttp_uri::fragment</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, <a class="el" href="http_8c_source.html#l04627">parse_authority()</a>, <a class="el" href="http_8c_source.html#l04703">PART_FRAGMENT</a>, <a class="el" href="http_8c_source.html#l04701">PART_PATH</a>, <a class="el" href="http_8c_source.html#l04702">PART_QUERY</a>, <a class="el" href="http_8c_source.html#l04486">evhttp_uri::path</a>, <a class="el" href="http_8c_source.html#l04752">path_matches_noscheme()</a>, <a class="el" href="http_8c_source.html#l04485">evhttp_uri::port</a>, <a class="el" href="http_8c_source.html#l04487">evhttp_uri::query</a>, <a class="el" href="http_8c_source.html#l04482">evhttp_uri::scheme</a>, and <a class="el" href="http_8c_source.html#l04510">scheme_ok()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>, and <a class="el" href="http_8c_source.html#l04765">evhttp_uri_parse()</a>.</p>

</div>
</div>
<a id="aea0b990f1ca5ba71feffa96c8f6bd06b" name="aea0b990f1ca5ba71feffa96c8f6bd06b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea0b990f1ca5ba71feffa96c8f6bd06b">&#9670;&nbsp;</a></span>evhttp_uri_set_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_uri_set_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04501">4501</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4502</span>{</div>
<div class="line"><span class="lineno"> 4503</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a> = flags;</div>
<div class="line"><span class="lineno"> 4504</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04481">evhttp_uri::flags</a>.</p>

</div>
</div>
<a id="a36b844028058c82b6709d1e0fe7e1cf9" name="a36b844028058c82b6709d1e0fe7e1cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36b844028058c82b6709d1e0fe7e1cf9">&#9670;&nbsp;</a></span>evhttp_uri_set_fragment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_uri_set_fragment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fragment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05122">5122</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5123</span>{</div>
<div class="line"><span class="lineno"> 5124</span>    <span class="keywordflow">if</span> (fragment &amp;&amp; <a class="code hl_define" href="http_8c.html#a7bf0d55cfbc539db662b879c6159e6e6">end_of_cpath</a>(fragment, <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa615c3b6a8736f0055bdbce1d8ca72cd8">PART_FRAGMENT</a>, uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a>) != fragment+strlen(fragment))</div>
<div class="line"><span class="lineno"> 5125</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 5126</span>    <a class="code hl_define" href="http_8c.html#a8020d8038969895b6fa98120a86ed067">URI_SET_STR_</a>(fragment);</div>
<div class="line"><span class="lineno"> 5127</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 5128</span>}</div>
<div class="ttc" id="ahttp_8c_html_a7bf0d55cfbc539db662b879c6159e6e6"><div class="ttname"><a href="http_8c.html#a7bf0d55cfbc539db662b879c6159e6e6">end_of_cpath</a></div><div class="ttdeci">#define end_of_cpath(cp, p, f)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l05101">http.c:5101</a></div></div>
<div class="ttc" id="ahttp_8c_html_a8020d8038969895b6fa98120a86ed067"><div class="ttname"><a href="http_8c.html#a8020d8038969895b6fa98120a86ed067">URI_SET_STR_</a></div><div class="ttdeci">#define URI_SET_STR_(f)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l05047">http.c:5047</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l05101">end_of_cpath</a>, <a class="el" href="http_8c_source.html#l04481">evhttp_uri::flags</a>, <a class="el" href="http_8c_source.html#l04703">PART_FRAGMENT</a>, and <a class="el" href="http_8c_source.html#l05047">URI_SET_STR_</a>.</p>

</div>
</div>
<a id="a103c447efb9f41a5897b3aa130424734" name="a103c447efb9f41a5897b3aa130424734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a103c447efb9f41a5897b3aa130424734">&#9670;&nbsp;</a></span>evhttp_uri_set_host()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_uri_set_host </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05078">5078</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5079</span>{</div>
<div class="line"><span class="lineno"> 5080</span>    <span class="keywordflow">if</span> (host) {</div>
<div class="line"><span class="lineno"> 5081</span>        <span class="keywordflow">if</span> (host[0] == <span class="charliteral">&#39;[&#39;</span>) {</div>
<div class="line"><span class="lineno"> 5082</span>            <span class="keywordflow">if</span> (! <a class="code hl_function" href="http_8c.html#adfa4984f189e51fa23c2244de8fae16a">bracket_addr_ok</a>(host, host+strlen(host)))</div>
<div class="line"><span class="lineno"> 5083</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 5084</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 5085</span>            <span class="keywordflow">if</span> (! <a class="code hl_function" href="http_8c.html#aca94ba592795d222395bdc7dc2351283">regname_ok</a>(host, host+strlen(host)))</div>
<div class="line"><span class="lineno"> 5086</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 5087</span>        }</div>
<div class="line"><span class="lineno"> 5088</span>    }</div>
<div class="line"><span class="lineno"> 5089</span> </div>
<div class="line"><span class="lineno"> 5090</span>    <a class="code hl_define" href="http_8c.html#a8020d8038969895b6fa98120a86ed067">URI_SET_STR_</a>(host);</div>
<div class="line"><span class="lineno"> 5091</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 5092</span>}</div>
<div class="ttc" id="ahttp_8c_html_aca94ba592795d222395bdc7dc2351283"><div class="ttname"><a href="http_8c.html#aca94ba592795d222395bdc7dc2351283">regname_ok</a></div><div class="ttdeci">static int regname_ok(const char *s, const char *eos)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04548">http.c:4548</a></div></div>
<div class="ttc" id="ahttp_8c_html_adfa4984f189e51fa23c2244de8fae16a"><div class="ttname"><a href="http_8c.html#adfa4984f189e51fa23c2244de8fae16a">bracket_addr_ok</a></div><div class="ttdeci">static int bracket_addr_ok(const char *s, const char *eos)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04583">http.c:4583</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04583">bracket_addr_ok()</a>, <a class="el" href="http_8c_source.html#l04548">regname_ok()</a>, and <a class="el" href="http_8c_source.html#l05047">URI_SET_STR_</a>.</p>

</div>
</div>
<a id="ae6bbfc5cf62df674ba72800ea46c5828" name="ae6bbfc5cf62df674ba72800ea46c5828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6bbfc5cf62df674ba72800ea46c5828">&#9670;&nbsp;</a></span>evhttp_uri_set_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_uri_set_path </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05105">5105</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5106</span>{</div>
<div class="line"><span class="lineno"> 5107</span>    <span class="keywordflow">if</span> (path &amp;&amp; <a class="code hl_define" href="http_8c.html#a7bf0d55cfbc539db662b879c6159e6e6">end_of_cpath</a>(path, <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fae8e1390639a89f713ef27a374e220893">PART_PATH</a>, uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a>) != path+strlen(path))</div>
<div class="line"><span class="lineno"> 5108</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 5109</span> </div>
<div class="line"><span class="lineno"> 5110</span>    <a class="code hl_define" href="http_8c.html#a8020d8038969895b6fa98120a86ed067">URI_SET_STR_</a>(path);</div>
<div class="line"><span class="lineno"> 5111</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 5112</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l05101">end_of_cpath</a>, <a class="el" href="http_8c_source.html#l04481">evhttp_uri::flags</a>, <a class="el" href="http_8c_source.html#l04701">PART_PATH</a>, and <a class="el" href="http_8c_source.html#l05047">URI_SET_STR_</a>.</p>

</div>
</div>
<a id="a8cc430f9b8fb4c6aa11692d5ef0b383c" name="a8cc430f9b8fb4c6aa11692d5ef0b383c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc430f9b8fb4c6aa11692d5ef0b383c">&#9670;&nbsp;</a></span>evhttp_uri_set_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_uri_set_port </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05094">5094</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5095</span>{</div>
<div class="line"><span class="lineno"> 5096</span>    <span class="keywordflow">if</span> (port &lt; -1)</div>
<div class="line"><span class="lineno"> 5097</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 5098</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">port</a> = port;</div>
<div class="line"><span class="lineno"> 5099</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 5100</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04485">evhttp_uri::port</a>.</p>

</div>
</div>
<a id="aaf999637136bc1785e5d75c191c671ba" name="aaf999637136bc1785e5d75c191c671ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf999637136bc1785e5d75c191c671ba">&#9670;&nbsp;</a></span>evhttp_uri_set_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_uri_set_query </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05114">5114</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5115</span>{</div>
<div class="line"><span class="lineno"> 5116</span>    <span class="keywordflow">if</span> (query &amp;&amp; <a class="code hl_define" href="http_8c.html#a7bf0d55cfbc539db662b879c6159e6e6">end_of_cpath</a>(query, <a class="code hl_enumvalue" href="http_8c.html#a5558152b94ab5d38e06816ef65b21e1fa387dee858a040af11bdc308c8a261fd7">PART_QUERY</a>, uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#aaf04d2857924c3d031597179affedeb5">flags</a>) != query+strlen(query))</div>
<div class="line"><span class="lineno"> 5117</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 5118</span>    <a class="code hl_define" href="http_8c.html#a8020d8038969895b6fa98120a86ed067">URI_SET_STR_</a>(query);</div>
<div class="line"><span class="lineno"> 5119</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 5120</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l05101">end_of_cpath</a>, <a class="el" href="http_8c_source.html#l04481">evhttp_uri::flags</a>, <a class="el" href="http_8c_source.html#l04702">PART_QUERY</a>, and <a class="el" href="http_8c_source.html#l05047">URI_SET_STR_</a>.</p>

</div>
</div>
<a id="abf5f82fb9c8f8df0b1b4c73691791dd5" name="abf5f82fb9c8f8df0b1b4c73691791dd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf5f82fb9c8f8df0b1b4c73691791dd5">&#9670;&nbsp;</a></span>evhttp_uri_set_scheme()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_uri_set_scheme </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>scheme</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05061">5061</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5062</span>{</div>
<div class="line"><span class="lineno"> 5063</span>    <span class="keywordflow">if</span> (scheme &amp;&amp; !<a class="code hl_function" href="http_8c.html#a5a14e3fee977494783b7d2c6d71b5e96">scheme_ok</a>(scheme, scheme+strlen(scheme)))</div>
<div class="line"><span class="lineno"> 5064</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 5065</span> </div>
<div class="line"><span class="lineno"> 5066</span>    <a class="code hl_define" href="http_8c.html#a8020d8038969895b6fa98120a86ed067">URI_SET_STR_</a>(scheme);</div>
<div class="line"><span class="lineno"> 5067</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 5068</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l04510">scheme_ok()</a>, and <a class="el" href="http_8c_source.html#l05047">URI_SET_STR_</a>.</p>

</div>
</div>
<a id="ac7b10b8ef8ee94d14674f9329486d355" name="ac7b10b8ef8ee94d14674f9329486d355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7b10b8ef8ee94d14674f9329486d355">&#9670;&nbsp;</a></span>evhttp_uri_set_userinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_uri_set_userinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>userinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l05070">5070</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5071</span>{</div>
<div class="line"><span class="lineno"> 5072</span>    <span class="keywordflow">if</span> (userinfo &amp;&amp; !<a class="code hl_function" href="http_8c.html#a342e15133adfb52f0ae97eb8939147e8">userinfo_ok</a>(userinfo, userinfo+strlen(userinfo)))</div>
<div class="line"><span class="lineno"> 5073</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 5074</span>    <a class="code hl_define" href="http_8c.html#a8020d8038969895b6fa98120a86ed067">URI_SET_STR_</a>(userinfo);</div>
<div class="line"><span class="lineno"> 5075</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 5076</span>}</div>
<div class="ttc" id="ahttp_8c_html_a342e15133adfb52f0ae97eb8939147e8"><div class="ttname"><a href="http_8c.html#a342e15133adfb52f0ae97eb8939147e8">userinfo_ok</a></div><div class="ttdeci">static int userinfo_ok(const char *s, const char *eos)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04530">http.c:4530</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l05047">URI_SET_STR_</a>, and <a class="el" href="http_8c_source.html#l04530">userinfo_ok()</a>.</p>

</div>
</div>
<a id="a0b1ce2d00901934a4082261b4fb6891d" name="a0b1ce2d00901934a4082261b4fb6891d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b1ce2d00901934a4082261b4fb6891d">&#9670;&nbsp;</a></span>evhttp_uridecode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * evhttp_uridecode </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>decode_plus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03226">3226</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3227</span>{</div>
<div class="line"><span class="lineno"> 3228</span>    <span class="keywordtype">char</span> *ret;</div>
<div class="line"><span class="lineno"> 3229</span>    <span class="keywordtype">int</span> n;</div>
<div class="line"><span class="lineno"> 3230</span> </div>
<div class="line"><span class="lineno"> 3231</span>    <span class="keywordflow">if</span> ((ret = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(strlen(uri) + 1)) == NULL) {</div>
<div class="line"><span class="lineno"> 3232</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: malloc(%lu)&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 3233</span>              (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(strlen(uri) + 1));</div>
<div class="line"><span class="lineno"> 3234</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 3235</span>    }</div>
<div class="line"><span class="lineno"> 3236</span> </div>
<div class="line"><span class="lineno"> 3237</span>    n = <a class="code hl_function" href="http_8c.html#a6388e8fafd94605920e6e0c22ffa869f">evhttp_decode_uri_internal</a>(uri, strlen(uri),</div>
<div class="line"><span class="lineno"> 3238</span>        ret, !!decode_plus<span class="comment">/*always_decode_plus*/</span>);</div>
<div class="line"><span class="lineno"> 3239</span> </div>
<div class="line"><span class="lineno"> 3240</span>    <span class="keywordflow">if</span> (size_out) {</div>
<div class="line"><span class="lineno"> 3241</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(n &gt;= 0);</div>
<div class="line"><span class="lineno"> 3242</span>        *size_out = (size_t)n;</div>
<div class="line"><span class="lineno"> 3243</span>    }</div>
<div class="line"><span class="lineno"> 3244</span> </div>
<div class="line"><span class="lineno"> 3245</span>    <span class="keywordflow">return</span> (ret);</div>
<div class="line"><span class="lineno"> 3246</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l03176">evhttp_decode_uri_internal()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>.</p>

</div>
</div>
<a id="a73f764788efd44d578af58de3c5b42ea" name="a73f764788efd44d578af58de3c5b42ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73f764788efd44d578af58de3c5b42ea">&#9670;&nbsp;</a></span>evhttp_uriencode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * evhttp_uriencode </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_ssize_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>space_as_plus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03110">3110</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3111</span>{</div>
<div class="line"><span class="lineno"> 3112</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *buf = <a class="code hl_function" href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a>();</div>
<div class="line"><span class="lineno"> 3113</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p, *end;</div>
<div class="line"><span class="lineno"> 3114</span>    <span class="keywordtype">char</span> *result = NULL;</div>
<div class="line"><span class="lineno"> 3115</span> </div>
<div class="line"><span class="lineno"> 3116</span>    <span class="keywordflow">if</span> (!buf) {</div>
<div class="line"><span class="lineno"> 3117</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 3118</span>    }</div>
<div class="line"><span class="lineno"> 3119</span> </div>
<div class="line"><span class="lineno"> 3120</span>    <span class="keywordflow">if</span> (len &gt;= 0) {</div>
<div class="line"><span class="lineno"> 3121</span>        <span class="keywordflow">if</span> (uri + len &lt; uri) {</div>
<div class="line"><span class="lineno"> 3122</span>            <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 3123</span>        }</div>
<div class="line"><span class="lineno"> 3124</span> </div>
<div class="line"><span class="lineno"> 3125</span>        end = uri + len;</div>
<div class="line"><span class="lineno"> 3126</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3127</span>        <span class="keywordtype">size_t</span> slen = strlen(uri);</div>
<div class="line"><span class="lineno"> 3128</span> </div>
<div class="line"><span class="lineno"> 3129</span>        <span class="keywordflow">if</span> (slen &gt;= EV_SSIZE_MAX) {</div>
<div class="line"><span class="lineno"> 3130</span>            <span class="comment">/* we don&#39;t want to mix signed and unsigned */</span></div>
<div class="line"><span class="lineno"> 3131</span>            <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 3132</span>        }</div>
<div class="line"><span class="lineno"> 3133</span> </div>
<div class="line"><span class="lineno"> 3134</span>        <span class="keywordflow">if</span> (uri + slen &lt; uri) {</div>
<div class="line"><span class="lineno"> 3135</span>            <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 3136</span>        }</div>
<div class="line"><span class="lineno"> 3137</span> </div>
<div class="line"><span class="lineno"> 3138</span>        end = uri + slen;</div>
<div class="line"><span class="lineno"> 3139</span>    }</div>
<div class="line"><span class="lineno"> 3140</span> </div>
<div class="line"><span class="lineno"> 3141</span>    <span class="keywordflow">for</span> (p = uri; p &lt; end; p++) {</div>
<div class="line"><span class="lineno"> 3142</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="http_8c.html#a3196dc56717a368635e6a375e77df11e">CHAR_IS_UNRESERVED</a>(*p)) {</div>
<div class="line"><span class="lineno"> 3143</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(buf, p, 1);</div>
<div class="line"><span class="lineno"> 3144</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39; &#39;</span> &amp;&amp; space_as_plus) {</div>
<div class="line"><span class="lineno"> 3145</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(buf, <span class="stringliteral">&quot;+&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 3146</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3147</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#adeb9457f344ddaf459726dbe348ac3db">evbuffer_add_printf</a>(buf, <span class="stringliteral">&quot;%%%02X&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*p));</div>
<div class="line"><span class="lineno"> 3148</span>        }</div>
<div class="line"><span class="lineno"> 3149</span>    }</div>
<div class="line"><span class="lineno"> 3150</span> </div>
<div class="line"><span class="lineno"> 3151</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(buf, <span class="stringliteral">&quot;&quot;</span>, 1); <span class="comment">/* NUL-terminator. */</span></div>
<div class="line"><span class="lineno"> 3152</span>    result = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf));</div>
<div class="line"><span class="lineno"> 3153</span> </div>
<div class="line"><span class="lineno"> 3154</span>    <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno"> 3155</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#af5a341004cb2b4fb591fe11544b3228d">evbuffer_remove</a>(buf, result, <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf));</div>
<div class="line"><span class="lineno"> 3156</span> </div>
<div class="line"><span class="lineno"> 3157</span>out:</div>
<div class="line"><span class="lineno"> 3158</span>    <span class="keywordflow">if</span> (buf)</div>
<div class="line"><span class="lineno"> 3159</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(buf);</div>
<div class="line"><span class="lineno"> 3160</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3161</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03102">CHAR_IS_UNRESERVED</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01730">evbuffer_add()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02908">evbuffer_add_printf()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00588">evbuffer_free()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00362">evbuffer_new()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01170">evbuffer_remove()</a>, and <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03164">evhttp_encode_uri()</a>.</p>

</div>
</div>
<a id="a3a0a72405893139c9dc3a5812c3e84ec" name="a3a0a72405893139c9dc3a5812c3e84ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a0a72405893139c9dc3a5812c3e84ec">&#9670;&nbsp;</a></span>evhttp_valid_response_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evhttp_valid_response_code </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01655">1655</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1656</span>{</div>
<div class="line"><span class="lineno"> 1657</span>    <span class="keywordflow">if</span> (code == 0)</div>
<div class="line"><span class="lineno"> 1658</span>        <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 1659</span> </div>
<div class="line"><span class="lineno"> 1660</span>    <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno"> 1661</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01682">evhttp_parse_response_line()</a>.</p>

</div>
</div>
<a id="ae93e6f4eb93486410ffc3fac5f01f440" name="ae93e6f4eb93486410ffc3fac5f01f440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93e6f4eb93486410ffc3fac5f01f440">&#9670;&nbsp;</a></span>evhttp_write_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_write_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Helper: called after we've added some data to an evcon's bufferevent's output buffer. Sets the evconn's writing-is-done callback, and puts the bufferevent into writing mode. </p>

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00370">370</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  372</span>{</div>
<div class="line"><span class="lineno">  373</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: preparing to write buffer\n&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>));</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>    <span class="comment">/* Set call back */</span></div>
<div class="line"><span class="lineno">  376</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#af6d051ba504b6ffac23c3f5963cf8b00">cb</a> = cb;</div>
<div class="line"><span class="lineno">  377</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a175b75c98397d9b3c9b30ff2e5a1003d">cb_arg</a> = arg;</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <span class="comment">/* Disable the read callback: we don&#39;t actually care about data;</span></div>
<div class="line"><span class="lineno">  380</span><span class="comment">     * we only care about close detection. (We don&#39;t disable reading --</span></div>
<div class="line"><span class="lineno">  381</span><span class="comment">     * EV_READ, since we *do* want to learn about any close events.) */</span></div>
<div class="line"><span class="lineno">  382</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>,</div>
<div class="line"><span class="lineno">  383</span>        NULL, <span class="comment">/*read*/</span></div>
<div class="line"><span class="lineno">  384</span>        <a class="code hl_function" href="http_8c.html#af2982b8516dba583cab6be97d9ca8461">evhttp_write_cb</a>,</div>
<div class="line"><span class="lineno">  385</span>        <a class="code hl_function" href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a>,</div>
<div class="line"><span class="lineno">  386</span>        evcon);</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>    <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ|EV_WRITE);</div>
<div class="line"><span class="lineno">  389</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="http-internal_8h_source.html#l00094">evhttp_connection::cb</a>, <a class="el" href="http-internal_8h_source.html#l00095">evhttp_connection::cb_arg</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, and <a class="el" href="http_8c_source.html#l00807">evhttp_write_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01303">evhttp_request_dispatch()</a>, <a class="el" href="http_8c_source.html#l02833">evhttp_send()</a>, <a class="el" href="http_8c_source.html#l02894">evhttp_send_reply_chunk_with_cb()</a>, <a class="el" href="http_8c_source.html#l02926">evhttp_send_reply_end()</a>, <a class="el" href="http_8c_source.html#l02867">evhttp_send_reply_start()</a>, and <a class="el" href="http_8c_source.html#l02757">evhttp_start_write_()</a>.</p>

</div>
</div>
<a id="af2982b8516dba583cab6be97d9ca8461" name="af2982b8516dba583cab6be97d9ca8461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2982b8516dba583cab6be97d9ca8461">&#9670;&nbsp;</a></span>evhttp_write_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_write_cb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00807">807</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  808</span>{</div>
<div class="line"><span class="lineno">  809</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevhttp__connection.html">evhttp_connection</a> *evcon = arg;</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>    <span class="comment">/* Activate our call back */</span></div>
<div class="line"><span class="lineno">  812</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#af6d051ba504b6ffac23c3f5963cf8b00">cb</a> != NULL)</div>
<div class="line"><span class="lineno">  813</span>        (*evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#af6d051ba504b6ffac23c3f5963cf8b00">cb</a>)(evcon, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a175b75c98397d9b3c9b30ff2e5a1003d">cb_arg</a>);</div>
<div class="line"><span class="lineno">  814</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00094">evhttp_connection::cb</a>, and <a class="el" href="http-internal_8h_source.html#l00095">evhttp_connection::cb_arg</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>, <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l00398">evhttp_send_continue()</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, and <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>.</p>

</div>
</div>
<a id="ac7ab724169fe6336605ef79ffb3576f6" name="ac7ab724169fe6336605ef79ffb3576f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7ab724169fe6336605ef79ffb3576f6">&#9670;&nbsp;</a></span>evhttp_write_connectioncb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evhttp_write_connectioncb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01196">1196</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1197</span>{</div>
<div class="line"><span class="lineno"> 1198</span>    <span class="comment">/* This is after writing the request to the server */</span></div>
<div class="line"><span class="lineno"> 1199</span>    <span class="keyword">struct </span>evhttp_request *req = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno"> 1200</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *output = <a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1201</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(req != NULL);</div>
<div class="line"><span class="lineno"> 1202</span> </div>
<div class="line"><span class="lineno"> 1203</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> == <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>);</div>
<div class="line"><span class="lineno"> 1204</span> </div>
<div class="line"><span class="lineno"> 1205</span>    <span class="comment">/* We need to wait until we&#39;ve written all of our output data before we can</span></div>
<div class="line"><span class="lineno"> 1206</span><span class="comment">     * continue */</span></div>
<div class="line"><span class="lineno"> 1207</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(output) &gt; 0)</div>
<div class="line"><span class="lineno"> 1208</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1209</span> </div>
<div class="line"><span class="lineno"> 1210</span>    <span class="comment">/* We are done writing our header and are now expecting the response */</span></div>
<div class="line"><span class="lineno"> 1211</span>    req-&gt;kind = EVHTTP_RESPONSE;</div>
<div class="line"><span class="lineno"> 1212</span> </div>
<div class="line"><span class="lineno"> 1213</span>    <a class="code hl_function" href="http_8c.html#a881831d0aeddf00f1aa55b5ab92758a7">evhttp_start_read_</a>(evcon);</div>
<div class="line"><span class="lineno"> 1214</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http-internal_8h_source.html#l00045">EVCON_WRITING</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01303">evhttp_request_dispatch()</a>, and <a class="el" href="http_8c_source.html#l02757">evhttp_start_write_()</a>.</p>

</div>
</div>
<a id="aba5c0d68e67754bc929605783c333194" name="aba5c0d68e67754bc929605783c333194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5c0d68e67754bc929605783c333194">&#9670;&nbsp;</a></span>fake_getnameinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fake_getnameinfo </td>
          <td>(</td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>salen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>hostlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>serv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>servlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00128">128</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  130</span>{</div>
<div class="line"><span class="lineno">  131</span>    <span class="keyword">struct </span>sockaddr_in *sin = (<span class="keyword">struct </span>sockaddr_in *)sa;</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">if</span> (serv != NULL) {</div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordtype">char</span> tmpserv[16];</div>
<div class="line"><span class="lineno">  135</span>        <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(tmpserv, <span class="keyword">sizeof</span>(tmpserv),</div>
<div class="line"><span class="lineno">  136</span>            <span class="stringliteral">&quot;%d&quot;</span>, ntohs(sin-&gt;sin_port));</div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="strlcpy-internal_8h.html#a61ae5a0c7536d81d0fb52661f75254cb">strlcpy</a>(serv, tmpserv, servlen) &gt;= servlen)</div>
<div class="line"><span class="lineno">  138</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">if</span> (host != NULL) {</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="http_8c.html#a62f12304e7a43038f40cd579ad57829f">NI_NUMERICHOST</a>) {</div>
<div class="line"><span class="lineno">  143</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="strlcpy-internal_8h.html#a61ae5a0c7536d81d0fb52661f75254cb">strlcpy</a>(host, inet_ntoa(sin-&gt;sin_addr),</div>
<div class="line"><span class="lineno">  144</span>                hostlen) &gt;= hostlen)</div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  146</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  147</span>                <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  148</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  149</span>            <span class="keyword">struct </span>hostent *hp;</div>
<div class="line"><span class="lineno">  150</span>            hp = gethostbyaddr((<span class="keywordtype">char</span> *)&amp;sin-&gt;sin_addr,</div>
<div class="line"><span class="lineno">  151</span>                <span class="keyword">sizeof</span>(<span class="keyword">struct</span> in_addr), AF_INET);</div>
<div class="line"><span class="lineno">  152</span>            <span class="keywordflow">if</span> (hp == NULL)</div>
<div class="line"><span class="lineno">  153</span>                <span class="keywordflow">return</span> (-2);</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="strlcpy-internal_8h.html#a61ae5a0c7536d81d0fb52661f75254cb">strlcpy</a>(host, hp-&gt;h_name, hostlen) &gt;= hostlen)</div>
<div class="line"><span class="lineno">  156</span>                <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  157</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  158</span>                <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  159</span>        }</div>
<div class="line"><span class="lineno">  160</span>    }</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  162</span>}</div>
<div class="ttc" id="ahttp_8c_html_a62f12304e7a43038f40cd579ad57829f"><div class="ttname"><a href="http_8c.html#a62f12304e7a43038f40cd579ad57829f">NI_NUMERICHOST</a></div><div class="ttdeci">#define NI_NUMERICHOST</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00120">http.c:120</a></div></div>
<div class="ttc" id="astrlcpy-internal_8h_html_a61ae5a0c7536d81d0fb52661f75254cb"><div class="ttname"><a href="strlcpy-internal_8h.html#a61ae5a0c7536d81d0fb52661f75254cb">strlcpy</a></div><div class="ttdeci">#define strlcpy</div><div class="ttdef"><b>Definition:</b> <a href="strlcpy-internal_8h_source.html#l00016">strlcpy-internal.h:16</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l01858">evutil_snprintf()</a>, <a class="el" href="http_8c_source.html#l00120">NI_NUMERICHOST</a>, and <a class="el" href="strlcpy-internal_8h_source.html#l00016">strlcpy</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04356">name_from_addr()</a>.</p>

</div>
</div>
<a id="aa0facec2d8401a25b6efb141296fa967" name="aa0facec2d8401a25b6efb141296fa967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0facec2d8401a25b6efb141296fa967">&#9670;&nbsp;</a></span>html_replace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t html_replace </td>
          <td>(</td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>escaped</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00232">232</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  233</span>{</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">switch</span> (ch) {</div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>:</div>
<div class="line"><span class="lineno">  236</span>        *escaped = <span class="stringliteral">&quot;&amp;lt;&quot;</span>;</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">return</span> 4;</div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>:</div>
<div class="line"><span class="lineno">  239</span>        *escaped = <span class="stringliteral">&quot;&amp;gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  240</span>        <span class="keywordflow">return</span> 4;</div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>:</div>
<div class="line"><span class="lineno">  242</span>        *escaped = <span class="stringliteral">&quot;&amp;quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">return</span> 6;</div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>:</div>
<div class="line"><span class="lineno">  245</span>        *escaped = <span class="stringliteral">&quot;&amp;#039;&quot;</span>;</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">return</span> 6;</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;&amp;&#39;</span>:</div>
<div class="line"><span class="lineno">  248</span>        *escaped = <span class="stringliteral">&quot;&amp;amp;&quot;</span>;</div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">return</span> 5;</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  252</span>    }</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  255</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00265">evhttp_htmlescape()</a>.</p>

</div>
</div>
<a id="a1e582c1f1590f71ea5568e4f7978fff5" name="a1e582c1f1590f71ea5568e4f7978fff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e582c1f1590f71ea5568e4f7978fff5">&#9670;&nbsp;</a></span>make_addrinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct evutil_addrinfo * make_addrinfo </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04430">4430</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4431</span>{</div>
<div class="line"><span class="lineno"> 4432</span>    <span class="keyword">struct </span>evutil_addrinfo *ai = NULL;</div>
<div class="line"><span class="lineno"> 4433</span> </div>
<div class="line"><span class="lineno"> 4434</span>    <span class="keyword">struct </span>evutil_addrinfo hints;</div>
<div class="line"><span class="lineno"> 4435</span>    <span class="keywordtype">char</span> strport[<a class="code hl_define" href="http_8c.html#aefdeadf85356cc2fa0870d86a6055eb1">NI_MAXSERV</a>];</div>
<div class="line"><span class="lineno"> 4436</span>    <span class="keywordtype">int</span> ai_result;</div>
<div class="line"><span class="lineno"> 4437</span> </div>
<div class="line"><span class="lineno"> 4438</span>    memset(&amp;hints, 0, <span class="keyword">sizeof</span>(hints));</div>
<div class="line"><span class="lineno"> 4439</span>    hints.ai_family = AF_UNSPEC;</div>
<div class="line"><span class="lineno"> 4440</span>    hints.ai_socktype = SOCK_STREAM;</div>
<div class="line"><span class="lineno"> 4441</span>    <span class="comment">/* turn NULL hostname into INADDR_ANY, and skip looking up any address</span></div>
<div class="line"><span class="lineno"> 4442</span><span class="comment">     * types we don&#39;t have an interface to connect to. */</span></div>
<div class="line"><span class="lineno"> 4443</span>    hints.ai_flags = EVUTIL_AI_PASSIVE|EVUTIL_AI_ADDRCONFIG;</div>
<div class="line"><span class="lineno"> 4444</span>    <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(strport, <span class="keyword">sizeof</span>(strport), <span class="stringliteral">&quot;%d&quot;</span>, port);</div>
<div class="line"><span class="lineno"> 4445</span>    <span class="keywordflow">if</span> ((ai_result = <a class="code hl_function" href="evutil_8c.html#af72dd0e3c31f03a1de0fd297b1b2691b">evutil_getaddrinfo</a>(address, strport, &amp;hints, &amp;ai))</div>
<div class="line"><span class="lineno"> 4446</span>        != 0) {</div>
<div class="line"><span class="lineno"> 4447</span>        <span class="keywordflow">if</span> (ai_result == EVUTIL_EAI_SYSTEM)</div>
<div class="line"><span class="lineno"> 4448</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;getaddrinfo&quot;</span>);</div>
<div class="line"><span class="lineno"> 4449</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4450</span>            <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;getaddrinfo: %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 4451</span>                <a class="code hl_function" href="evutil_8c.html#aa9306b087339e6ae10a690a6cb2f3dcc">evutil_gai_strerror</a>(ai_result));</div>
<div class="line"><span class="lineno"> 4452</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 4453</span>    }</div>
<div class="line"><span class="lineno"> 4454</span> </div>
<div class="line"><span class="lineno"> 4455</span>    <span class="keywordflow">return</span> (ai);</div>
<div class="line"><span class="lineno"> 4456</span>}</div>
<div class="ttc" id="aevutil_8c_html_aa9306b087339e6ae10a690a6cb2f3dcc"><div class="ttname"><a href="evutil_8c.html#aa9306b087339e6ae10a690a6cb2f3dcc">evutil_gai_strerror</a></div><div class="ttdeci">const char * evutil_gai_strerror(int err)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01639">evutil.c:1639</a></div></div>
<div class="ttc" id="aevutil_8c_html_af72dd0e3c31f03a1de0fd297b1b2691b"><div class="ttname"><a href="evutil_8c.html#af72dd0e3c31f03a1de0fd297b1b2691b">evutil_getaddrinfo</a></div><div class="ttdeci">int evutil_getaddrinfo(const char *nodename, const char *servname, const struct evutil_addrinfo *hints_in, struct evutil_addrinfo **res)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01385">evutil.c:1385</a></div></div>
<div class="ttc" id="ahttp_8c_html_aefdeadf85356cc2fa0870d86a6055eb1"><div class="ttname"><a href="http_8c.html#aefdeadf85356cc2fa0870d86a6055eb1">NI_MAXSERV</a></div><div class="ttdeci">#define NI_MAXSERV</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00116">http.c:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="evutil_8c_source.html#l01639">evutil_gai_strerror()</a>, <a class="el" href="evutil_8c_source.html#l01385">evutil_getaddrinfo()</a>, <a class="el" href="evutil_8c_source.html#l01858">evutil_snprintf()</a>, and <a class="el" href="http_8c_source.html#l00116">NI_MAXSERV</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04459">bind_socket()</a>.</p>

</div>
</div>
<a id="ad61654aa6055911f49b12a418075c572" name="ad61654aa6055911f49b12a418075c572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61654aa6055911f49b12a418075c572">&#9670;&nbsp;</a></span>name_from_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void name_from_addr </td>
          <td>(</td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_socklen_t&#160;</td>
          <td class="paramname"><em>salen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>phost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04356">4356</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4358</span>{</div>
<div class="line"><span class="lineno"> 4359</span>    <span class="keywordtype">char</span> ntop[<a class="code hl_define" href="http_8c.html#aebc53e498b2434654a1d44070d9ccd40">NI_MAXHOST</a>];</div>
<div class="line"><span class="lineno"> 4360</span>    <span class="keywordtype">char</span> strport[<a class="code hl_define" href="http_8c.html#aefdeadf85356cc2fa0870d86a6055eb1">NI_MAXSERV</a>];</div>
<div class="line"><span class="lineno"> 4361</span>    <span class="keywordtype">int</span> ni_result;</div>
<div class="line"><span class="lineno"> 4362</span> </div>
<div class="line"><span class="lineno"> 4363</span><span class="preprocessor">#ifdef EVENT__HAVE_GETNAMEINFO</span></div>
<div class="line"><span class="lineno"> 4364</span>    ni_result = getnameinfo(sa, salen,</div>
<div class="line"><span class="lineno"> 4365</span>        ntop, <span class="keyword">sizeof</span>(ntop), strport, <span class="keyword">sizeof</span>(strport),</div>
<div class="line"><span class="lineno"> 4366</span>        <a class="code hl_define" href="http_8c.html#a62f12304e7a43038f40cd579ad57829f">NI_NUMERICHOST</a>|<a class="code hl_define" href="http_8c.html#af6d346aae7109d19b9ccab7c510a3cad">NI_NUMERICSERV</a>);</div>
<div class="line"><span class="lineno"> 4367</span> </div>
<div class="line"><span class="lineno"> 4368</span>    <span class="keywordflow">if</span> (ni_result != 0) {</div>
<div class="line"><span class="lineno"> 4369</span><span class="preprocessor">#ifdef EAI_SYSTEM</span></div>
<div class="line"><span class="lineno"> 4370</span>        <span class="comment">/* Windows doesn&#39;t have an EAI_SYSTEM. */</span></div>
<div class="line"><span class="lineno"> 4371</span>        <span class="keywordflow">if</span> (ni_result == EAI_SYSTEM)</div>
<div class="line"><span class="lineno"> 4372</span>            <a class="code hl_function" href="log-internal_8h.html#ae9aa937b8e3367bae06b4f0bebcee904">event_err</a>(1, <span class="stringliteral">&quot;getnameinfo failed&quot;</span>);</div>
<div class="line"><span class="lineno"> 4373</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4374</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4375</span>            <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;getnameinfo failed: %s&quot;</span>, gai_strerror(ni_result));</div>
<div class="line"><span class="lineno"> 4376</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 4377</span>    }</div>
<div class="line"><span class="lineno"> 4378</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 4379</span>    ni_result = <a class="code hl_function" href="http_8c.html#aba5c0d68e67754bc929605783c333194">fake_getnameinfo</a>(sa, salen,</div>
<div class="line"><span class="lineno"> 4380</span>        ntop, <span class="keyword">sizeof</span>(ntop), strport, <span class="keyword">sizeof</span>(strport),</div>
<div class="line"><span class="lineno"> 4381</span>        <a class="code hl_define" href="http_8c.html#a62f12304e7a43038f40cd579ad57829f">NI_NUMERICHOST</a>|<a class="code hl_define" href="http_8c.html#af6d346aae7109d19b9ccab7c510a3cad">NI_NUMERICSERV</a>);</div>
<div class="line"><span class="lineno"> 4382</span>    <span class="keywordflow">if</span> (ni_result != 0)</div>
<div class="line"><span class="lineno"> 4383</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 4384</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4385</span> </div>
<div class="line"><span class="lineno"> 4386</span>    *phost = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(ntop);</div>
<div class="line"><span class="lineno"> 4387</span>    *pport = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(strport);</div>
<div class="line"><span class="lineno"> 4388</span>}</div>
<div class="ttc" id="ahttp_8c_html_aba5c0d68e67754bc929605783c333194"><div class="ttname"><a href="http_8c.html#aba5c0d68e67754bc929605783c333194">fake_getnameinfo</a></div><div class="ttdeci">static int fake_getnameinfo(const struct sockaddr *sa, size_t salen, char *host, size_t hostlen, char *serv, size_t servlen, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00128">http.c:128</a></div></div>
<div class="ttc" id="ahttp_8c_html_aebc53e498b2434654a1d44070d9ccd40"><div class="ttname"><a href="http_8c.html#aebc53e498b2434654a1d44070d9ccd40">NI_MAXHOST</a></div><div class="ttdeci">#define NI_MAXHOST</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00117">http.c:117</a></div></div>
<div class="ttc" id="ahttp_8c_html_af6d346aae7109d19b9ccab7c510a3cad"><div class="ttname"><a href="http_8c.html#af6d346aae7109d19b9ccab7c510a3cad">NI_NUMERICSERV</a></div><div class="ttdeci">#define NI_NUMERICSERV</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00124">http.c:124</a></div></div>
<div class="ttc" id="alog-internal_8h_html_ae9aa937b8e3367bae06b4f0bebcee904"><div class="ttname"><a href="log-internal_8h.html#ae9aa937b8e3367bae06b4f0bebcee904">event_err</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_err(int eval, const char *fmt,...) EV_CHECK_FMT(2</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h.html#ae9aa937b8e3367bae06b4f0bebcee904">event_err()</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="http_8c_source.html#l00128">fake_getnameinfo()</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, <a class="el" href="http_8c_source.html#l00117">NI_MAXHOST</a>, <a class="el" href="http_8c_source.html#l00116">NI_MAXSERV</a>, <a class="el" href="http_8c_source.html#l00120">NI_NUMERICHOST</a>, and <a class="el" href="http_8c_source.html#l00124">NI_NUMERICSERV</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04224">evhttp_get_request_connection()</a>.</p>

</div>
</div>
<a id="afa840fbb1e3cfae410e4fd939891906b" name="afa840fbb1e3cfae410e4fd939891906b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa840fbb1e3cfae410e4fd939891906b">&#9670;&nbsp;</a></span>parse_authority()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int parse_authority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__uri.html">evhttp_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04627">4627</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4628</span>{</div>
<div class="line"><span class="lineno"> 4629</span>    <span class="keywordtype">char</span> *cp, *port;</div>
<div class="line"><span class="lineno"> 4630</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(eos);</div>
<div class="line"><span class="lineno"> 4631</span>    <span class="keywordflow">if</span> (eos == s) {</div>
<div class="line"><span class="lineno"> 4632</span>        uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a4184972a6dcc14ea5707d3d9ef88adbb">host</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 4633</span>        <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a4184972a6dcc14ea5707d3d9ef88adbb">host</a> == NULL) {</div>
<div class="line"><span class="lineno"> 4634</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4635</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4636</span>        }</div>
<div class="line"><span class="lineno"> 4637</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4638</span>    }</div>
<div class="line"><span class="lineno"> 4639</span> </div>
<div class="line"><span class="lineno"> 4640</span>    <span class="comment">/* Optionally, we start with &quot;userinfo@&quot; */</span></div>
<div class="line"><span class="lineno"> 4641</span> </div>
<div class="line"><span class="lineno"> 4642</span>    cp = strchr(s, <span class="charliteral">&#39;@&#39;</span>);</div>
<div class="line"><span class="lineno"> 4643</span>    <span class="keywordflow">if</span> (cp &amp;&amp; cp &lt; eos) {</div>
<div class="line"><span class="lineno"> 4644</span>        <span class="keywordflow">if</span> (! <a class="code hl_function" href="http_8c.html#a342e15133adfb52f0ae97eb8939147e8">userinfo_ok</a>(s,cp))</div>
<div class="line"><span class="lineno"> 4645</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4646</span>        *cp++ = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 4647</span>        uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a693362c6ed54c9b19268da06cda4020d">userinfo</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(s);</div>
<div class="line"><span class="lineno"> 4648</span>        <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a693362c6ed54c9b19268da06cda4020d">userinfo</a> == NULL) {</div>
<div class="line"><span class="lineno"> 4649</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4650</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4651</span>        }</div>
<div class="line"><span class="lineno"> 4652</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4653</span>        cp = s;</div>
<div class="line"><span class="lineno"> 4654</span>    }</div>
<div class="line"><span class="lineno"> 4655</span>    <span class="comment">/* Optionally, we end with &quot;:port&quot; */</span></div>
<div class="line"><span class="lineno"> 4656</span>    <span class="keywordflow">for</span> (port=eos-1; port &gt;= cp &amp;&amp; <a class="code hl_function" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_</a>(*port); --port)</div>
<div class="line"><span class="lineno"> 4657</span>        ;</div>
<div class="line"><span class="lineno"> 4658</span>    <span class="keywordflow">if</span> (port &gt;= cp &amp;&amp; *port == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><span class="lineno"> 4659</span>        <span class="keywordflow">if</span> (port+1 == eos) <span class="comment">/* Leave port unspecified; the RFC allows a</span></div>
<div class="line"><span class="lineno"> 4660</span><span class="comment">                    * nil port */</span></div>
<div class="line"><span class="lineno"> 4661</span>            uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">port</a> = -1;</div>
<div class="line"><span class="lineno"> 4662</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#ab2bce4ef82e93eb393cd0ae3c2e857b0">port</a> = <a class="code hl_function" href="http_8c.html#a481db5cb43f64da73c3bd97fdf136e44">parse_port</a>(port+1, eos))&lt;0)</div>
<div class="line"><span class="lineno"> 4663</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4664</span>        eos = port;</div>
<div class="line"><span class="lineno"> 4665</span>    }</div>
<div class="line"><span class="lineno"> 4666</span>    <span class="comment">/* Now, cp..eos holds the &quot;host&quot; port, which can be an IPv4Address,</span></div>
<div class="line"><span class="lineno"> 4667</span><span class="comment">     * an IP-Literal, or a reg-name */</span></div>
<div class="line"><span class="lineno"> 4668</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(eos &gt;= cp);</div>
<div class="line"><span class="lineno"> 4669</span>    <span class="keywordflow">if</span> (*cp == <span class="charliteral">&#39;[&#39;</span> &amp;&amp; eos &gt;= cp+2 &amp;&amp; *(eos-1) == <span class="charliteral">&#39;]&#39;</span>) {</div>
<div class="line"><span class="lineno"> 4670</span>        <span class="comment">/* IPv6address, IP-Literal, or junk. */</span></div>
<div class="line"><span class="lineno"> 4671</span>        <span class="keywordflow">if</span> (! <a class="code hl_function" href="http_8c.html#adfa4984f189e51fa23c2244de8fae16a">bracket_addr_ok</a>(cp, eos))</div>
<div class="line"><span class="lineno"> 4672</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4673</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4674</span>        <span class="comment">/* Make sure the host part is ok. */</span></div>
<div class="line"><span class="lineno"> 4675</span>        <span class="keywordflow">if</span> (! <a class="code hl_function" href="http_8c.html#aca94ba592795d222395bdc7dc2351283">regname_ok</a>(cp,eos)) <span class="comment">/* Match IPv4Address or reg-name */</span></div>
<div class="line"><span class="lineno"> 4676</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4677</span>    }</div>
<div class="line"><span class="lineno"> 4678</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a4184972a6dcc14ea5707d3d9ef88adbb">host</a> = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(eos-cp+1);</div>
<div class="line"><span class="lineno"> 4679</span>    <span class="keywordflow">if</span> (uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a4184972a6dcc14ea5707d3d9ef88adbb">host</a> == NULL) {</div>
<div class="line"><span class="lineno"> 4680</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: malloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 4681</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4682</span>    }</div>
<div class="line"><span class="lineno"> 4683</span>    memcpy(uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a4184972a6dcc14ea5707d3d9ef88adbb">host</a>, cp, eos-cp);</div>
<div class="line"><span class="lineno"> 4684</span>    uri-&gt;<a class="code hl_variable" href="structevhttp__uri.html#a4184972a6dcc14ea5707d3d9ef88adbb">host</a>[eos-cp] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 4685</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4686</span> </div>
<div class="line"><span class="lineno"> 4687</span>}</div>
<div class="ttc" id="ahttp_8c_html_a481db5cb43f64da73c3bd97fdf136e44"><div class="ttname"><a href="http_8c.html#a481db5cb43f64da73c3bd97fdf136e44">parse_port</a></div><div class="ttdeci">static int parse_port(const char *s, const char *eos)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04565">http.c:4565</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http_8c_source.html#l04583">bracket_addr_ok()</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_()</a>, <a class="el" href="http_8c_source.html#l04484">evhttp_uri::host</a>, <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, <a class="el" href="http_8c_source.html#l04565">parse_port()</a>, <a class="el" href="http_8c_source.html#l04485">evhttp_uri::port</a>, <a class="el" href="http_8c_source.html#l04548">regname_ok()</a>, <a class="el" href="http_8c_source.html#l04483">evhttp_uri::userinfo</a>, and <a class="el" href="http_8c_source.html#l04530">userinfo_ok()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04899">evhttp_uri_parse_authority()</a>, and <a class="el" href="http_8c_source.html#l04771">evhttp_uri_parse_with_flags()</a>.</p>

</div>
</div>
<a id="a481db5cb43f64da73c3bd97fdf136e44" name="a481db5cb43f64da73c3bd97fdf136e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a481db5cb43f64da73c3bd97fdf136e44">&#9670;&nbsp;</a></span>parse_port()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int parse_port </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04565">4565</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4566</span>{</div>
<div class="line"><span class="lineno"> 4567</span>    <span class="keywordtype">int</span> portnum = 0;</div>
<div class="line"><span class="lineno"> 4568</span>    <span class="keywordflow">while</span> (s &lt; eos) {</div>
<div class="line"><span class="lineno"> 4569</span>        <span class="keywordflow">if</span> (! <a class="code hl_function" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_</a>(*s))</div>
<div class="line"><span class="lineno"> 4570</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4571</span>        portnum = (portnum * 10) + (*s - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><span class="lineno"> 4572</span>        <span class="keywordflow">if</span> (portnum &lt; 0)</div>
<div class="line"><span class="lineno"> 4573</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4574</span>        <span class="keywordflow">if</span> (portnum &gt; 65535)</div>
<div class="line"><span class="lineno"> 4575</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4576</span>        ++s;</div>
<div class="line"><span class="lineno"> 4577</span>    }</div>
<div class="line"><span class="lineno"> 4578</span>    <span class="keywordflow">return</span> portnum;</div>
<div class="line"><span class="lineno"> 4579</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04627">parse_authority()</a>.</p>

</div>
</div>
<a id="ac1b09ff2441d8c20690a822595631b96" name="ac1b09ff2441d8c20690a822595631b96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1b09ff2441d8c20690a822595631b96">&#9670;&nbsp;</a></span>path_matches_noscheme()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int path_matches_noscheme </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04752">4752</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4753</span>{</div>
<div class="line"><span class="lineno"> 4754</span>    <span class="keywordflow">while</span> (*cp) {</div>
<div class="line"><span class="lineno"> 4755</span>        <span class="keywordflow">if</span> (*cp == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno"> 4756</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4757</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*cp == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 4758</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 4759</span>        ++cp;</div>
<div class="line"><span class="lineno"> 4760</span>    }</div>
<div class="line"><span class="lineno"> 4761</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 4762</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04771">evhttp_uri_parse_with_flags()</a>.</p>

</div>
</div>
<a id="ac1683680e128df804c6895207849f5f6" name="ac1683680e128df804c6895207849f5f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1683680e128df804c6895207849f5f6">&#9670;&nbsp;</a></span>prefix_suffix_match()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int prefix_suffix_match </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ignorecase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03363">3363</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3364</span>{</div>
<div class="line"><span class="lineno"> 3365</span>    <span class="keywordtype">char</span> c;</div>
<div class="line"><span class="lineno"> 3366</span> </div>
<div class="line"><span class="lineno"> 3367</span>    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><span class="lineno"> 3368</span>        <span class="keywordflow">switch</span> (c = *pattern++) {</div>
<div class="line"><span class="lineno"> 3369</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:</div>
<div class="line"><span class="lineno"> 3370</span>            <span class="keywordflow">return</span> *name == <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 3371</span> </div>
<div class="line"><span class="lineno"> 3372</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>:</div>
<div class="line"><span class="lineno"> 3373</span>            <span class="keywordflow">while</span> (*name != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><span class="lineno"> 3374</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#ac1683680e128df804c6895207849f5f6">prefix_suffix_match</a>(pattern, name,</div>
<div class="line"><span class="lineno"> 3375</span>                    ignorecase))</div>
<div class="line"><span class="lineno"> 3376</span>                    <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno"> 3377</span>                ++name;</div>
<div class="line"><span class="lineno"> 3378</span>            }</div>
<div class="line"><span class="lineno"> 3379</span>            <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 3380</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3381</span>            <span class="keywordflow">if</span> (c != *name) {</div>
<div class="line"><span class="lineno"> 3382</span>                <span class="keywordflow">if</span> (!ignorecase ||</div>
<div class="line"><span class="lineno"> 3383</span>                    <a class="code hl_function" href="evutil_8c.html#a0a64c0df26697fbbab61bd3cb36f5760">EVUTIL_TOLOWER_</a>(c) != <a class="code hl_function" href="evutil_8c.html#a0a64c0df26697fbbab61bd3cb36f5760">EVUTIL_TOLOWER_</a>(*name))</div>
<div class="line"><span class="lineno"> 3384</span>                    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 3385</span>            }</div>
<div class="line"><span class="lineno"> 3386</span>            ++name;</div>
<div class="line"><span class="lineno"> 3387</span>        }</div>
<div class="line"><span class="lineno"> 3388</span>    }</div>
<div class="line"><span class="lineno"> 3389</span>    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><span class="lineno"> 3390</span>}</div>
<div class="ttc" id="aevutil_8c_html_a0a64c0df26697fbbab61bd3cb36f5760"><div class="ttname"><a href="evutil_8c.html#a0a64c0df26697fbbab61bd3cb36f5760">EVUTIL_TOLOWER_</a></div><div class="ttdeci">char EVUTIL_TOLOWER_(char c)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02383">evutil.c:2383</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02383">EVUTIL_TOLOWER_()</a>, and <a class="el" href="http_8c_source.html#l03363">prefix_suffix_match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03436">evhttp_find_vhost()</a>, and <a class="el" href="http_8c_source.html#l03363">prefix_suffix_match()</a>.</p>

</div>
</div>
<a id="aca94ba592795d222395bdc7dc2351283" name="aca94ba592795d222395bdc7dc2351283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca94ba592795d222395bdc7dc2351283">&#9670;&nbsp;</a></span>regname_ok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int regname_ok </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04548">4548</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4549</span>{</div>
<div class="line"><span class="lineno"> 4550</span>    <span class="keywordflow">while</span> (s &amp;&amp; s&lt;eos) {</div>
<div class="line"><span class="lineno"> 4551</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="http_8c.html#a3196dc56717a368635e6a375e77df11e">CHAR_IS_UNRESERVED</a>(*s) ||</div>
<div class="line"><span class="lineno"> 4552</span>            strchr(<a class="code hl_define" href="http_8c.html#afa791968cc0b7487ff1c9262ac44a2ed">SUBDELIMS</a>, *s))</div>
<div class="line"><span class="lineno"> 4553</span>            ++s;</div>
<div class="line"><span class="lineno"> 4554</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;%&#39;</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 4555</span>            <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(s[1]) &amp;&amp;</div>
<div class="line"><span class="lineno"> 4556</span>            <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(s[2]))</div>
<div class="line"><span class="lineno"> 4557</span>            s += 3;</div>
<div class="line"><span class="lineno"> 4558</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4559</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4560</span>    }</div>
<div class="line"><span class="lineno"> 4561</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 4562</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03102">CHAR_IS_UNRESERVED</a>, <a class="el" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_()</a>, and <a class="el" href="http_8c_source.html#l04526">SUBDELIMS</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l05078">evhttp_uri_set_host()</a>, and <a class="el" href="http_8c_source.html#l04627">parse_authority()</a>.</p>

</div>
</div>
<a id="a5a14e3fee977494783b7d2c6d71b5e96" name="a5a14e3fee977494783b7d2c6d71b5e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a14e3fee977494783b7d2c6d71b5e96">&#9670;&nbsp;</a></span>scheme_ok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int scheme_ok </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04510">4510</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4511</span>{</div>
<div class="line"><span class="lineno"> 4512</span>    <span class="comment">/* scheme = ALPHA *( ALPHA / DIGIT / &quot;+&quot; / &quot;-&quot; / &quot;.&quot; ) */</span></div>
<div class="line"><span class="lineno"> 4513</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(eos &gt;= s);</div>
<div class="line"><span class="lineno"> 4514</span>    <span class="keywordflow">if</span> (s == eos)</div>
<div class="line"><span class="lineno"> 4515</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4516</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="util-internal_8h.html#a5380d84d53ceacdd0cbcaba8bef2a341">EVUTIL_ISALPHA_</a>(*s))</div>
<div class="line"><span class="lineno"> 4517</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4518</span>    <span class="keywordflow">while</span> (++s &lt; eos) {</div>
<div class="line"><span class="lineno"> 4519</span>        <span class="keywordflow">if</span> (! <a class="code hl_function" href="util-internal_8h.html#ac0cf3b8ae3465e76386c95b63af2be65">EVUTIL_ISALNUM_</a>(*s) &amp;&amp;</div>
<div class="line"><span class="lineno"> 4520</span>            *s != <span class="charliteral">&#39;+&#39;</span> &amp;&amp; *s != <span class="charliteral">&#39;-&#39;</span> &amp;&amp; *s != <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno"> 4521</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4522</span>    }</div>
<div class="line"><span class="lineno"> 4523</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 4524</span>}</div>
<div class="ttc" id="autil-internal_8h_html_a5380d84d53ceacdd0cbcaba8bef2a341"><div class="ttname"><a href="util-internal_8h.html#a5380d84d53ceacdd0cbcaba8bef2a341">EVUTIL_ISALPHA_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int EVUTIL_ISALPHA_(char c)</div></div>
<div class="ttc" id="autil-internal_8h_html_ac0cf3b8ae3465e76386c95b63af2be65"><div class="ttname"><a href="util-internal_8h.html#ac0cf3b8ae3465e76386c95b63af2be65">EVUTIL_ISALNUM_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int EVUTIL_ISALNUM_(char c)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="util-internal_8h.html#ac0cf3b8ae3465e76386c95b63af2be65">EVUTIL_ISALNUM_()</a>, and <a class="el" href="util-internal_8h.html#a5380d84d53ceacdd0cbcaba8bef2a341">EVUTIL_ISALPHA_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04771">evhttp_uri_parse_with_flags()</a>, and <a class="el" href="http_8c_source.html#l05061">evhttp_uri_set_scheme()</a>.</p>

</div>
</div>
<a id="a844fbdb1603906de8cd282f2f5a649a4" name="a844fbdb1603906de8cd282f2f5a649a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a844fbdb1603906de8cd282f2f5a649a4">&#9670;&nbsp;</a></span>strsep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * strsep </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>del</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00214">214</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  215</span>{</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordtype">char</span> *d, *tok;</div>
<div class="line"><span class="lineno">  217</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(strlen(del) == 1);</div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">if</span> (!s || !*s)</div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  220</span>    tok = *s;</div>
<div class="line"><span class="lineno">  221</span>    d = strstr(tok, del);</div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">if</span> (d) {</div>
<div class="line"><span class="lineno">  223</span>        *d = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  224</span>        *s = d + 1;</div>
<div class="line"><span class="lineno">  225</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  226</span>        *s = NULL;</div>
<div class="line"><span class="lineno">  227</span>    <span class="keywordflow">return</span> tok;</div>
<div class="line"><span class="lineno">  228</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02096">evhttp_parse_headers_()</a>, <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>, <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>, and <a class="el" href="http_8c_source.html#l01682">evhttp_parse_response_line()</a>.</p>

</div>
</div>
<a id="a342e15133adfb52f0ae97eb8939147e8" name="a342e15133adfb52f0ae97eb8939147e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a342e15133adfb52f0ae97eb8939147e8">&#9670;&nbsp;</a></span>userinfo_ok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int userinfo_ok </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l04530">4530</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4531</span>{</div>
<div class="line"><span class="lineno"> 4532</span>    <span class="keywordflow">while</span> (s &lt; eos) {</div>
<div class="line"><span class="lineno"> 4533</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="http_8c.html#a3196dc56717a368635e6a375e77df11e">CHAR_IS_UNRESERVED</a>(*s) ||</div>
<div class="line"><span class="lineno"> 4534</span>            strchr(<a class="code hl_define" href="http_8c.html#afa791968cc0b7487ff1c9262ac44a2ed">SUBDELIMS</a>, *s) ||</div>
<div class="line"><span class="lineno"> 4535</span>            *s == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno"> 4536</span>            ++s;</div>
<div class="line"><span class="lineno"> 4537</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; s+2 &lt; eos &amp;&amp;</div>
<div class="line"><span class="lineno"> 4538</span>            <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(s[1]) &amp;&amp;</div>
<div class="line"><span class="lineno"> 4539</span>            <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(s[2]))</div>
<div class="line"><span class="lineno"> 4540</span>            s += 3;</div>
<div class="line"><span class="lineno"> 4541</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4542</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4543</span>    }</div>
<div class="line"><span class="lineno"> 4544</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 4545</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l03102">CHAR_IS_UNRESERVED</a>, <a class="el" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_()</a>, and <a class="el" href="http_8c_source.html#l04526">SUBDELIMS</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l05070">evhttp_uri_set_userinfo()</a>, and <a class="el" href="http_8c_source.html#l04627">parse_authority()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2782b4a91a825efc366116d9bd93eec6" name="a2782b4a91a825efc366116d9bd93eec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2782b4a91a825efc366116d9bd93eec6">&#9670;&nbsp;</a></span>client_error_phrases</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* client_error_phrases[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">     <span class="stringliteral">&quot;Bad Request&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Unauthorized&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Payment Required&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Forbidden&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Not Found&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Method Not Allowed&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Not Acceptable&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Proxy Authentication Required&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Request Time-out&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Conflict&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Gone&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Length Required&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Precondition Failed&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Request Entity Too Large&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Request-URI Too Large&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Unsupported Media Type&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Requested range not satisfiable&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Expectation Failed&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02980">2980</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="ac3e1795766a80ec63b157951b4b9a7d4" name="ac3e1795766a80ec63b157951b4b9a7d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3e1795766a80ec63b157951b4b9a7d4">&#9670;&nbsp;</a></span>debug</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int debug</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l01006">broadcast_tx()</a>, and <a class="el" href="sendtx_8c_source.html#l00094">main()</a>.</p>

</div>
</div>
<a id="a044ed559d8c253aab9274b19741d5c5a" name="a044ed559d8c253aab9274b19741d5c5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a044ed559d8c253aab9274b19741d5c5a">&#9670;&nbsp;</a></span>informational_phrases</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* informational_phrases[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">     <span class="stringliteral">&quot;Continue&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Switching Protocols&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02955">2955</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="a3c0a67795fad488dadb3da40dd1350ef" name="a3c0a67795fad488dadb3da40dd1350ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c0a67795fad488dadb3da40dd1350ef">&#9670;&nbsp;</a></span>redirection_phrases</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* redirection_phrases[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">     <span class="stringliteral">&quot;Multiple Choices&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Moved Permanently&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Found&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;See Other&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Not Modified&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Use Proxy&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Temporary Redirect&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02970">2970</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="affaa67a76051a24c0975b2bb6adf4e78" name="affaa67a76051a24c0975b2bb6adf4e78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affaa67a76051a24c0975b2bb6adf4e78">&#9670;&nbsp;</a></span>response_classes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structresponse__class.html">response_class</a> response_classes[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">     { <span class="stringliteral">&quot;Informational&quot;</span>, <a class="code hl_define" href="http_8c.html#aa28a3b1f039fa3f5cb598eb1005a98f5">MEMBERSOF</a>(<a class="code hl_variable" href="http_8c.html#a044ed559d8c253aab9274b19741d5c5a">informational_phrases</a>), <a class="code hl_variable" href="http_8c.html#a044ed559d8c253aab9274b19741d5c5a">informational_phrases</a> },</div>
<div class="line">     { <span class="stringliteral">&quot;Success&quot;</span>, <a class="code hl_define" href="http_8c.html#aa28a3b1f039fa3f5cb598eb1005a98f5">MEMBERSOF</a>(<a class="code hl_variable" href="http_8c.html#ab4cd6edbbbefa1cb60a6bac3ac3b2dbb">success_phrases</a>), <a class="code hl_variable" href="http_8c.html#ab4cd6edbbbefa1cb60a6bac3ac3b2dbb">success_phrases</a> },</div>
<div class="line">     { <span class="stringliteral">&quot;Redirection&quot;</span>, <a class="code hl_define" href="http_8c.html#aa28a3b1f039fa3f5cb598eb1005a98f5">MEMBERSOF</a>(<a class="code hl_variable" href="http_8c.html#a3c0a67795fad488dadb3da40dd1350ef">redirection_phrases</a>), <a class="code hl_variable" href="http_8c.html#a3c0a67795fad488dadb3da40dd1350ef">redirection_phrases</a> },</div>
<div class="line">     { <span class="stringliteral">&quot;Client Error&quot;</span>, <a class="code hl_define" href="http_8c.html#aa28a3b1f039fa3f5cb598eb1005a98f5">MEMBERSOF</a>(<a class="code hl_variable" href="http_8c.html#a2782b4a91a825efc366116d9bd93eec6">client_error_phrases</a>), <a class="code hl_variable" href="http_8c.html#a2782b4a91a825efc366116d9bd93eec6">client_error_phrases</a> },</div>
<div class="line">     { <span class="stringliteral">&quot;Server Error&quot;</span>, <a class="code hl_define" href="http_8c.html#aa28a3b1f039fa3f5cb598eb1005a98f5">MEMBERSOF</a>(<a class="code hl_variable" href="http_8c.html#aa66c6da0e881a12fc0481b0c4454fe3f">server_error_phrases</a>), <a class="code hl_variable" href="http_8c.html#aa66c6da0e881a12fc0481b0c4454fe3f">server_error_phrases</a> }</div>
<div class="line">}</div>
<div class="ttc" id="ahttp_8c_html_a044ed559d8c253aab9274b19741d5c5a"><div class="ttname"><a href="http_8c.html#a044ed559d8c253aab9274b19741d5c5a">informational_phrases</a></div><div class="ttdeci">static const char * informational_phrases[]</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02955">http.c:2955</a></div></div>
<div class="ttc" id="ahttp_8c_html_a2782b4a91a825efc366116d9bd93eec6"><div class="ttname"><a href="http_8c.html#a2782b4a91a825efc366116d9bd93eec6">client_error_phrases</a></div><div class="ttdeci">static const char * client_error_phrases[]</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02980">http.c:2980</a></div></div>
<div class="ttc" id="ahttp_8c_html_a3c0a67795fad488dadb3da40dd1350ef"><div class="ttname"><a href="http_8c.html#a3c0a67795fad488dadb3da40dd1350ef">redirection_phrases</a></div><div class="ttdeci">static const char * redirection_phrases[]</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02970">http.c:2970</a></div></div>
<div class="ttc" id="ahttp_8c_html_aa66c6da0e881a12fc0481b0c4454fe3f"><div class="ttname"><a href="http_8c.html#aa66c6da0e881a12fc0481b0c4454fe3f">server_error_phrases</a></div><div class="ttdeci">static const char * server_error_phrases[]</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03001">http.c:3001</a></div></div>
<div class="ttc" id="ahttp_8c_html_ab4cd6edbbbefa1cb60a6bac3ac3b2dbb"><div class="ttname"><a href="http_8c.html#ab4cd6edbbbefa1cb60a6bac3ac3b2dbb">success_phrases</a></div><div class="ttdeci">static const char * success_phrases[]</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02960">http.c:2960</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03020">3020</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03029">evhttp_response_phrase_internal()</a>.</p>

</div>
</div>
<a id="aa66c6da0e881a12fc0481b0c4454fe3f" name="aa66c6da0e881a12fc0481b0c4454fe3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66c6da0e881a12fc0481b0c4454fe3f">&#9670;&nbsp;</a></span>server_error_phrases</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* server_error_phrases[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">     <span class="stringliteral">&quot;Internal Server Error&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Not Implemented&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Bad Gateway&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Service Unavailable&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Gateway Time-out&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;HTTP Version not supported&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03001">3001</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="ab4cd6edbbbefa1cb60a6bac3ac3b2dbb" name="ab4cd6edbbbefa1cb60a6bac3ac3b2dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4cd6edbbbefa1cb60a6bac3ac3b2dbb">&#9670;&nbsp;</a></span>success_phrases</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* success_phrases[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">     <span class="stringliteral">&quot;OK&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Created&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Accepted&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Non-Authoritative Information&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;No Content&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Reset Content&quot;</span>,</div>
<div class="line">     <span class="stringliteral">&quot;Partial Content&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02960">2960</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
<a id="a5fe68c89694ff69f6112196e7b932f54" name="a5fe68c89694ff69f6112196e7b932f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fe68c89694ff69f6112196e7b932f54">&#9670;&nbsp;</a></span>uri_chars</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char uri_chars[256]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    </div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 1, 1, 0,</div>
<div class="line">    1, 1, 1, 1, 1, 1, 1, 1,   1, 1, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    </div>
<div class="line">    0, 1, 1, 1, 1, 1, 1, 1,   1, 1, 1, 1, 1, 1, 1, 1,</div>
<div class="line">    1, 1, 1, 1, 1, 1, 1, 1,   1, 1, 1, 0, 0, 0, 0, 1,</div>
<div class="line">    0, 1, 1, 1, 1, 1, 1, 1,   1, 1, 1, 1, 1, 1, 1, 1,</div>
<div class="line">    1, 1, 1, 1, 1, 1, 1, 1,   1, 1, 1, 0, 0, 0, 1, 0,</div>
<div class="line">    </div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    </div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">    0, 0, 0, 0, 0, 0, 0, 0,   0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03079">3079</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
