<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/libevent/event.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_97979c17d049e8002d2e089c4964ead4.html">libevent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">event.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;event2/event-config.h&quot;</code><br />
<code>#include &quot;evconfig-private.h&quot;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &quot;event2/event.h&quot;</code><br />
<code>#include &quot;event2/event_struct.h&quot;</code><br />
<code>#include &quot;event2/event_compat.h&quot;</code><br />
<code>#include &quot;<a class="el" href="event-internal_8h_source.html">event-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="defer-internal_8h_source.html">defer-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="evthread-internal_8h_source.html">evthread-internal.h</a>&quot;</code><br />
<code>#include &quot;event2/thread.h&quot;</code><br />
<code>#include &quot;event2/util.h&quot;</code><br />
<code>#include &quot;<a class="el" href="log-internal_8h_source.html">log-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="evmap-internal_8h_source.html">evmap-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="iocp-internal_8h_source.html">iocp-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="changelist-internal_8h_source.html">changelist-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ht-internal_8h_source.html">ht-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util-internal_8h_source.html">util-internal.h</a>&quot;</code><br />
</div>
<p><a href="event_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevent__debug__entry.html">event_debug_entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:adbe6bea5c138e18910acb95c1b2cbc80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#adbe6bea5c138e18910acb95c1b2cbc80">HT_NO_CACHE_HASH_VALUES</a></td></tr>
<tr class="separator:adbe6bea5c138e18910acb95c1b2cbc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5039afe7dc79383e996caed30fe2b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>&#160;&#160;&#160;<a class="el" href="event_8c.html#a8987b4eff1c8f162193a4eb06073ac9b">event_global_current_base_</a></td></tr>
<tr class="separator:a2b5039afe7dc79383e996caed30fe2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30dad9908d8052d551d84eddf523991a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base)&#160;&#160;&#160;	<a class="el" href="evthread-internal_8h.html#af1b6adfa1212ad399ea01675f784ec28">EVLOCK_ASSERT_LOCKED</a>((base)-&gt;th_base_lock)</td></tr>
<tr class="separator:a30dad9908d8052d551d84eddf523991a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d56fa0b50d78f9e0fb4df0f59a2200b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3d56fa0b50d78f9e0fb4df0f59a2200b">CLOCK_SYNC_INTERVAL</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a3d56fa0b50d78f9e0fb4df0f59a2200b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfba5ca00f9fd8e1e150bd7ca75e13c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>&#160;&#160;&#160;<a class="el" href="event-internal_8h.html#a10dd21aa17242e8fabf9296e8cc36494">COMMON_TIMEOUT_MICROSECONDS_MASK</a></td></tr>
<tr class="separator:a4cfba5ca00f9fd8e1e150bd7ca75e13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eeb1208bd0e5e52ed54e08678552450"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4eeb1208bd0e5e52ed54e08678552450">COMMON_TIMEOUT_IDX_MASK</a>&#160;&#160;&#160;0x0ff00000</td></tr>
<tr class="separator:a4eeb1208bd0e5e52ed54e08678552450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ffd13eba5a76782d922299c3a0ac6b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1ffd13eba5a76782d922299c3a0ac6b8">COMMON_TIMEOUT_IDX_SHIFT</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a1ffd13eba5a76782d922299c3a0ac6b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6896aaffc7cd8cadba9365f3c7f738d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ad6896aaffc7cd8cadba9365f3c7f738d">COMMON_TIMEOUT_MASK</a>&#160;&#160;&#160;0xf0000000</td></tr>
<tr class="separator:ad6896aaffc7cd8cadba9365f3c7f738d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e745a43c8c111761f4297668ebca5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a80e745a43c8c111761f4297668ebca5f">COMMON_TIMEOUT_MAGIC</a>&#160;&#160;&#160;0x50000000</td></tr>
<tr class="separator:a80e745a43c8c111761f4297668ebca5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b06e24327bbf239360f3b3f806957d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a8b06e24327bbf239360f3b3f806957d5">COMMON_TIMEOUT_IDX</a>(tv)&#160;&#160;&#160;	(((tv)-&gt;tv_usec &amp; <a class="el" href="event_8c.html#a4eeb1208bd0e5e52ed54e08678552450">COMMON_TIMEOUT_IDX_MASK</a>)&gt;&gt;<a class="el" href="event_8c.html#a1ffd13eba5a76782d922299c3a0ac6b8">COMMON_TIMEOUT_IDX_SHIFT</a>)</td></tr>
<tr class="separator:a8b06e24327bbf239360f3b3f806957d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c3d3492b7e0e5ef024ffe62f785ed3d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a5c3d3492b7e0e5ef024ffe62f785ed3d">MAX_COMMON_TIMEOUTS</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a5c3d3492b7e0e5ef024ffe62f785ed3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bbc669ae0ec28967fba4859053715b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a6bbc669ae0ec28967fba4859053715b7">EVENT_FINALIZE_FREE_</a>&#160;&#160;&#160;0x10000</td></tr>
<tr class="separator:a6bbc669ae0ec28967fba4859053715b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ddc861aa1b56a2ab1d450e4bb6f249"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a94ddc861aa1b56a2ab1d450e4bb6f249">MAX_DEFERREDS_QUEUED</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a94ddc861aa1b56a2ab1d450e4bb6f249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa99ec4acc4ecb2dc3c2d05da15d0e3f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(a,  b)&#160;&#160;&#160;(((a)&gt;(b))?(a):(b))</td></tr>
<tr class="separator:afa99ec4acc4ecb2dc3c2d05da15d0e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a256de7de21d779b6aa35f78eb8dfe528"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a256de7de21d779b6aa35f78eb8dfe528">MAX_EVENT_COUNT</a>(var,  v)&#160;&#160;&#160;var = <a class="el" href="event_8c.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(var, v)</td></tr>
<tr class="separator:a256de7de21d779b6aa35f78eb8dfe528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd333867b976433dc3d1a7350d88812f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#acd333867b976433dc3d1a7350d88812f">DECR_EVENT_COUNT</a>(base,  flags)&#160;&#160;&#160;	((base)-&gt;event_count -= !((flags) &amp; EVLIST_INTERNAL))</td></tr>
<tr class="separator:acd333867b976433dc3d1a7350d88812f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a822ea8ac11948faaa7c49b8f7a98417a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a822ea8ac11948faaa7c49b8f7a98417a">INCR_EVENT_COUNT</a>(base,  flags)</td></tr>
<tr class="separator:a822ea8ac11948faaa7c49b8f7a98417a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a29354e3bb874319f2705638f5e8351e4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a29354e3bb874319f2705638f5e8351e4">event_queue_insert_active</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event_callback *)</td></tr>
<tr class="separator:a29354e3bb874319f2705638f5e8351e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b4599275afb12bce1cc6f857aa69af9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a5b4599275afb12bce1cc6f857aa69af9">event_queue_insert_active_later</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event_callback *)</td></tr>
<tr class="separator:a5b4599275afb12bce1cc6f857aa69af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3216b39db4357b40755d35660a235116"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3216b39db4357b40755d35660a235116">event_queue_insert_timeout</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event *)</td></tr>
<tr class="separator:a3216b39db4357b40755d35660a235116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaae07804a434ebfed9249b186ff5d85"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#adaae07804a434ebfed9249b186ff5d85">event_queue_insert_inserted</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event *)</td></tr>
<tr class="separator:adaae07804a434ebfed9249b186ff5d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05756f811bfc57faa1781b4c8ea20e3b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event_callback *)</td></tr>
<tr class="separator:a05756f811bfc57faa1781b4c8ea20e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4082af1e928ea13dd2c3f7f2c66fbe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4c4082af1e928ea13dd2c3f7f2c66fbe">event_queue_remove_active_later</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event_callback *)</td></tr>
<tr class="separator:a4c4082af1e928ea13dd2c3f7f2c66fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eca687246bc048effecda8ab8db6038"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a9eca687246bc048effecda8ab8db6038">event_queue_remove_timeout</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event *)</td></tr>
<tr class="separator:a9eca687246bc048effecda8ab8db6038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae03ffa551133afc1e89513464962642e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ae03ffa551133afc1e89513464962642e">event_queue_remove_inserted</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event *)</td></tr>
<tr class="separator:ae03ffa551133afc1e89513464962642e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d65a3e71e17c0b18c26419b3e2afa46"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a9d65a3e71e17c0b18c26419b3e2afa46">event_queue_make_later_events_active</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a9d65a3e71e17c0b18c26419b3e2afa46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4444871a14549a8dd747c526599c52a1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4444871a14549a8dd747c526599c52a1">evthread_make_base_notifiable_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a4444871a14549a8dd747c526599c52a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea9ace3dc6fd5235ee31f4891f72a52"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4ea9ace3dc6fd5235ee31f4891f72a52">event_del_</a> (struct event *ev, int blocking)</td></tr>
<tr class="separator:a4ea9ace3dc6fd5235ee31f4891f72a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60fd389521c61b379ef338b995e06eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a60fd389521c61b379ef338b995e06eae">event_haveevents</a> (struct <a class="el" href="structevent__base.html">event_base</a> *)</td></tr>
<tr class="separator:a60fd389521c61b379ef338b995e06eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b01c8be58badeafa97edb197f183cbd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a8b01c8be58badeafa97edb197f183cbd">event_process_active</a> (struct <a class="el" href="structevent__base.html">event_base</a> *)</td></tr>
<tr class="separator:a8b01c8be58badeafa97edb197f183cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20bdbb1a2969d82b124b9dab0d9eefc7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a20bdbb1a2969d82b124b9dab0d9eefc7">timeout_next</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct timeval **)</td></tr>
<tr class="separator:a20bdbb1a2969d82b124b9dab0d9eefc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab376e44421907675a1e700a08aac70f4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ab376e44421907675a1e700a08aac70f4">timeout_process</a> (struct <a class="el" href="structevent__base.html">event_base</a> *)</td></tr>
<tr class="separator:ab376e44421907675a1e700a08aac70f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c32a99f53efd3ca27f6141f25f25bb3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a0c32a99f53efd3ca27f6141f25f25bb3">event_signal_closure</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event *ev)</td></tr>
<tr class="separator:a0c32a99f53efd3ca27f6141f25f25bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b12182f0e9d2dd242577276885def20"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a2b12182f0e9d2dd242577276885def20">event_persist_closure</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event *ev)</td></tr>
<tr class="separator:a2b12182f0e9d2dd242577276885def20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba00a4b368970f5f6e2c5e39e5556e1e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:aba00a4b368970f5f6e2c5e39e5556e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f967d431edde0056f824b1d88553548"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4f967d431edde0056f824b1d88553548">insert_common_timeout_inorder</a> (struct <a class="el" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl, struct event *ev)</td></tr>
<tr class="separator:a4f967d431edde0056f824b1d88553548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf94acac986b033c7e2e546caee8c7f"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#abaf94acac986b033c7e2e546caee8c7f">hash_debug_entry</a> (const struct <a class="el" href="structevent__debug__entry.html">event_debug_entry</a> *e)</td></tr>
<tr class="separator:abaf94acac986b033c7e2e546caee8c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea5f1e996237a311d41a0fa2e122227"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a8ea5f1e996237a311d41a0fa2e122227">eq_debug_entry</a> (const struct <a class="el" href="structevent__debug__entry.html">event_debug_entry</a> *a, const struct <a class="el" href="structevent__debug__entry.html">event_debug_entry</a> *b)</td></tr>
<tr class="separator:a8ea5f1e996237a311d41a0fa2e122227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b68d59031aca7286dbf643d040d7d18"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a5b68d59031aca7286dbf643d040d7d18">HT_HEAD</a> (<a class="el" href="ht-internal_8h.html#a3915ddaaf31e1e14c7929231e833aebe">HT_PROTOTYPE</a>(event_debug_map, <a class="el" href="ht-internal_8h.html#a3915ddaaf31e1e14c7929231e833aebe">HT_PROTOTYPE</a>(<a class="el" href="structevent__debug__entry.html">event_debug_entry</a>)</td></tr>
<tr class="separator:a5b68d59031aca7286dbf643d040d7d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ec4c017e2a70437572170a15f2e88e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ab9ec4c017e2a70437572170a15f2e88e">event_debug_note_teardown_</a> (const struct event *ev)</td></tr>
<tr class="separator:ab9ec4c017e2a70437572170a15f2e88e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29eac5ce653c0400f9dc5b2f48d82d38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a29eac5ce653c0400f9dc5b2f48d82d38">event_debug_note_add_</a> (const struct event *ev)</td></tr>
<tr class="separator:a29eac5ce653c0400f9dc5b2f48d82d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f768cf7a31be418a8bf277bf2f92776"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a2f768cf7a31be418a8bf277bf2f92776">event_debug_note_del_</a> (const struct event *ev)</td></tr>
<tr class="separator:a2f768cf7a31be418a8bf277bf2f92776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336acd34fef64d9dccadb70c8239a979"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a> (const struct event *ev)</td></tr>
<tr class="separator:a336acd34fef64d9dccadb70c8239a979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3a5b8c786d7e972cd38b46f71162ac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a8f3a5b8c786d7e972cd38b46f71162ac">event_debug_assert_not_added_</a> (const struct event *ev)</td></tr>
<tr class="separator:a8f3a5b8c786d7e972cd38b46f71162ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15afe34bc83a53cf1fe585050ddbf03d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a15afe34bc83a53cf1fe585050ddbf03d">event_debug_assert_socket_nonblocking_</a> (evutil_socket_t fd)</td></tr>
<tr class="separator:a15afe34bc83a53cf1fe585050ddbf03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408d8860367b435d7919b7582acfec0b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct timeval *tp)</td></tr>
<tr class="separator:a408d8860367b435d7919b7582acfec0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d2129d47590c53d166f8c09afee865"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ad1d2129d47590c53d166f8c09afee865">event_base_gettimeofday_cached</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct timeval *tv)</td></tr>
<tr class="separator:ad1d2129d47590c53d166f8c09afee865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cab0b11c4b175f2ebb396ccecc19a7f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a6cab0b11c4b175f2ebb396ccecc19a7f">clear_time_cache</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a6cab0b11c4b175f2ebb396ccecc19a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9ef2944751ee9f5fa2ac4f9aac308d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1d9ef2944751ee9f5fa2ac4f9aac308d">update_time_cache</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a1d9ef2944751ee9f5fa2ac4f9aac308d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3afe5fbe0b7a0acfccef86a88b9c7923"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3afe5fbe0b7a0acfccef86a88b9c7923">event_base_update_cache_time</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a3afe5fbe0b7a0acfccef86a88b9c7923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192dd5b45e3aa491374f90bc4b629a77"><td class="memItemLeft" align="right" valign="top">static struct event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a> (struct event_callback *evcb)</td></tr>
<tr class="separator:a192dd5b45e3aa491374f90bc4b629a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a983e7de51e0271404f0801df799876bc"><td class="memItemLeft" align="right" valign="top">static struct event_callback *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a> (struct event *ev)</td></tr>
<tr class="separator:a983e7de51e0271404f0801df799876bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c7f959030c4e3365e7c70463183b544"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a0c7f959030c4e3365e7c70463183b544">event_init</a> (void)</td></tr>
<tr class="separator:a0c7f959030c4e3365e7c70463183b544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2c4715fc2862254106a022cad0faeb"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a8b2c4715fc2862254106a022cad0faeb">event_base_new</a> (void)</td></tr>
<tr class="separator:a8b2c4715fc2862254106a022cad0faeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6efc536ab673d187a3277e52214e0c34"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a6efc536ab673d187a3277e52214e0c34">event_config_is_avoided_method</a> (const struct <a class="el" href="structevent__config.html">event_config</a> *cfg, const char *method)</td></tr>
<tr class="separator:a6efc536ab673d187a3277e52214e0c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96221d1985aeb0265ed74c8a9f9a950"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ab96221d1985aeb0265ed74c8a9f9a950">event_is_method_disabled</a> (const char *name)</td></tr>
<tr class="separator:ab96221d1985aeb0265ed74c8a9f9a950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11cb58563e8b5da36f00db2e250d026c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a11cb58563e8b5da36f00db2e250d026c">event_base_get_features</a> (const struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a11cb58563e8b5da36f00db2e250d026c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3472400b8b1802550df2242673a6da37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3472400b8b1802550df2242673a6da37">event_enable_debug_mode</a> (void)</td></tr>
<tr class="separator:a3472400b8b1802550df2242673a6da37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6954084f09f614ffbafb1b85e86a27b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ad6954084f09f614ffbafb1b85e86a27b">event_disable_debug_mode</a> (void)</td></tr>
<tr class="separator:ad6954084f09f614ffbafb1b85e86a27b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7a163752e4648994234106d2aead255"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ab7a163752e4648994234106d2aead255">event_base_new_with_config</a> (const struct <a class="el" href="structevent__config.html">event_config</a> *cfg)</td></tr>
<tr class="separator:ab7a163752e4648994234106d2aead255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11bceab360672f72b8b7665bc22d1437"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a11bceab360672f72b8b7665bc22d1437">event_base_start_iocp_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int n_cpus)</td></tr>
<tr class="separator:a11bceab360672f72b8b7665bc22d1437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58a3c3c0a62757a3e71ae7685fe5bccb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a58a3c3c0a62757a3e71ae7685fe5bccb">event_base_stop_iocp_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a58a3c3c0a62757a3e71ae7685fe5bccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2757fc47d617e38e666774c53986ade4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a2757fc47d617e38e666774c53986ade4">event_base_cancel_single_callback_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *evcb, int run_finalizers)</td></tr>
<tr class="separator:a2757fc47d617e38e666774c53986ade4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02db517cfebd53086331975c244489de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a02db517cfebd53086331975c244489de">event_base_free_queues_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int run_finalizers)</td></tr>
<tr class="separator:a02db517cfebd53086331975c244489de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ee11f667d00aa5349db180f11dcc1e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a96ee11f667d00aa5349db180f11dcc1e">event_base_free_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int run_finalizers)</td></tr>
<tr class="separator:a96ee11f667d00aa5349db180f11dcc1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6e0464db75acfb8a4cb6ee11248e9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a8d6e0464db75acfb8a4cb6ee11248e9e">event_base_free_nofinalize</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a8d6e0464db75acfb8a4cb6ee11248e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4f9733901aefc1a4ed1ac6b423d79d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#acb4f9733901aefc1a4ed1ac6b423d79d">event_base_free</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:acb4f9733901aefc1a4ed1ac6b423d79d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4758a46e8f68119e0c40d3532c12c272"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4758a46e8f68119e0c40d3532c12c272">nil_backend_del</a> (struct <a class="el" href="structevent__base.html">event_base</a> *b, evutil_socket_t fd, short old, short events, void *fdinfo)</td></tr>
<tr class="separator:a4758a46e8f68119e0c40d3532c12c272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7409499a79a59842955928af446fe03d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a7409499a79a59842955928af446fe03d">event_reinit</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a7409499a79a59842955928af446fe03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73bc174db4b751d3a7a81cb7dec17b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#af73bc174db4b751d3a7a81cb7dec17b5">event_gettime_monotonic</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct timeval *tv)</td></tr>
<tr class="separator:af73bc174db4b751d3a7a81cb7dec17b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32a6f2d82ca250cc8ef0e226b523b61"><td class="memItemLeft" align="right" valign="top">const char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aa32a6f2d82ca250cc8ef0e226b523b61">event_get_supported_methods</a> (void)</td></tr>
<tr class="separator:aa32a6f2d82ca250cc8ef0e226b523b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879ba599814d0d404a35c8202cd06fce"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevent__config.html">event_config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a879ba599814d0d404a35c8202cd06fce">event_config_new</a> (void)</td></tr>
<tr class="separator:a879ba599814d0d404a35c8202cd06fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18cf13f12f6fcccb216e1864d42dd80a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a18cf13f12f6fcccb216e1864d42dd80a">event_config_entry_free</a> (struct <a class="el" href="structevent__config__entry.html">event_config_entry</a> *entry)</td></tr>
<tr class="separator:a18cf13f12f6fcccb216e1864d42dd80a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a605f44836f97bb031776a7f70d53d719"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a605f44836f97bb031776a7f70d53d719">event_config_free</a> (struct <a class="el" href="structevent__config.html">event_config</a> *cfg)</td></tr>
<tr class="separator:a605f44836f97bb031776a7f70d53d719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b2697c7927fcd2167a1749f6602f29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ac4b2697c7927fcd2167a1749f6602f29">event_config_set_flag</a> (struct <a class="el" href="structevent__config.html">event_config</a> *cfg, int flag)</td></tr>
<tr class="separator:ac4b2697c7927fcd2167a1749f6602f29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961de3fb39a12ff67ff030bb3caacba2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a961de3fb39a12ff67ff030bb3caacba2">event_config_avoid_method</a> (struct <a class="el" href="structevent__config.html">event_config</a> *cfg, const char *method)</td></tr>
<tr class="separator:a961de3fb39a12ff67ff030bb3caacba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b230575cc7667a8119f4f7bfa9ce23"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aa2b230575cc7667a8119f4f7bfa9ce23">event_config_require_features</a> (struct <a class="el" href="structevent__config.html">event_config</a> *cfg, int features)</td></tr>
<tr class="separator:aa2b230575cc7667a8119f4f7bfa9ce23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa12ff91d766988a170cab43c53f66143"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aa12ff91d766988a170cab43c53f66143">event_config_set_num_cpus_hint</a> (struct <a class="el" href="structevent__config.html">event_config</a> *cfg, int cpus)</td></tr>
<tr class="separator:aa12ff91d766988a170cab43c53f66143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce79ea64f2fb7074487672801a1ad20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4ce79ea64f2fb7074487672801a1ad20">event_config_set_max_dispatch_interval</a> (struct <a class="el" href="structevent__config.html">event_config</a> *cfg, const struct timeval *max_interval, int max_callbacks, int min_priority)</td></tr>
<tr class="separator:a4ce79ea64f2fb7074487672801a1ad20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c905da5fa075f729a372dfc1586e54d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a2c905da5fa075f729a372dfc1586e54d">event_priority_init</a> (int npriorities)</td></tr>
<tr class="separator:a2c905da5fa075f729a372dfc1586e54d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d68c2a08de3f05fdb7a3c466ad33f37"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a6d68c2a08de3f05fdb7a3c466ad33f37">event_base_priority_init</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int npriorities)</td></tr>
<tr class="separator:a6d68c2a08de3f05fdb7a3c466ad33f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69fcc6b3b1ed8435f0e500aee8ef2fb7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a69fcc6b3b1ed8435f0e500aee8ef2fb7">event_base_get_npriorities</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a69fcc6b3b1ed8435f0e500aee8ef2fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917a85b0b4757af435af506f58e424be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a917a85b0b4757af435af506f58e424be">event_base_get_num_events</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, unsigned int type)</td></tr>
<tr class="separator:a917a85b0b4757af435af506f58e424be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bdda2e583d7bdd761129ae87a9906ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1bdda2e583d7bdd761129ae87a9906ec">event_base_get_max_events</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, unsigned int type, int clear)</td></tr>
<tr class="separator:a1bdda2e583d7bdd761129ae87a9906ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e45fc3b40aa101c03ce6b199483ca6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a> (const struct timeval *tv, const struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a23e45fc3b40aa101c03ce6b199483ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d33db512943366b94669dd3f02f20f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a32d33db512943366b94669dd3f02f20f">is_same_common_timeout</a> (const struct timeval *tv1, const struct timeval *tv2)</td></tr>
<tr class="separator:a32d33db512943366b94669dd3f02f20f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca5c888c116f4c7fe12e343185d53dc4"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcommon__timeout__list.html">common_timeout_list</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aca5c888c116f4c7fe12e343185d53dc4">get_common_timeout_list</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, const struct timeval *tv)</td></tr>
<tr class="separator:aca5c888c116f4c7fe12e343185d53dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0fac51d097b72263336b550c404bcd0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aa0fac51d097b72263336b550c404bcd0">common_timeout_schedule</a> (struct <a class="el" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl, const struct timeval *now, struct event *head)</td></tr>
<tr class="separator:aa0fac51d097b72263336b550c404bcd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dcb84e3b30ccf928c9a9dbd145e5d6c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a7dcb84e3b30ccf928c9a9dbd145e5d6c">common_timeout_callback</a> (evutil_socket_t fd, short what, void *arg)</td></tr>
<tr class="separator:a7dcb84e3b30ccf928c9a9dbd145e5d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e2198633d234b9a27fdcf0a770ccabc"><td class="memItemLeft" align="right" valign="top">const struct timeval *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a8e2198633d234b9a27fdcf0a770ccabc">event_base_init_common_timeout</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, const struct timeval *duration)</td></tr>
<tr class="separator:a8e2198633d234b9a27fdcf0a770ccabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4908f655c55d6d3697beb999fce3f08"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ab4908f655c55d6d3697beb999fce3f08">event_process_active_single_queue</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct evcallback_list *activeq, int max_to_process, const struct timeval *endtime)</td></tr>
<tr class="separator:ab4908f655c55d6d3697beb999fce3f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4991bceb8aaf33545d1fc857230b51"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1f4991bceb8aaf33545d1fc857230b51">event_dispatch</a> (void)</td></tr>
<tr class="separator:a1f4991bceb8aaf33545d1fc857230b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd4c8a042a3774a0702d480faa991bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aafd4c8a042a3774a0702d480faa991bf">event_base_dispatch</a> (struct <a class="el" href="structevent__base.html">event_base</a> *<a class="el" href="structevent__base.html">event_base</a>)</td></tr>
<tr class="separator:aafd4c8a042a3774a0702d480faa991bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2127d8ff574cc6a4d447152faea36f5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#af2127d8ff574cc6a4d447152faea36f5">event_base_get_method</a> (const struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:af2127d8ff574cc6a4d447152faea36f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50f0db214d663b8c14438e239d5a0a1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ae50f0db214d663b8c14438e239d5a0a1">event_loopexit_cb</a> (evutil_socket_t fd, short what, void *arg)</td></tr>
<tr class="separator:ae50f0db214d663b8c14438e239d5a0a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fe6872e98045d4faae04b34435350c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a6fe6872e98045d4faae04b34435350c1">event_loopexit</a> (const struct timeval *tv)</td></tr>
<tr class="separator:a6fe6872e98045d4faae04b34435350c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7c2305ba546a94caa59ca1fe1612b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aeb7c2305ba546a94caa59ca1fe1612b1">event_base_loopexit</a> (struct <a class="el" href="structevent__base.html">event_base</a> *<a class="el" href="structevent__base.html">event_base</a>, const struct timeval *tv)</td></tr>
<tr class="separator:aeb7c2305ba546a94caa59ca1fe1612b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5c57caea1d97160f6990b3deeb6961"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3a5c57caea1d97160f6990b3deeb6961">event_loopbreak</a> (void)</td></tr>
<tr class="separator:a3a5c57caea1d97160f6990b3deeb6961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dcd552c5794323ab9c444e9a53d4cdf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a0dcd552c5794323ab9c444e9a53d4cdf">event_base_loopbreak</a> (struct <a class="el" href="structevent__base.html">event_base</a> *<a class="el" href="structevent__base.html">event_base</a>)</td></tr>
<tr class="separator:a0dcd552c5794323ab9c444e9a53d4cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3be75dd84012328e27da7c78c754ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a7f3be75dd84012328e27da7c78c754ee">event_base_loopcontinue</a> (struct <a class="el" href="structevent__base.html">event_base</a> *<a class="el" href="structevent__base.html">event_base</a>)</td></tr>
<tr class="separator:a7f3be75dd84012328e27da7c78c754ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb7c71cdbfc42fdb57385315b94670d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#abbb7c71cdbfc42fdb57385315b94670d">event_base_got_break</a> (struct <a class="el" href="structevent__base.html">event_base</a> *<a class="el" href="structevent__base.html">event_base</a>)</td></tr>
<tr class="separator:abbb7c71cdbfc42fdb57385315b94670d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b5cad3b1ed72145ef837b9f69f043d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ac2b5cad3b1ed72145ef837b9f69f043d">event_base_got_exit</a> (struct <a class="el" href="structevent__base.html">event_base</a> *<a class="el" href="structevent__base.html">event_base</a>)</td></tr>
<tr class="separator:ac2b5cad3b1ed72145ef837b9f69f043d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57cb63396305d98350e4eff3720b1c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aa57cb63396305d98350e4eff3720b1c7">event_loop</a> (int flags)</td></tr>
<tr class="separator:aa57cb63396305d98350e4eff3720b1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83e0d97da18820d78eac87b1dc76638d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a83e0d97da18820d78eac87b1dc76638d">event_base_loop</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int flags)</td></tr>
<tr class="separator:a83e0d97da18820d78eac87b1dc76638d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac19a3f382d47f0d3ba41ec20c1074463"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ac19a3f382d47f0d3ba41ec20c1074463">event_once_cb</a> (evutil_socket_t fd, short events, void *arg)</td></tr>
<tr class="separator:ac19a3f382d47f0d3ba41ec20c1074463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae26d9c0cee14338be1ebf9d9f3cb1423"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ae26d9c0cee14338be1ebf9d9f3cb1423">event_once</a> (evutil_socket_t fd, short events, void(*callback)(evutil_socket_t, short, void *), void *arg, const struct timeval *tv)</td></tr>
<tr class="separator:ae26d9c0cee14338be1ebf9d9f3cb1423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42858d966d6a966ae85ce25a036d5aa5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a42858d966d6a966ae85ce25a036d5aa5">event_base_once</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, short events, void(*callback)(evutil_socket_t, short, void *), void *arg, const struct timeval *tv)</td></tr>
<tr class="separator:a42858d966d6a966ae85ce25a036d5aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f3c79257a48df9020b7ca21ee0a012"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a> (struct event *ev, struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, short events, void(*callback)(evutil_socket_t, short, void *), void *arg)</td></tr>
<tr class="separator:a22f3c79257a48df9020b7ca21ee0a012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27536fe9e78d400460ce6db34dfdabb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a27536fe9e78d400460ce6db34dfdabb6">event_base_set</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event *ev)</td></tr>
<tr class="separator:a27536fe9e78d400460ce6db34dfdabb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e52a4128008b5ab69c4ea2f1ab41ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a35e52a4128008b5ab69c4ea2f1ab41ae">event_set</a> (struct event *ev, evutil_socket_t fd, short events, void(*callback)(evutil_socket_t, short, void *), void *arg)</td></tr>
<tr class="separator:a35e52a4128008b5ab69c4ea2f1ab41ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fef417ca79da2449f269e1d72aa74b4"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3fef417ca79da2449f269e1d72aa74b4">event_self_cbarg</a> (void)</td></tr>
<tr class="separator:a3fef417ca79da2449f269e1d72aa74b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07f242cbf881125c50827ee3aecab1d7"><td class="memItemLeft" align="right" valign="top">struct event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a07f242cbf881125c50827ee3aecab1d7">event_base_get_running_event</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a07f242cbf881125c50827ee3aecab1d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a330459eb59cbee4bc369b74b72665783"><td class="memItemLeft" align="right" valign="top">struct event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a330459eb59cbee4bc369b74b72665783">event_new</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, short events, void(*cb)(evutil_socket_t, short, void *), void *arg)</td></tr>
<tr class="separator:a330459eb59cbee4bc369b74b72665783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cce38736e39a5f5398056bd5ca83e80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a5cce38736e39a5f5398056bd5ca83e80">event_free</a> (struct event *ev)</td></tr>
<tr class="separator:a5cce38736e39a5f5398056bd5ca83e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc542c0516f6532cf2e9a645bd1694a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#addc542c0516f6532cf2e9a645bd1694a">event_debug_unassign</a> (struct event *ev)</td></tr>
<tr class="separator:addc542c0516f6532cf2e9a645bd1694a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7b3e3e4e72ebb2023712b8b05fa2e7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aca7b3e3e4e72ebb2023712b8b05fa2e7">event_finalize_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, unsigned flags, struct event *ev, event_finalize_callback_fn cb)</td></tr>
<tr class="separator:aca7b3e3e4e72ebb2023712b8b05fa2e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97cee7033b4708246b5e6e35d65510fd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a97cee7033b4708246b5e6e35d65510fd">event_finalize_impl_</a> (unsigned flags, struct event *ev, event_finalize_callback_fn cb)</td></tr>
<tr class="separator:a97cee7033b4708246b5e6e35d65510fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a116423515797962d1c8ab95632e00118"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a116423515797962d1c8ab95632e00118">event_finalize</a> (unsigned flags, struct event *ev, event_finalize_callback_fn cb)</td></tr>
<tr class="separator:a116423515797962d1c8ab95632e00118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac859018c98ed5f6f7cb90d1dea5fd4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1ac859018c98ed5f6f7cb90d1dea5fd4">event_free_finalize</a> (unsigned flags, struct event *ev, event_finalize_callback_fn cb)</td></tr>
<tr class="separator:a1ac859018c98ed5f6f7cb90d1dea5fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe640e39f50bac53b51452800ec52ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, unsigned flags, struct event_callback *evcb, void(*cb)(struct event_callback *, void *))</td></tr>
<tr class="separator:adfe640e39f50bac53b51452800ec52ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79332981e939fba4ae93574d715ebd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ab79332981e939fba4ae93574d715ebd0">event_callback_finalize_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, unsigned flags, struct event_callback *evcb, void(*cb)(struct event_callback *, void *))</td></tr>
<tr class="separator:ab79332981e939fba4ae93574d715ebd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60393ac0869b5b5e507df8f50d024bec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a60393ac0869b5b5e507df8f50d024bec">event_callback_finalize_many_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int n_cbs, struct event_callback **evcbs, void(*cb)(struct event_callback *, void *))</td></tr>
<tr class="separator:a60393ac0869b5b5e507df8f50d024bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b6b70a0e975a4ab48b1bb4abecded0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4b6b70a0e975a4ab48b1bb4abecded0f">event_priority_set</a> (struct event *ev, int pri)</td></tr>
<tr class="separator:a4b6b70a0e975a4ab48b1bb4abecded0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864a500f29d40018203a5d63eebd834e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a864a500f29d40018203a5d63eebd834e">event_pending</a> (const struct event *ev, short event, struct timeval *tv)</td></tr>
<tr class="separator:a864a500f29d40018203a5d63eebd834e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be4fbc16d90915a7d1b21ed3bae40c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a> (const struct event *ev)</td></tr>
<tr class="separator:a5be4fbc16d90915a7d1b21ed3bae40c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2103c3cbf6e3e173419ebf019e29c788"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a2103c3cbf6e3e173419ebf019e29c788">event_get_assignment</a> (const struct event *event, struct <a class="el" href="structevent__base.html">event_base</a> **base_out, evutil_socket_t *fd_out, short *events_out, event_callback_fn *callback_out, void **arg_out)</td></tr>
<tr class="separator:a2103c3cbf6e3e173419ebf019e29c788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3881f7391324c05bd6f0c291e2682f03"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3881f7391324c05bd6f0c291e2682f03">event_get_struct_event_size</a> (void)</td></tr>
<tr class="separator:a3881f7391324c05bd6f0c291e2682f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee0c9c3fc7c997e4d4b77bdcdf321ee6"><td class="memItemLeft" align="right" valign="top">evutil_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aee0c9c3fc7c997e4d4b77bdcdf321ee6">event_get_fd</a> (const struct event *ev)</td></tr>
<tr class="separator:aee0c9c3fc7c997e4d4b77bdcdf321ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2df53277bd51525399eebae8e5c261"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1e2df53277bd51525399eebae8e5c261">event_get_base</a> (const struct event *ev)</td></tr>
<tr class="separator:a1e2df53277bd51525399eebae8e5c261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0123fdd5b9a1c204de5d7ef1a4578387"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a0123fdd5b9a1c204de5d7ef1a4578387">event_get_events</a> (const struct event *ev)</td></tr>
<tr class="separator:a0123fdd5b9a1c204de5d7ef1a4578387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cdb0a8dbf7efa9be7b65914ed5c6821"><td class="memItemLeft" align="right" valign="top">event_callback_fn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a6cdb0a8dbf7efa9be7b65914ed5c6821">event_get_callback</a> (const struct event *ev)</td></tr>
<tr class="separator:a6cdb0a8dbf7efa9be7b65914ed5c6821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac691e81319711fef55f53624c10347e3"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ac691e81319711fef55f53624c10347e3">event_get_callback_arg</a> (const struct event *ev)</td></tr>
<tr class="separator:ac691e81319711fef55f53624c10347e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3096f44016a612f715dab49563a71947"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3096f44016a612f715dab49563a71947">event_get_priority</a> (const struct event *ev)</td></tr>
<tr class="separator:a3096f44016a612f715dab49563a71947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3afbdef4280e6bef3a5d7017e28707f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3afbdef4280e6bef3a5d7017e28707f4">event_add</a> (struct event *ev, const struct timeval *tv)</td></tr>
<tr class="separator:a3afbdef4280e6bef3a5d7017e28707f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f1214915c4a2d82c2cf69389eb26d4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a41f1214915c4a2d82c2cf69389eb26d4">evthread_notify_base_default</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a41f1214915c4a2d82c2cf69389eb26d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffedf24376f5fc194b975900bcd498d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aeffedf24376f5fc194b975900bcd498d">event_remove_timer_nolock_</a> (struct event *ev)</td></tr>
<tr class="separator:aeffedf24376f5fc194b975900bcd498d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a725e7866bce74ea18833d21fe714e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#af4a725e7866bce74ea18833d21fe714e">event_remove_timer</a> (struct event *ev)</td></tr>
<tr class="separator:af4a725e7866bce74ea18833d21fe714e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce9a3ab811fb589cbd8f625bdba9b92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4ce9a3ab811fb589cbd8f625bdba9b92">event_add_nolock_</a> (struct event *ev, const struct timeval *tv, int tv_is_absolute)</td></tr>
<tr class="separator:a4ce9a3ab811fb589cbd8f625bdba9b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d01ab982328facb6ce4b584390b86ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a> (struct event *ev)</td></tr>
<tr class="separator:a4d01ab982328facb6ce4b584390b86ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654e773b33792cdb819bc9e370a3f8ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a654e773b33792cdb819bc9e370a3f8ef">event_del_block</a> (struct event *ev)</td></tr>
<tr class="separator:a654e773b33792cdb819bc9e370a3f8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8398ba3dae515a3241df4809cdd5238"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#af8398ba3dae515a3241df4809cdd5238">event_del_noblock</a> (struct event *ev)</td></tr>
<tr class="separator:af8398ba3dae515a3241df4809cdd5238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7399bb4d0614286e07faaed9412b16ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a> (struct event *ev, int blocking)</td></tr>
<tr class="separator:a7399bb4d0614286e07faaed9412b16ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3262ae1dc7fe51516b43412d61301e4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3262ae1dc7fe51516b43412d61301e4f">event_active</a> (struct event *ev, int res, short ncalls)</td></tr>
<tr class="separator:a3262ae1dc7fe51516b43412d61301e4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a08272009a9f1e34985fb25a80f42b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4a08272009a9f1e34985fb25a80f42b6">event_active_nolock_</a> (struct event *ev, int res, short ncalls)</td></tr>
<tr class="separator:a4a08272009a9f1e34985fb25a80f42b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f8b8fde233868ac76e01969afaf854"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aa2f8b8fde233868ac76e01969afaf854">event_active_later_</a> (struct event *ev, int res)</td></tr>
<tr class="separator:aa2f8b8fde233868ac76e01969afaf854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad45d374ce3175859698ed1d1ae52ff1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aad45d374ce3175859698ed1d1ae52ff1">event_active_later_nolock_</a> (struct event *ev, int res)</td></tr>
<tr class="separator:aad45d374ce3175859698ed1d1ae52ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b355828c0eac4d9752e0cc824360422"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1b355828c0eac4d9752e0cc824360422">event_callback_activate_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *evcb)</td></tr>
<tr class="separator:a1b355828c0eac4d9752e0cc824360422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a076746196a9869ea729e8418258dfbd7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *evcb)</td></tr>
<tr class="separator:a076746196a9869ea729e8418258dfbd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936dd89704869ed0c402c3a45f8515c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a936dd89704869ed0c402c3a45f8515c9">event_callback_activate_later_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *evcb)</td></tr>
<tr class="separator:a936dd89704869ed0c402c3a45f8515c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6080c912f44af885c07f6a518ea051af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a6080c912f44af885c07f6a518ea051af">event_callback_init_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *cb)</td></tr>
<tr class="separator:a6080c912f44af885c07f6a518ea051af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57a48e6d6c0430db8f56bef682854f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aa57a48e6d6c0430db8f56bef682854f5">event_callback_cancel_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *evcb)</td></tr>
<tr class="separator:aa57a48e6d6c0430db8f56bef682854f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff51369f2c5162bde92aa5b360cce150"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *evcb, int even_if_finalizing)</td></tr>
<tr class="separator:aff51369f2c5162bde92aa5b360cce150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2823fd0c8feffeeda8600f93eb58abbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a2823fd0c8feffeeda8600f93eb58abbc">event_deferred_cb_init_</a> (struct event_callback *cb, ev_uint8_t priority, <a class="el" href="defer-internal_8h.html#a0d8047d26362e07dbfea0168b3ede42c">deferred_cb_fn</a> fn, void *arg)</td></tr>
<tr class="separator:a2823fd0c8feffeeda8600f93eb58abbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a448b33327eee0439dbea726d458bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a11a448b33327eee0439dbea726d458bd">event_deferred_cb_set_priority_</a> (struct event_callback *cb, ev_uint8_t priority)</td></tr>
<tr class="separator:a11a448b33327eee0439dbea726d458bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c8139148ee8b2ff0ebaff82860f115"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a78c8139148ee8b2ff0ebaff82860f115">event_deferred_cb_cancel_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *cb)</td></tr>
<tr class="separator:a78c8139148ee8b2ff0ebaff82860f115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02882c1e3fb31ffce0864312af9b1aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ac02882c1e3fb31ffce0864312af9b1aa">event_deferred_cb_schedule_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *cb)</td></tr>
<tr class="separator:ac02882c1e3fb31ffce0864312af9b1aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e15fac10323fefb92a2cec679e1e5bf"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a7e15fac10323fefb92a2cec679e1e5bf">event_get_version</a> (void)</td></tr>
<tr class="separator:a7e15fac10323fefb92a2cec679e1e5bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4d1f2b4ca8e11f3bbf022244f01fa9"><td class="memItemLeft" align="right" valign="top">ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#abd4d1f2b4ca8e11f3bbf022244f01fa9">event_get_version_number</a> (void)</td></tr>
<tr class="separator:abd4d1f2b4ca8e11f3bbf022244f01fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa6dd87b60408880d8a8496b780cf18"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1aa6dd87b60408880d8a8496b780cf18">event_get_method</a> (void)</td></tr>
<tr class="separator:a1aa6dd87b60408880d8a8496b780cf18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a37dde5c8f73acefe22b57688d8209b"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a7a37dde5c8f73acefe22b57688d8209b">event_mm_malloc_</a> (size_t sz)</td></tr>
<tr class="separator:a7a37dde5c8f73acefe22b57688d8209b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6551fbca1a14af5717524a3e0751ccab"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a6551fbca1a14af5717524a3e0751ccab">event_mm_calloc_</a> (size_t <a class="el" href="tests__exhaustive_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, size_t size)</td></tr>
<tr class="separator:a6551fbca1a14af5717524a3e0751ccab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3654ef40a7a497dbd2a2c14b753642f4"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3654ef40a7a497dbd2a2c14b753642f4">event_mm_strdup_</a> (const char *str)</td></tr>
<tr class="separator:a3654ef40a7a497dbd2a2c14b753642f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac9d1c703154f7f82548cfa8c1012c9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#adac9d1c703154f7f82548cfa8c1012c9">event_mm_realloc_</a> (void *ptr, size_t sz)</td></tr>
<tr class="separator:adac9d1c703154f7f82548cfa8c1012c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96e27c40d0e2f4d18e0f53bcb095353"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ae96e27c40d0e2f4d18e0f53bcb095353">event_mm_free_</a> (void *ptr)</td></tr>
<tr class="separator:ae96e27c40d0e2f4d18e0f53bcb095353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a653e38c4bdd2f3b2d7476fcee95c1a62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a653e38c4bdd2f3b2d7476fcee95c1a62">event_set_mem_functions</a> (void *(*malloc_fn)(size_t sz), void *(*realloc_fn)(void *ptr, size_t sz), void(*free_fn)(void *ptr))</td></tr>
<tr class="separator:a653e38c4bdd2f3b2d7476fcee95c1a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692f2961885ddc3da22f10fabed77ced"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a692f2961885ddc3da22f10fabed77ced">evthread_notify_drain_default</a> (evutil_socket_t fd, short what, void *arg)</td></tr>
<tr class="separator:a692f2961885ddc3da22f10fabed77ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ce3b3efff53b41758944a8b486f62c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ad6ce3b3efff53b41758944a8b486f62c">evthread_make_base_notifiable</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:ad6ce3b3efff53b41758944a8b486f62c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e734284b05282b9099fd2a0d79d36a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a13e734284b05282b9099fd2a0d79d36a">event_base_foreach_event_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, event_base_foreach_event_cb fn, void *arg)</td></tr>
<tr class="separator:a13e734284b05282b9099fd2a0d79d36a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4346efb4e1753fb3f6a41a762f4448aa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a4346efb4e1753fb3f6a41a762f4448aa">dump_inserted_event_fn</a> (const struct <a class="el" href="structevent__base.html">event_base</a> *base, const struct event *e, void *arg)</td></tr>
<tr class="separator:a4346efb4e1753fb3f6a41a762f4448aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb342702a913a7faac290abb9d28a44a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#acb342702a913a7faac290abb9d28a44a">dump_active_event_fn</a> (const struct <a class="el" href="structevent__base.html">event_base</a> *base, const struct event *e, void *arg)</td></tr>
<tr class="separator:acb342702a913a7faac290abb9d28a44a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5997b32f6205465941ecbd06c52ab7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#afa5997b32f6205465941ecbd06c52ab7">event_base_foreach_event</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, event_base_foreach_event_cb fn, void *arg)</td></tr>
<tr class="separator:afa5997b32f6205465941ecbd06c52ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03cf15e1ea04725711721b5c99415ce9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a03cf15e1ea04725711721b5c99415ce9">event_base_dump_events</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, FILE *output)</td></tr>
<tr class="separator:a03cf15e1ea04725711721b5c99415ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3979cf89d3d16a81e332c8710fcd0644"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3979cf89d3d16a81e332c8710fcd0644">event_base_active_by_fd</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, short events)</td></tr>
<tr class="separator:a3979cf89d3d16a81e332c8710fcd0644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b9da0f01f9384a6d3ef125dde115dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ab8b9da0f01f9384a6d3ef125dde115dc">event_base_active_by_signal</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int sig)</td></tr>
<tr class="separator:ab8b9da0f01f9384a6d3ef125dde115dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20587890eec86896247d18632670f5fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a20587890eec86896247d18632670f5fa">event_base_add_virtual_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a20587890eec86896247d18632670f5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1861394ac511a812b3237d9f9cbb221e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1861394ac511a812b3237d9f9cbb221e">event_base_del_virtual_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a1861394ac511a812b3237d9f9cbb221e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7147d5629ceee9f332aee334398532ea"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a7147d5629ceee9f332aee334398532ea">event_free_debug_globals_locks</a> (void)</td></tr>
<tr class="separator:a7147d5629ceee9f332aee334398532ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3a354161b5beacf2710f99dd69e6e88"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#af3a354161b5beacf2710f99dd69e6e88">event_free_debug_globals</a> (void)</td></tr>
<tr class="separator:af3a354161b5beacf2710f99dd69e6e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0388d14a13f4854063d26a56e2e54d2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aa0388d14a13f4854063d26a56e2e54d2">event_free_evsig_globals</a> (void)</td></tr>
<tr class="separator:aa0388d14a13f4854063d26a56e2e54d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2069fa24cd49d455c3fd8ea21ab4313"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ad2069fa24cd49d455c3fd8ea21ab4313">event_free_evutil_globals</a> (void)</td></tr>
<tr class="separator:ad2069fa24cd49d455c3fd8ea21ab4313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594a91e669861602fb7a903635ff85d3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a594a91e669861602fb7a903635ff85d3">event_free_globals</a> (void)</td></tr>
<tr class="separator:a594a91e669861602fb7a903635ff85d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a254874d6906be003e6405f429ed662ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a254874d6906be003e6405f429ed662ce">libevent_global_shutdown</a> (void)</td></tr>
<tr class="separator:a254874d6906be003e6405f429ed662ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3279b88ea50290f222a36ca03051d0d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3279b88ea50290f222a36ca03051d0d6">event_global_setup_locks_</a> (const int enable_locks)</td></tr>
<tr class="separator:a3279b88ea50290f222a36ca03051d0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32983d88401ba99dbac4819a0c2f0a93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a32983d88401ba99dbac4819a0c2f0a93">event_base_assert_ok_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a32983d88401ba99dbac4819a0c2f0a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb64b823144e0822dd5a4800d92739f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#afdb64b823144e0822dd5a4800d92739f">event_base_assert_ok_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:afdb64b823144e0822dd5a4800d92739f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1b3bf59f277db3795ff01c05e937ccbf"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structeventop.html">eventop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a> []</td></tr>
<tr class="separator:a1b3bf59f277db3795ff01c05e937ccbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8987b4eff1c8f162193a4eb06073ac9b"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a8987b4eff1c8f162193a4eb06073ac9b">event_global_current_base_</a> = NULL</td></tr>
<tr class="separator:a8987b4eff1c8f162193a4eb06073ac9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31856048b322e785beb0d494f6c5058"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#af31856048b322e785beb0d494f6c5058">event_self_cbarg_ptr_</a> = NULL</td></tr>
<tr class="separator:af31856048b322e785beb0d494f6c5058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ede2ba43439e39992899a8c083bbb6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a> = 0</td></tr>
<tr class="separator:a3ede2ba43439e39992899a8c083bbb6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae188742324142406ed91ba1e3d4aae03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ae188742324142406ed91ba1e3d4aae03">event_debug_created_threadable_ctx_</a> = 0</td></tr>
<tr class="memdesc:ae188742324142406ed91ba1e3d4aae03"><td class="mdescLeft">&#160;</td><td class="mdescRight">debug mode variable which is set for any function/structure that needs to be shared across threads (if thread support is enabled).  <a href="event_8c.html#ae188742324142406ed91ba1e3d4aae03">More...</a><br /></td></tr>
<tr class="separator:ae188742324142406ed91ba1e3d4aae03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ada601d92f086041dbcf01f5f26ad0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a81ada601d92f086041dbcf01f5f26ad0">event_debug_mode_too_late</a> = 0</td></tr>
<tr class="separator:a81ada601d92f086041dbcf01f5f26ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae80598cf04ce30bbeb1797aa9af121"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a> = NULL</td></tr>
<tr class="separator:aeae80598cf04ce30bbeb1797aa9af121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae51f1eec5c67037507cd24fc94acac44"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structeventop.html">eventop</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ae51f1eec5c67037507cd24fc94acac44">nil_eventop</a></td></tr>
<tr class="separator:ae51f1eec5c67037507cd24fc94acac44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad083139f3239682929a9ae330e2174d4"><td class="memItemLeft" align="right" valign="top">static void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#ad083139f3239682929a9ae330e2174d4">mm_malloc_fn_</a> )(size_t sz) = NULL</td></tr>
<tr class="separator:ad083139f3239682929a9ae330e2174d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba3bfaa2fb3ce0a2e5ffad4ce77d90d"><td class="memItemLeft" align="right" valign="top">static void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#aeba3bfaa2fb3ce0a2e5ffad4ce77d90d">mm_realloc_fn_</a> )(void *p, size_t sz) = NULL</td></tr>
<tr class="separator:aeba3bfaa2fb3ce0a2e5ffad4ce77d90d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b30ec95fb03489b39308baa6b5f90c2"><td class="memItemLeft" align="right" valign="top">static void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8c.html#a2b30ec95fb03489b39308baa6b5f90c2">mm_free_fn_</a> )(void *p) = NULL</td></tr>
<tr class="separator:a2b30ec95fb03489b39308baa6b5f90c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3d56fa0b50d78f9e0fb4df0f59a2200b" name="a3d56fa0b50d78f9e0fb4df0f59a2200b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d56fa0b50d78f9e0fb4df0f59a2200b">&#9670;&nbsp;</a></span>CLOCK_SYNC_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLOCK_SYNC_INTERVAL&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00405">405</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a8b06e24327bbf239360f3b3f806957d5" name="a8b06e24327bbf239360f3b3f806957d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b06e24327bbf239360f3b3f806957d5">&#9670;&nbsp;</a></span>COMMON_TIMEOUT_IDX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMON_TIMEOUT_IDX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tv</td><td>)</td>
          <td>&#160;&#160;&#160;	(((tv)-&gt;tv_usec &amp; <a class="el" href="event_8c.html#a4eeb1208bd0e5e52ed54e08678552450">COMMON_TIMEOUT_IDX_MASK</a>)&gt;&gt;<a class="el" href="event_8c.html#a1ffd13eba5a76782d922299c3a0ac6b8">COMMON_TIMEOUT_IDX_SHIFT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01403">1403</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a4eeb1208bd0e5e52ed54e08678552450" name="a4eeb1208bd0e5e52ed54e08678552450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eeb1208bd0e5e52ed54e08678552450">&#9670;&nbsp;</a></span>COMMON_TIMEOUT_IDX_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMON_TIMEOUT_IDX_MASK&#160;&#160;&#160;0x0ff00000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01398">1398</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a1ffd13eba5a76782d922299c3a0ac6b8" name="a1ffd13eba5a76782d922299c3a0ac6b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ffd13eba5a76782d922299c3a0ac6b8">&#9670;&nbsp;</a></span>COMMON_TIMEOUT_IDX_SHIFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMON_TIMEOUT_IDX_SHIFT&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01399">1399</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a80e745a43c8c111761f4297668ebca5f" name="a80e745a43c8c111761f4297668ebca5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e745a43c8c111761f4297668ebca5f">&#9670;&nbsp;</a></span>COMMON_TIMEOUT_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMON_TIMEOUT_MAGIC&#160;&#160;&#160;0x50000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01401">1401</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="ad6896aaffc7cd8cadba9365f3c7f738d" name="ad6896aaffc7cd8cadba9365f3c7f738d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6896aaffc7cd8cadba9365f3c7f738d">&#9670;&nbsp;</a></span>COMMON_TIMEOUT_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMON_TIMEOUT_MASK&#160;&#160;&#160;0xf0000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01400">1400</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a2b5039afe7dc79383e996caed30fe2b9" name="a2b5039afe7dc79383e996caed30fe2b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5039afe7dc79383e996caed30fe2b9">&#9670;&nbsp;</a></span>current_base</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define current_base&#160;&#160;&#160;<a class="el" href="event_8c.html#a8987b4eff1c8f162193a4eb06073ac9b">event_global_current_base_</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00131">131</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="acd333867b976433dc3d1a7350d88812f" name="acd333867b976433dc3d1a7350d88812f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd333867b976433dc3d1a7350d88812f">&#9670;&nbsp;</a></span>DECR_EVENT_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECR_EVENT_COUNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">base, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	((base)-&gt;event_count -= !((flags) &amp; EVLIST_INTERNAL))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03216">3216</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a30dad9908d8052d551d84eddf523991a" name="a30dad9908d8052d551d84eddf523991a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30dad9908d8052d551d84eddf523991a">&#9670;&nbsp;</a></span>EVENT_BASE_ASSERT_LOCKED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_BASE_ASSERT_LOCKED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">base</td><td>)</td>
          <td>&#160;&#160;&#160;	<a class="el" href="evthread-internal_8h.html#af1b6adfa1212ad399ea01675f784ec28">EVLOCK_ASSERT_LOCKED</a>((base)-&gt;th_base_lock)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00400">400</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a6bbc669ae0ec28967fba4859053715b7" name="a6bbc669ae0ec28967fba4859053715b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bbc669ae0ec28967fba4859053715b7">&#9670;&nbsp;</a></span>EVENT_FINALIZE_FREE_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FINALIZE_FREE_&#160;&#160;&#160;0x10000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02245">2245</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="adbe6bea5c138e18910acb95c1b2cbc80" name="adbe6bea5c138e18910acb95c1b2cbc80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbe6bea5c138e18910acb95c1b2cbc80">&#9670;&nbsp;</a></span>HT_NO_CACHE_HASH_VALUES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HT_NO_CACHE_HASH_VALUES</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00071">71</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a822ea8ac11948faaa7c49b8f7a98417a" name="a822ea8ac11948faaa7c49b8f7a98417a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a822ea8ac11948faaa7c49b8f7a98417a">&#9670;&nbsp;</a></span>INCR_EVENT_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INCR_EVENT_COUNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">base, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                    \</div>
<div class="line">    ((base)-&gt;event_count += !((flags) &amp; EVLIST_INTERNAL));          \</div>
<div class="line">    MAX_EVENT_COUNT((base)-&gt;event_count_max, (base)-&gt;event_count);      \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03218">3218</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="afa99ec4acc4ecb2dc3c2d05da15d0e3f" name="afa99ec4acc4ecb2dc3c2d05da15d0e3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa99ec4acc4ecb2dc3c2d05da15d0e3f">&#9670;&nbsp;</a></span>MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((a)&gt;(b))?(a):(b))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03207">3207</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a5c3d3492b7e0e5ef024ffe62f785ed3d" name="a5c3d3492b7e0e5ef024ffe62f785ed3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c3d3492b7e0e5ef024ffe62f785ed3d">&#9670;&nbsp;</a></span>MAX_COMMON_TIMEOUTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_COMMON_TIMEOUTS&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01484">1484</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a94ddc861aa1b56a2ab1d450e4bb6f249" name="a94ddc861aa1b56a2ab1d450e4bb6f249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94ddc861aa1b56a2ab1d450e4bb6f249">&#9670;&nbsp;</a></span>MAX_DEFERREDS_QUEUED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DEFERREDS_QUEUED&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03122">3122</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a256de7de21d779b6aa35f78eb8dfe528" name="a256de7de21d779b6aa35f78eb8dfe528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a256de7de21d779b6aa35f78eb8dfe528">&#9670;&nbsp;</a></span>MAX_EVENT_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_EVENT_COUNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">var, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;var = <a class="el" href="event_8c.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(var, v)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03210">3210</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="a4cfba5ca00f9fd8e1e150bd7ca75e13c" name="a4cfba5ca00f9fd8e1e150bd7ca75e13c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cfba5ca00f9fd8e1e150bd7ca75e13c">&#9670;&nbsp;</a></span>MICROSECONDS_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MICROSECONDS_MASK&#160;&#160;&#160;<a class="el" href="event-internal_8h.html#a10dd21aa17242e8fabf9296e8cc36494">COMMON_TIMEOUT_MICROSECONDS_MASK</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01397">1397</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6cab0b11c4b175f2ebb396ccecc19a7f" name="a6cab0b11c4b175f2ebb396ccecc19a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cab0b11c4b175f2ebb396ccecc19a7f">&#9670;&nbsp;</a></span>clear_time_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void clear_time_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Make 'base' have no current cached time. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00460">460</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  461</span>{</div>
<div class="line"><span class="lineno">  462</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#ade376556c650f951dbc9d579a4000820">tv_cache</a>.tv_sec = 0;</div>
<div class="line"><span class="lineno">  463</span>}</div>
<div class="ttc" id="astructevent__base_html_ade376556c650f951dbc9d579a4000820"><div class="ttname"><a href="structevent__base.html#ade376556c650f951dbc9d579a4000820">event_base::tv_cache</a></div><div class="ttdeci">struct timeval tv_cache</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00292">event-internal.h:292</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00292">event_base::tv_cache</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01923">event_base_loop()</a>.</p>

</div>
</div>
<a id="a7dcb84e3b30ccf928c9a9dbd145e5d6c" name="a7dcb84e3b30ccf928c9a9dbd145e5d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dcb84e3b30ccf928c9a9dbd145e5d6c">&#9670;&nbsp;</a></span>common_timeout_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void common_timeout_callback </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01462">1462</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1463</span>{</div>
<div class="line"><span class="lineno"> 1464</span>    <span class="keyword">struct </span>timeval now;</div>
<div class="line"><span class="lineno"> 1465</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl = arg;</div>
<div class="line"><span class="lineno"> 1466</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>;</div>
<div class="line"><span class="lineno"> 1467</span>    <span class="keyword">struct </span>event *ev = NULL;</div>
<div class="line"><span class="lineno"> 1468</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1469</span>    <a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;now);</div>
<div class="line"><span class="lineno"> 1470</span>    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><span class="lineno"> 1471</span>        ev = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>);</div>
<div class="line"><span class="lineno"> 1472</span>        <span class="keywordflow">if</span> (!ev || ev-&gt;ev_timeout.tv_sec &gt; now.tv_sec ||</div>
<div class="line"><span class="lineno"> 1473</span>            (ev-&gt;ev_timeout.tv_sec == now.tv_sec &amp;&amp;</div>
<div class="line"><span class="lineno"> 1474</span>            (ev-&gt;ev_timeout.tv_usec&amp;<a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>) &gt; now.tv_usec))</div>
<div class="line"><span class="lineno"> 1475</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1476</span>        <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 1477</span>        <a class="code hl_function" href="event_8c.html#a4a08272009a9f1e34985fb25a80f42b6">event_active_nolock_</a>(ev, EV_TIMEOUT, 1);</div>
<div class="line"><span class="lineno"> 1478</span>    }</div>
<div class="line"><span class="lineno"> 1479</span>    <span class="keywordflow">if</span> (ev)</div>
<div class="line"><span class="lineno"> 1480</span>        <a class="code hl_function" href="event_8c.html#aa0fac51d097b72263336b550c404bcd0">common_timeout_schedule</a>(ctl, &amp;now, ev);</div>
<div class="line"><span class="lineno"> 1481</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1482</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a7d6894360bd1c41e0e6f6d84998c1362"><div class="ttname"><a href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a></div><div class="ttdeci">#define TAILQ_FIRST(head)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00376">event-internal.h:376</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_acb4106ad80e46f1a6a2d8824cb34f899"><div class="ttname"><a href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a></div><div class="ttdeci">#define EVENT_DEL_NOBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00412">event-internal.h:412</a></div></div>
<div class="ttc" id="aevent_8c_html_a408d8860367b435d7919b7582acfec0b"><div class="ttname"><a href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a></div><div class="ttdeci">static int gettime(struct event_base *base, struct timeval *tp)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00413">event.c:413</a></div></div>
<div class="ttc" id="aevent_8c_html_a4a08272009a9f1e34985fb25a80f42b6"><div class="ttname"><a href="event_8c.html#a4a08272009a9f1e34985fb25a80f42b6">event_active_nolock_</a></div><div class="ttdeci">void event_active_nolock_(struct event *ev, int res, short ncalls)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02919">event.c:2919</a></div></div>
<div class="ttc" id="aevent_8c_html_a4cfba5ca00f9fd8e1e150bd7ca75e13c"><div class="ttname"><a href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a></div><div class="ttdeci">#define MICROSECONDS_MASK</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01397">event.c:1397</a></div></div>
<div class="ttc" id="aevent_8c_html_a7399bb4d0614286e07faaed9412b16ae"><div class="ttname"><a href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a></div><div class="ttdeci">int event_del_nolock_(struct event *ev, int blocking)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02810">event.c:2810</a></div></div>
<div class="ttc" id="aevent_8c_html_aa0fac51d097b72263336b550c404bcd0"><div class="ttname"><a href="event_8c.html#aa0fac51d097b72263336b550c404bcd0">common_timeout_schedule</a></div><div class="ttdeci">static void common_timeout_schedule(struct common_timeout_list *ctl, const struct timeval *now, struct event *head)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01450">event.c:1450</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_aacb6029f7640549840286b23c2961935"><div class="ttname"><a href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a></div><div class="ttdeci">#define EVBASE_ACQUIRE_LOCK(base, lockvar)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00118">evthread-internal.h:118</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_ad447bad18470cb6235b43b01d1ed418e"><div class="ttname"><a href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a></div><div class="ttdeci">#define EVBASE_RELEASE_LOCK(base, lockvar)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00123">evthread-internal.h:123</a></div></div>
<div class="ttc" id="astructcommon__timeout__list_html"><div class="ttname"><a href="structcommon__timeout__list.html">common_timeout_list</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00163">event-internal.h:163</a></div></div>
<div class="ttc" id="astructcommon__timeout__list_html_a0f2ee7b5cdbdc319ea76441183f73eb5"><div class="ttname"><a href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">common_timeout_list::base</a></div><div class="ttdeci">struct event_base * base</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00173">event-internal.h:173</a></div></div>
<div class="ttc" id="astructcommon__timeout__list_html_a1cd729c2ce9b11eb2951f84acd8c753a"><div class="ttname"><a href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">common_timeout_list::events</a></div><div class="ttdeci">struct event_list events</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00165">event-internal.h:165</a></div></div>
<div class="ttc" id="astructevent__base_html"><div class="ttname"><a href="structevent__base.html">event_base</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00208">event-internal.h:208</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event_8c_source.html#l01450">common_timeout_schedule()</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event-internal_8h_source.html#l00412">EVENT_DEL_NOBLOCK</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, <a class="el" href="event_8c_source.html#l01397">MICROSECONDS_MASK</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01487">event_base_init_common_timeout()</a>.</p>

</div>
</div>
<a id="aa0fac51d097b72263336b550c404bcd0" name="aa0fac51d097b72263336b550c404bcd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0fac51d097b72263336b550c404bcd0">&#9670;&nbsp;</a></span>common_timeout_schedule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void common_timeout_schedule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommon__timeout__list.html">common_timeout_list</a> *&#160;</td>
          <td class="paramname"><em>ctl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01450">1450</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1452</span>{</div>
<div class="line"><span class="lineno"> 1453</span>    <span class="keyword">struct </span>timeval timeout = head-&gt;ev_timeout;</div>
<div class="line"><span class="lineno"> 1454</span>    timeout.tv_usec &amp;= <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>;</div>
<div class="line"><span class="lineno"> 1455</span>    <a class="code hl_function" href="event_8c.html#a4ce9a3ab811fb589cbd8f625bdba9b92">event_add_nolock_</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a9095ae5b5278b2b3e774e0de979c16bf">timeout_event</a>, &amp;timeout, 1);</div>
<div class="line"><span class="lineno"> 1456</span>}</div>
<div class="ttc" id="aevent_8c_html_a4ce9a3ab811fb589cbd8f625bdba9b92"><div class="ttname"><a href="event_8c.html#a4ce9a3ab811fb589cbd8f625bdba9b92">event_add_nolock_</a></div><div class="ttdeci">int event_add_nolock_(struct event *ev, const struct timeval *tv, int tv_is_absolute)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02597">event.c:2597</a></div></div>
<div class="ttc" id="astructcommon__timeout__list_html_a9095ae5b5278b2b3e774e0de979c16bf"><div class="ttname"><a href="structcommon__timeout__list.html#a9095ae5b5278b2b3e774e0de979c16bf">common_timeout_list::timeout_event</a></div><div class="ttdeci">struct event timeout_event</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00171">event-internal.h:171</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l01397">MICROSECONDS_MASK</a>, and <a class="el" href="event-internal_8h_source.html#l00171">common_timeout_list::timeout_event</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01462">common_timeout_callback()</a>, and <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>.</p>

</div>
</div>
<a id="acb342702a913a7faac290abb9d28a44a" name="acb342702a913a7faac290abb9d28a44a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb342702a913a7faac290abb9d28a44a">&#9670;&nbsp;</a></span>dump_active_event_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dump_active_event_fn </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03776">3776</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3777</span>{</div>
<div class="line"><span class="lineno"> 3778</span>    FILE *output = arg;</div>
<div class="line"><span class="lineno"> 3779</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *gloss = (e-&gt;ev_events &amp; EV_SIGNAL) ?</div>
<div class="line"><span class="lineno"> 3780</span>        <span class="stringliteral">&quot;sig&quot;</span> : <span class="stringliteral">&quot;fd &quot;</span>;</div>
<div class="line"><span class="lineno"> 3781</span> </div>
<div class="line"><span class="lineno"> 3782</span>    <span class="keywordflow">if</span> (! (e-&gt;ev_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER)))</div>
<div class="line"><span class="lineno"> 3783</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3784</span> </div>
<div class="line"><span class="lineno"> 3785</span>    fprintf(output, <span class="stringliteral">&quot;  %p [%s &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;, priority=%d]%s%s%s%s%s active%s%s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3786</span>        (<span class="keywordtype">void</span>*)e, gloss, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(e-&gt;ev_fd), e-&gt;ev_pri,</div>
<div class="line"><span class="lineno"> 3787</span>        (e-&gt;ev_res&amp;EV_READ)?<span class="stringliteral">&quot; Read&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3788</span>        (e-&gt;ev_res&amp;EV_WRITE)?<span class="stringliteral">&quot; Write&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3789</span>        (e-&gt;ev_res&amp;EV_CLOSED)?<span class="stringliteral">&quot; EOF&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3790</span>        (e-&gt;ev_res&amp;EV_SIGNAL)?<span class="stringliteral">&quot; Signal&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3791</span>        (e-&gt;ev_res&amp;EV_TIMEOUT)?<span class="stringliteral">&quot; Timeout&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3792</span>        (e-&gt;ev_flags&amp;EVLIST_INTERNAL)?<span class="stringliteral">&quot; [Internal]&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3793</span>        (e-&gt;ev_flags&amp;EVLIST_ACTIVE_LATER)?<span class="stringliteral">&quot; [NextTime]&quot;</span>:<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3794</span> </div>
<div class="line"><span class="lineno"> 3795</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3796</span>}</div>
<div class="ttc" id="autil-internal_8h_html_ae4520c37e639bce2b7463312e1ddfb48"><div class="ttname"><a href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a></div><div class="ttdeci">#define EV_SOCK_FMT</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00476">util-internal.h:476</a></div></div>
<div class="ttc" id="autil-internal_8h_html_aee887fc99d808a2195f016a578c3f58d"><div class="ttname"><a href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a></div><div class="ttdeci">#define EV_SOCK_ARG(x)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00477">util-internal.h:477</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, and <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03814">event_base_dump_events()</a>.</p>

</div>
</div>
<a id="a4346efb4e1753fb3f6a41a762f4448aa" name="a4346efb4e1753fb3f6a41a762f4448aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4346efb4e1753fb3f6a41a762f4448aa">&#9670;&nbsp;</a></span>dump_inserted_event_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dump_inserted_event_fn </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03742">3742</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3743</span>{</div>
<div class="line"><span class="lineno"> 3744</span>    FILE *output = arg;</div>
<div class="line"><span class="lineno"> 3745</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *gloss = (e-&gt;ev_events &amp; EV_SIGNAL) ?</div>
<div class="line"><span class="lineno"> 3746</span>        <span class="stringliteral">&quot;sig&quot;</span> : <span class="stringliteral">&quot;fd &quot;</span>;</div>
<div class="line"><span class="lineno"> 3747</span> </div>
<div class="line"><span class="lineno"> 3748</span>    <span class="keywordflow">if</span> (! (e-&gt;ev_flags &amp; (EVLIST_INSERTED|EVLIST_TIMEOUT)))</div>
<div class="line"><span class="lineno"> 3749</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3750</span> </div>
<div class="line"><span class="lineno"> 3751</span>    fprintf(output, <span class="stringliteral">&quot;  %p [%s &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;]%s%s%s%s%s%s%s&quot;</span>,</div>
<div class="line"><span class="lineno"> 3752</span>        (<span class="keywordtype">void</span>*)e, gloss, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(e-&gt;ev_fd),</div>
<div class="line"><span class="lineno"> 3753</span>        (e-&gt;ev_events&amp;EV_READ)?<span class="stringliteral">&quot; Read&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3754</span>        (e-&gt;ev_events&amp;EV_WRITE)?<span class="stringliteral">&quot; Write&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3755</span>        (e-&gt;ev_events&amp;EV_CLOSED)?<span class="stringliteral">&quot; EOF&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3756</span>        (e-&gt;ev_events&amp;EV_SIGNAL)?<span class="stringliteral">&quot; Signal&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3757</span>        (e-&gt;ev_events&amp;EV_PERSIST)?<span class="stringliteral">&quot; Persist&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3758</span>        (e-&gt;ev_events&amp;EV_ET)?<span class="stringliteral">&quot; ET&quot;</span>:<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 3759</span>        (e-&gt;ev_flags&amp;EVLIST_INTERNAL)?<span class="stringliteral">&quot; Internal&quot;</span>:<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3760</span>    <span class="keywordflow">if</span> (e-&gt;ev_flags &amp; EVLIST_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 3761</span>        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno"> 3762</span>        tv.tv_sec = e-&gt;ev_timeout.tv_sec;</div>
<div class="line"><span class="lineno"> 3763</span>        tv.tv_usec = e-&gt;ev_timeout.tv_usec &amp; <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>;</div>
<div class="line"><span class="lineno"> 3764</span>        evutil_timeradd(&amp;tv, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a75c3d90fccab2295e259dbd00bae1f45">tv_clock_diff</a>, &amp;tv);</div>
<div class="line"><span class="lineno"> 3765</span>        fprintf(output, <span class="stringliteral">&quot; Timeout=%ld.%06d&quot;</span>,</div>
<div class="line"><span class="lineno"> 3766</span>            (<span class="keywordtype">long</span>)tv.tv_sec, (<span class="keywordtype">int</span>)(tv.tv_usec &amp; <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>));</div>
<div class="line"><span class="lineno"> 3767</span>    }</div>
<div class="line"><span class="lineno"> 3768</span>    fputc(<span class="charliteral">&#39;\n&#39;</span>, output);</div>
<div class="line"><span class="lineno"> 3769</span> </div>
<div class="line"><span class="lineno"> 3770</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3771</span>}</div>
<div class="ttc" id="astructevent__base_html_a75c3d90fccab2295e259dbd00bae1f45"><div class="ttname"><a href="structevent__base.html#a75c3d90fccab2295e259dbd00bae1f45">event_base::tv_clock_diff</a></div><div class="ttdeci">struct timeval tv_clock_diff</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00298">event-internal.h:298</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="event_8c_source.html#l01397">MICROSECONDS_MASK</a>, and <a class="el" href="event-internal_8h_source.html#l00298">event_base::tv_clock_diff</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03814">event_base_dump_events()</a>.</p>

</div>
</div>
<a id="a8ea5f1e996237a311d41a0fa2e122227" name="a8ea5f1e996237a311d41a0fa2e122227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea5f1e996237a311d41a0fa2e122227">&#9670;&nbsp;</a></span>eq_debug_entry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int eq_debug_entry </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevent__debug__entry.html">event_debug_entry</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structevent__debug__entry.html">event_debug_entry</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00199">199</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  201</span>{</div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordflow">return</span> a-&gt;ptr == b-&gt;ptr;</div>
<div class="line"><span class="lineno">  203</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3262ae1dc7fe51516b43412d61301e4f" name="a3262ae1dc7fe51516b43412d61301e4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3262ae1dc7fe51516b43412d61301e4f">&#9670;&nbsp;</a></span>event_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_active </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>ncalls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02901">2901</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2902</span>{</div>
<div class="line"><span class="lineno"> 2903</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(!ev-&gt;ev_base)) {</div>
<div class="line"><span class="lineno"> 2904</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: event has no event_base set.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2905</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2906</span>    }</div>
<div class="line"><span class="lineno"> 2907</span> </div>
<div class="line"><span class="lineno"> 2908</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2909</span> </div>
<div class="line"><span class="lineno"> 2910</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2911</span> </div>
<div class="line"><span class="lineno"> 2912</span>    <a class="code hl_function" href="event_8c.html#a4a08272009a9f1e34985fb25a80f42b6">event_active_nolock_</a>(ev, res, ncalls);</div>
<div class="line"><span class="lineno"> 2913</span> </div>
<div class="line"><span class="lineno"> 2914</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2915</span>}</div>
<div class="ttc" id="aevent_8c_html_a336acd34fef64d9dccadb70c8239a979"><div class="ttname"><a href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a></div><div class="ttdeci">static void event_debug_assert_is_setup_(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00333">event.c:333</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a0e3973f226e9585030596534e23cd95f"><div class="ttname"><a href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warnx(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="autil-internal_8h_html_a7d6e1cf1a8d53f38471e9e9db3faf740"><div class="ttname"><a href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a></div><div class="ttdeci">#define __func__</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00086">util-internal.h:86</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a8b00f9822385cc93daa80a9b9c56406d"><div class="ttname"><a href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a></div><div class="ttdeci">#define EVUTIL_FAILURE_CHECK(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00377">util-internal.h:377</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

</div>
</div>
<a id="aa2f8b8fde233868ac76e01969afaf854" name="aa2f8b8fde233868ac76e01969afaf854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f8b8fde233868ac76e01969afaf854">&#9670;&nbsp;</a></span>event_active_later_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_active_later_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02970">2970</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2971</span>{</div>
<div class="line"><span class="lineno"> 2972</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2973</span>    <a class="code hl_function" href="event_8c.html#aad45d374ce3175859698ed1d1ae52ff1">event_active_later_nolock_</a>(ev, res);</div>
<div class="line"><span class="lineno"> 2974</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2975</span>}</div>
<div class="ttc" id="aevent_8c_html_aad45d374ce3175859698ed1d1ae52ff1"><div class="ttname"><a href="event_8c.html#aad45d374ce3175859698ed1d1ae52ff1">event_active_later_nolock_</a></div><div class="ttdeci">void event_active_later_nolock_(struct event *ev, int res)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02978">event.c:2978</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02978">event_active_later_nolock_()</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

</div>
</div>
<a id="aad45d374ce3175859698ed1d1ae52ff1" name="aad45d374ce3175859698ed1d1ae52ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad45d374ce3175859698ed1d1ae52ff1">&#9670;&nbsp;</a></span>event_active_later_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_active_later_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02978">2978</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2979</span>{</div>
<div class="line"><span class="lineno"> 2980</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2981</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 2982</span> </div>
<div class="line"><span class="lineno"> 2983</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER)) {</div>
<div class="line"><span class="lineno"> 2984</span>        <span class="comment">/* We get different kinds of events, add them together */</span></div>
<div class="line"><span class="lineno"> 2985</span>        ev-&gt;ev_res |= res;</div>
<div class="line"><span class="lineno"> 2986</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2987</span>    }</div>
<div class="line"><span class="lineno"> 2988</span> </div>
<div class="line"><span class="lineno"> 2989</span>    ev-&gt;ev_res = res;</div>
<div class="line"><span class="lineno"> 2990</span> </div>
<div class="line"><span class="lineno"> 2991</span>    <a class="code hl_function" href="event_8c.html#a936dd89704869ed0c402c3a45f8515c9">event_callback_activate_later_nolock_</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2992</span>}</div>
<div class="ttc" id="aevent_8c_html_a30dad9908d8052d551d84eddf523991a"><div class="ttname"><a href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a></div><div class="ttdeci">#define EVENT_BASE_ASSERT_LOCKED(base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00400">event.c:400</a></div></div>
<div class="ttc" id="aevent_8c_html_a936dd89704869ed0c402c3a45f8515c9"><div class="ttname"><a href="event_8c.html#a936dd89704869ed0c402c3a45f8515c9">event_callback_activate_later_nolock_</a></div><div class="ttdeci">int event_callback_activate_later_nolock_(struct event_base *base, struct event_callback *evcb)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03037">event.c:3037</a></div></div>
<div class="ttc" id="aevent_8c_html_a983e7de51e0271404f0801df799876bc"><div class="ttname"><a href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a></div><div class="ttdeci">static struct event_callback * event_to_event_callback(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00499">event.c:499</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="event_8c_source.html#l03037">event_callback_activate_later_nolock_()</a>, and <a class="el" href="event_8c_source.html#l00499">event_to_event_callback()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02970">event_active_later_()</a>.</p>

</div>
</div>
<a id="a4a08272009a9f1e34985fb25a80f42b6" name="a4a08272009a9f1e34985fb25a80f42b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a08272009a9f1e34985fb25a80f42b6">&#9670;&nbsp;</a></span>event_active_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_active_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>ncalls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02919">2919</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2920</span>{</div>
<div class="line"><span class="lineno"> 2921</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base;</div>
<div class="line"><span class="lineno"> 2922</span> </div>
<div class="line"><span class="lineno"> 2923</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;event_active: %p (fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;), res %d, callback %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 2924</span>        ev, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), (<span class="keywordtype">int</span>)res, ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 2925</span> </div>
<div class="line"><span class="lineno"> 2926</span>    base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2927</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 2928</span> </div>
<div class="line"><span class="lineno"> 2929</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_FINALIZING) {</div>
<div class="line"><span class="lineno"> 2930</span>        <span class="comment">/* XXXX debug */</span></div>
<div class="line"><span class="lineno"> 2931</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2932</span>    }</div>
<div class="line"><span class="lineno"> 2933</span> </div>
<div class="line"><span class="lineno"> 2934</span>    <span class="keywordflow">switch</span> ((ev-&gt;ev_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER))) {</div>
<div class="line"><span class="lineno"> 2935</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2936</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE|EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 2937</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(0);</div>
<div class="line"><span class="lineno"> 2938</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2939</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE:</div>
<div class="line"><span class="lineno"> 2940</span>        <span class="comment">/* We get different kinds of events, add them together */</span></div>
<div class="line"><span class="lineno"> 2941</span>        ev-&gt;ev_res |= res;</div>
<div class="line"><span class="lineno"> 2942</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2943</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 2944</span>        ev-&gt;ev_res |= res;</div>
<div class="line"><span class="lineno"> 2945</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2946</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 2947</span>        ev-&gt;ev_res = res;</div>
<div class="line"><span class="lineno"> 2948</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2949</span>    }</div>
<div class="line"><span class="lineno"> 2950</span> </div>
<div class="line"><span class="lineno"> 2951</span>    <span class="keywordflow">if</span> (ev-&gt;ev_pri &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#a2190f4f8a6118c1145a294ca11d26954">event_running_priority</a>)</div>
<div class="line"><span class="lineno"> 2952</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#ab1ee3887cd128743f5037d8f2e8f444a">event_continue</a> = 1;</div>
<div class="line"><span class="lineno"> 2953</span> </div>
<div class="line"><span class="lineno"> 2954</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_SIGNAL) {</div>
<div class="line"><span class="lineno"> 2955</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 2956</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> == <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2957</span>            !<a class="code hl_define" href="evthread-internal_8h.html#ac023e978d4b8ebfb1a79926a47f90ed9">EVBASE_IN_THREAD</a>(base)) {</div>
<div class="line"><span class="lineno"> 2958</span>            ++base-&gt;<a class="code hl_variable" href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">current_event_waiters</a>;</div>
<div class="line"><span class="lineno"> 2959</span>            <a class="code hl_define" href="evthread-internal_8h.html#aacb4425897e69915b7f3e366b6b4b430">EVTHREAD_COND_WAIT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">current_event_cond</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2960</span>        }</div>
<div class="line"><span class="lineno"> 2961</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2962</span>        ev-&gt;ev_ncalls = ncalls;</div>
<div class="line"><span class="lineno"> 2963</span>        ev-&gt;ev_pncalls = NULL;</div>
<div class="line"><span class="lineno"> 2964</span>    }</div>
<div class="line"><span class="lineno"> 2965</span> </div>
<div class="line"><span class="lineno"> 2966</span>    <a class="code hl_function" href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2967</span>}</div>
<div class="ttc" id="aevent_8c_html_a076746196a9869ea729e8418258dfbd7"><div class="ttname"><a href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a></div><div class="ttdeci">int event_callback_activate_nolock_(struct event_base *base, struct event_callback *evcb)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03006">event.c:3006</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_aacb4425897e69915b7f3e366b6b4b430"><div class="ttname"><a href="evthread-internal_8h.html#aacb4425897e69915b7f3e366b6b4b430">EVTHREAD_COND_WAIT</a></div><div class="ttdeci">#define EVTHREAD_COND_WAIT(cond, lock)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00174">evthread-internal.h:174</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_ac023e978d4b8ebfb1a79926a47f90ed9"><div class="ttname"><a href="evthread-internal_8h.html#ac023e978d4b8ebfb1a79926a47f90ed9">EVBASE_IN_THREAD</a></div><div class="ttdeci">#define EVBASE_IN_THREAD(base)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00066">evthread-internal.h:66</a></div></div>
<div class="ttc" id="alog-internal_8h_html_abca298e725a8bd7373647a064b4d1ff7"><div class="ttname"><a href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a></div><div class="ttdeci">#define event_debug(x)</div><div class="ttdef"><b>Definition:</b> <a href="log-internal_8h_source.html#l00079">log-internal.h:79</a></div></div>
<div class="ttc" id="astructevent__base_html_a2190f4f8a6118c1145a294ca11d26954"><div class="ttname"><a href="structevent__base.html#a2190f4f8a6118c1145a294ca11d26954">event_base::event_running_priority</a></div><div class="ttdeci">int event_running_priority</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00247">event-internal.h:247</a></div></div>
<div class="ttc" id="astructevent__base_html_a31440f8ef25b630f3d338b9e38c00f0a"><div class="ttname"><a href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">event_base::current_event</a></div><div class="ttdeci">struct event_callback * current_event</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00315">event-internal.h:315</a></div></div>
<div class="ttc" id="astructevent__base_html_a9552e59d24e61ca46f253fc1c412072a"><div class="ttname"><a href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">event_base::current_event_cond</a></div><div class="ttdeci">void * current_event_cond</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00310">event-internal.h:310</a></div></div>
<div class="ttc" id="astructevent__base_html_ab1ee3887cd128743f5037d8f2e8f444a"><div class="ttname"><a href="structevent__base.html#ab1ee3887cd128743f5037d8f2e8f444a">event_base::event_continue</a></div><div class="ttdeci">int event_continue</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00244">event-internal.h:244</a></div></div>
<div class="ttc" id="astructevent__base_html_ae32a6810bcc12f942954b06e7393495f"><div class="ttname"><a href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">event_base::th_base_lock</a></div><div class="ttdeci">void * th_base_lock</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00307">event-internal.h:307</a></div></div>
<div class="ttc" id="astructevent__base_html_ae9d144a390562f68abad627b36c871f2"><div class="ttname"><a href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">event_base::current_event_waiters</a></div><div class="ttdeci">int current_event_waiters</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00312">event-internal.h:312</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7365930d8b30f4c1ab3cef31a8622731"><div class="ttname"><a href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a></div><div class="ttdeci">#define EVUTIL_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00363">util-internal.h:363</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="event-internal_8h_source.html#l00310">event_base::current_event_cond</a>, <a class="el" href="event-internal_8h_source.html#l00312">event_base::current_event_waiters</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="evthread-internal_8h_source.html#l00066">EVBASE_IN_THREAD</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>, <a class="el" href="event-internal_8h_source.html#l00244">event_base::event_continue</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event-internal_8h_source.html#l00247">event_base::event_running_priority</a>, <a class="el" href="event_8c_source.html#l00499">event_to_event_callback()</a>, <a class="el" href="evthread-internal_8h_source.html#l00174">EVTHREAD_COND_WAIT</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01462">common_timeout_callback()</a>, <a class="el" href="event_8c_source.html#l02901">event_active()</a>, <a class="el" href="event_8c_source.html#l03826">event_base_active_by_fd()</a>, <a class="el" href="event_8c_source.html#l02051">event_base_once()</a>, <a class="el" href="event_8c_source.html#l02247">event_finalize_nolock_()</a>, <a class="el" href="evmap_8c_source.html#l00420">evmap_io_active_()</a>, <a class="el" href="evmap_8c_source.html#l00501">evmap_signal_active_()</a>, and <a class="el" href="event_8c_source.html#l03181">timeout_process()</a>.</p>

</div>
</div>
<a id="a3afbdef4280e6bef3a5d7017e28707f4" name="a3afbdef4280e6bef3a5d7017e28707f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3afbdef4280e6bef3a5d7017e28707f4">&#9670;&nbsp;</a></span>event_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_add </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02484">2484</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2485</span>{</div>
<div class="line"><span class="lineno"> 2486</span>    <span class="keywordtype">int</span> res;</div>
<div class="line"><span class="lineno"> 2487</span> </div>
<div class="line"><span class="lineno"> 2488</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(!ev-&gt;ev_base)) {</div>
<div class="line"><span class="lineno"> 2489</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: event has no event_base set.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2490</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2491</span>    }</div>
<div class="line"><span class="lineno"> 2492</span> </div>
<div class="line"><span class="lineno"> 2493</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2494</span> </div>
<div class="line"><span class="lineno"> 2495</span>    res = <a class="code hl_function" href="event_8c.html#a4ce9a3ab811fb589cbd8f625bdba9b92">event_add_nolock_</a>(ev, tv, 0);</div>
<div class="line"><span class="lineno"> 2496</span> </div>
<div class="line"><span class="lineno"> 2497</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2498</span> </div>
<div class="line"><span class="lineno"> 2499</span>    <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 2500</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__ratelim_8c_source.html#l00394">bev_refill_callback_()</a>, <a class="el" href="bufferevent_8c_source.html#l01016">bufferevent_add_event_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00273">bufferevent_decrement_read_buckets_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00969">bufferevent_decrement_read_limit()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00311">bufferevent_decrement_write_buckets_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00996">bufferevent_decrement_write_limit()</a>, <a class="el" href="bufferevent_8c_source.html#l00970">bufferevent_generic_adj_timeouts_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00638">bufferevent_rate_limit_group_new()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00672">bufferevent_rate_limit_group_set_cfg()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00560">bufferevent_set_rate_limit()</a>, <a class="el" href="net_8c_source.html#l00547">dogecoin_node_group_connect_next_nodes()</a>, <a class="el" href="evdns_8c_source.html#l01723">evdns_add_server_port_with_base()</a>, <a class="el" href="evdns_8c_source.html#l04444">evdns_getaddrinfo_set_timeout()</a>, <a class="el" href="evdns_8c_source.html#l02502">evdns_nameserver_add_impl_()</a>, <a class="el" href="evdns_8c_source.html#l02221">evdns_request_transmit_to()</a>, <a class="el" href="evdns_8c_source.html#l02005">evdns_server_request_respond()</a>, <a class="el" href="listener_8c_source.html#l00318">event_listener_enable()</a>, <a class="el" href="http_8c_source.html#l01402">evhttp_connection_cb_cleanup()</a>, <a class="el" href="evdns_8c_source.html#l01487">nameserver_write_waiting()</a>, and <a class="el" href="evdns_8c_source.html#l01449">server_port_flush()</a>.</p>

</div>
</div>
<a id="a4ce9a3ab811fb589cbd8f625bdba9b92" name="a4ce9a3ab811fb589cbd8f625bdba9b92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce9a3ab811fb589cbd8f625bdba9b92">&#9670;&nbsp;</a></span>event_add_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_add_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tv_is_absolute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02597">2597</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2599</span>{</div>
<div class="line"><span class="lineno"> 2600</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2601</span>    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><span class="lineno"> 2602</span>    <span class="keywordtype">int</span> notify = 0;</div>
<div class="line"><span class="lineno"> 2603</span> </div>
<div class="line"><span class="lineno"> 2604</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 2605</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2606</span> </div>
<div class="line"><span class="lineno"> 2607</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((</div>
<div class="line"><span class="lineno"> 2608</span>         <span class="stringliteral">&quot;event_add: event: %p (fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;), %s%s%s%scall %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 2609</span>         ev,</div>
<div class="line"><span class="lineno"> 2610</span>         <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd),</div>
<div class="line"><span class="lineno"> 2611</span>         ev-&gt;ev_events &amp; EV_READ ? <span class="stringliteral">&quot;EV_READ &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 2612</span>         ev-&gt;ev_events &amp; EV_WRITE ? <span class="stringliteral">&quot;EV_WRITE &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 2613</span>         ev-&gt;ev_events &amp; EV_CLOSED ? <span class="stringliteral">&quot;EV_CLOSED &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 2614</span>         tv ? <span class="stringliteral">&quot;EV_TIMEOUT &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 2615</span>         ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 2616</span> </div>
<div class="line"><span class="lineno"> 2617</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!(ev-&gt;ev_flags &amp; ~EVLIST_ALL));</div>
<div class="line"><span class="lineno"> 2618</span> </div>
<div class="line"><span class="lineno"> 2619</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_FINALIZING) {</div>
<div class="line"><span class="lineno"> 2620</span>        <span class="comment">/* XXXX debug */</span></div>
<div class="line"><span class="lineno"> 2621</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2622</span>    }</div>
<div class="line"><span class="lineno"> 2623</span> </div>
<div class="line"><span class="lineno"> 2624</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2625</span><span class="comment">     * prepare for timeout insertion further below, if we get a</span></div>
<div class="line"><span class="lineno"> 2626</span><span class="comment">     * failure on any step, we should not change any state.</span></div>
<div class="line"><span class="lineno"> 2627</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2628</span>    <span class="keywordflow">if</span> (tv != NULL &amp;&amp; !(ev-&gt;ev_flags &amp; EVLIST_TIMEOUT)) {</div>
<div class="line"><span class="lineno"> 2629</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="minheap-internal_8h.html#a31074a1dd8b562ddff10618e0d2a8dab">min_heap_reserve_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>,</div>
<div class="line"><span class="lineno"> 2630</span>            1 + <a class="code hl_function" href="minheap-internal_8h.html#ab951b68fe2145c6f9528c623fa52e024">min_heap_size_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>)) == -1)</div>
<div class="line"><span class="lineno"> 2631</span>            <span class="keywordflow">return</span> (-1);  <span class="comment">/* ENOMEM == errno */</span></div>
<div class="line"><span class="lineno"> 2632</span>    }</div>
<div class="line"><span class="lineno"> 2633</span> </div>
<div class="line"><span class="lineno"> 2634</span>    <span class="comment">/* If the main thread is currently executing a signal event&#39;s</span></div>
<div class="line"><span class="lineno"> 2635</span><span class="comment">     * callback, and we are not the main thread, then we want to wait</span></div>
<div class="line"><span class="lineno"> 2636</span><span class="comment">     * until the callback is done before we mess with the event, or else</span></div>
<div class="line"><span class="lineno"> 2637</span><span class="comment">     * we can race on ev_ncalls and ev_pncalls below. */</span></div>
<div class="line"><span class="lineno"> 2638</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 2639</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> == <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2640</span>        (ev-&gt;ev_events &amp; EV_SIGNAL)</div>
<div class="line"><span class="lineno"> 2641</span>        &amp;&amp; !<a class="code hl_define" href="evthread-internal_8h.html#ac023e978d4b8ebfb1a79926a47f90ed9">EVBASE_IN_THREAD</a>(base)) {</div>
<div class="line"><span class="lineno"> 2642</span>        ++base-&gt;<a class="code hl_variable" href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">current_event_waiters</a>;</div>
<div class="line"><span class="lineno"> 2643</span>        <a class="code hl_define" href="evthread-internal_8h.html#aacb4425897e69915b7f3e366b6b4b430">EVTHREAD_COND_WAIT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">current_event_cond</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2644</span>    }</div>
<div class="line"><span class="lineno"> 2645</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2646</span> </div>
<div class="line"><span class="lineno"> 2647</span>    <span class="keywordflow">if</span> ((ev-&gt;ev_events &amp; (EV_READ|EV_WRITE|EV_CLOSED|EV_SIGNAL)) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2648</span>        !(ev-&gt;ev_flags &amp; (EVLIST_INSERTED|EVLIST_ACTIVE|EVLIST_ACTIVE_LATER))) {</div>
<div class="line"><span class="lineno"> 2649</span>        <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; (EV_READ|EV_WRITE|EV_CLOSED))</div>
<div class="line"><span class="lineno"> 2650</span>            res = <a class="code hl_function" href="evmap-internal_8h.html#ad2f1cc5853c896ed9bf35958841fee07">evmap_io_add_</a>(base, ev-&gt;ev_fd, ev);</div>
<div class="line"><span class="lineno"> 2651</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_SIGNAL)</div>
<div class="line"><span class="lineno"> 2652</span>            res = <a class="code hl_function" href="evmap-internal_8h.html#a793748b97acb0dd84c57fa32f3d157b4">evmap_signal_add_</a>(base, (<span class="keywordtype">int</span>)ev-&gt;ev_fd, ev);</div>
<div class="line"><span class="lineno"> 2653</span>        <span class="keywordflow">if</span> (res != -1)</div>
<div class="line"><span class="lineno"> 2654</span>            <a class="code hl_function" href="event_8c.html#adaae07804a434ebfed9249b186ff5d85">event_queue_insert_inserted</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2655</span>        <span class="keywordflow">if</span> (res == 1) {</div>
<div class="line"><span class="lineno"> 2656</span>            <span class="comment">/* evmap says we need to notify the main thread. */</span></div>
<div class="line"><span class="lineno"> 2657</span>            notify = 1;</div>
<div class="line"><span class="lineno"> 2658</span>            res = 0;</div>
<div class="line"><span class="lineno"> 2659</span>        }</div>
<div class="line"><span class="lineno"> 2660</span>    }</div>
<div class="line"><span class="lineno"> 2661</span> </div>
<div class="line"><span class="lineno"> 2662</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2663</span><span class="comment">     * we should change the timeout state only if the previous event</span></div>
<div class="line"><span class="lineno"> 2664</span><span class="comment">     * addition succeeded.</span></div>
<div class="line"><span class="lineno"> 2665</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2666</span>    <span class="keywordflow">if</span> (res != -1 &amp;&amp; tv != NULL) {</div>
<div class="line"><span class="lineno"> 2667</span>        <span class="keyword">struct </span>timeval now;</div>
<div class="line"><span class="lineno"> 2668</span>        <span class="keywordtype">int</span> common_timeout;</div>
<div class="line"><span class="lineno"> 2669</span><span class="preprocessor">#ifdef USE_REINSERT_TIMEOUT</span></div>
<div class="line"><span class="lineno"> 2670</span>        <span class="keywordtype">int</span> was_common;</div>
<div class="line"><span class="lineno"> 2671</span>        <span class="keywordtype">int</span> old_timeout_idx;</div>
<div class="line"><span class="lineno"> 2672</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2673</span> </div>
<div class="line"><span class="lineno"> 2674</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2675</span><span class="comment">         * for persistent timeout events, we remember the</span></div>
<div class="line"><span class="lineno"> 2676</span><span class="comment">         * timeout value and re-add the event.</span></div>
<div class="line"><span class="lineno"> 2677</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno"> 2678</span><span class="comment">         * If tv_is_absolute, this was already set.</span></div>
<div class="line"><span class="lineno"> 2679</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 2680</span>        <span class="keywordflow">if</span> (ev-&gt;ev_closure == <a class="code hl_define" href="event-internal_8h.html#a47a14b7de7ee2dca0aaf221ab7963dce">EV_CLOSURE_EVENT_PERSIST</a> &amp;&amp; !tv_is_absolute)</div>
<div class="line"><span class="lineno"> 2681</span>            ev-&gt;ev_io_timeout = *tv;</div>
<div class="line"><span class="lineno"> 2682</span> </div>
<div class="line"><span class="lineno"> 2683</span><span class="preprocessor">#ifndef USE_REINSERT_TIMEOUT</span></div>
<div class="line"><span class="lineno"> 2684</span>        <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 2685</span>            <a class="code hl_function" href="event_8c.html#a9eca687246bc048effecda8ab8db6038">event_queue_remove_timeout</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2686</span>        }</div>
<div class="line"><span class="lineno"> 2687</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2688</span> </div>
<div class="line"><span class="lineno"> 2689</span>        <span class="comment">/* Check if it is active due to a timeout.  Rescheduling</span></div>
<div class="line"><span class="lineno"> 2690</span><span class="comment">         * this timeout before the callback can be executed</span></div>
<div class="line"><span class="lineno"> 2691</span><span class="comment">         * removes it from the active list. */</span></div>
<div class="line"><span class="lineno"> 2692</span>        <span class="keywordflow">if</span> ((ev-&gt;ev_flags &amp; EVLIST_ACTIVE) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2693</span>            (ev-&gt;ev_res &amp; EV_TIMEOUT)) {</div>
<div class="line"><span class="lineno"> 2694</span>            <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_SIGNAL) {</div>
<div class="line"><span class="lineno"> 2695</span>                <span class="comment">/* See if we are just active executing</span></div>
<div class="line"><span class="lineno"> 2696</span><span class="comment">                 * this event in a loop</span></div>
<div class="line"><span class="lineno"> 2697</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno"> 2698</span>                <span class="keywordflow">if</span> (ev-&gt;ev_ncalls &amp;&amp; ev-&gt;ev_pncalls) {</div>
<div class="line"><span class="lineno"> 2699</span>                    <span class="comment">/* Abort loop */</span></div>
<div class="line"><span class="lineno"> 2700</span>                    *ev-&gt;ev_pncalls = 0;</div>
<div class="line"><span class="lineno"> 2701</span>                }</div>
<div class="line"><span class="lineno"> 2702</span>            }</div>
<div class="line"><span class="lineno"> 2703</span> </div>
<div class="line"><span class="lineno"> 2704</span>            <a class="code hl_function" href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2705</span>        }</div>
<div class="line"><span class="lineno"> 2706</span> </div>
<div class="line"><span class="lineno"> 2707</span>        <a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;now);</div>
<div class="line"><span class="lineno"> 2708</span> </div>
<div class="line"><span class="lineno"> 2709</span>        common_timeout = <a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(tv, base);</div>
<div class="line"><span class="lineno"> 2710</span><span class="preprocessor">#ifdef USE_REINSERT_TIMEOUT</span></div>
<div class="line"><span class="lineno"> 2711</span>        was_common = <a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(&amp;ev-&gt;ev_timeout, base);</div>
<div class="line"><span class="lineno"> 2712</span>        old_timeout_idx = <a class="code hl_define" href="event_8c.html#a8b06e24327bbf239360f3b3f806957d5">COMMON_TIMEOUT_IDX</a>(&amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 2713</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2714</span> </div>
<div class="line"><span class="lineno"> 2715</span>        <span class="keywordflow">if</span> (tv_is_absolute) {</div>
<div class="line"><span class="lineno"> 2716</span>            ev-&gt;ev_timeout = *tv;</div>
<div class="line"><span class="lineno"> 2717</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (common_timeout) {</div>
<div class="line"><span class="lineno"> 2718</span>            <span class="keyword">struct </span>timeval tmp = *tv;</div>
<div class="line"><span class="lineno"> 2719</span>            tmp.tv_usec &amp;= <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>;</div>
<div class="line"><span class="lineno"> 2720</span>            evutil_timeradd(&amp;now, &amp;tmp, &amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 2721</span>            ev-&gt;ev_timeout.tv_usec |=</div>
<div class="line"><span class="lineno"> 2722</span>                (tv-&gt;tv_usec &amp; ~MICROSECONDS_MASK);</div>
<div class="line"><span class="lineno"> 2723</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2724</span>            evutil_timeradd(&amp;now, tv, &amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 2725</span>        }</div>
<div class="line"><span class="lineno"> 2726</span> </div>
<div class="line"><span class="lineno"> 2727</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((</div>
<div class="line"><span class="lineno"> 2728</span>             <span class="stringliteral">&quot;event_add: event %p, timeout in %d seconds %d useconds, call %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 2729</span>             ev, (<span class="keywordtype">int</span>)tv-&gt;tv_sec, (<span class="keywordtype">int</span>)tv-&gt;tv_usec, ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 2730</span> </div>
<div class="line"><span class="lineno"> 2731</span><span class="preprocessor">#ifdef USE_REINSERT_TIMEOUT</span></div>
<div class="line"><span class="lineno"> 2732</span>        event_queue_reinsert_timeout(base, ev, was_common, common_timeout, old_timeout_idx);</div>
<div class="line"><span class="lineno"> 2733</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2734</span>        <a class="code hl_function" href="event_8c.html#a3216b39db4357b40755d35660a235116">event_queue_insert_timeout</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2735</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2736</span> </div>
<div class="line"><span class="lineno"> 2737</span>        <span class="keywordflow">if</span> (common_timeout) {</div>
<div class="line"><span class="lineno"> 2738</span>            <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl =</div>
<div class="line"><span class="lineno"> 2739</span>                <a class="code hl_function" href="event_8c.html#aca5c888c116f4c7fe12e343185d53dc4">get_common_timeout_list</a>(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>, &amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 2740</span>            <span class="keywordflow">if</span> (ev == <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>)) {</div>
<div class="line"><span class="lineno"> 2741</span>                <a class="code hl_function" href="event_8c.html#aa0fac51d097b72263336b550c404bcd0">common_timeout_schedule</a>(ctl, &amp;now, ev);</div>
<div class="line"><span class="lineno"> 2742</span>            }</div>
<div class="line"><span class="lineno"> 2743</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2744</span>            <span class="keyword">struct </span>event* top = NULL;</div>
<div class="line"><span class="lineno"> 2745</span>            <span class="comment">/* See if the earliest timeout is now earlier than it</span></div>
<div class="line"><span class="lineno"> 2746</span><span class="comment">             * was before: if so, we will need to tell the main</span></div>
<div class="line"><span class="lineno"> 2747</span><span class="comment">             * thread to wake up earlier than it would otherwise.</span></div>
<div class="line"><span class="lineno"> 2748</span><span class="comment">             * We double check the timeout of the top element to</span></div>
<div class="line"><span class="lineno"> 2749</span><span class="comment">             * handle time distortions due to system suspension.</span></div>
<div class="line"><span class="lineno"> 2750</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 2751</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="minheap-internal_8h.html#ad60a4b6926278b10692a7b115a4f7e69">min_heap_elt_is_top_</a>(ev))</div>
<div class="line"><span class="lineno"> 2752</span>                notify = 1;</div>
<div class="line"><span class="lineno"> 2753</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((top = <a class="code hl_function" href="minheap-internal_8h.html#af370aef7e99d50e8387fd19158fb8515">min_heap_top_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>)) != NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2754</span>                     evutil_timercmp(&amp;top-&gt;ev_timeout, &amp;now, &lt;))</div>
<div class="line"><span class="lineno"> 2755</span>                notify = 1;</div>
<div class="line"><span class="lineno"> 2756</span>        }</div>
<div class="line"><span class="lineno"> 2757</span>    }</div>
<div class="line"><span class="lineno"> 2758</span> </div>
<div class="line"><span class="lineno"> 2759</span>    <span class="comment">/* if we are not in the right thread, we need to wake up the loop */</span></div>
<div class="line"><span class="lineno"> 2760</span>    <span class="keywordflow">if</span> (res != -1 &amp;&amp; notify &amp;&amp; <a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 2761</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 2762</span> </div>
<div class="line"><span class="lineno"> 2763</span>    <a class="code hl_function" href="event_8c.html#a29eac5ce653c0400f9dc5b2f48d82d38">event_debug_note_add_</a>(ev);</div>
<div class="line"><span class="lineno"> 2764</span> </div>
<div class="line"><span class="lineno"> 2765</span>    <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 2766</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a47a14b7de7ee2dca0aaf221ab7963dce"><div class="ttname"><a href="event-internal_8h.html#a47a14b7de7ee2dca0aaf221ab7963dce">EV_CLOSURE_EVENT_PERSIST</a></div><div class="ttdeci">#define EV_CLOSURE_EVENT_PERSIST</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00073">event-internal.h:73</a></div></div>
<div class="ttc" id="aevent_8c_html_a05756f811bfc57faa1781b4c8ea20e3b"><div class="ttname"><a href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a></div><div class="ttdeci">static void event_queue_remove_active(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03236">event.c:3236</a></div></div>
<div class="ttc" id="aevent_8c_html_a23e45fc3b40aa101c03ce6b199483ca6"><div class="ttname"><a href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a></div><div class="ttdeci">static int is_common_timeout(const struct timeval *tv, const struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01408">event.c:1408</a></div></div>
<div class="ttc" id="aevent_8c_html_a29eac5ce653c0400f9dc5b2f48d82d38"><div class="ttname"><a href="event_8c.html#a29eac5ce653c0400f9dc5b2f48d82d38">event_debug_note_add_</a></div><div class="ttdeci">static void event_debug_note_add_(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00281">event.c:281</a></div></div>
<div class="ttc" id="aevent_8c_html_a3216b39db4357b40755d35660a235116"><div class="ttname"><a href="event_8c.html#a3216b39db4357b40755d35660a235116">event_queue_insert_timeout</a></div><div class="ttdeci">static void event_queue_insert_timeout(struct event_base *, struct event *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03415">event.c:3415</a></div></div>
<div class="ttc" id="aevent_8c_html_a8b06e24327bbf239360f3b3f806957d5"><div class="ttname"><a href="event_8c.html#a8b06e24327bbf239360f3b3f806957d5">COMMON_TIMEOUT_IDX</a></div><div class="ttdeci">#define COMMON_TIMEOUT_IDX(tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01403">event.c:1403</a></div></div>
<div class="ttc" id="aevent_8c_html_a9eca687246bc048effecda8ab8db6038"><div class="ttname"><a href="event_8c.html#a9eca687246bc048effecda8ab8db6038">event_queue_remove_timeout</a></div><div class="ttdeci">static void event_queue_remove_timeout(struct event_base *, struct event *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03267">event.c:3267</a></div></div>
<div class="ttc" id="aevent_8c_html_aba00a4b368970f5f6e2c5e39e5556e1e"><div class="ttname"><a href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a></div><div class="ttdeci">static int evthread_notify_base(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02541">event.c:2541</a></div></div>
<div class="ttc" id="aevent_8c_html_aca5c888c116f4c7fe12e343185d53dc4"><div class="ttname"><a href="event_8c.html#aca5c888c116f4c7fe12e343185d53dc4">get_common_timeout_list</a></div><div class="ttdeci">static struct common_timeout_list * get_common_timeout_list(struct event_base *base, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01430">event.c:1430</a></div></div>
<div class="ttc" id="aevent_8c_html_adaae07804a434ebfed9249b186ff5d85"><div class="ttname"><a href="event_8c.html#adaae07804a434ebfed9249b186ff5d85">event_queue_insert_inserted</a></div><div class="ttdeci">static void event_queue_insert_inserted(struct event_base *, struct event *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03361">event.c:3361</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a793748b97acb0dd84c57fa32f3d157b4"><div class="ttname"><a href="evmap-internal_8h.html#a793748b97acb0dd84c57fa32f3d157b4">evmap_signal_add_</a></div><div class="ttdeci">int evmap_signal_add_(struct event_base *base, int signum, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00450">evmap.c:450</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_ad2f1cc5853c896ed9bf35958841fee07"><div class="ttname"><a href="evmap-internal_8h.html#ad2f1cc5853c896ed9bf35958841fee07">evmap_io_add_</a></div><div class="ttdeci">int evmap_io_add_(struct event_base *base, evutil_socket_t fd, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00273">evmap.c:273</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a608b677432c4e0db92c8ccc7723f4f65"><div class="ttname"><a href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a></div><div class="ttdeci">#define EVBASE_NEED_NOTIFY(base)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00073">evthread-internal.h:73</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_a31074a1dd8b562ddff10618e0d2a8dab"><div class="ttname"><a href="minheap-internal_8h.html#a31074a1dd8b562ddff10618e0d2a8dab">min_heap_reserve_</a></div><div class="ttdeci">static int min_heap_reserve_(min_heap_t *s, unsigned n)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00133">minheap-internal.h:133</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_ab951b68fe2145c6f9528c623fa52e024"><div class="ttname"><a href="minheap-internal_8h.html#ab951b68fe2145c6f9528c623fa52e024">min_heap_size_</a></div><div class="ttdeci">static unsigned min_heap_size_(min_heap_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00068">minheap-internal.h:68</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_ad60a4b6926278b10692a7b115a4f7e69"><div class="ttname"><a href="minheap-internal_8h.html#ad60a4b6926278b10692a7b115a4f7e69">min_heap_elt_is_top_</a></div><div class="ttdeci">static int min_heap_elt_is_top_(const struct event *e)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00091">minheap-internal.h:91</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_af370aef7e99d50e8387fd19158fb8515"><div class="ttname"><a href="minheap-internal_8h.html#af370aef7e99d50e8387fd19158fb8515">min_heap_top_</a></div><div class="ttdeci">static struct event * min_heap_top_(min_heap_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00069">minheap-internal.h:69</a></div></div>
<div class="ttc" id="astructevent__base_html_adfa5c317ea20aba5fa63fd4775c2510c"><div class="ttname"><a href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">event_base::timeheap</a></div><div class="ttdeci">struct min_heap timeheap</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00288">event-internal.h:288</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event_8c_source.html#l01403">COMMON_TIMEOUT_IDX</a>, <a class="el" href="event_8c_source.html#l01450">common_timeout_schedule()</a>, <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="event-internal_8h_source.html#l00310">event_base::current_event_cond</a>, <a class="el" href="event-internal_8h_source.html#l00312">event_base::current_event_waiters</a>, <a class="el" href="event-internal_8h_source.html#l00073">EV_CLOSURE_EVENT_PERSIST</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="evthread-internal_8h_source.html#l00066">EVBASE_IN_THREAD</a>, <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>, <a class="el" href="event_8c_source.html#l00281">event_debug_note_add_()</a>, <a class="el" href="event_8c_source.html#l03361">event_queue_insert_inserted()</a>, <a class="el" href="event_8c_source.html#l03415">event_queue_insert_timeout()</a>, <a class="el" href="event_8c_source.html#l03236">event_queue_remove_active()</a>, <a class="el" href="event_8c_source.html#l03267">event_queue_remove_timeout()</a>, <a class="el" href="event_8c_source.html#l00499">event_to_event_callback()</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="evmap_8c_source.html#l00273">evmap_io_add_()</a>, <a class="el" href="evmap_8c_source.html#l00450">evmap_signal_add_()</a>, <a class="el" href="evthread-internal_8h_source.html#l00174">EVTHREAD_COND_WAIT</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event_8c_source.html#l01430">get_common_timeout_list()</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, <a class="el" href="event_8c_source.html#l01408">is_common_timeout()</a>, <a class="el" href="event_8c_source.html#l01397">MICROSECONDS_MASK</a>, <a class="el" href="minheap-internal_8h_source.html#l00091">min_heap_elt_is_top_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00133">min_heap_reserve_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00068">min_heap_size_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00069">min_heap_top_()</a>, <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>, <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01450">common_timeout_schedule()</a>, <a class="el" href="event_8c_source.html#l02484">event_add()</a>, <a class="el" href="event_8c_source.html#l02051">event_base_once()</a>, <a class="el" href="event_8c_source.html#l01562">event_persist_closure()</a>, <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>, <a class="el" href="signal_8c_source.html#l00280">evsig_add()</a>, and <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>.</p>

</div>
</div>
<a id="a22f3c79257a48df9020b7ca21ee0a012" name="a22f3c79257a48df9020b7ca21ee0a012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f3c79257a48df9020b7ca21ee0a012">&#9670;&nbsp;</a></span>event_assign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_assign </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(evutil_socket_t, short, void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02113">2113</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2114</span>{</div>
<div class="line"><span class="lineno"> 2115</span>    <span class="keywordflow">if</span> (!base)</div>
<div class="line"><span class="lineno"> 2116</span>        base = <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>;</div>
<div class="line"><span class="lineno"> 2117</span>    <span class="keywordflow">if</span> (arg == &amp;<a class="code hl_variable" href="event_8c.html#af31856048b322e785beb0d494f6c5058">event_self_cbarg_ptr_</a>)</div>
<div class="line"><span class="lineno"> 2118</span>        arg = ev;</div>
<div class="line"><span class="lineno"> 2119</span> </div>
<div class="line"><span class="lineno"> 2120</span>    <span class="keywordflow">if</span> (!(events &amp; EV_SIGNAL))</div>
<div class="line"><span class="lineno"> 2121</span>        <a class="code hl_function" href="event_8c.html#a15afe34bc83a53cf1fe585050ddbf03d">event_debug_assert_socket_nonblocking_</a>(fd);</div>
<div class="line"><span class="lineno"> 2122</span>    <a class="code hl_function" href="event_8c.html#a8f3a5b8c786d7e972cd38b46f71162ac">event_debug_assert_not_added_</a>(ev);</div>
<div class="line"><span class="lineno"> 2123</span> </div>
<div class="line"><span class="lineno"> 2124</span>    ev-&gt;ev_base = base;</div>
<div class="line"><span class="lineno"> 2125</span> </div>
<div class="line"><span class="lineno"> 2126</span>    ev-&gt;ev_callback = callback;</div>
<div class="line"><span class="lineno"> 2127</span>    ev-&gt;ev_arg = arg;</div>
<div class="line"><span class="lineno"> 2128</span>    ev-&gt;ev_fd = fd;</div>
<div class="line"><span class="lineno"> 2129</span>    ev-&gt;ev_events = events;</div>
<div class="line"><span class="lineno"> 2130</span>    ev-&gt;ev_res = 0;</div>
<div class="line"><span class="lineno"> 2131</span>    ev-&gt;ev_flags = EVLIST_INIT;</div>
<div class="line"><span class="lineno"> 2132</span>    ev-&gt;ev_ncalls = 0;</div>
<div class="line"><span class="lineno"> 2133</span>    ev-&gt;ev_pncalls = NULL;</div>
<div class="line"><span class="lineno"> 2134</span> </div>
<div class="line"><span class="lineno"> 2135</span>    <span class="keywordflow">if</span> (events &amp; EV_SIGNAL) {</div>
<div class="line"><span class="lineno"> 2136</span>        <span class="keywordflow">if</span> ((events &amp; (EV_READ|EV_WRITE|EV_CLOSED)) != 0) {</div>
<div class="line"><span class="lineno"> 2137</span>            <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: EV_SIGNAL is not compatible with &quot;</span></div>
<div class="line"><span class="lineno"> 2138</span>                <span class="stringliteral">&quot;EV_READ, EV_WRITE or EV_CLOSED&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2139</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2140</span>        }</div>
<div class="line"><span class="lineno"> 2141</span>        ev-&gt;ev_closure = <a class="code hl_define" href="event-internal_8h.html#a36e83bc48ad10f5d5350e0fd8b17ff12">EV_CLOSURE_EVENT_SIGNAL</a>;</div>
<div class="line"><span class="lineno"> 2142</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2143</span>        <span class="keywordflow">if</span> (events &amp; EV_PERSIST) {</div>
<div class="line"><span class="lineno"> 2144</span>            evutil_timerclear(&amp;ev-&gt;ev_io_timeout);</div>
<div class="line"><span class="lineno"> 2145</span>            ev-&gt;ev_closure = <a class="code hl_define" href="event-internal_8h.html#a47a14b7de7ee2dca0aaf221ab7963dce">EV_CLOSURE_EVENT_PERSIST</a>;</div>
<div class="line"><span class="lineno"> 2146</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2147</span>            ev-&gt;ev_closure = <a class="code hl_define" href="event-internal_8h.html#abfd9db6f5c092cafa76e3d8cecc3a9d8">EV_CLOSURE_EVENT</a>;</div>
<div class="line"><span class="lineno"> 2148</span>        }</div>
<div class="line"><span class="lineno"> 2149</span>    }</div>
<div class="line"><span class="lineno"> 2150</span> </div>
<div class="line"><span class="lineno"> 2151</span>    <a class="code hl_function" href="minheap-internal_8h.html#a40e083732e68b3f43c4609cb99083268">min_heap_elem_init_</a>(ev);</div>
<div class="line"><span class="lineno"> 2152</span> </div>
<div class="line"><span class="lineno"> 2153</span>    <span class="keywordflow">if</span> (base != NULL) {</div>
<div class="line"><span class="lineno"> 2154</span>        <span class="comment">/* by default, we put new events into the middle priority */</span></div>
<div class="line"><span class="lineno"> 2155</span>        ev-&gt;ev_pri = base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a> / 2;</div>
<div class="line"><span class="lineno"> 2156</span>    }</div>
<div class="line"><span class="lineno"> 2157</span> </div>
<div class="line"><span class="lineno"> 2158</span>    event_debug_note_setup_(ev);</div>
<div class="line"><span class="lineno"> 2159</span> </div>
<div class="line"><span class="lineno"> 2160</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2161</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a36e83bc48ad10f5d5350e0fd8b17ff12"><div class="ttname"><a href="event-internal_8h.html#a36e83bc48ad10f5d5350e0fd8b17ff12">EV_CLOSURE_EVENT_SIGNAL</a></div><div class="ttdeci">#define EV_CLOSURE_EVENT_SIGNAL</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00071">event-internal.h:71</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_abfd9db6f5c092cafa76e3d8cecc3a9d8"><div class="ttname"><a href="event-internal_8h.html#abfd9db6f5c092cafa76e3d8cecc3a9d8">EV_CLOSURE_EVENT</a></div><div class="ttdeci">#define EV_CLOSURE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00069">event-internal.h:69</a></div></div>
<div class="ttc" id="aevent_8c_html_a15afe34bc83a53cf1fe585050ddbf03d"><div class="ttname"><a href="event_8c.html#a15afe34bc83a53cf1fe585050ddbf03d">event_debug_assert_socket_nonblocking_</a></div><div class="ttdeci">static void event_debug_assert_socket_nonblocking_(evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00374">event.c:374</a></div></div>
<div class="ttc" id="aevent_8c_html_a2b5039afe7dc79383e996caed30fe2b9"><div class="ttname"><a href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a></div><div class="ttdeci">#define current_base</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00131">event.c:131</a></div></div>
<div class="ttc" id="aevent_8c_html_a8f3a5b8c786d7e972cd38b46f71162ac"><div class="ttname"><a href="event_8c.html#a8f3a5b8c786d7e972cd38b46f71162ac">event_debug_assert_not_added_</a></div><div class="ttdeci">static void event_debug_assert_not_added_(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00354">event.c:354</a></div></div>
<div class="ttc" id="aevent_8c_html_af31856048b322e785beb0d494f6c5058"><div class="ttname"><a href="event_8c.html#af31856048b322e785beb0d494f6c5058">event_self_cbarg_ptr_</a></div><div class="ttdeci">static void * event_self_cbarg_ptr_</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00135">event.c:135</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_a40e083732e68b3f43c4609cb99083268"><div class="ttname"><a href="minheap-internal_8h.html#a40e083732e68b3f43c4609cb99083268">min_heap_elem_init_</a></div><div class="ttdeci">static void min_heap_elem_init_(struct event *e)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00066">minheap-internal.h:66</a></div></div>
<div class="ttc" id="astructevent__base_html_aa70c7838ca1f94ff8f78ebe7c2ae9584"><div class="ttname"><a href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">event_base::nactivequeues</a></div><div class="ttdeci">int nactivequeues</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00266">event-internal.h:266</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00205">event_once::arg</a>, <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="event-internal_8h_source.html#l00202">event_once::ev</a>, <a class="el" href="event-internal_8h_source.html#l00069">EV_CLOSURE_EVENT</a>, <a class="el" href="event-internal_8h_source.html#l00073">EV_CLOSURE_EVENT_PERSIST</a>, <a class="el" href="event-internal_8h_source.html#l00071">EV_CLOSURE_EVENT_SIGNAL</a>, <a class="el" href="event_8c_source.html#l00354">event_debug_assert_not_added_()</a>, <a class="el" href="event_8c_source.html#l00374">event_debug_assert_socket_nonblocking_()</a>, <a class="el" href="event_8c_source.html#l00135">event_self_cbarg_ptr_</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="minheap-internal_8h_source.html#l00066">min_heap_elem_init_()</a>, and <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00619">be_socket_setfd()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00735">bufferevent_add_to_rate_limit_group()</a>, <a class="el" href="bufferevent_8c_source.html#l00961">bufferevent_init_generic_timeout_cbs_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00638">bufferevent_rate_limit_group_new()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00560">bufferevent_set_rate_limit()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00344">bufferevent_socket_new()</a>, <a class="el" href="listener_8c_source.html#l00157">evconnlistener_new()</a>, <a class="el" href="evdns_8c_source.html#l01723">evdns_add_server_port_with_base()</a>, <a class="el" href="evdns_8c_source.html#l02502">evdns_nameserver_add_impl_()</a>, <a class="el" href="evdns_8c_source.html#l02005">evdns_server_request_respond()</a>, <a class="el" href="event_8c_source.html#l02051">event_base_once()</a>, <a class="el" href="event_8c_source.html#l02208">event_new()</a>, <a class="el" href="event_8c_source.html#l02179">event_set()</a>, <a class="el" href="signal_8c_source.html#l00176">evsig_init_()</a>, <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>, <a class="el" href="evdns_8c_source.html#l01487">nameserver_write_waiting()</a>, <a class="el" href="evdns_8c_source.html#l01449">server_port_flush()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>.</p>

</div>
</div>
<a id="a3979cf89d3d16a81e332c8710fcd0644" name="a3979cf89d3d16a81e332c8710fcd0644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3979cf89d3d16a81e332c8710fcd0644">&#9670;&nbsp;</a></span>event_base_active_by_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_active_by_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03826">3826</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3827</span>{</div>
<div class="line"><span class="lineno"> 3828</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3829</span> </div>
<div class="line"><span class="lineno"> 3830</span>    <span class="comment">/* Activate any non timer events */</span></div>
<div class="line"><span class="lineno"> 3831</span>    <span class="keywordflow">if</span> (!(events &amp; EV_TIMEOUT)) {</div>
<div class="line"><span class="lineno"> 3832</span>        <a class="code hl_function" href="evmap-internal_8h.html#aa7d6c5d77bf1bcbd771a9f1d87de6a25">evmap_io_active_</a>(base, fd, events &amp; (EV_READ|EV_WRITE|EV_CLOSED));</div>
<div class="line"><span class="lineno"> 3833</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3834</span>        <span class="comment">/* If we want to activate timer events, loop and activate each event with</span></div>
<div class="line"><span class="lineno"> 3835</span><span class="comment">         * the same fd in both the timeheap and common timeouts list */</span></div>
<div class="line"><span class="lineno"> 3836</span>        <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 3837</span>        <span class="keywordtype">unsigned</span> u;</div>
<div class="line"><span class="lineno"> 3838</span>        <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno"> 3839</span> </div>
<div class="line"><span class="lineno"> 3840</span>        <span class="keywordflow">for</span> (u = 0; u &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a2ec4ae7822a48ba453085ce54a5f25a4">n</a>; ++u) {</div>
<div class="line"><span class="lineno"> 3841</span>            ev = base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a3331a4a98afcb01779f449bded747d57">p</a>[u];</div>
<div class="line"><span class="lineno"> 3842</span>            <span class="keywordflow">if</span> (ev-&gt;ev_fd == fd) {</div>
<div class="line"><span class="lineno"> 3843</span>                <a class="code hl_function" href="event_8c.html#a4a08272009a9f1e34985fb25a80f42b6">event_active_nolock_</a>(ev, EV_TIMEOUT, 1);</div>
<div class="line"><span class="lineno"> 3844</span>            }</div>
<div class="line"><span class="lineno"> 3845</span>        }</div>
<div class="line"><span class="lineno"> 3846</span> </div>
<div class="line"><span class="lineno"> 3847</span>        <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>; ++i) {</div>
<div class="line"><span class="lineno"> 3848</span>            <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl = <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>[i];</div>
<div class="line"><span class="lineno"> 3849</span>            <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(ev, &amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>,</div>
<div class="line"><span class="lineno"> 3850</span>                ev_timeout_pos.ev_next_with_common_timeout) {</div>
<div class="line"><span class="lineno"> 3851</span>                <span class="keywordflow">if</span> (ev-&gt;ev_fd == fd) {</div>
<div class="line"><span class="lineno"> 3852</span>                    <a class="code hl_function" href="event_8c.html#a4a08272009a9f1e34985fb25a80f42b6">event_active_nolock_</a>(ev, EV_TIMEOUT, 1);</div>
<div class="line"><span class="lineno"> 3853</span>                }</div>
<div class="line"><span class="lineno"> 3854</span>            }</div>
<div class="line"><span class="lineno"> 3855</span>        }</div>
<div class="line"><span class="lineno"> 3856</span>    }</div>
<div class="line"><span class="lineno"> 3857</span> </div>
<div class="line"><span class="lineno"> 3858</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 3859</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a16e5fc168e7f3494d4b1df54447d871e"><div class="ttname"><a href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a></div><div class="ttdeci">#define TAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00386">event-internal.h:386</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_aa7d6c5d77bf1bcbd771a9f1d87de6a25"><div class="ttname"><a href="evmap-internal_8h.html#aa7d6c5d77bf1bcbd771a9f1d87de6a25">evmap_io_active_</a></div><div class="ttdeci">void evmap_io_active_(struct event_base *base, evutil_socket_t fd, short events)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00420">evmap.c:420</a></div></div>
<div class="ttc" id="astructevent__base_html_a55163ed6c02c5605373e647d5d730f23"><div class="ttname"><a href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">event_base::n_common_timeouts</a></div><div class="ttdeci">int n_common_timeouts</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00277">event-internal.h:277</a></div></div>
<div class="ttc" id="astructevent__base_html_a61faaab645b605d2d75ecd46fe5bced3"><div class="ttname"><a href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">event_base::common_timeout_queues</a></div><div class="ttdeci">struct common_timeout_list ** common_timeout_queues</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00275">event-internal.h:275</a></div></div>
<div class="ttc" id="astructmin__heap_html_a2ec4ae7822a48ba453085ce54a5f25a4"><div class="ttname"><a href="structmin__heap.html#a2ec4ae7822a48ba453085ce54a5f25a4">min_heap::n</a></div><div class="ttdeci">unsigned n</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00042">minheap-internal.h:42</a></div></div>
<div class="ttc" id="astructmin__heap_html_a3331a4a98afcb01779f449bded747d57"><div class="ttname"><a href="structmin__heap.html#a3331a4a98afcb01779f449bded747d57">min_heap::p</a></div><div class="ttdeci">struct event ** p</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00041">minheap-internal.h:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event-internal_8h_source.html#l00275">event_base::common_timeout_queues</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="evmap_8c_source.html#l00420">evmap_io_active_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00042">min_heap::n</a>, <a class="el" href="event-internal_8h_source.html#l00277">event_base::n_common_timeouts</a>, <a class="el" href="minheap-internal_8h_source.html#l00041">min_heap::p</a>, <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

</div>
</div>
<a id="ab8b9da0f01f9384a6d3ef125dde115dc" name="ab8b9da0f01f9384a6d3ef125dde115dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8b9da0f01f9384a6d3ef125dde115dc">&#9670;&nbsp;</a></span>event_base_active_by_signal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_active_by_signal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03862">3862</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3863</span>{</div>
<div class="line"><span class="lineno"> 3864</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3865</span>    <a class="code hl_function" href="evmap-internal_8h.html#a9abaa4a47ef7147a63259fced998020e">evmap_signal_active_</a>(base, sig, 1);</div>
<div class="line"><span class="lineno"> 3866</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3867</span>}</div>
<div class="ttc" id="aevmap-internal_8h_html_a9abaa4a47ef7147a63259fced998020e"><div class="ttname"><a href="evmap-internal_8h.html#a9abaa4a47ef7147a63259fced998020e">evmap_signal_active_</a></div><div class="ttdeci">void evmap_signal_active_(struct event_base *base, evutil_socket_t signum, int ncalls)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00501">evmap.c:501</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="evmap_8c_source.html#l00501">evmap_signal_active_()</a>.</p>

</div>
</div>
<a id="a20587890eec86896247d18632670f5fa" name="a20587890eec86896247d18632670f5fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20587890eec86896247d18632670f5fa">&#9670;&nbsp;</a></span>event_base_add_virtual_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_add_virtual_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03871">3871</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3872</span>{</div>
<div class="line"><span class="lineno"> 3873</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3874</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a>++;</div>
<div class="line"><span class="lineno"> 3875</span>    <a class="code hl_define" href="event_8c.html#a256de7de21d779b6aa35f78eb8dfe528">MAX_EVENT_COUNT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#afe8e4504b9f3460dd17eedc3dafdb95f">virtual_event_count_max</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a>);</div>
<div class="line"><span class="lineno"> 3876</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3877</span>}</div>
<div class="ttc" id="aevent_8c_html_a256de7de21d779b6aa35f78eb8dfe528"><div class="ttname"><a href="event_8c.html#a256de7de21d779b6aa35f78eb8dfe528">MAX_EVENT_COUNT</a></div><div class="ttdeci">#define MAX_EVENT_COUNT(var, v)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03210">event.c:3210</a></div></div>
<div class="ttc" id="astructevent__base_html_a7dbaee52e3b6cfb20464dc01b1cd0fb5"><div class="ttname"><a href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">event_base::virtual_event_count</a></div><div class="ttdeci">int virtual_event_count</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00226">event-internal.h:226</a></div></div>
<div class="ttc" id="astructevent__base_html_afe8e4504b9f3460dd17eedc3dafdb95f"><div class="ttname"><a href="structevent__base.html#afe8e4504b9f3460dd17eedc3dafdb95f">event_base::virtual_event_count_max</a></div><div class="ttdeci">int virtual_event_count_max</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00228">event-internal.h:228</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03210">MAX_EVENT_COUNT</a>, <a class="el" href="event-internal_8h_source.html#l00226">event_base::virtual_event_count</a>, and <a class="el" href="event-internal_8h_source.html#l00228">event_base::virtual_event_count_max</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00196">bev_async_add_read()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00185">bev_async_add_write()</a>, and <a class="el" href="bufferevent__async_8c_source.html#l00619">bufferevent_async_connect_()</a>.</p>

</div>
</div>
<a id="a32983d88401ba99dbac4819a0c2f0a93" name="a32983d88401ba99dbac4819a0c2f0a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32983d88401ba99dbac4819a0c2f0a93">&#9670;&nbsp;</a></span>event_base_assert_ok_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_assert_ok_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >For debugging: unless assertions are disabled, verify the referential integrity of the internal data structures of 'base'. This operation can be expensive.</p>
<p >Returns on success; aborts on failure. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03956">3956</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3957</span>{</div>
<div class="line"><span class="lineno"> 3958</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3959</span>    <a class="code hl_function" href="event_8c.html#afdb64b823144e0822dd5a4800d92739f">event_base_assert_ok_nolock_</a>(base);</div>
<div class="line"><span class="lineno"> 3960</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3961</span>}</div>
<div class="ttc" id="aevent_8c_html_afdb64b823144e0822dd5a4800d92739f"><div class="ttname"><a href="event_8c.html#afdb64b823144e0822dd5a4800d92739f">event_base_assert_ok_nolock_</a></div><div class="ttdeci">void event_base_assert_ok_nolock_(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03964">event.c:3964</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="event_8c_source.html#l03964">event_base_assert_ok_nolock_()</a>.</p>

</div>
</div>
<a id="afdb64b823144e0822dd5a4800d92739f" name="afdb64b823144e0822dd5a4800d92739f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdb64b823144e0822dd5a4800d92739f">&#9670;&nbsp;</a></span>event_base_assert_ok_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_assert_ok_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03964">3964</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3965</span>{</div>
<div class="line"><span class="lineno"> 3966</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 3967</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 3968</span> </div>
<div class="line"><span class="lineno"> 3969</span>    <span class="comment">/* First do checks on the per-fd and per-signal lists */</span></div>
<div class="line"><span class="lineno"> 3970</span>    <a class="code hl_function" href="evmap-internal_8h.html#a97c92d3f3a387835c15dfc99dd8760e6">evmap_check_integrity_</a>(base);</div>
<div class="line"><span class="lineno"> 3971</span> </div>
<div class="line"><span class="lineno"> 3972</span>    <span class="comment">/* Check the heap property */</span></div>
<div class="line"><span class="lineno"> 3973</span>    <span class="keywordflow">for</span> (i = 1; i &lt; (int)base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a2ec4ae7822a48ba453085ce54a5f25a4">n</a>; ++i) {</div>
<div class="line"><span class="lineno"> 3974</span>        <span class="keywordtype">int</span> parent = (i - 1) / 2;</div>
<div class="line"><span class="lineno"> 3975</span>        <span class="keyword">struct </span>event *ev, *p_ev;</div>
<div class="line"><span class="lineno"> 3976</span>        ev = base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a3331a4a98afcb01779f449bded747d57">p</a>[i];</div>
<div class="line"><span class="lineno"> 3977</span>        p_ev = base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a3331a4a98afcb01779f449bded747d57">p</a>[parent];</div>
<div class="line"><span class="lineno"> 3978</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_flags &amp; EVLIST_TIMEOUT);</div>
<div class="line"><span class="lineno"> 3979</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evutil_timercmp(&amp;p_ev-&gt;ev_timeout, &amp;ev-&gt;ev_timeout, &lt;=));</div>
<div class="line"><span class="lineno"> 3980</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_timeout_pos.min_heap_idx == i);</div>
<div class="line"><span class="lineno"> 3981</span>    }</div>
<div class="line"><span class="lineno"> 3982</span> </div>
<div class="line"><span class="lineno"> 3983</span>    <span class="comment">/* Check that the common timeouts are fine */</span></div>
<div class="line"><span class="lineno"> 3984</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>; ++i) {</div>
<div class="line"><span class="lineno"> 3985</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl = <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>[i];</div>
<div class="line"><span class="lineno"> 3986</span>        <span class="keyword">struct </span>event *last=NULL, *ev;</div>
<div class="line"><span class="lineno"> 3987</span> </div>
<div class="line"><span class="lineno"> 3988</span>        <a class="code hl_define" href="util-internal_8h.html#ab39447101c18acff01d69f7fe92acb90">EVUTIL_ASSERT_TAILQ_OK</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>, event, ev_timeout_pos.ev_next_with_common_timeout);</div>
<div class="line"><span class="lineno"> 3989</span> </div>
<div class="line"><span class="lineno"> 3990</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(ev, &amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>, ev_timeout_pos.ev_next_with_common_timeout) {</div>
<div class="line"><span class="lineno"> 3991</span>            <span class="keywordflow">if</span> (last)</div>
<div class="line"><span class="lineno"> 3992</span>                <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evutil_timercmp(&amp;last-&gt;ev_timeout, &amp;ev-&gt;ev_timeout, &lt;=));</div>
<div class="line"><span class="lineno"> 3993</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_flags &amp; EVLIST_TIMEOUT);</div>
<div class="line"><span class="lineno"> 3994</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(&amp;ev-&gt;ev_timeout,base));</div>
<div class="line"><span class="lineno"> 3995</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_define" href="event_8c.html#a8b06e24327bbf239360f3b3f806957d5">COMMON_TIMEOUT_IDX</a>(&amp;ev-&gt;ev_timeout) == i);</div>
<div class="line"><span class="lineno"> 3996</span>            last = ev;</div>
<div class="line"><span class="lineno"> 3997</span>        }</div>
<div class="line"><span class="lineno"> 3998</span>    }</div>
<div class="line"><span class="lineno"> 3999</span> </div>
<div class="line"><span class="lineno"> 4000</span>    <span class="comment">/* Check the active queues. */</span></div>
<div class="line"><span class="lineno"> 4001</span>    <a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0;</div>
<div class="line"><span class="lineno"> 4002</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>; ++i) {</div>
<div class="line"><span class="lineno"> 4003</span>        <span class="keyword">struct </span>event_callback *evcb;</div>
<div class="line"><span class="lineno"> 4004</span>        <a class="code hl_define" href="util-internal_8h.html#ab39447101c18acff01d69f7fe92acb90">EVUTIL_ASSERT_TAILQ_OK</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i], event_callback, evcb_active_next);</div>
<div class="line"><span class="lineno"> 4005</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(evcb, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i], evcb_active_next) {</div>
<div class="line"><span class="lineno"> 4006</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER)) == EVLIST_ACTIVE);</div>
<div class="line"><span class="lineno"> 4007</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcb-&gt;evcb_pri == i);</div>
<div class="line"><span class="lineno"> 4008</span>            ++<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 4009</span>        }</div>
<div class="line"><span class="lineno"> 4010</span>    }</div>
<div class="line"><span class="lineno"> 4011</span> </div>
<div class="line"><span class="lineno"> 4012</span>    {</div>
<div class="line"><span class="lineno"> 4013</span>        <span class="keyword">struct </span>event_callback *evcb;</div>
<div class="line"><span class="lineno"> 4014</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(evcb, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">active_later_queue</a>, evcb_active_next) {</div>
<div class="line"><span class="lineno"> 4015</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER)) == EVLIST_ACTIVE_LATER);</div>
<div class="line"><span class="lineno"> 4016</span>            ++<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 4017</span>        }</div>
<div class="line"><span class="lineno"> 4018</span>    }</div>
<div class="line"><span class="lineno"> 4019</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> == base-&gt;<a class="code hl_variable" href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_count_active</a>);</div>
<div class="line"><span class="lineno"> 4020</span>}</div>
<div class="ttc" id="aevmap-internal_8h_html_a97c92d3f3a387835c15dfc99dd8760e6"><div class="ttname"><a href="evmap-internal_8h.html#a97c92d3f3a387835c15dfc99dd8760e6">evmap_check_integrity_</a></div><div class="ttdeci">void evmap_check_integrity_(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01002">evmap.c:1002</a></div></div>
<div class="ttc" id="astructevent__base_html_a50867e165b0f76ef88ecff4218db6f4a"><div class="ttname"><a href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">event_base::activequeues</a></div><div class="ttdeci">struct evcallback_list * activequeues</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00264">event-internal.h:264</a></div></div>
<div class="ttc" id="astructevent__base_html_a9ac3284e0b7042748f8d17be5c9496ef"><div class="ttname"><a href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_base::event_count_active</a></div><div class="ttdeci">int event_count_active</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00234">event-internal.h:234</a></div></div>
<div class="ttc" id="astructevent__base_html_a9eb242bdce71f354facdb58a6f40e144"><div class="ttname"><a href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">event_base::active_later_queue</a></div><div class="ttdeci">struct evcallback_list active_later_queue</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00269">event-internal.h:269</a></div></div>
<div class="ttc" id="atests_8c_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a></div><div class="ttdeci">static int count</div><div class="ttdef"><b>Definition:</b> <a href="tests_8c_source.html#l00033">tests.c:33</a></div></div>
<div class="ttc" id="autil-internal_8h_html_ab39447101c18acff01d69f7fe92acb90"><div class="ttname"><a href="util-internal_8h.html#ab39447101c18acff01d69f7fe92acb90">EVUTIL_ASSERT_TAILQ_OK</a></div><div class="ttdeci">#define EVUTIL_ASSERT_TAILQ_OK(tailq, type, field)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00215">util-internal.h:215</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00269">event_base::active_later_queue</a>, <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event_8c_source.html#l01403">COMMON_TIMEOUT_IDX</a>, <a class="el" href="event-internal_8h_source.html#l00275">event_base::common_timeout_queues</a>, <a class="el" href="tests_8c_source.html#l00033">count</a>, <a class="el" href="event-internal_8h_source.html#l00234">event_base::event_count_active</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="evmap_8c_source.html#l01002">evmap_check_integrity_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="util-internal_8h_source.html#l00215">EVUTIL_ASSERT_TAILQ_OK</a>, <a class="el" href="event_8c_source.html#l01408">is_common_timeout()</a>, <a class="el" href="minheap-internal_8h_source.html#l00042">min_heap::n</a>, <a class="el" href="event-internal_8h_source.html#l00277">event_base::n_common_timeouts</a>, <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>, <a class="el" href="minheap-internal_8h_source.html#l00041">min_heap::p</a>, <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03956">event_base_assert_ok_()</a>.</p>

</div>
</div>
<a id="a2757fc47d617e38e666774c53986ade4" name="a2757fc47d617e38e666774c53986ade4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2757fc47d617e38e666774c53986ade4">&#9670;&nbsp;</a></span>event_base_cancel_single_callback_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_base_cancel_single_callback_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>run_finalizers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00775">775</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  778</span>{</div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_INIT) {</div>
<div class="line"><span class="lineno">  782</span>        <span class="keyword">struct </span>event *ev = <a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb);</div>
<div class="line"><span class="lineno">  783</span>        <span class="keywordflow">if</span> (!(ev-&gt;ev_flags &amp; EVLIST_INTERNAL)) {</div>
<div class="line"><span class="lineno">  784</span>            <a class="code hl_function" href="event_8c.html#a4ea9ace3dc6fd5235ee31f4891f72a52">event_del_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#a8905546adf5fb540312eac1607bbdeb9">EVENT_DEL_EVEN_IF_FINALIZING</a>);</div>
<div class="line"><span class="lineno">  785</span>            result = 1;</div>
<div class="line"><span class="lineno">  786</span>        }</div>
<div class="line"><span class="lineno">  787</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  788</span>        <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno">  789</span>        <a class="code hl_function" href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a>(base, evcb, 1);</div>
<div class="line"><span class="lineno">  790</span>        <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno">  791</span>        result = 1;</div>
<div class="line"><span class="lineno">  792</span>    }</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>    <span class="keywordflow">if</span> (run_finalizers &amp;&amp; (evcb-&gt;evcb_flags &amp; EVLIST_FINALIZING)) {</div>
<div class="line"><span class="lineno">  795</span>        <span class="keywordflow">switch</span> (evcb-&gt;evcb_closure) {</div>
<div class="line"><span class="lineno">  796</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#a1e3eb121c751dbfd015c416550fee057">EV_CLOSURE_EVENT_FINALIZE</a>:</div>
<div class="line"><span class="lineno">  797</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#af694eafd1a0f9c35a09bc31d2865aaf2">EV_CLOSURE_EVENT_FINALIZE_FREE</a>: {</div>
<div class="line"><span class="lineno">  798</span>            <span class="keyword">struct </span>event *ev = <a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb);</div>
<div class="line"><span class="lineno">  799</span>            ev-&gt;ev_evcallback.evcb_cb_union.evcb_evfinalize(ev, ev-&gt;ev_arg);</div>
<div class="line"><span class="lineno">  800</span>            <span class="keywordflow">if</span> (evcb-&gt;evcb_closure == <a class="code hl_define" href="event-internal_8h.html#af694eafd1a0f9c35a09bc31d2865aaf2">EV_CLOSURE_EVENT_FINALIZE_FREE</a>)</div>
<div class="line"><span class="lineno">  801</span>                <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(ev);</div>
<div class="line"><span class="lineno">  802</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  803</span>        }</div>
<div class="line"><span class="lineno">  804</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#a2d789a90e7e056878473202407e78407">EV_CLOSURE_CB_FINALIZE</a>:</div>
<div class="line"><span class="lineno">  805</span>            evcb-&gt;evcb_cb_union.evcb_cbfinalize(evcb, evcb-&gt;evcb_arg);</div>
<div class="line"><span class="lineno">  806</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  807</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  808</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  809</span>        }</div>
<div class="line"><span class="lineno">  810</span>    }</div>
<div class="line"><span class="lineno">  811</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  812</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a1e3eb121c751dbfd015c416550fee057"><div class="ttname"><a href="event-internal_8h.html#a1e3eb121c751dbfd015c416550fee057">EV_CLOSURE_EVENT_FINALIZE</a></div><div class="ttdeci">#define EV_CLOSURE_EVENT_FINALIZE</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00079">event-internal.h:79</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a2d789a90e7e056878473202407e78407"><div class="ttname"><a href="event-internal_8h.html#a2d789a90e7e056878473202407e78407">EV_CLOSURE_CB_FINALIZE</a></div><div class="ttdeci">#define EV_CLOSURE_CB_FINALIZE</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00077">event-internal.h:77</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a8905546adf5fb540312eac1607bbdeb9"><div class="ttname"><a href="event-internal_8h.html#a8905546adf5fb540312eac1607bbdeb9">EVENT_DEL_EVEN_IF_FINALIZING</a></div><div class="ttdeci">#define EVENT_DEL_EVEN_IF_FINALIZING</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00423">event-internal.h:423</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_af694eafd1a0f9c35a09bc31d2865aaf2"><div class="ttname"><a href="event-internal_8h.html#af694eafd1a0f9c35a09bc31d2865aaf2">EV_CLOSURE_EVENT_FINALIZE_FREE</a></div><div class="ttdeci">#define EV_CLOSURE_EVENT_FINALIZE_FREE</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00082">event-internal.h:82</a></div></div>
<div class="ttc" id="aevent_8c_html_a192dd5b45e3aa491374f90bc4b629a77"><div class="ttname"><a href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a></div><div class="ttdeci">static struct event * event_callback_to_event(struct event_callback *evcb)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00492">event.c:492</a></div></div>
<div class="ttc" id="aevent_8c_html_a4ea9ace3dc6fd5235ee31f4891f72a52"><div class="ttname"><a href="event_8c.html#a4ea9ace3dc6fd5235ee31f4891f72a52">event_del_</a></div><div class="ttdeci">static int event_del_(struct event *ev, int blocking)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02769">event.c:2769</a></div></div>
<div class="ttc" id="aevent_8c_html_aff51369f2c5162bde92aa5b360cce150"><div class="ttname"><a href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a></div><div class="ttdeci">int event_callback_cancel_nolock_(struct event_base *base, struct event_callback *evcb, int even_if_finalizing)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03069">event.c:3069</a></div></div>
<div class="ttc" id="amm-internal_8h_html_af7d87798652aaa8398bb9c0504256f16"><div class="ttname"><a href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a></div><div class="ttdeci">#define mm_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00079">mm-internal.h:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00077">EV_CLOSURE_CB_FINALIZE</a>, <a class="el" href="event-internal_8h_source.html#l00079">EV_CLOSURE_EVENT_FINALIZE</a>, <a class="el" href="event-internal_8h_source.html#l00082">EV_CLOSURE_EVENT_FINALIZE_FREE</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, <a class="el" href="event_8c_source.html#l00492">event_callback_to_event()</a>, <a class="el" href="event_8c_source.html#l02769">event_del_()</a>, <a class="el" href="event-internal_8h_source.html#l00423">EVENT_DEL_EVEN_IF_FINALIZING</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00814">event_base_free_queues_()</a>.</p>

</div>
</div>
<a id="a1861394ac511a812b3237d9f9cbb221e" name="a1861394ac511a812b3237d9f9cbb221e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1861394ac511a812b3237d9f9cbb221e">&#9670;&nbsp;</a></span>event_base_del_virtual_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_del_virtual_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03880">3880</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3881</span>{</div>
<div class="line"><span class="lineno"> 3882</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3883</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a> &gt; 0);</div>
<div class="line"><span class="lineno"> 3884</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a>--;</div>
<div class="line"><span class="lineno"> 3885</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a> == 0 &amp;&amp; <a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 3886</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 3887</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3888</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="event-internal_8h_source.html#l00226">event_base::virtual_event_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00174">bev_async_del_read()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00163">bev_async_del_write()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00619">bufferevent_async_connect_()</a>, and <a class="el" href="bufferevent__async_8c_source.html#l00433">connect_complete()</a>.</p>

</div>
</div>
<a id="aafd4c8a042a3774a0702d480faa991bf" name="aafd4c8a042a3774a0702d480faa991bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd4c8a042a3774a0702d480faa991bf">&#9670;&nbsp;</a></span>event_base_dispatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_dispatch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>event_base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01815">1815</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1816</span>{</div>
<div class="line"><span class="lineno"> 1817</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="event_8c.html#a83e0d97da18820d78eac87b1dc76638d">event_base_loop</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, 0));</div>
<div class="line"><span class="lineno"> 1818</span>}</div>
<div class="ttc" id="aevent_8c_html_a83e0d97da18820d78eac87b1dc76638d"><div class="ttname"><a href="event_8c.html#a83e0d97da18820d78eac87b1dc76638d">event_base_loop</a></div><div class="ttdeci">int event_base_loop(struct event_base *base, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01923">event.c:1923</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l01923">event_base_loop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00502">dogecoin_node_group_event_loop()</a>.</p>

</div>
</div>
<a id="a03cf15e1ea04725711721b5c99415ce9" name="a03cf15e1ea04725711721b5c99415ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03cf15e1ea04725711721b5c99415ce9">&#9670;&nbsp;</a></span>event_base_dump_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_dump_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03814">3814</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3815</span>{</div>
<div class="line"><span class="lineno"> 3816</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3817</span>    fprintf(output, <span class="stringliteral">&quot;Inserted events:\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3818</span>    <a class="code hl_function" href="event_8c.html#a13e734284b05282b9099fd2a0d79d36a">event_base_foreach_event_nolock_</a>(base, <a class="code hl_function" href="event_8c.html#a4346efb4e1753fb3f6a41a762f4448aa">dump_inserted_event_fn</a>, output);</div>
<div class="line"><span class="lineno"> 3819</span> </div>
<div class="line"><span class="lineno"> 3820</span>    fprintf(output, <span class="stringliteral">&quot;Active events:\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3821</span>    <a class="code hl_function" href="event_8c.html#a13e734284b05282b9099fd2a0d79d36a">event_base_foreach_event_nolock_</a>(base, <a class="code hl_function" href="event_8c.html#acb342702a913a7faac290abb9d28a44a">dump_active_event_fn</a>, output);</div>
<div class="line"><span class="lineno"> 3822</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3823</span>}</div>
<div class="ttc" id="aevent_8c_html_a13e734284b05282b9099fd2a0d79d36a"><div class="ttname"><a href="event_8c.html#a13e734284b05282b9099fd2a0d79d36a">event_base_foreach_event_nolock_</a></div><div class="ttdeci">int event_base_foreach_event_nolock_(struct event_base *base, event_base_foreach_event_cb fn, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03680">event.c:3680</a></div></div>
<div class="ttc" id="aevent_8c_html_a4346efb4e1753fb3f6a41a762f4448aa"><div class="ttname"><a href="event_8c.html#a4346efb4e1753fb3f6a41a762f4448aa">dump_inserted_event_fn</a></div><div class="ttdeci">static int dump_inserted_event_fn(const struct event_base *base, const struct event *e, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03742">event.c:3742</a></div></div>
<div class="ttc" id="aevent_8c_html_acb342702a913a7faac290abb9d28a44a"><div class="ttname"><a href="event_8c.html#acb342702a913a7faac290abb9d28a44a">dump_active_event_fn</a></div><div class="ttdeci">static int dump_active_event_fn(const struct event_base *base, const struct event *e, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03776">event.c:3776</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l03776">dump_active_event_fn()</a>, <a class="el" href="event_8c_source.html#l03742">dump_inserted_event_fn()</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="event_8c_source.html#l03680">event_base_foreach_event_nolock_()</a>.</p>

</div>
</div>
<a id="afa5997b32f6205465941ecbd06c52ab7" name="afa5997b32f6205465941ecbd06c52ab7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa5997b32f6205465941ecbd06c52ab7">&#9670;&nbsp;</a></span>event_base_foreach_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_foreach_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_base_foreach_event_cb&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03799">3799</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3801</span>{</div>
<div class="line"><span class="lineno"> 3802</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 3803</span>    <span class="keywordflow">if</span> ((!fn) || (!base)) {</div>
<div class="line"><span class="lineno"> 3804</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3805</span>    }</div>
<div class="line"><span class="lineno"> 3806</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3807</span>    r = <a class="code hl_function" href="event_8c.html#a13e734284b05282b9099fd2a0d79d36a">event_base_foreach_event_nolock_</a>(base, fn, arg);</div>
<div class="line"><span class="lineno"> 3808</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3809</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3810</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="event_8c_source.html#l03680">event_base_foreach_event_nolock_()</a>.</p>

</div>
</div>
<a id="a13e734284b05282b9099fd2a0d79d36a" name="a13e734284b05282b9099fd2a0d79d36a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13e734284b05282b9099fd2a0d79d36a">&#9670;&nbsp;</a></span>event_base_foreach_event_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_foreach_event_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_base_foreach_event_cb&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03680">3680</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3682</span>{</div>
<div class="line"><span class="lineno"> 3683</span>    <span class="keywordtype">int</span> r, i;</div>
<div class="line"><span class="lineno"> 3684</span>    <span class="keywordtype">unsigned</span> u;</div>
<div class="line"><span class="lineno"> 3685</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno"> 3686</span> </div>
<div class="line"><span class="lineno"> 3687</span>    <span class="comment">/* Start out with all the EVLIST_INSERTED events. */</span></div>
<div class="line"><span class="lineno"> 3688</span>    <span class="keywordflow">if</span> ((r = <a class="code hl_function" href="evmap-internal_8h.html#aede3441b2878cc0c8a5600e65db32a73">evmap_foreach_event_</a>(base, fn, arg)))</div>
<div class="line"><span class="lineno"> 3689</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3690</span> </div>
<div class="line"><span class="lineno"> 3691</span>    <span class="comment">/* Okay, now we deal with those events that have timeouts and are in</span></div>
<div class="line"><span class="lineno"> 3692</span><span class="comment">     * the min-heap. */</span></div>
<div class="line"><span class="lineno"> 3693</span>    <span class="keywordflow">for</span> (u = 0; u &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a2ec4ae7822a48ba453085ce54a5f25a4">n</a>; ++u) {</div>
<div class="line"><span class="lineno"> 3694</span>        ev = base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a3331a4a98afcb01779f449bded747d57">p</a>[u];</div>
<div class="line"><span class="lineno"> 3695</span>        <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_INSERTED) {</div>
<div class="line"><span class="lineno"> 3696</span>            <span class="comment">/* we already processed this one */</span></div>
<div class="line"><span class="lineno"> 3697</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3698</span>        }</div>
<div class="line"><span class="lineno"> 3699</span>        <span class="keywordflow">if</span> ((r = fn(base, ev, arg)))</div>
<div class="line"><span class="lineno"> 3700</span>            <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3701</span>    }</div>
<div class="line"><span class="lineno"> 3702</span> </div>
<div class="line"><span class="lineno"> 3703</span>    <span class="comment">/* Now for the events in one of the timeout queues.</span></div>
<div class="line"><span class="lineno"> 3704</span><span class="comment">     * the min-heap. */</span></div>
<div class="line"><span class="lineno"> 3705</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>; ++i) {</div>
<div class="line"><span class="lineno"> 3706</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl =</div>
<div class="line"><span class="lineno"> 3707</span>            <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>[i];</div>
<div class="line"><span class="lineno"> 3708</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(ev, &amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>,</div>
<div class="line"><span class="lineno"> 3709</span>            ev_timeout_pos.ev_next_with_common_timeout) {</div>
<div class="line"><span class="lineno"> 3710</span>            <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_INSERTED) {</div>
<div class="line"><span class="lineno"> 3711</span>                <span class="comment">/* we already processed this one */</span></div>
<div class="line"><span class="lineno"> 3712</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3713</span>            }</div>
<div class="line"><span class="lineno"> 3714</span>            <span class="keywordflow">if</span> ((r = fn(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>, ev, arg)))</div>
<div class="line"><span class="lineno"> 3715</span>                <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3716</span>        }</div>
<div class="line"><span class="lineno"> 3717</span>    }</div>
<div class="line"><span class="lineno"> 3718</span> </div>
<div class="line"><span class="lineno"> 3719</span>    <span class="comment">/* Finally, we deal wit all the active events that we haven&#39;t touched</span></div>
<div class="line"><span class="lineno"> 3720</span><span class="comment">     * yet. */</span></div>
<div class="line"><span class="lineno"> 3721</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>; ++i) {</div>
<div class="line"><span class="lineno"> 3722</span>        <span class="keyword">struct </span>event_callback *evcb;</div>
<div class="line"><span class="lineno"> 3723</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(evcb, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i], evcb_active_next) {</div>
<div class="line"><span class="lineno"> 3724</span>            <span class="keywordflow">if</span> ((evcb-&gt;evcb_flags &amp; (EVLIST_INIT|EVLIST_INSERTED|EVLIST_TIMEOUT)) != EVLIST_INIT) {</div>
<div class="line"><span class="lineno"> 3725</span>                <span class="comment">/* This isn&#39;t an event (evlist_init clear), or</span></div>
<div class="line"><span class="lineno"> 3726</span><span class="comment">                 * we already processed it. (inserted or</span></div>
<div class="line"><span class="lineno"> 3727</span><span class="comment">                 * timeout set */</span></div>
<div class="line"><span class="lineno"> 3728</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3729</span>            }</div>
<div class="line"><span class="lineno"> 3730</span>            ev = <a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb);</div>
<div class="line"><span class="lineno"> 3731</span>            <span class="keywordflow">if</span> ((r = fn(base, ev, arg)))</div>
<div class="line"><span class="lineno"> 3732</span>                <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3733</span>        }</div>
<div class="line"><span class="lineno"> 3734</span>    }</div>
<div class="line"><span class="lineno"> 3735</span> </div>
<div class="line"><span class="lineno"> 3736</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3737</span>}</div>
<div class="ttc" id="aevmap-internal_8h_html_aede3441b2878cc0c8a5600e65db32a73"><div class="ttname"><a href="evmap-internal_8h.html#aede3441b2878cc0c8a5600e65db32a73">evmap_foreach_event_</a></div><div class="ttdeci">int evmap_foreach_event_(struct event_base *base, event_base_foreach_event_cb fn, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01051">evmap.c:1051</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event-internal_8h_source.html#l00275">event_base::common_timeout_queues</a>, <a class="el" href="event_8c_source.html#l00492">event_callback_to_event()</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="evmap_8c_source.html#l01051">evmap_foreach_event_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00042">min_heap::n</a>, <a class="el" href="event-internal_8h_source.html#l00277">event_base::n_common_timeouts</a>, <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>, <a class="el" href="minheap-internal_8h_source.html#l00041">min_heap::p</a>, <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03814">event_base_dump_events()</a>, and <a class="el" href="event_8c_source.html#l03799">event_base_foreach_event()</a>.</p>

</div>
</div>
<a id="acb4f9733901aefc1a4ed1ac6b423d79d" name="acb4f9733901aefc1a4ed1ac6b423d79d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb4f9733901aefc1a4ed1ac6b423d79d">&#9670;&nbsp;</a></span>event_base_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00955">955</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  956</span>{</div>
<div class="line"><span class="lineno">  957</span>    <a class="code hl_function" href="event_8c.html#a96ee11f667d00aa5349db180f11dcc1e">event_base_free_</a>(base, 1);</div>
<div class="line"><span class="lineno">  958</span>}</div>
<div class="ttc" id="aevent_8c_html_a96ee11f667d00aa5349db180f11dcc1e"><div class="ttname"><a href="event_8c.html#a96ee11f667d00aa5349db180f11dcc1e">event_base_free_</a></div><div class="ttdeci">static void event_base_free_(struct event_base *base, int run_finalizers)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00838">event.c:838</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00482">dogecoin_node_group_free()</a>, and <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>.</p>

</div>
</div>
<a id="a96ee11f667d00aa5349db180f11dcc1e" name="a96ee11f667d00aa5349db180f11dcc1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96ee11f667d00aa5349db180f11dcc1e">&#9670;&nbsp;</a></span>event_base_free_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_base_free_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>run_finalizers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00838">838</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  839</span>{</div>
<div class="line"><span class="lineno">  840</span>    <span class="keywordtype">int</span> i, n_deleted=0;</div>
<div class="line"><span class="lineno">  841</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno">  842</span>    <span class="comment">/* XXXX grab the lock? If there is contention when one thread frees</span></div>
<div class="line"><span class="lineno">  843</span><span class="comment">     * the base, then the contending thread will be very sad soon. */</span></div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>    <span class="comment">/* event_base_free(NULL) is how to free the current_base if we</span></div>
<div class="line"><span class="lineno">  846</span><span class="comment">     * made it with event_init and forgot to hold a reference to it. */</span></div>
<div class="line"><span class="lineno">  847</span>    <span class="keywordflow">if</span> (base == NULL &amp;&amp; <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>)</div>
<div class="line"><span class="lineno">  848</span>        base = <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>;</div>
<div class="line"><span class="lineno">  849</span>    <span class="comment">/* Don&#39;t actually free NULL. */</span></div>
<div class="line"><span class="lineno">  850</span>    <span class="keywordflow">if</span> (base == NULL) {</div>
<div class="line"><span class="lineno">  851</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: no base to free&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno">  852</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  853</span>    }</div>
<div class="line"><span class="lineno">  854</span>    <span class="comment">/* XXX(niels) - check for internal events first */</span></div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  857</span>    <a class="code hl_function" href="event_8c.html#a58a3c3c0a62757a3e71ae7685fe5bccb">event_base_stop_iocp_</a>(base);</div>
<div class="line"><span class="lineno">  858</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>    <span class="comment">/* threading fds if we have them */</span></div>
<div class="line"><span class="lineno">  861</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0] != -1) {</div>
<div class="line"><span class="lineno">  862</span>        <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a3ce8b297e9c64d42e2d00be80ffb4d28">th_notify</a>);</div>
<div class="line"><span class="lineno">  863</span>        EVUTIL_CLOSESOCKET(base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0]);</div>
<div class="line"><span class="lineno">  864</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1] != -1)</div>
<div class="line"><span class="lineno">  865</span>            EVUTIL_CLOSESOCKET(base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1]);</div>
<div class="line"><span class="lineno">  866</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0] = -1;</div>
<div class="line"><span class="lineno">  867</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1] = -1;</div>
<div class="line"><span class="lineno">  868</span>        <a class="code hl_function" href="event_8c.html#addc542c0516f6532cf2e9a645bd1694a">event_debug_unassign</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a3ce8b297e9c64d42e2d00be80ffb4d28">th_notify</a>);</div>
<div class="line"><span class="lineno">  869</span>    }</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  871</span>    <span class="comment">/* Delete all non-internal events. */</span></div>
<div class="line"><span class="lineno">  872</span>    <a class="code hl_function" href="evmap-internal_8h.html#a2157ece8e14c82e17b7386b942df9ead">evmap_delete_all_</a>(base);</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordflow">while</span> ((ev = <a class="code hl_function" href="minheap-internal_8h.html#af370aef7e99d50e8387fd19158fb8515">min_heap_top_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>)) != NULL) {</div>
<div class="line"><span class="lineno">  875</span>        <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(ev);</div>
<div class="line"><span class="lineno">  876</span>        ++n_deleted;</div>
<div class="line"><span class="lineno">  877</span>    }</div>
<div class="line"><span class="lineno">  878</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>; ++i) {</div>
<div class="line"><span class="lineno">  879</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl =</div>
<div class="line"><span class="lineno">  880</span>            <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>[i];</div>
<div class="line"><span class="lineno">  881</span>        <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a9095ae5b5278b2b3e774e0de979c16bf">timeout_event</a>); <span class="comment">/* Internal; doesn&#39;t count */</span></div>
<div class="line"><span class="lineno">  882</span>        <a class="code hl_function" href="event_8c.html#addc542c0516f6532cf2e9a645bd1694a">event_debug_unassign</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a9095ae5b5278b2b3e774e0de979c16bf">timeout_event</a>);</div>
<div class="line"><span class="lineno">  883</span>        <span class="keywordflow">for</span> (ev = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>); ev; ) {</div>
<div class="line"><span class="lineno">  884</span>            <span class="keyword">struct </span>event *next = <a class="code hl_define" href="event-internal_8h.html#abd57fe9bdea6007a602f8c7d61bd5265">TAILQ_NEXT</a>(ev,</div>
<div class="line"><span class="lineno">  885</span>                ev_timeout_pos.ev_next_with_common_timeout);</div>
<div class="line"><span class="lineno">  886</span>            <span class="keywordflow">if</span> (!(ev-&gt;ev_flags &amp; EVLIST_INTERNAL)) {</div>
<div class="line"><span class="lineno">  887</span>                <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(ev);</div>
<div class="line"><span class="lineno">  888</span>                ++n_deleted;</div>
<div class="line"><span class="lineno">  889</span>            }</div>
<div class="line"><span class="lineno">  890</span>            ev = next;</div>
<div class="line"><span class="lineno">  891</span>        }</div>
<div class="line"><span class="lineno">  892</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(ctl);</div>
<div class="line"><span class="lineno">  893</span>    }</div>
<div class="line"><span class="lineno">  894</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>)</div>
<div class="line"><span class="lineno">  895</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>);</div>
<div class="line"><span class="lineno">  896</span> </div>
<div class="line"><span class="lineno">  897</span>    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  898</span>        <span class="comment">/* For finalizers we can register yet another finalizer out from</span></div>
<div class="line"><span class="lineno">  899</span><span class="comment">         * finalizer, and iff finalizer will be in active_later_queue we can</span></div>
<div class="line"><span class="lineno">  900</span><span class="comment">         * add finalizer to activequeues, and we will have events in</span></div>
<div class="line"><span class="lineno">  901</span><span class="comment">         * activequeues after this function returns, which is not what we want</span></div>
<div class="line"><span class="lineno">  902</span><span class="comment">         * (we even have an assertion for this).</span></div>
<div class="line"><span class="lineno">  903</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  904</span><span class="comment">         * A simple case is bufferevent with underlying (i.e. filters).</span></div>
<div class="line"><span class="lineno">  905</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  906</span>        <span class="keywordtype">int</span> i = <a class="code hl_function" href="event_8c.html#a02db517cfebd53086331975c244489de">event_base_free_queues_</a>(base, run_finalizers);</div>
<div class="line"><span class="lineno">  907</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: %d events freed&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, i));</div>
<div class="line"><span class="lineno">  908</span>        <span class="keywordflow">if</span> (!i) {</div>
<div class="line"><span class="lineno">  909</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  910</span>        }</div>
<div class="line"><span class="lineno">  911</span>        n_deleted += i;</div>
<div class="line"><span class="lineno">  912</span>    }</div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>    <span class="keywordflow">if</span> (n_deleted)</div>
<div class="line"><span class="lineno">  915</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: %d events were still set in base&quot;</span>,</div>
<div class="line"><span class="lineno">  916</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, n_deleted));</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">while</span> (LIST_FIRST(&amp;base-&gt;once_events)) {</div>
<div class="line"><span class="lineno">  919</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevent__once.html">event_once</a> *eonce = LIST_FIRST(&amp;base-&gt;once_events);</div>
<div class="line"><span class="lineno">  920</span>        LIST_REMOVE(eonce, next_once);</div>
<div class="line"><span class="lineno">  921</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(eonce);</div>
<div class="line"><span class="lineno">  922</span>    }</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a> != NULL &amp;&amp; base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#ad16bfece64f9b400c149cd33b17c6746">dealloc</a> != NULL)</div>
<div class="line"><span class="lineno">  925</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#ad16bfece64f9b400c149cd33b17c6746">dealloc</a>(base);</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>; ++i)</div>
<div class="line"><span class="lineno">  928</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(TAILQ_EMPTY(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i]));</div>
<div class="line"><span class="lineno">  929</span> </div>
<div class="line"><span class="lineno">  930</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_function" href="minheap-internal_8h.html#a2411e8d421b6f61fd231ef58490e28bf">min_heap_empty_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>));</div>
<div class="line"><span class="lineno">  931</span>    <a class="code hl_function" href="minheap-internal_8h.html#a4c53c4445425f9933374a1421d3bc9d1">min_heap_dtor_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>);</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>);</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>    <a class="code hl_function" href="evmap-internal_8h.html#a378966d553ed1112e5da5e1a06f561a2">evmap_io_clear_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>);</div>
<div class="line"><span class="lineno">  936</span>    <a class="code hl_function" href="evmap-internal_8h.html#a2607ea68074a8c4f2eb5908481b75915">evmap_signal_clear_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>);</div>
<div class="line"><span class="lineno">  937</span>    <a class="code hl_function" href="changelist-internal_8h.html#a7776028e11ff5cf2d12de2cadc028b56">event_changelist_freemem_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a91a445ff7af6e157a35b3b2276b5f1a2">changelist</a>);</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>    <a class="code hl_define" href="evthread-internal_8h.html#a56d74d4600adf793a2411f26db03ca71">EVTHREAD_FREE_LOCK</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>, 0);</div>
<div class="line"><span class="lineno">  940</span>    <a class="code hl_define" href="evthread-internal_8h.html#aaca889ff6d4218cc10d50a3bb14ca6ea">EVTHREAD_FREE_COND</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">current_event_cond</a>);</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>    <span class="comment">/* If we&#39;re freeing current_base, there won&#39;t be a current_base. */</span></div>
<div class="line"><span class="lineno">  943</span>    <span class="keywordflow">if</span> (base == <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>)</div>
<div class="line"><span class="lineno">  944</span>        <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a> = NULL;</div>
<div class="line"><span class="lineno">  945</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(base);</div>
<div class="line"><span class="lineno">  946</span>}</div>
<div class="ttc" id="achangelist-internal_8h_html_a7776028e11ff5cf2d12de2cadc028b56"><div class="ttname"><a href="changelist-internal_8h.html#a7776028e11ff5cf2d12de2cadc028b56">event_changelist_freemem_</a></div><div class="ttdeci">void event_changelist_freemem_(struct event_changelist *changelist)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00800">evmap.c:800</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_abd57fe9bdea6007a602f8c7d61bd5265"><div class="ttname"><a href="event-internal_8h.html#abd57fe9bdea6007a602f8c7d61bd5265">TAILQ_NEXT</a></div><div class="ttdeci">#define TAILQ_NEXT(elm, field)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00382">event-internal.h:382</a></div></div>
<div class="ttc" id="aevent_8c_html_a02db517cfebd53086331975c244489de"><div class="ttname"><a href="event_8c.html#a02db517cfebd53086331975c244489de">event_base_free_queues_</a></div><div class="ttdeci">static int event_base_free_queues_(struct event_base *base, int run_finalizers)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00814">event.c:814</a></div></div>
<div class="ttc" id="aevent_8c_html_a4d01ab982328facb6ce4b584390b86ab"><div class="ttname"><a href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a></div><div class="ttdeci">int event_del(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02787">event.c:2787</a></div></div>
<div class="ttc" id="aevent_8c_html_a58a3c3c0a62757a3e71ae7685fe5bccb"><div class="ttname"><a href="event_8c.html#a58a3c3c0a62757a3e71ae7685fe5bccb">event_base_stop_iocp_</a></div><div class="ttdeci">void event_base_stop_iocp_(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00761">event.c:761</a></div></div>
<div class="ttc" id="aevent_8c_html_addc542c0516f6532cf2e9a645bd1694a"><div class="ttname"><a href="event_8c.html#addc542c0516f6532cf2e9a645bd1694a">event_debug_unassign</a></div><div class="ttdeci">void event_debug_unassign(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02237">event.c:2237</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a2157ece8e14c82e17b7386b942df9ead"><div class="ttname"><a href="evmap-internal_8h.html#a2157ece8e14c82e17b7386b942df9ead">evmap_delete_all_</a></div><div class="ttdeci">void evmap_delete_all_(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00693">evmap.c:693</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a2607ea68074a8c4f2eb5908481b75915"><div class="ttname"><a href="evmap-internal_8h.html#a2607ea68074a8c4f2eb5908481b75915">evmap_signal_clear_</a></div><div class="ttdeci">void evmap_signal_clear_(struct event_signal_map *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00242">evmap.c:242</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a378966d553ed1112e5da5e1a06f561a2"><div class="ttname"><a href="evmap-internal_8h.html#a378966d553ed1112e5da5e1a06f561a2">evmap_io_clear_</a></div><div class="ttdeci">void evmap_io_clear_(struct event_io_map *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00194">evmap.c:194</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a56d74d4600adf793a2411f26db03ca71"><div class="ttname"><a href="evthread-internal_8h.html#a56d74d4600adf793a2411f26db03ca71">EVTHREAD_FREE_LOCK</a></div><div class="ttdeci">#define EVTHREAD_FREE_LOCK(lockvar, locktype)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00085">evthread-internal.h:85</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_aaca889ff6d4218cc10d50a3bb14ca6ea"><div class="ttname"><a href="evthread-internal_8h.html#aaca889ff6d4218cc10d50a3bb14ca6ea">EVTHREAD_FREE_COND</a></div><div class="ttdeci">#define EVTHREAD_FREE_COND(cond)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00159">evthread-internal.h:159</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_a2411e8d421b6f61fd231ef58490e28bf"><div class="ttname"><a href="minheap-internal_8h.html#a2411e8d421b6f61fd231ef58490e28bf">min_heap_empty_</a></div><div class="ttdeci">static int min_heap_empty_(min_heap_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00067">minheap-internal.h:67</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_a4c53c4445425f9933374a1421d3bc9d1"><div class="ttname"><a href="minheap-internal_8h.html#a4c53c4445425f9933374a1421d3bc9d1">min_heap_dtor_</a></div><div class="ttdeci">static void min_heap_dtor_(min_heap_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00065">minheap-internal.h:65</a></div></div>
<div class="ttc" id="astructevent__base_html_a3ce8b297e9c64d42e2d00be80ffb4d28"><div class="ttname"><a href="structevent__base.html#a3ce8b297e9c64d42e2d00be80ffb4d28">event_base::th_notify</a></div><div class="ttdeci">struct event th_notify</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00338">event-internal.h:338</a></div></div>
<div class="ttc" id="astructevent__base_html_a7869647e5bb9220fa71754f7c8cec0f5"><div class="ttname"><a href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">event_base::evsel</a></div><div class="ttdeci">const struct eventop * evsel</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00211">event-internal.h:211</a></div></div>
<div class="ttc" id="astructevent__base_html_a8570aaf68a16863aa88fd99bad159295"><div class="ttname"><a href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">event_base::io</a></div><div class="ttdeci">struct event_io_map io</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00282">event-internal.h:282</a></div></div>
<div class="ttc" id="astructevent__base_html_a91a445ff7af6e157a35b3b2276b5f1a2"><div class="ttname"><a href="structevent__base.html#a91a445ff7af6e157a35b3b2276b5f1a2">event_base::changelist</a></div><div class="ttdeci">struct event_changelist changelist</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00217">event-internal.h:217</a></div></div>
<div class="ttc" id="astructevent__base_html_aa712346eb14b04665a4b19292c75dea5"><div class="ttname"><a href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">event_base::th_notify_fd</a></div><div class="ttdeci">evutil_socket_t th_notify_fd[2]</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00335">event-internal.h:335</a></div></div>
<div class="ttc" id="astructevent__base_html_adb0f80f46fb3cd2385286c819aeaff9d"><div class="ttname"><a href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">event_base::sigmap</a></div><div class="ttdeci">struct event_signal_map sigmap</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00285">event-internal.h:285</a></div></div>
<div class="ttc" id="astructevent__once_html"><div class="ttname"><a href="structevent__once.html">event_once</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00200">event-internal.h:200</a></div></div>
<div class="ttc" id="astructeventop_html_ad16bfece64f9b400c149cd33b17c6746"><div class="ttname"><a href="structeventop.html#ad16bfece64f9b400c149cd33b17c6746">eventop::dealloc</a></div><div class="ttdeci">void(* dealloc)(struct event_base *)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00113">event-internal.h:113</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event-internal_8h_source.html#l00217">event_base::changelist</a>, <a class="el" href="event-internal_8h_source.html#l00275">event_base::common_timeout_queues</a>, <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="event-internal_8h_source.html#l00310">event_base::current_event_cond</a>, <a class="el" href="event-internal_8h_source.html#l00113">eventop::dealloc</a>, <a class="el" href="event_8c_source.html#l00814">event_base_free_queues_()</a>, <a class="el" href="event_8c_source.html#l00761">event_base_stop_iocp_()</a>, <a class="el" href="evmap_8c_source.html#l00800">event_changelist_freemem_()</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l02237">event_debug_unassign()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="evmap_8c_source.html#l00693">evmap_delete_all_()</a>, <a class="el" href="evmap_8c_source.html#l00194">evmap_io_clear_()</a>, <a class="el" href="evmap_8c_source.html#l00242">evmap_signal_clear_()</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="evthread-internal_8h_source.html#l00159">EVTHREAD_FREE_COND</a>, <a class="el" href="evthread-internal_8h_source.html#l00085">EVTHREAD_FREE_LOCK</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>, <a class="el" href="minheap-internal_8h_source.html#l00065">min_heap_dtor_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00067">min_heap_empty_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00069">min_heap_top_()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="event-internal_8h_source.html#l00277">event_base::n_common_timeouts</a>, <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>, <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>, <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>, <a class="el" href="event-internal_8h_source.html#l00382">TAILQ_NEXT</a>, <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>, <a class="el" href="event-internal_8h_source.html#l00338">event_base::th_notify</a>, <a class="el" href="event-internal_8h_source.html#l00335">event_base::th_notify_fd</a>, <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>, and <a class="el" href="event-internal_8h_source.html#l00171">common_timeout_list::timeout_event</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00955">event_base_free()</a>, and <a class="el" href="event_8c_source.html#l00949">event_base_free_nofinalize()</a>.</p>

</div>
</div>
<a id="a8d6e0464db75acfb8a4cb6ee11248e9e" name="a8d6e0464db75acfb8a4cb6ee11248e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d6e0464db75acfb8a4cb6ee11248e9e">&#9670;&nbsp;</a></span>event_base_free_nofinalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_free_nofinalize </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00949">949</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  950</span>{</div>
<div class="line"><span class="lineno">  951</span>    <a class="code hl_function" href="event_8c.html#a96ee11f667d00aa5349db180f11dcc1e">event_base_free_</a>(base, 0);</div>
<div class="line"><span class="lineno">  952</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>.</p>

</div>
</div>
<a id="a02db517cfebd53086331975c244489de" name="a02db517cfebd53086331975c244489de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02db517cfebd53086331975c244489de">&#9670;&nbsp;</a></span>event_base_free_queues_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_base_free_queues_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>run_finalizers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00814">814</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  815</span>{</div>
<div class="line"><span class="lineno">  816</span>    <span class="keywordtype">int</span> deleted = 0, i;</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>; ++i) {</div>
<div class="line"><span class="lineno">  819</span>        <span class="keyword">struct </span>event_callback *evcb, *next;</div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">for</span> (evcb = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i]); evcb; ) {</div>
<div class="line"><span class="lineno">  821</span>            next = <a class="code hl_define" href="event-internal_8h.html#abd57fe9bdea6007a602f8c7d61bd5265">TAILQ_NEXT</a>(evcb, evcb_active_next);</div>
<div class="line"><span class="lineno">  822</span>            deleted += <a class="code hl_function" href="event_8c.html#a2757fc47d617e38e666774c53986ade4">event_base_cancel_single_callback_</a>(base, evcb, run_finalizers);</div>
<div class="line"><span class="lineno">  823</span>            evcb = next;</div>
<div class="line"><span class="lineno">  824</span>        }</div>
<div class="line"><span class="lineno">  825</span>    }</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>    {</div>
<div class="line"><span class="lineno">  828</span>        <span class="keyword">struct </span>event_callback *evcb;</div>
<div class="line"><span class="lineno">  829</span>        <span class="keywordflow">while</span> ((evcb = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">active_later_queue</a>))) {</div>
<div class="line"><span class="lineno">  830</span>            deleted += <a class="code hl_function" href="event_8c.html#a2757fc47d617e38e666774c53986ade4">event_base_cancel_single_callback_</a>(base, evcb, run_finalizers);</div>
<div class="line"><span class="lineno">  831</span>        }</div>
<div class="line"><span class="lineno">  832</span>    }</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>    <span class="keywordflow">return</span> deleted;</div>
<div class="line"><span class="lineno">  835</span>}</div>
<div class="ttc" id="aevent_8c_html_a2757fc47d617e38e666774c53986ade4"><div class="ttname"><a href="event_8c.html#a2757fc47d617e38e666774c53986ade4">event_base_cancel_single_callback_</a></div><div class="ttdeci">static int event_base_cancel_single_callback_(struct event_base *base, struct event_callback *evcb, int run_finalizers)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00775">event.c:775</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00269">event_base::active_later_queue</a>, <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event_8c_source.html#l00775">event_base_cancel_single_callback_()</a>, <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>, <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>, and <a class="el" href="event-internal_8h_source.html#l00382">TAILQ_NEXT</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>.</p>

</div>
</div>
<a id="a11cb58563e8b5da36f00db2e250d026c" name="a11cb58563e8b5da36f00db2e250d026c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11cb58563e8b5da36f00db2e250d026c">&#9670;&nbsp;</a></span>event_base_get_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_get_features </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00564">564</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  565</span>{</div>
<div class="line"><span class="lineno">  566</span>    <span class="keywordflow">return</span> base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#a08aa4b25e8efd9e2cf22daa27f03276e">features</a>;</div>
<div class="line"><span class="lineno">  567</span>}</div>
<div class="ttc" id="astructeventop_html_a08aa4b25e8efd9e2cf22daa27f03276e"><div class="ttname"><a href="structeventop.html#a08aa4b25e8efd9e2cf22daa27f03276e">eventop::features</a></div><div class="ttdeci">enum event_method_feature features</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00119">event-internal.h:119</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, and <a class="el" href="event-internal_8h_source.html#l00119">eventop::features</a>.</p>

</div>
</div>
<a id="a1bdda2e583d7bdd761129ae87a9906ec" name="a1bdda2e583d7bdd761129ae87a9906ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bdda2e583d7bdd761129ae87a9906ec">&#9670;&nbsp;</a></span>event_base_get_max_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_get_max_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>clear</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01315">1315</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1316</span>{</div>
<div class="line"><span class="lineno"> 1317</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1320</span> </div>
<div class="line"><span class="lineno"> 1321</span>    <span class="keywordflow">if</span> (type &amp; EVENT_BASE_COUNT_ACTIVE) {</div>
<div class="line"><span class="lineno"> 1322</span>        r += base-&gt;<a class="code hl_variable" href="structevent__base.html#a3863c7a8d4246670ff84964f7253f328">event_count_active_max</a>;</div>
<div class="line"><span class="lineno"> 1323</span>        <span class="keywordflow">if</span> (clear)</div>
<div class="line"><span class="lineno"> 1324</span>            base-&gt;<a class="code hl_variable" href="structevent__base.html#a3863c7a8d4246670ff84964f7253f328">event_count_active_max</a> = 0;</div>
<div class="line"><span class="lineno"> 1325</span>    }</div>
<div class="line"><span class="lineno"> 1326</span> </div>
<div class="line"><span class="lineno"> 1327</span>    <span class="keywordflow">if</span> (type &amp; EVENT_BASE_COUNT_VIRTUAL) {</div>
<div class="line"><span class="lineno"> 1328</span>        r += base-&gt;<a class="code hl_variable" href="structevent__base.html#afe8e4504b9f3460dd17eedc3dafdb95f">virtual_event_count_max</a>;</div>
<div class="line"><span class="lineno"> 1329</span>        <span class="keywordflow">if</span> (clear)</div>
<div class="line"><span class="lineno"> 1330</span>            base-&gt;<a class="code hl_variable" href="structevent__base.html#afe8e4504b9f3460dd17eedc3dafdb95f">virtual_event_count_max</a> = 0;</div>
<div class="line"><span class="lineno"> 1331</span>    }</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>    <span class="keywordflow">if</span> (type &amp; EVENT_BASE_COUNT_ADDED) {</div>
<div class="line"><span class="lineno"> 1334</span>        r += base-&gt;<a class="code hl_variable" href="structevent__base.html#ac6a376b7571a8daec46ea19c541a2909">event_count_max</a>;</div>
<div class="line"><span class="lineno"> 1335</span>        <span class="keywordflow">if</span> (clear)</div>
<div class="line"><span class="lineno"> 1336</span>            base-&gt;<a class="code hl_variable" href="structevent__base.html#ac6a376b7571a8daec46ea19c541a2909">event_count_max</a> = 0;</div>
<div class="line"><span class="lineno"> 1337</span>    }</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1340</span> </div>
<div class="line"><span class="lineno"> 1341</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1342</span>}</div>
<div class="ttc" id="astructevent__base_html_a3863c7a8d4246670ff84964f7253f328"><div class="ttname"><a href="structevent__base.html#a3863c7a8d4246670ff84964f7253f328">event_base::event_count_active_max</a></div><div class="ttdeci">int event_count_active_max</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00236">event-internal.h:236</a></div></div>
<div class="ttc" id="astructevent__base_html_ac6a376b7571a8daec46ea19c541a2909"><div class="ttname"><a href="structevent__base.html#ac6a376b7571a8daec46ea19c541a2909">event_base::event_count_max</a></div><div class="ttdeci">int event_count_max</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00232">event-internal.h:232</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00236">event_base::event_count_active_max</a>, <a class="el" href="event-internal_8h_source.html#l00232">event_base::event_count_max</a>, and <a class="el" href="event-internal_8h_source.html#l00228">event_base::virtual_event_count_max</a>.</p>

</div>
</div>
<a id="af2127d8ff574cc6a4d447152faea36f5" name="af2127d8ff574cc6a4d447152faea36f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2127d8ff574cc6a4d447152faea36f5">&#9670;&nbsp;</a></span>event_base_get_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * event_base_get_method </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01821">1821</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1822</span>{</div>
<div class="line"><span class="lineno"> 1823</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(base);</div>
<div class="line"><span class="lineno"> 1824</span>    <span class="keywordflow">return</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#aea346959c36b45b594317b9f27960a4e">name</a>);</div>
<div class="line"><span class="lineno"> 1825</span>}</div>
<div class="ttc" id="astructeventop_html_aea346959c36b45b594317b9f27960a4e"><div class="ttname"><a href="structeventop.html#aea346959c36b45b594317b9f27960a4e">eventop::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00088">event-internal.h:88</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="event-internal_8h_source.html#l00088">eventop::name</a>.</p>

</div>
</div>
<a id="a69fcc6b3b1ed8435f0e500aee8ef2fb7" name="a69fcc6b3b1ed8435f0e500aee8ef2fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69fcc6b3b1ed8435f0e500aee8ef2fb7">&#9670;&nbsp;</a></span>event_base_get_npriorities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_get_npriorities </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01280">1280</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1281</span>{</div>
<div class="line"><span class="lineno"> 1282</span> </div>
<div class="line"><span class="lineno"> 1283</span>    <span class="keywordtype">int</span> n;</div>
<div class="line"><span class="lineno"> 1284</span>    <span class="keywordflow">if</span> (base == NULL)</div>
<div class="line"><span class="lineno"> 1285</span>        base = <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>;</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1288</span>    n = base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>;</div>
<div class="line"><span class="lineno"> 1289</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1290</span>    <span class="keywordflow">return</span> (n);</div>
<div class="line"><span class="lineno"> 1291</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00442">bufferevent_get_priority()</a>, <a class="el" href="bufferevent_8c_source.html#l00309">bufferevent_init_common_()</a>, and <a class="el" href="libevent_2buffer_8c_source.html#l00411">evbuffer_defer_callbacks()</a>.</p>

</div>
</div>
<a id="a917a85b0b4757af435af506f58e424be" name="a917a85b0b4757af435af506f58e424be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917a85b0b4757af435af506f58e424be">&#9670;&nbsp;</a></span>event_base_get_num_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_get_num_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01294">1294</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1295</span>{</div>
<div class="line"><span class="lineno"> 1296</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno"> 1297</span> </div>
<div class="line"><span class="lineno"> 1298</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1299</span> </div>
<div class="line"><span class="lineno"> 1300</span>    <span class="keywordflow">if</span> (type &amp; EVENT_BASE_COUNT_ACTIVE)</div>
<div class="line"><span class="lineno"> 1301</span>        r += base-&gt;<a class="code hl_variable" href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_count_active</a>;</div>
<div class="line"><span class="lineno"> 1302</span> </div>
<div class="line"><span class="lineno"> 1303</span>    <span class="keywordflow">if</span> (type &amp; EVENT_BASE_COUNT_VIRTUAL)</div>
<div class="line"><span class="lineno"> 1304</span>        r += base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a>;</div>
<div class="line"><span class="lineno"> 1305</span> </div>
<div class="line"><span class="lineno"> 1306</span>    <span class="keywordflow">if</span> (type &amp; EVENT_BASE_COUNT_ADDED)</div>
<div class="line"><span class="lineno"> 1307</span>        r += base-&gt;<a class="code hl_variable" href="structevent__base.html#ad9cd3722457586263119c733a5a0c892">event_count</a>;</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1310</span> </div>
<div class="line"><span class="lineno"> 1311</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1312</span>}</div>
<div class="ttc" id="astructevent__base_html_ad9cd3722457586263119c733a5a0c892"><div class="ttname"><a href="structevent__base.html#ad9cd3722457586263119c733a5a0c892">event_base::event_count</a></div><div class="ttdeci">int event_count</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00230">event-internal.h:230</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00230">event_base::event_count</a>, <a class="el" href="event-internal_8h_source.html#l00234">event_base::event_count_active</a>, and <a class="el" href="event-internal_8h_source.html#l00226">event_base::virtual_event_count</a>.</p>

</div>
</div>
<a id="a07f242cbf881125c50827ee3aecab1d7" name="a07f242cbf881125c50827ee3aecab1d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07f242cbf881125c50827ee3aecab1d7">&#9670;&nbsp;</a></span>event_base_get_running_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct event * event_base_get_running_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02194">2194</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2195</span>{</div>
<div class="line"><span class="lineno"> 2196</span>    <span class="keyword">struct </span>event *ev = NULL;</div>
<div class="line"><span class="lineno"> 2197</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2198</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="evthread-internal_8h.html#ac023e978d4b8ebfb1a79926a47f90ed9">EVBASE_IN_THREAD</a>(base)) {</div>
<div class="line"><span class="lineno"> 2199</span>        <span class="keyword">struct </span>event_callback *evcb = base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a>;</div>
<div class="line"><span class="lineno"> 2200</span>        <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_INIT)</div>
<div class="line"><span class="lineno"> 2201</span>            ev = <a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb);</div>
<div class="line"><span class="lineno"> 2202</span>    }</div>
<div class="line"><span class="lineno"> 2203</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2204</span>    <span class="keywordflow">return</span> ev;</div>
<div class="line"><span class="lineno"> 2205</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00066">EVBASE_IN_THREAD</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="event_8c_source.html#l00492">event_callback_to_event()</a>.</p>

</div>
</div>
<a id="ad1d2129d47590c53d166f8c09afee865" name="ad1d2129d47590c53d166f8c09afee865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1d2129d47590c53d166f8c09afee865">&#9670;&nbsp;</a></span>event_base_gettimeofday_cached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_gettimeofday_cached </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00438">438</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  439</span>{</div>
<div class="line"><span class="lineno">  440</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno">  441</span>    <span class="keywordflow">if</span> (!base) {</div>
<div class="line"><span class="lineno">  442</span>        base = <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>;</div>
<div class="line"><span class="lineno">  443</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>)</div>
<div class="line"><span class="lineno">  444</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="evutil__time_8c.html#a2ca2db950ffe1e218494428a4c6be268">evutil_gettimeofday</a>(tv, NULL);</div>
<div class="line"><span class="lineno">  445</span>    }</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ade376556c650f951dbc9d579a4000820">tv_cache</a>.tv_sec == 0) {</div>
<div class="line"><span class="lineno">  449</span>        r = <a class="code hl_function" href="evutil__time_8c.html#a2ca2db950ffe1e218494428a4c6be268">evutil_gettimeofday</a>(tv, NULL);</div>
<div class="line"><span class="lineno">  450</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  451</span>        evutil_timeradd(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#ade376556c650f951dbc9d579a4000820">tv_cache</a>, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a75c3d90fccab2295e259dbd00bae1f45">tv_clock_diff</a>, tv);</div>
<div class="line"><span class="lineno">  452</span>        r = 0;</div>
<div class="line"><span class="lineno">  453</span>    }</div>
<div class="line"><span class="lineno">  454</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  456</span>}</div>
<div class="ttc" id="aevutil__time_8c_html_a2ca2db950ffe1e218494428a4c6be268"><div class="ttname"><a href="evutil__time_8c.html#a2ca2db950ffe1e218494428a4c6be268">evutil_gettimeofday</a></div><div class="ttdeci">int evutil_gettimeofday(struct timeval *tv, struct timezone *tz)</div><div class="ttdef"><b>Definition:</b> <a href="evutil__time_8c_source.html#l00072">evutil_time.c:72</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="evutil__time_8c_source.html#l00072">evutil_gettimeofday()</a>, <a class="el" href="event-internal_8h_source.html#l00292">event_base::tv_cache</a>, and <a class="el" href="event-internal_8h_source.html#l00298">event_base::tv_clock_diff</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__ratelim_8c_source.html#l00529">bev_group_refill_callback_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00394">bev_refill_callback_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00638">bufferevent_rate_limit_group_new()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00560">bufferevent_set_rate_limit()</a>, and <a class="el" href="bufferevent__ratelim_8c_source.html#l00114">bufferevent_update_buckets()</a>.</p>

</div>
</div>
<a id="abbb7c71cdbfc42fdb57385315b94670d" name="abbb7c71cdbfc42fdb57385315b94670d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbb7c71cdbfc42fdb57385315b94670d">&#9670;&nbsp;</a></span>event_base_got_break()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_got_break </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>event_base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01895">1895</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1896</span>{</div>
<div class="line"><span class="lineno"> 1897</span>    <span class="keywordtype">int</span> res;</div>
<div class="line"><span class="lineno"> 1898</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1899</span>    res = <a class="code hl_struct" href="structevent__base.html">event_base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a62565fb082b09a6abf4a19141a1a7f77">event_break</a>;</div>
<div class="line"><span class="lineno"> 1900</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1901</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno"> 1902</span>}</div>
<div class="ttc" id="astructevent__base_html_a62565fb082b09a6abf4a19141a1a7f77"><div class="ttname"><a href="structevent__base.html#a62565fb082b09a6abf4a19141a1a7f77">event_base::event_break</a></div><div class="ttdeci">int event_break</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00242">event-internal.h:242</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00242">event_base::event_break</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

</div>
</div>
<a id="ac2b5cad3b1ed72145ef837b9f69f043d" name="ac2b5cad3b1ed72145ef837b9f69f043d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2b5cad3b1ed72145ef837b9f69f043d">&#9670;&nbsp;</a></span>event_base_got_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_got_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>event_base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01905">1905</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1906</span>{</div>
<div class="line"><span class="lineno"> 1907</span>    <span class="keywordtype">int</span> res;</div>
<div class="line"><span class="lineno"> 1908</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1909</span>    res = <a class="code hl_struct" href="structevent__base.html">event_base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#ad0ba443ffdcb681f0f578aae8957a133">event_gotterm</a>;</div>
<div class="line"><span class="lineno"> 1910</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1911</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno"> 1912</span>}</div>
<div class="ttc" id="astructevent__base_html_ad0ba443ffdcb681f0f578aae8957a133"><div class="ttname"><a href="structevent__base.html#ad0ba443ffdcb681f0f578aae8957a133">event_base::event_gotterm</a></div><div class="ttdeci">int event_gotterm</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00240">event-internal.h:240</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00240">event_base::event_gotterm</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

</div>
</div>
<a id="a8e2198633d234b9a27fdcf0a770ccabc" name="a8e2198633d234b9a27fdcf0a770ccabc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e2198633d234b9a27fdcf0a770ccabc">&#9670;&nbsp;</a></span>event_base_init_common_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct timeval * event_base_init_common_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01487">1487</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1489</span>{</div>
<div class="line"><span class="lineno"> 1490</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1491</span>    <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno"> 1492</span>    <span class="keyword">const</span> <span class="keyword">struct </span>timeval *result=NULL;</div>
<div class="line"><span class="lineno"> 1493</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *new_ctl;</div>
<div class="line"><span class="lineno"> 1494</span> </div>
<div class="line"><span class="lineno"> 1495</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1496</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>-&gt;tv_usec &gt; 1000000) {</div>
<div class="line"><span class="lineno"> 1497</span>        memcpy(&amp;tv, <a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> timeval));</div>
<div class="line"><span class="lineno"> 1498</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>, <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>))</div>
<div class="line"><span class="lineno"> 1499</span>            tv.tv_usec &amp;= <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>;</div>
<div class="line"><span class="lineno"> 1500</span>        tv.tv_sec += tv.tv_usec / 1000000;</div>
<div class="line"><span class="lineno"> 1501</span>        tv.tv_usec %= 1000000;</div>
<div class="line"><span class="lineno"> 1502</span>        <a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a> = &amp;tv;</div>
<div class="line"><span class="lineno"> 1503</span>    }</div>
<div class="line"><span class="lineno"> 1504</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>; ++i) {</div>
<div class="line"><span class="lineno"> 1505</span>        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl =</div>
<div class="line"><span class="lineno"> 1506</span>            <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>[i];</div>
<div class="line"><span class="lineno"> 1507</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>-&gt;tv_sec == ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>.tv_sec &amp;&amp;</div>
<div class="line"><span class="lineno"> 1508</span>            <a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>-&gt;tv_usec ==</div>
<div class="line"><span class="lineno"> 1509</span>            (ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>.tv_usec &amp; <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>)) {</div>
<div class="line"><span class="lineno"> 1510</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>, <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>));</div>
<div class="line"><span class="lineno"> 1511</span>            result = &amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>;</div>
<div class="line"><span class="lineno"> 1512</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1513</span>        }</div>
<div class="line"><span class="lineno"> 1514</span>    }</div>
<div class="line"><span class="lineno"> 1515</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a> == <a class="code hl_define" href="event_8c.html#a5c3d3492b7e0e5ef024ffe62f785ed3d">MAX_COMMON_TIMEOUTS</a>) {</div>
<div class="line"><span class="lineno"> 1516</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: Too many common timeouts already in use; &quot;</span></div>
<div class="line"><span class="lineno"> 1517</span>            <span class="stringliteral">&quot;we only support %d per event_base&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 1518</span>            <a class="code hl_define" href="event_8c.html#a5c3d3492b7e0e5ef024ffe62f785ed3d">MAX_COMMON_TIMEOUTS</a>);</div>
<div class="line"><span class="lineno"> 1519</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1520</span>    }</div>
<div class="line"><span class="lineno"> 1521</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a1c5d5d48448a6bed752381d847717368">n_common_timeouts_allocated</a> == <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>) {</div>
<div class="line"><span class="lineno"> 1522</span>        <span class="keywordtype">int</span> n = <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a> &lt; 16 ? 16 :</div>
<div class="line"><span class="lineno"> 1523</span>            <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>*2;</div>
<div class="line"><span class="lineno"> 1524</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> **newqueues =</div>
<div class="line"><span class="lineno"> 1525</span>            <a class="code hl_define" href="mm-internal_8h.html#a8bef7e1064a80515bfb955a2a041f9e8">mm_realloc</a>(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>,</div>
<div class="line"><span class="lineno"> 1526</span>            n*<span class="keyword">sizeof</span>(<span class="keyword">struct</span> common_timeout_queue *));</div>
<div class="line"><span class="lineno"> 1527</span>        <span class="keywordflow">if</span> (!newqueues) {</div>
<div class="line"><span class="lineno"> 1528</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: realloc&quot;</span>,<a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 1529</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1530</span>        }</div>
<div class="line"><span class="lineno"> 1531</span>        <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a1c5d5d48448a6bed752381d847717368">n_common_timeouts_allocated</a> = n;</div>
<div class="line"><span class="lineno"> 1532</span>        <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a> = newqueues;</div>
<div class="line"><span class="lineno"> 1533</span>    }</div>
<div class="line"><span class="lineno"> 1534</span>    new_ctl = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a>));</div>
<div class="line"><span class="lineno"> 1535</span>    <span class="keywordflow">if</span> (!new_ctl) {</div>
<div class="line"><span class="lineno"> 1536</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>,<a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 1537</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1538</span>    }</div>
<div class="line"><span class="lineno"> 1539</span>    TAILQ_INIT(&amp;new_ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>);</div>
<div class="line"><span class="lineno"> 1540</span>    new_ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>.tv_sec = <a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>-&gt;tv_sec;</div>
<div class="line"><span class="lineno"> 1541</span>    new_ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>.tv_usec =</div>
<div class="line"><span class="lineno"> 1542</span>        <a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>-&gt;tv_usec | <a class="code hl_define" href="event_8c.html#a80e745a43c8c111761f4297668ebca5f">COMMON_TIMEOUT_MAGIC</a> |</div>
<div class="line"><span class="lineno"> 1543</span>        (<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a> &lt;&lt; <a class="code hl_define" href="event_8c.html#a1ffd13eba5a76782d922299c3a0ac6b8">COMMON_TIMEOUT_IDX_SHIFT</a>);</div>
<div class="line"><span class="lineno"> 1544</span>    evtimer_assign(&amp;new_ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a9095ae5b5278b2b3e774e0de979c16bf">timeout_event</a>, <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>,</div>
<div class="line"><span class="lineno"> 1545</span>        <a class="code hl_function" href="event_8c.html#a7dcb84e3b30ccf928c9a9dbd145e5d6c">common_timeout_callback</a>, new_ctl);</div>
<div class="line"><span class="lineno"> 1546</span>    new_ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a9095ae5b5278b2b3e774e0de979c16bf">timeout_event</a>.ev_flags |= EVLIST_INTERNAL;</div>
<div class="line"><span class="lineno"> 1547</span>    <a class="code hl_function" href="event_8c.html#a4b6b70a0e975a4ab48b1bb4abecded0f">event_priority_set</a>(&amp;new_ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a9095ae5b5278b2b3e774e0de979c16bf">timeout_event</a>, 0);</div>
<div class="line"><span class="lineno"> 1548</span>    new_ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a> = <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>;</div>
<div class="line"><span class="lineno"> 1549</span>    <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>[<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>++] = new_ctl;</div>
<div class="line"><span class="lineno"> 1550</span>    result = &amp;new_ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">duration</a>;</div>
<div class="line"><span class="lineno"> 1551</span> </div>
<div class="line"><span class="lineno"> 1552</span>done:</div>
<div class="line"><span class="lineno"> 1553</span>    <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno"> 1554</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(result, <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>));</div>
<div class="line"><span class="lineno"> 1555</span> </div>
<div class="line"><span class="lineno"> 1556</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1557</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1558</span>}</div>
<div class="ttc" id="aevent_8c_html_a1ffd13eba5a76782d922299c3a0ac6b8"><div class="ttname"><a href="event_8c.html#a1ffd13eba5a76782d922299c3a0ac6b8">COMMON_TIMEOUT_IDX_SHIFT</a></div><div class="ttdeci">#define COMMON_TIMEOUT_IDX_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01399">event.c:1399</a></div></div>
<div class="ttc" id="aevent_8c_html_a4b6b70a0e975a4ab48b1bb4abecded0f"><div class="ttname"><a href="event_8c.html#a4b6b70a0e975a4ab48b1bb4abecded0f">event_priority_set</a></div><div class="ttdeci">int event_priority_set(struct event *ev, int pri)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02356">event.c:2356</a></div></div>
<div class="ttc" id="aevent_8c_html_a5c3d3492b7e0e5ef024ffe62f785ed3d"><div class="ttname"><a href="event_8c.html#a5c3d3492b7e0e5ef024ffe62f785ed3d">MAX_COMMON_TIMEOUTS</a></div><div class="ttdeci">#define MAX_COMMON_TIMEOUTS</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01484">event.c:1484</a></div></div>
<div class="ttc" id="aevent_8c_html_a7dcb84e3b30ccf928c9a9dbd145e5d6c"><div class="ttname"><a href="event_8c.html#a7dcb84e3b30ccf928c9a9dbd145e5d6c">common_timeout_callback</a></div><div class="ttdeci">static void common_timeout_callback(evutil_socket_t fd, short what, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01462">event.c:1462</a></div></div>
<div class="ttc" id="aevent_8c_html_a80e745a43c8c111761f4297668ebca5f"><div class="ttname"><a href="event_8c.html#a80e745a43c8c111761f4297668ebca5f">COMMON_TIMEOUT_MAGIC</a></div><div class="ttdeci">#define COMMON_TIMEOUT_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01401">event.c:1401</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a266362bd8989fd1dacd0e1fc25b904f3"><div class="ttname"><a href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warn(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="amm-internal_8h_html_a0c64a2a6527ed776255e0e4e380593dc"><div class="ttname"><a href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a></div><div class="ttdeci">#define mm_calloc(count, size)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00076">mm-internal.h:76</a></div></div>
<div class="ttc" id="amm-internal_8h_html_a8bef7e1064a80515bfb955a2a041f9e8"><div class="ttname"><a href="mm-internal_8h.html#a8bef7e1064a80515bfb955a2a041f9e8">mm_realloc</a></div><div class="ttdeci">#define mm_realloc(p, sz)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00078">mm-internal.h:78</a></div></div>
<div class="ttc" id="astructcommon__timeout__list_html_a200bccb17fb15acea03810492687467d"><div class="ttname"><a href="structcommon__timeout__list.html#a200bccb17fb15acea03810492687467d">common_timeout_list::duration</a></div><div class="ttdeci">struct timeval duration</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00168">event-internal.h:168</a></div></div>
<div class="ttc" id="astructevent__base_html_a1c5d5d48448a6bed752381d847717368"><div class="ttname"><a href="structevent__base.html#a1c5d5d48448a6bed752381d847717368">event_base::n_common_timeouts_allocated</a></div><div class="ttdeci">int n_common_timeouts_allocated</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00279">event-internal.h:279</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event_8c_source.html#l01462">common_timeout_callback()</a>, <a class="el" href="event_8c_source.html#l01399">COMMON_TIMEOUT_IDX_SHIFT</a>, <a class="el" href="event_8c_source.html#l01401">COMMON_TIMEOUT_MAGIC</a>, <a class="el" href="event-internal_8h_source.html#l00275">event_base::common_timeout_queues</a>, <a class="el" href="event-internal_8h_source.html#l00168">common_timeout_list::duration</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02356">event_priority_set()</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event_8c_source.html#l01408">is_common_timeout()</a>, <a class="el" href="event_8c_source.html#l01484">MAX_COMMON_TIMEOUTS</a>, <a class="el" href="event_8c_source.html#l01397">MICROSECONDS_MASK</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="mm-internal_8h_source.html#l00078">mm_realloc</a>, <a class="el" href="event-internal_8h_source.html#l00277">event_base::n_common_timeouts</a>, <a class="el" href="event-internal_8h_source.html#l00279">event_base::n_common_timeouts_allocated</a>, and <a class="el" href="event-internal_8h_source.html#l00171">common_timeout_list::timeout_event</a>.</p>

</div>
</div>
<a id="a83e0d97da18820d78eac87b1dc76638d" name="a83e0d97da18820d78eac87b1dc76638d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e0d97da18820d78eac87b1dc76638d">&#9670;&nbsp;</a></span>event_base_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_loop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01923">1923</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1924</span>{</div>
<div class="line"><span class="lineno"> 1925</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>;</div>
<div class="line"><span class="lineno"> 1926</span>    <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno"> 1927</span>    <span class="keyword">struct </span>timeval *tv_p;</div>
<div class="line"><span class="lineno"> 1928</span>    <span class="keywordtype">int</span> res, done, retval = 0;</div>
<div class="line"><span class="lineno"> 1929</span> </div>
<div class="line"><span class="lineno"> 1930</span>    <span class="comment">/* Grab the lock.  We will release it inside evsel.dispatch, and again</span></div>
<div class="line"><span class="lineno"> 1931</span><span class="comment">     * as we invoke user callbacks. */</span></div>
<div class="line"><span class="lineno"> 1932</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1933</span> </div>
<div class="line"><span class="lineno"> 1934</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ac2cc22f366389917edbb03ea55f2ccdd">running_loop</a>) {</div>
<div class="line"><span class="lineno"> 1935</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: reentrant invocation.  Only one event_base_loop&quot;</span></div>
<div class="line"><span class="lineno"> 1936</span>            <span class="stringliteral">&quot; can run on each event_base at once.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 1937</span>        <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1938</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1939</span>    }</div>
<div class="line"><span class="lineno"> 1940</span> </div>
<div class="line"><span class="lineno"> 1941</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#ac2cc22f366389917edbb03ea55f2ccdd">running_loop</a> = 1;</div>
<div class="line"><span class="lineno"> 1942</span> </div>
<div class="line"><span class="lineno"> 1943</span>    <a class="code hl_function" href="event_8c.html#a6cab0b11c4b175f2ebb396ccecc19a7f">clear_time_cache</a>(base);</div>
<div class="line"><span class="lineno"> 1944</span> </div>
<div class="line"><span class="lineno"> 1945</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a7a18f3a99a0572e1a6a798470de759e3">ev_signal_added</a> &amp;&amp; base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#ab52aa6d298ef4e5ff932d80d3f58b304">ev_n_signals_added</a>)</div>
<div class="line"><span class="lineno"> 1946</span>        <a class="code hl_function" href="evsignal-internal_8h.html#ac0ffd3ce69f3a3b45c6ef2946d3864f7">evsig_set_base_</a>(base);</div>
<div class="line"><span class="lineno"> 1947</span> </div>
<div class="line"><span class="lineno"> 1948</span>    done = 0;</div>
<div class="line"><span class="lineno"> 1949</span> </div>
<div class="line"><span class="lineno"> 1950</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 1951</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a682f91c9b37014305643962874b0b407">th_owner_id</a> = <a class="code hl_define" href="evthread-internal_8h.html#a17cd39590d1f4eb4c6d14a3f1e6160b0">EVTHREAD_GET_ID</a>();</div>
<div class="line"><span class="lineno"> 1952</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1953</span> </div>
<div class="line"><span class="lineno"> 1954</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#ad0ba443ffdcb681f0f578aae8957a133">event_gotterm</a> = base-&gt;<a class="code hl_variable" href="structevent__base.html#a62565fb082b09a6abf4a19141a1a7f77">event_break</a> = 0;</div>
<div class="line"><span class="lineno"> 1955</span> </div>
<div class="line"><span class="lineno"> 1956</span>    <span class="keywordflow">while</span> (!done) {</div>
<div class="line"><span class="lineno"> 1957</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#ab1ee3887cd128743f5037d8f2e8f444a">event_continue</a> = 0;</div>
<div class="line"><span class="lineno"> 1958</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#ae2fab821f44d3bb94c1712b6174cbc7a">n_deferreds_queued</a> = 0;</div>
<div class="line"><span class="lineno"> 1959</span> </div>
<div class="line"><span class="lineno"> 1960</span>        <span class="comment">/* Terminate the loop if we have been asked to */</span></div>
<div class="line"><span class="lineno"> 1961</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ad0ba443ffdcb681f0f578aae8957a133">event_gotterm</a>) {</div>
<div class="line"><span class="lineno"> 1962</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1963</span>        }</div>
<div class="line"><span class="lineno"> 1964</span> </div>
<div class="line"><span class="lineno"> 1965</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a62565fb082b09a6abf4a19141a1a7f77">event_break</a>) {</div>
<div class="line"><span class="lineno"> 1966</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1967</span>        }</div>
<div class="line"><span class="lineno"> 1968</span> </div>
<div class="line"><span class="lineno"> 1969</span>        tv_p = &amp;tv;</div>
<div class="line"><span class="lineno"> 1970</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a>(base) &amp;&amp; !(flags &amp; EVLOOP_NONBLOCK)) {</div>
<div class="line"><span class="lineno"> 1971</span>            <a class="code hl_function" href="event_8c.html#a20bdbb1a2969d82b124b9dab0d9eefc7">timeout_next</a>(base, &amp;tv_p);</div>
<div class="line"><span class="lineno"> 1972</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1973</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1974</span><span class="comment">             * if we have active events, we just poll new events</span></div>
<div class="line"><span class="lineno"> 1975</span><span class="comment">             * without waiting.</span></div>
<div class="line"><span class="lineno"> 1976</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 1977</span>            evutil_timerclear(&amp;tv);</div>
<div class="line"><span class="lineno"> 1978</span>        }</div>
<div class="line"><span class="lineno"> 1979</span> </div>
<div class="line"><span class="lineno"> 1980</span>        <span class="comment">/* If we have no events, we just exit */</span></div>
<div class="line"><span class="lineno"> 1981</span>        <span class="keywordflow">if</span> (0==(flags&amp;EVLOOP_NO_EXIT_ON_EMPTY) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1982</span>            !<a class="code hl_function" href="event_8c.html#a60fd389521c61b379ef338b995e06eae">event_haveevents</a>(base) &amp;&amp; !<a class="code hl_define" href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a>(base)) {</div>
<div class="line"><span class="lineno"> 1983</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: no events registered.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>));</div>
<div class="line"><span class="lineno"> 1984</span>            retval = 1;</div>
<div class="line"><span class="lineno"> 1985</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1986</span>        }</div>
<div class="line"><span class="lineno"> 1987</span> </div>
<div class="line"><span class="lineno"> 1988</span>        <a class="code hl_function" href="event_8c.html#a9d65a3e71e17c0b18c26419b3e2afa46">event_queue_make_later_events_active</a>(base);</div>
<div class="line"><span class="lineno"> 1989</span> </div>
<div class="line"><span class="lineno"> 1990</span>        <a class="code hl_function" href="event_8c.html#a6cab0b11c4b175f2ebb396ccecc19a7f">clear_time_cache</a>(base);</div>
<div class="line"><span class="lineno"> 1991</span> </div>
<div class="line"><span class="lineno"> 1992</span>        res = evsel-&gt;<a class="code hl_variable" href="structeventop.html#a3c7b17ea3c3431da44f53d310962793c">dispatch</a>(base, tv_p);</div>
<div class="line"><span class="lineno"> 1993</span> </div>
<div class="line"><span class="lineno"> 1994</span>        <span class="keywordflow">if</span> (res == -1) {</div>
<div class="line"><span class="lineno"> 1995</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: dispatch returned unsuccessfully.&quot;</span>,</div>
<div class="line"><span class="lineno"> 1996</span>                <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>));</div>
<div class="line"><span class="lineno"> 1997</span>            retval = -1;</div>
<div class="line"><span class="lineno"> 1998</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1999</span>        }</div>
<div class="line"><span class="lineno"> 2000</span> </div>
<div class="line"><span class="lineno"> 2001</span>        <a class="code hl_function" href="event_8c.html#a1d9ef2944751ee9f5fa2ac4f9aac308d">update_time_cache</a>(base);</div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>        <a class="code hl_function" href="event_8c.html#ab376e44421907675a1e700a08aac70f4">timeout_process</a>(base);</div>
<div class="line"><span class="lineno"> 2004</span> </div>
<div class="line"><span class="lineno"> 2005</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a>(base)) {</div>
<div class="line"><span class="lineno"> 2006</span>            <span class="keywordtype">int</span> n = <a class="code hl_function" href="event_8c.html#a8b01c8be58badeafa97edb197f183cbd">event_process_active</a>(base);</div>
<div class="line"><span class="lineno"> 2007</span>            <span class="keywordflow">if</span> ((flags &amp; EVLOOP_ONCE)</div>
<div class="line"><span class="lineno"> 2008</span>                &amp;&amp; <a class="code hl_define" href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a>(base) == 0</div>
<div class="line"><span class="lineno"> 2009</span>                &amp;&amp; n != 0)</div>
<div class="line"><span class="lineno"> 2010</span>                done = 1;</div>
<div class="line"><span class="lineno"> 2011</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; EVLOOP_NONBLOCK)</div>
<div class="line"><span class="lineno"> 2012</span>            done = 1;</div>
<div class="line"><span class="lineno"> 2013</span>    }</div>
<div class="line"><span class="lineno"> 2014</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: asked to terminate loop.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>));</div>
<div class="line"><span class="lineno"> 2015</span> </div>
<div class="line"><span class="lineno"> 2016</span>done:</div>
<div class="line"><span class="lineno"> 2017</span>    <a class="code hl_function" href="event_8c.html#a6cab0b11c4b175f2ebb396ccecc19a7f">clear_time_cache</a>(base);</div>
<div class="line"><span class="lineno"> 2018</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#ac2cc22f366389917edbb03ea55f2ccdd">running_loop</a> = 0;</div>
<div class="line"><span class="lineno"> 2019</span> </div>
<div class="line"><span class="lineno"> 2020</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2021</span> </div>
<div class="line"><span class="lineno"> 2022</span>    <span class="keywordflow">return</span> (retval);</div>
<div class="line"><span class="lineno"> 2023</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a1d006f60c1487ee11764641753301a63"><div class="ttname"><a href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a></div><div class="ttdeci">#define N_ACTIVE_CALLBACKS(base)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00401">event-internal.h:401</a></div></div>
<div class="ttc" id="aevent_8c_html_a1d9ef2944751ee9f5fa2ac4f9aac308d"><div class="ttname"><a href="event_8c.html#a1d9ef2944751ee9f5fa2ac4f9aac308d">update_time_cache</a></div><div class="ttdeci">static void update_time_cache(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00467">event.c:467</a></div></div>
<div class="ttc" id="aevent_8c_html_a20bdbb1a2969d82b124b9dab0d9eefc7"><div class="ttname"><a href="event_8c.html#a20bdbb1a2969d82b124b9dab0d9eefc7">timeout_next</a></div><div class="ttdeci">static int timeout_next(struct event_base *, struct timeval **)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03143">event.c:3143</a></div></div>
<div class="ttc" id="aevent_8c_html_a60fd389521c61b379ef338b995e06eae"><div class="ttname"><a href="event_8c.html#a60fd389521c61b379ef338b995e06eae">event_haveevents</a></div><div class="ttdeci">static int event_haveevents(struct event_base *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01346">event.c:1346</a></div></div>
<div class="ttc" id="aevent_8c_html_a6cab0b11c4b175f2ebb396ccecc19a7f"><div class="ttname"><a href="event_8c.html#a6cab0b11c4b175f2ebb396ccecc19a7f">clear_time_cache</a></div><div class="ttdeci">static void clear_time_cache(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00460">event.c:460</a></div></div>
<div class="ttc" id="aevent_8c_html_a8b01c8be58badeafa97edb197f183cbd"><div class="ttname"><a href="event_8c.html#a8b01c8be58badeafa97edb197f183cbd">event_process_active</a></div><div class="ttdeci">static int event_process_active(struct event_base *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01760">event.c:1760</a></div></div>
<div class="ttc" id="aevent_8c_html_a9d65a3e71e17c0b18c26419b3e2afa46"><div class="ttname"><a href="event_8c.html#a9d65a3e71e17c0b18c26419b3e2afa46">event_queue_make_later_events_active</a></div><div class="ttdeci">static void event_queue_make_later_events_active(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03439">event.c:3439</a></div></div>
<div class="ttc" id="aevent_8c_html_ab376e44421907675a1e700a08aac70f4"><div class="ttname"><a href="event_8c.html#ab376e44421907675a1e700a08aac70f4">timeout_process</a></div><div class="ttdeci">static void timeout_process(struct event_base *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03181">event.c:3181</a></div></div>
<div class="ttc" id="aevsignal-internal_8h_html_ac0ffd3ce69f3a3b45c6ef2946d3864f7"><div class="ttname"><a href="evsignal-internal_8h.html#ac0ffd3ce69f3a3b45c6ef2946d3864f7">evsig_set_base_</a></div><div class="ttdeci">void evsig_set_base_(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00122">signal.c:122</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a17cd39590d1f4eb4c6d14a3f1e6160b0"><div class="ttname"><a href="evthread-internal_8h.html#a17cd39590d1f4eb4c6d14a3f1e6160b0">EVTHREAD_GET_ID</a></div><div class="ttdeci">#define EVTHREAD_GET_ID()</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00061">evthread-internal.h:61</a></div></div>
<div class="ttc" id="astructevent__base_html_a2c527510aa386e401fc762aad06ba2b0"><div class="ttname"><a href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">event_base::sig</a></div><div class="ttdeci">struct evsig_info sig</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00223">event-internal.h:223</a></div></div>
<div class="ttc" id="astructevent__base_html_a682f91c9b37014305643962874b0b407"><div class="ttname"><a href="structevent__base.html#a682f91c9b37014305643962874b0b407">event_base::th_owner_id</a></div><div class="ttdeci">unsigned long th_owner_id</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00305">event-internal.h:305</a></div></div>
<div class="ttc" id="astructevent__base_html_ac2cc22f366389917edbb03ea55f2ccdd"><div class="ttname"><a href="structevent__base.html#ac2cc22f366389917edbb03ea55f2ccdd">event_base::running_loop</a></div><div class="ttdeci">int running_loop</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00251">event-internal.h:251</a></div></div>
<div class="ttc" id="astructevent__base_html_ae2fab821f44d3bb94c1712b6174cbc7a"><div class="ttname"><a href="structevent__base.html#ae2fab821f44d3bb94c1712b6174cbc7a">event_base::n_deferreds_queued</a></div><div class="ttdeci">int n_deferreds_queued</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00257">event-internal.h:257</a></div></div>
<div class="ttc" id="astructeventop_html"><div class="ttname"><a href="structeventop.html">eventop</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00086">event-internal.h:86</a></div></div>
<div class="ttc" id="astructeventop_html_a3c7b17ea3c3431da44f53d310962793c"><div class="ttname"><a href="structeventop.html#a3c7b17ea3c3431da44f53d310962793c">eventop::dispatch</a></div><div class="ttdeci">int(* dispatch)(struct event_base *, struct timeval *)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00111">event-internal.h:111</a></div></div>
<div class="ttc" id="astructevsig__info_html_a7a18f3a99a0572e1a6a798470de759e3"><div class="ttname"><a href="structevsig__info.html#a7a18f3a99a0572e1a6a798470de759e3">evsig_info::ev_signal_added</a></div><div class="ttdeci">int ev_signal_added</div><div class="ttdef"><b>Definition:</b> <a href="evsignal-internal_8h_source.html#l00045">evsignal-internal.h:45</a></div></div>
<div class="ttc" id="astructevsig__info_html_ab52aa6d298ef4e5ff932d80d3f58b304"><div class="ttname"><a href="structevsig__info.html#ab52aa6d298ef4e5ff932d80d3f58b304">evsig_info::ev_n_signals_added</a></div><div class="ttdeci">int ev_n_signals_added</div><div class="ttdef"><b>Definition:</b> <a href="evsignal-internal_8h_source.html#l00047">evsignal-internal.h:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event_8c_source.html#l00460">clear_time_cache()</a>, <a class="el" href="event-internal_8h_source.html#l00111">eventop::dispatch</a>, <a class="el" href="evsignal-internal_8h_source.html#l00047">evsig_info::ev_n_signals_added</a>, <a class="el" href="evsignal-internal_8h_source.html#l00045">evsig_info::ev_signal_added</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00242">event_base::event_break</a>, <a class="el" href="event-internal_8h_source.html#l00244">event_base::event_continue</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event-internal_8h_source.html#l00240">event_base::event_gotterm</a>, <a class="el" href="event_8c_source.html#l01346">event_haveevents()</a>, <a class="el" href="event_8c_source.html#l01760">event_process_active()</a>, <a class="el" href="event_8c_source.html#l03439">event_queue_make_later_events_active()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="signal_8c_source.html#l00122">evsig_set_base_()</a>, <a class="el" href="evthread-internal_8h_source.html#l00061">EVTHREAD_GET_ID</a>, <a class="el" href="event-internal_8h_source.html#l00401">N_ACTIVE_CALLBACKS</a>, <a class="el" href="event-internal_8h_source.html#l00257">event_base::n_deferreds_queued</a>, <a class="el" href="event-internal_8h_source.html#l00251">event_base::running_loop</a>, <a class="el" href="event-internal_8h_source.html#l00223">event_base::sig</a>, <a class="el" href="event-internal_8h_source.html#l00305">event_base::th_owner_id</a>, <a class="el" href="event_8c_source.html#l03143">timeout_next()</a>, <a class="el" href="event_8c_source.html#l03181">timeout_process()</a>, and <a class="el" href="event_8c_source.html#l00467">update_time_cache()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01815">event_base_dispatch()</a>, and <a class="el" href="event_8c_source.html#l01917">event_loop()</a>.</p>

</div>
</div>
<a id="a0dcd552c5794323ab9c444e9a53d4cdf" name="a0dcd552c5794323ab9c444e9a53d4cdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dcd552c5794323ab9c444e9a53d4cdf">&#9670;&nbsp;</a></span>event_base_loopbreak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_loopbreak </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>event_base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01857">1857</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1858</span>{</div>
<div class="line"><span class="lineno"> 1859</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno"> 1860</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structevent__base.html">event_base</a> == NULL)</div>
<div class="line"><span class="lineno"> 1861</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1862</span> </div>
<div class="line"><span class="lineno"> 1863</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1864</span>    <a class="code hl_struct" href="structevent__base.html">event_base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a62565fb082b09a6abf4a19141a1a7f77">event_break</a> = 1;</div>
<div class="line"><span class="lineno"> 1865</span> </div>
<div class="line"><span class="lineno"> 1866</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>)) {</div>
<div class="line"><span class="lineno"> 1867</span>        r = <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>);</div>
<div class="line"><span class="lineno"> 1868</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1869</span>        r = (0);</div>
<div class="line"><span class="lineno"> 1870</span>    }</div>
<div class="line"><span class="lineno"> 1871</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1872</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1873</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00242">event_base::event_break</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01851">event_loopbreak()</a>.</p>

</div>
</div>
<a id="a7f3be75dd84012328e27da7c78c754ee" name="a7f3be75dd84012328e27da7c78c754ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f3be75dd84012328e27da7c78c754ee">&#9670;&nbsp;</a></span>event_base_loopcontinue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_loopcontinue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>event_base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01876">1876</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1877</span>{</div>
<div class="line"><span class="lineno"> 1878</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno"> 1879</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structevent__base.html">event_base</a> == NULL)</div>
<div class="line"><span class="lineno"> 1880</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1881</span> </div>
<div class="line"><span class="lineno"> 1882</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1883</span>    <a class="code hl_struct" href="structevent__base.html">event_base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#ab1ee3887cd128743f5037d8f2e8f444a">event_continue</a> = 1;</div>
<div class="line"><span class="lineno"> 1884</span> </div>
<div class="line"><span class="lineno"> 1885</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>)) {</div>
<div class="line"><span class="lineno"> 1886</span>        r = <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>);</div>
<div class="line"><span class="lineno"> 1887</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1888</span>        r = (0);</div>
<div class="line"><span class="lineno"> 1889</span>    }</div>
<div class="line"><span class="lineno"> 1890</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, th_base_lock);</div>
<div class="line"><span class="lineno"> 1891</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1892</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00244">event_base::event_continue</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

</div>
</div>
<a id="aeb7c2305ba546a94caa59ca1fe1612b1" name="aeb7c2305ba546a94caa59ca1fe1612b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb7c2305ba546a94caa59ca1fe1612b1">&#9670;&nbsp;</a></span>event_base_loopexit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_loopexit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>event_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01844">1844</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1845</span>{</div>
<div class="line"><span class="lineno"> 1846</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="event_8c.html#a42858d966d6a966ae85ce25a036d5aa5">event_base_once</a>(<a class="code hl_struct" href="structevent__base.html">event_base</a>, -1, EV_TIMEOUT, <a class="code hl_function" href="event_8c.html#ae50f0db214d663b8c14438e239d5a0a1">event_loopexit_cb</a>,</div>
<div class="line"><span class="lineno"> 1847</span>            <a class="code hl_struct" href="structevent__base.html">event_base</a>, tv));</div>
<div class="line"><span class="lineno"> 1848</span>}</div>
<div class="ttc" id="aevent_8c_html_a42858d966d6a966ae85ce25a036d5aa5"><div class="ttname"><a href="event_8c.html#a42858d966d6a966ae85ce25a036d5aa5">event_base_once</a></div><div class="ttdeci">int event_base_once(struct event_base *base, evutil_socket_t fd, short events, void(*callback)(evutil_socket_t, short, void *), void *arg, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02051">event.c:2051</a></div></div>
<div class="ttc" id="aevent_8c_html_ae50f0db214d663b8c14438e239d5a0a1"><div class="ttname"><a href="event_8c.html#ae50f0db214d663b8c14438e239d5a0a1">event_loopexit_cb</a></div><div class="ttdeci">static void event_loopexit_cb(evutil_socket_t fd, short what, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01830">event.c:1830</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02051">event_base_once()</a>, and <a class="el" href="event_8c_source.html#l01830">event_loopexit_cb()</a>.</p>

</div>
</div>
<a id="a8b2c4715fc2862254106a022cad0faeb" name="a8b2c4715fc2862254106a022cad0faeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2c4715fc2862254106a022cad0faeb">&#9670;&nbsp;</a></span>event_base_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevent__base.html">event_base</a> * event_base_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00520">520</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  521</span>{</div>
<div class="line"><span class="lineno">  522</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = NULL;</div>
<div class="line"><span class="lineno">  523</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__config.html">event_config</a> *cfg = <a class="code hl_function" href="event_8c.html#a879ba599814d0d404a35c8202cd06fce">event_config_new</a>();</div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordflow">if</span> (cfg) {</div>
<div class="line"><span class="lineno">  525</span>        base = <a class="code hl_function" href="event_8c.html#ab7a163752e4648994234106d2aead255">event_base_new_with_config</a>(cfg);</div>
<div class="line"><span class="lineno">  526</span>        <a class="code hl_function" href="event_8c.html#a605f44836f97bb031776a7f70d53d719">event_config_free</a>(cfg);</div>
<div class="line"><span class="lineno">  527</span>    }</div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">return</span> base;</div>
<div class="line"><span class="lineno">  529</span>}</div>
<div class="ttc" id="aevent_8c_html_a605f44836f97bb031776a7f70d53d719"><div class="ttname"><a href="event_8c.html#a605f44836f97bb031776a7f70d53d719">event_config_free</a></div><div class="ttdeci">void event_config_free(struct event_config *cfg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01160">event.c:1160</a></div></div>
<div class="ttc" id="aevent_8c_html_a879ba599814d0d404a35c8202cd06fce"><div class="ttname"><a href="event_8c.html#a879ba599814d0d404a35c8202cd06fce">event_config_new</a></div><div class="ttdeci">struct event_config * event_config_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01136">event.c:1136</a></div></div>
<div class="ttc" id="aevent_8c_html_ab7a163752e4648994234106d2aead255"><div class="ttname"><a href="event_8c.html#ab7a163752e4648994234106d2aead255">event_base_new_with_config</a></div><div class="ttdeci">struct event_base * event_base_new_with_config(const struct event_config *cfg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00605">event.c:605</a></div></div>
<div class="ttc" id="astructevent__config_html"><div class="ttname"><a href="structevent__config.html">event_config</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00359">event-internal.h:359</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, <a class="el" href="event_8c_source.html#l01160">event_config_free()</a>, and <a class="el" href="event_8c_source.html#l01136">event_config_new()</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00407">dogecoin_node_group_new()</a>.</p>

</div>
</div>
<a id="ab7a163752e4648994234106d2aead255" name="ab7a163752e4648994234106d2aead255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7a163752e4648994234106d2aead255">&#9670;&nbsp;</a></span>event_base_new_with_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevent__base.html">event_base</a> * event_base_new_with_config </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevent__config.html">event_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00605">605</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  606</span>{</div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  608</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base;</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordtype">int</span> should_check_environment;</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span><span class="preprocessor">#ifndef EVENT__DISABLE_DEBUG_MODE</span></div>
<div class="line"><span class="lineno">  612</span>    <a class="code hl_variable" href="event_8c.html#a81ada601d92f086041dbcf01f5f26ad0">event_debug_mode_too_late</a> = 1;</div>
<div class="line"><span class="lineno">  613</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">if</span> ((base = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevent__base.html">event_base</a>))) == NULL) {</div>
<div class="line"><span class="lineno">  616</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno">  617</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  618</span>    }</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>    <span class="keywordflow">if</span> (cfg)</div>
<div class="line"><span class="lineno">  621</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a006428a1561abfb5709615c077022948">flags</a> = cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a5deee9571f15368b698f60c275e45ba3">flags</a>;</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>    should_check_environment =</div>
<div class="line"><span class="lineno">  624</span>        !(cfg &amp;&amp; (cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a5deee9571f15368b698f60c275e45ba3">flags</a> &amp; EVENT_BASE_FLAG_IGNORE_ENV));</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>    {</div>
<div class="line"><span class="lineno">  627</span>        <span class="keyword">struct </span>timeval tmp;</div>
<div class="line"><span class="lineno">  628</span>        <span class="keywordtype">int</span> precise_time =</div>
<div class="line"><span class="lineno">  629</span>            cfg &amp;&amp; (cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a5deee9571f15368b698f60c275e45ba3">flags</a> &amp; EVENT_BASE_FLAG_PRECISE_TIMER);</div>
<div class="line"><span class="lineno">  630</span>        <span class="keywordtype">int</span> flags;</div>
<div class="line"><span class="lineno">  631</span>        <span class="keywordflow">if</span> (should_check_environment &amp;&amp; !precise_time) {</div>
<div class="line"><span class="lineno">  632</span>            precise_time = <a class="code hl_function" href="evutil_8c.html#a09a32ccf29cf07d78b1f8267863fadd7">evutil_getenv_</a>(<span class="stringliteral">&quot;EVENT_PRECISE_TIMER&quot;</span>) != NULL;</div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">if</span> (precise_time) {</div>
<div class="line"><span class="lineno">  634</span>                base-&gt;<a class="code hl_variable" href="structevent__base.html#a006428a1561abfb5709615c077022948">flags</a> |= EVENT_BASE_FLAG_PRECISE_TIMER;</div>
<div class="line"><span class="lineno">  635</span>            }</div>
<div class="line"><span class="lineno">  636</span>        }</div>
<div class="line"><span class="lineno">  637</span>        flags = precise_time ? EV_MONOT_PRECISE : 0;</div>
<div class="line"><span class="lineno">  638</span>        <a class="code hl_function" href="evutil__time_8c.html#a921db7056ff8f1064586e331fd189a0c">evutil_configure_monotonic_time_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a20c589bba72735f895a714cfa937d18b">monotonic_timer</a>, flags);</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>        <a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;tmp);</div>
<div class="line"><span class="lineno">  641</span>    }</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    <a class="code hl_function" href="minheap-internal_8h.html#a3290ddcc331534a0b147658e9e8c202a">min_heap_ctor_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>);</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a2edadc6765050f7104c4374d541a9392">ev_signal_pair</a>[0] = -1;</div>
<div class="line"><span class="lineno">  646</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a2edadc6765050f7104c4374d541a9392">ev_signal_pair</a>[1] = -1;</div>
<div class="line"><span class="lineno">  647</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0] = -1;</div>
<div class="line"><span class="lineno">  648</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1] = -1;</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>    TAILQ_INIT(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">active_later_queue</a>);</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <a class="code hl_function" href="evmap-internal_8h.html#a3fa2a2bf0f03e79032cd0ce2f7911f60">evmap_io_initmap_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>);</div>
<div class="line"><span class="lineno">  653</span>    <a class="code hl_function" href="evmap-internal_8h.html#ad6b1152af7697586adb90c62aa6c650a">evmap_signal_initmap_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>);</div>
<div class="line"><span class="lineno">  654</span>    <a class="code hl_function" href="changelist-internal_8h.html#aa7cccfd7f605bb8cf30929b9c8df12c4">event_changelist_init_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a91a445ff7af6e157a35b3b2276b5f1a2">changelist</a>);</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#ac69c16250431b118d0f066244a67da56">evbase</a> = NULL;</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>    <span class="keywordflow">if</span> (cfg) {</div>
<div class="line"><span class="lineno">  659</span>        memcpy(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a55cbb954543d779190df9762c5739610">max_dispatch_time</a>,</div>
<div class="line"><span class="lineno">  660</span>            &amp;cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a7c98843685ec3f8f7e3354b60cd756b3">max_dispatch_interval</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> timeval));</div>
<div class="line"><span class="lineno">  661</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a390d518ee422ba3b95ea9f0af4c0903a">limit_callbacks_after_prio</a> =</div>
<div class="line"><span class="lineno">  662</span>            cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a7526d213acace59f6f6851518f548b81">limit_callbacks_after_prio</a>;</div>
<div class="line"><span class="lineno">  663</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  664</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a55cbb954543d779190df9762c5739610">max_dispatch_time</a>.tv_sec = -1;</div>
<div class="line"><span class="lineno">  665</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a390d518ee422ba3b95ea9f0af4c0903a">limit_callbacks_after_prio</a> = 1;</div>
<div class="line"><span class="lineno">  666</span>    }</div>
<div class="line"><span class="lineno">  667</span>    <span class="keywordflow">if</span> (cfg &amp;&amp; cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a8882483f39d05ed3e8bcbd29569f42db">max_dispatch_callbacks</a> &gt;= 0) {</div>
<div class="line"><span class="lineno">  668</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a3cdb7cd811ed624d15cddfb69aac5283">max_dispatch_callbacks</a> = cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a8882483f39d05ed3e8bcbd29569f42db">max_dispatch_callbacks</a>;</div>
<div class="line"><span class="lineno">  669</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  670</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a3cdb7cd811ed624d15cddfb69aac5283">max_dispatch_callbacks</a> = INT_MAX;</div>
<div class="line"><span class="lineno">  671</span>    }</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a3cdb7cd811ed624d15cddfb69aac5283">max_dispatch_callbacks</a> == INT_MAX &amp;&amp;</div>
<div class="line"><span class="lineno">  673</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a55cbb954543d779190df9762c5739610">max_dispatch_time</a>.tv_sec == -1)</div>
<div class="line"><span class="lineno">  674</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a390d518ee422ba3b95ea9f0af4c0903a">limit_callbacks_after_prio</a> = INT_MAX;</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordflow">for</span> (i = 0; <a class="code hl_variable" href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a>[i] &amp;&amp; !base-&gt;<a class="code hl_variable" href="structevent__base.html#ac69c16250431b118d0f066244a67da56">evbase</a>; i++) {</div>
<div class="line"><span class="lineno">  677</span>        <span class="keywordflow">if</span> (cfg != NULL) {</div>
<div class="line"><span class="lineno">  678</span>            <span class="comment">/* determine if this backend should be avoided */</span></div>
<div class="line"><span class="lineno">  679</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a6efc536ab673d187a3277e52214e0c34">event_config_is_avoided_method</a>(cfg,</div>
<div class="line"><span class="lineno">  680</span>                <a class="code hl_variable" href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a>[i]-&gt;name))</div>
<div class="line"><span class="lineno">  681</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  682</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a>[i]-&gt;features &amp; cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a4585f4e0bcce3c0a6933de00aae65a6b">require_features</a>)</div>
<div class="line"><span class="lineno">  683</span>                != cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a4585f4e0bcce3c0a6933de00aae65a6b">require_features</a>)</div>
<div class="line"><span class="lineno">  684</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  685</span>        }</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>        <span class="comment">/* also obey the environment variables */</span></div>
<div class="line"><span class="lineno">  688</span>        <span class="keywordflow">if</span> (should_check_environment &amp;&amp;</div>
<div class="line"><span class="lineno">  689</span>            <a class="code hl_function" href="event_8c.html#ab96221d1985aeb0265ed74c8a9f9a950">event_is_method_disabled</a>(<a class="code hl_variable" href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a>[i]-&gt;name))</div>
<div class="line"><span class="lineno">  690</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a> = <a class="code hl_variable" href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a>[i];</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#ac69c16250431b118d0f066244a67da56">evbase</a> = base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#afbede54539e157e0441f8186f74dd606">init</a>(base);</div>
<div class="line"><span class="lineno">  695</span>    }</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ac69c16250431b118d0f066244a67da56">evbase</a> == NULL) {</div>
<div class="line"><span class="lineno">  698</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: no event mechanism available&quot;</span>,</div>
<div class="line"><span class="lineno">  699</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno">  700</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a> = NULL;</div>
<div class="line"><span class="lineno">  701</span>        <a class="code hl_function" href="event_8c.html#acb4f9733901aefc1a4ed1ac6b423d79d">event_base_free</a>(base);</div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  703</span>    }</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a09a32ccf29cf07d78b1f8267863fadd7">evutil_getenv_</a>(<span class="stringliteral">&quot;EVENT_SHOW_METHOD&quot;</span>))</div>
<div class="line"><span class="lineno">  706</span>        <a class="code hl_function" href="log-internal_8h.html#a9e51f0c4381f0e2b246d0605875c54fa">event_msgx</a>(<span class="stringliteral">&quot;libevent using: %s&quot;</span>, base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#aea346959c36b45b594317b9f27960a4e">name</a>);</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>    <span class="comment">/* allocate a single active event queue */</span></div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a6d68c2a08de3f05fdb7a3c466ad33f37">event_base_priority_init</a>(base, 1) &lt; 0) {</div>
<div class="line"><span class="lineno">  710</span>        <a class="code hl_function" href="event_8c.html#acb4f9733901aefc1a4ed1ac6b423d79d">event_base_free</a>(base);</div>
<div class="line"><span class="lineno">  711</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  712</span>    }</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>    <span class="comment">/* prepare for threading */</span></div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span><span class="preprocessor">#if !defined(EVENT__DISABLE_THREAD_SUPPORT) &amp;&amp; !defined(EVENT__DISABLE_DEBUG_MODE)</span></div>
<div class="line"><span class="lineno">  717</span>    <a class="code hl_variable" href="event_8c.html#ae188742324142406ed91ba1e3d4aae03">event_debug_created_threadable_ctx_</a> = 1;</div>
<div class="line"><span class="lineno">  718</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno">  721</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="evthread-internal_8h.html#a91b2a23f1516b5aa32596d76e058c886">EVTHREAD_LOCKING_ENABLED</a>() &amp;&amp;</div>
<div class="line"><span class="lineno">  722</span>        (!cfg || !(cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a5deee9571f15368b698f60c275e45ba3">flags</a> &amp; EVENT_BASE_FLAG_NOLOCK))) {</div>
<div class="line"><span class="lineno">  723</span>        <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno">  724</span>        <a class="code hl_define" href="evthread-internal_8h.html#a69a6ff948a58db53633b42d071682635">EVTHREAD_ALLOC_LOCK</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>, 0);</div>
<div class="line"><span class="lineno">  725</span>        <a class="code hl_define" href="evthread-internal_8h.html#ac5afede9f396545c77a3a54f98ee3020">EVTHREAD_ALLOC_COND</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">current_event_cond</a>);</div>
<div class="line"><span class="lineno">  726</span>        r = <a class="code hl_function" href="event_8c.html#ad6ce3b3efff53b41758944a8b486f62c">evthread_make_base_notifiable</a>(base);</div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordflow">if</span> (r&lt;0) {</div>
<div class="line"><span class="lineno">  728</span>            <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: Unable to make base notifiable.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno">  729</span>            <a class="code hl_function" href="event_8c.html#acb4f9733901aefc1a4ed1ac6b423d79d">event_base_free</a>(base);</div>
<div class="line"><span class="lineno">  730</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  731</span>        }</div>
<div class="line"><span class="lineno">  732</span>    }</div>
<div class="line"><span class="lineno">  733</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  736</span>    <span class="keywordflow">if</span> (cfg &amp;&amp; (cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a5deee9571f15368b698f60c275e45ba3">flags</a> &amp; EVENT_BASE_FLAG_STARTUP_IOCP))</div>
<div class="line"><span class="lineno">  737</span>        <a class="code hl_function" href="event_8c.html#a11bceab360672f72b8b7665bc22d1437">event_base_start_iocp_</a>(base, cfg-&gt;<a class="code hl_variable" href="structevent__config.html#afb117e6cf21c0b8040ff9af5dd28c957">n_cpus_hint</a>);</div>
<div class="line"><span class="lineno">  738</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>    <span class="keywordflow">return</span> (base);</div>
<div class="line"><span class="lineno">  741</span>}</div>
<div class="ttc" id="achangelist-internal_8h_html_aa7cccfd7f605bb8cf30929b9c8df12c4"><div class="ttname"><a href="changelist-internal_8h.html#aa7cccfd7f605bb8cf30929b9c8df12c4">event_changelist_init_</a></div><div class="ttdeci">void event_changelist_init_(struct event_changelist *changelist)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00708">evmap.c:708</a></div></div>
<div class="ttc" id="aevent_8c_html_a11bceab360672f72b8b7665bc22d1437"><div class="ttname"><a href="event_8c.html#a11bceab360672f72b8b7665bc22d1437">event_base_start_iocp_</a></div><div class="ttdeci">int event_base_start_iocp_(struct event_base *base, int n_cpus)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00744">event.c:744</a></div></div>
<div class="ttc" id="aevent_8c_html_a1b3bf59f277db3795ff01c05e937ccbf"><div class="ttname"><a href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a></div><div class="ttdeci">static const struct eventop * eventops[]</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00103">event.c:103</a></div></div>
<div class="ttc" id="aevent_8c_html_a6d68c2a08de3f05fdb7a3c466ad33f37"><div class="ttname"><a href="event_8c.html#a6d68c2a08de3f05fdb7a3c466ad33f37">event_base_priority_init</a></div><div class="ttdeci">int event_base_priority_init(struct event_base *base, int npriorities)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01240">event.c:1240</a></div></div>
<div class="ttc" id="aevent_8c_html_a6efc536ab673d187a3277e52214e0c34"><div class="ttname"><a href="event_8c.html#a6efc536ab673d187a3277e52214e0c34">event_config_is_avoided_method</a></div><div class="ttdeci">static int event_config_is_avoided_method(const struct event_config *cfg, const char *method)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00534">event.c:534</a></div></div>
<div class="ttc" id="aevent_8c_html_a81ada601d92f086041dbcf01f5f26ad0"><div class="ttname"><a href="event_8c.html#a81ada601d92f086041dbcf01f5f26ad0">event_debug_mode_too_late</a></div><div class="ttdeci">static int event_debug_mode_too_late</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00223">event.c:223</a></div></div>
<div class="ttc" id="aevent_8c_html_ab96221d1985aeb0265ed74c8a9f9a950"><div class="ttname"><a href="event_8c.html#ab96221d1985aeb0265ed74c8a9f9a950">event_is_method_disabled</a></div><div class="ttdeci">static int event_is_method_disabled(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00550">event.c:550</a></div></div>
<div class="ttc" id="aevent_8c_html_acb4f9733901aefc1a4ed1ac6b423d79d"><div class="ttname"><a href="event_8c.html#acb4f9733901aefc1a4ed1ac6b423d79d">event_base_free</a></div><div class="ttdeci">void event_base_free(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00955">event.c:955</a></div></div>
<div class="ttc" id="aevent_8c_html_ad6ce3b3efff53b41758944a8b486f62c"><div class="ttname"><a href="event_8c.html#ad6ce3b3efff53b41758944a8b486f62c">evthread_make_base_notifiable</a></div><div class="ttdeci">int evthread_make_base_notifiable(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03618">event.c:3618</a></div></div>
<div class="ttc" id="aevent_8c_html_ae188742324142406ed91ba1e3d4aae03"><div class="ttname"><a href="event_8c.html#ae188742324142406ed91ba1e3d4aae03">event_debug_created_threadable_ctx_</a></div><div class="ttdeci">int event_debug_created_threadable_ctx_</div><div class="ttdoc">debug mode variable which is set for any function/structure that needs to be shared across threads (i...</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00219">event.c:219</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a3fa2a2bf0f03e79032cd0ce2f7911f60"><div class="ttname"><a href="evmap-internal_8h.html#a3fa2a2bf0f03e79032cd0ce2f7911f60">evmap_io_initmap_</a></div><div class="ttdeci">void evmap_io_initmap_(struct event_io_map *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00189">evmap.c:189</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_ad6b1152af7697586adb90c62aa6c650a"><div class="ttname"><a href="evmap-internal_8h.html#ad6b1152af7697586adb90c62aa6c650a">evmap_signal_initmap_</a></div><div class="ttdeci">void evmap_signal_initmap_(struct event_signal_map *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00235">evmap.c:235</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a69a6ff948a58db53633b42d071682635"><div class="ttname"><a href="evthread-internal_8h.html#a69a6ff948a58db53633b42d071682635">EVTHREAD_ALLOC_LOCK</a></div><div class="ttdeci">#define EVTHREAD_ALLOC_LOCK(lockvar, locktype)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00080">evthread-internal.h:80</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a91b2a23f1516b5aa32596d76e058c886"><div class="ttname"><a href="evthread-internal_8h.html#a91b2a23f1516b5aa32596d76e058c886">EVTHREAD_LOCKING_ENABLED</a></div><div class="ttdeci">#define EVTHREAD_LOCKING_ENABLED()</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00182">evthread-internal.h:182</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_ac5afede9f396545c77a3a54f98ee3020"><div class="ttname"><a href="evthread-internal_8h.html#ac5afede9f396545c77a3a54f98ee3020">EVTHREAD_ALLOC_COND</a></div><div class="ttdeci">#define EVTHREAD_ALLOC_COND(condvar)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00153">evthread-internal.h:153</a></div></div>
<div class="ttc" id="aevutil_8c_html_a09a32ccf29cf07d78b1f8267863fadd7"><div class="ttname"><a href="evutil_8c.html#a09a32ccf29cf07d78b1f8267863fadd7">evutil_getenv_</a></div><div class="ttdeci">const char * evutil_getenv_(const char *varname)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02463">evutil.c:2463</a></div></div>
<div class="ttc" id="aevutil__time_8c_html_a921db7056ff8f1064586e331fd189a0c"><div class="ttname"><a href="evutil__time_8c.html#a921db7056ff8f1064586e331fd189a0c">evutil_configure_monotonic_time_</a></div><div class="ttdeci">int evutil_configure_monotonic_time_(struct evutil_monotonic_timer *base, int precise)</div><div class="ttdef"><b>Definition:</b> <a href="evutil__time_8c_source.html#l00604">evutil_time.c:604</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a9e51f0c4381f0e2b246d0605875c54fa"><div class="ttname"><a href="log-internal_8h.html#a9e51f0c4381f0e2b246d0605875c54fa">event_msgx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void EVENT2_EXPORT_SYMBOL void event_msgx(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="aminheap-internal_8h_html_a3290ddcc331534a0b147658e9e8c202a"><div class="ttname"><a href="minheap-internal_8h.html#a3290ddcc331534a0b147658e9e8c202a">min_heap_ctor_</a></div><div class="ttdeci">static void min_heap_ctor_(min_heap_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00064">minheap-internal.h:64</a></div></div>
<div class="ttc" id="astructevent__base_html_a006428a1561abfb5709615c077022948"><div class="ttname"><a href="structevent__base.html#a006428a1561abfb5709615c077022948">event_base::flags</a></div><div class="ttdeci">enum event_base_config_flag flags</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00323">event-internal.h:323</a></div></div>
<div class="ttc" id="astructevent__base_html_a20c589bba72735f895a714cfa937d18b"><div class="ttname"><a href="structevent__base.html#a20c589bba72735f895a714cfa937d18b">event_base::monotonic_timer</a></div><div class="ttdeci">struct evutil_monotonic_timer monotonic_timer</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00294">event-internal.h:294</a></div></div>
<div class="ttc" id="astructevent__base_html_a390d518ee422ba3b95ea9f0af4c0903a"><div class="ttname"><a href="structevent__base.html#a390d518ee422ba3b95ea9f0af4c0903a">event_base::limit_callbacks_after_prio</a></div><div class="ttdeci">int limit_callbacks_after_prio</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00327">event-internal.h:327</a></div></div>
<div class="ttc" id="astructevent__base_html_a3cdb7cd811ed624d15cddfb69aac5283"><div class="ttname"><a href="structevent__base.html#a3cdb7cd811ed624d15cddfb69aac5283">event_base::max_dispatch_callbacks</a></div><div class="ttdeci">int max_dispatch_callbacks</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00326">event-internal.h:326</a></div></div>
<div class="ttc" id="astructevent__base_html_a55cbb954543d779190df9762c5739610"><div class="ttname"><a href="structevent__base.html#a55cbb954543d779190df9762c5739610">event_base::max_dispatch_time</a></div><div class="ttdeci">struct timeval max_dispatch_time</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00325">event-internal.h:325</a></div></div>
<div class="ttc" id="astructevent__base_html_ac69c16250431b118d0f066244a67da56"><div class="ttname"><a href="structevent__base.html#ac69c16250431b118d0f066244a67da56">event_base::evbase</a></div><div class="ttdeci">void * evbase</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00213">event-internal.h:213</a></div></div>
<div class="ttc" id="astructevent__config_html_a4585f4e0bcce3c0a6933de00aae65a6b"><div class="ttname"><a href="structevent__config.html#a4585f4e0bcce3c0a6933de00aae65a6b">event_config::require_features</a></div><div class="ttdeci">enum event_method_feature require_features</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00366">event-internal.h:366</a></div></div>
<div class="ttc" id="astructevent__config_html_a5deee9571f15368b698f60c275e45ba3"><div class="ttname"><a href="structevent__config.html#a5deee9571f15368b698f60c275e45ba3">event_config::flags</a></div><div class="ttdeci">enum event_base_config_flag flags</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00367">event-internal.h:367</a></div></div>
<div class="ttc" id="astructevent__config_html_a7526d213acace59f6f6851518f548b81"><div class="ttname"><a href="structevent__config.html#a7526d213acace59f6f6851518f548b81">event_config::limit_callbacks_after_prio</a></div><div class="ttdeci">int limit_callbacks_after_prio</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00365">event-internal.h:365</a></div></div>
<div class="ttc" id="astructevent__config_html_a7c98843685ec3f8f7e3354b60cd756b3"><div class="ttname"><a href="structevent__config.html#a7c98843685ec3f8f7e3354b60cd756b3">event_config::max_dispatch_interval</a></div><div class="ttdeci">struct timeval max_dispatch_interval</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00363">event-internal.h:363</a></div></div>
<div class="ttc" id="astructevent__config_html_a8882483f39d05ed3e8bcbd29569f42db"><div class="ttname"><a href="structevent__config.html#a8882483f39d05ed3e8bcbd29569f42db">event_config::max_dispatch_callbacks</a></div><div class="ttdeci">int max_dispatch_callbacks</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00364">event-internal.h:364</a></div></div>
<div class="ttc" id="astructevent__config_html_afb117e6cf21c0b8040ff9af5dd28c957"><div class="ttname"><a href="structevent__config.html#afb117e6cf21c0b8040ff9af5dd28c957">event_config::n_cpus_hint</a></div><div class="ttdeci">int n_cpus_hint</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00362">event-internal.h:362</a></div></div>
<div class="ttc" id="astructeventop_html_afbede54539e157e0441f8186f74dd606"><div class="ttname"><a href="structeventop.html#afbede54539e157e0441f8186f74dd606">eventop::init</a></div><div class="ttdeci">void *(* init)(struct event_base *)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00094">event-internal.h:94</a></div></div>
<div class="ttc" id="astructevsig__info_html_a2edadc6765050f7104c4374d541a9392"><div class="ttname"><a href="structevsig__info.html#a2edadc6765050f7104c4374d541a9392">evsig_info::ev_signal_pair</a></div><div class="ttdeci">evutil_socket_t ev_signal_pair[2]</div><div class="ttdef"><b>Definition:</b> <a href="evsignal-internal_8h_source.html#l00043">evsignal-internal.h:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00269">event_base::active_later_queue</a>, <a class="el" href="event-internal_8h_source.html#l00217">event_base::changelist</a>, <a class="el" href="event-internal_8h_source.html#l00310">event_base::current_event_cond</a>, <a class="el" href="evsignal-internal_8h_source.html#l00043">evsig_info::ev_signal_pair</a>, <a class="el" href="event-internal_8h_source.html#l00213">event_base::evbase</a>, <a class="el" href="event_8c_source.html#l00955">event_base_free()</a>, <a class="el" href="event_8c_source.html#l01240">event_base_priority_init()</a>, <a class="el" href="event_8c_source.html#l00744">event_base_start_iocp_()</a>, <a class="el" href="evmap_8c_source.html#l00708">event_changelist_init_()</a>, <a class="el" href="event_8c_source.html#l00534">event_config_is_avoided_method()</a>, <a class="el" href="event_8c_source.html#l00219">event_debug_created_threadable_ctx_</a>, <a class="el" href="event_8c_source.html#l00223">event_debug_mode_too_late</a>, <a class="el" href="event_8c_source.html#l00550">event_is_method_disabled()</a>, <a class="el" href="log-internal_8h.html#a9e51f0c4381f0e2b246d0605875c54fa">event_msgx()</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="event_8c_source.html#l00103">eventops</a>, <a class="el" href="evmap_8c_source.html#l00189">evmap_io_initmap_()</a>, <a class="el" href="evmap_8c_source.html#l00235">evmap_signal_initmap_()</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="evthread-internal_8h_source.html#l00153">EVTHREAD_ALLOC_COND</a>, <a class="el" href="evthread-internal_8h_source.html#l00080">EVTHREAD_ALLOC_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00182">EVTHREAD_LOCKING_ENABLED</a>, <a class="el" href="event_8c_source.html#l03618">evthread_make_base_notifiable()</a>, <a class="el" href="evutil__time_8c_source.html#l00604">evutil_configure_monotonic_time_()</a>, <a class="el" href="evutil_8c_source.html#l02463">evutil_getenv_()</a>, <a class="el" href="event-internal_8h_source.html#l00323">event_base::flags</a>, <a class="el" href="event-internal_8h_source.html#l00367">event_config::flags</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, <a class="el" href="event-internal_8h_source.html#l00094">eventop::init</a>, <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>, <a class="el" href="event-internal_8h_source.html#l00327">event_base::limit_callbacks_after_prio</a>, <a class="el" href="event-internal_8h_source.html#l00365">event_config::limit_callbacks_after_prio</a>, <a class="el" href="event-internal_8h_source.html#l00326">event_base::max_dispatch_callbacks</a>, <a class="el" href="event-internal_8h_source.html#l00364">event_config::max_dispatch_callbacks</a>, <a class="el" href="event-internal_8h_source.html#l00363">event_config::max_dispatch_interval</a>, <a class="el" href="event-internal_8h_source.html#l00325">event_base::max_dispatch_time</a>, <a class="el" href="minheap-internal_8h_source.html#l00064">min_heap_ctor_()</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="event-internal_8h_source.html#l00294">event_base::monotonic_timer</a>, <a class="el" href="event-internal_8h_source.html#l00362">event_config::n_cpus_hint</a>, <a class="el" href="event-internal_8h_source.html#l00088">eventop::name</a>, <a class="el" href="event-internal_8h_source.html#l00366">event_config::require_features</a>, <a class="el" href="event-internal_8h_source.html#l00223">event_base::sig</a>, <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>, <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>, <a class="el" href="event-internal_8h_source.html#l00335">event_base::th_notify_fd</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00520">event_base_new()</a>, and <a class="el" href="event_8c_source.html#l00505">event_init()</a>.</p>

</div>
</div>
<a id="a42858d966d6a966ae85ce25a036d5aa5" name="a42858d966d6a966ae85ce25a036d5aa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42858d966d6a966ae85ce25a036d5aa5">&#9670;&nbsp;</a></span>event_base_once()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_once </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(evutil_socket_t, short, void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02051">2051</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2054</span>{</div>
<div class="line"><span class="lineno"> 2055</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__once.html">event_once</a> *eonce;</div>
<div class="line"><span class="lineno"> 2056</span>    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><span class="lineno"> 2057</span>    <span class="keywordtype">int</span> activate = 0;</div>
<div class="line"><span class="lineno"> 2058</span> </div>
<div class="line"><span class="lineno"> 2059</span>    <span class="keywordflow">if</span> (!base)</div>
<div class="line"><span class="lineno"> 2060</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2061</span> </div>
<div class="line"><span class="lineno"> 2062</span>    <span class="comment">/* We cannot support signals that just fire once, or persistent</span></div>
<div class="line"><span class="lineno"> 2063</span><span class="comment">     * events. */</span></div>
<div class="line"><span class="lineno"> 2064</span>    <span class="keywordflow">if</span> (events &amp; (EV_SIGNAL|EV_PERSIST))</div>
<div class="line"><span class="lineno"> 2065</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2066</span> </div>
<div class="line"><span class="lineno"> 2067</span>    <span class="keywordflow">if</span> ((eonce = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevent__once.html">event_once</a>))) == NULL)</div>
<div class="line"><span class="lineno"> 2068</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2069</span> </div>
<div class="line"><span class="lineno"> 2070</span>    eonce-&gt;<a class="code hl_variable" href="structevent__once.html#ae71f4db9108ea9e973e136a76fa255ec">cb</a> = callback;</div>
<div class="line"><span class="lineno"> 2071</span>    eonce-&gt;<a class="code hl_variable" href="structevent__once.html#a5b06aebb1ddd7d88ccb1cb2657eee3eb">arg</a> = <a class="code hl_variable" href="structevent__once.html#a5b06aebb1ddd7d88ccb1cb2657eee3eb">arg</a>;</div>
<div class="line"><span class="lineno"> 2072</span> </div>
<div class="line"><span class="lineno"> 2073</span>    <span class="keywordflow">if</span> ((events &amp; (EV_TIMEOUT|EV_SIGNAL|EV_READ|EV_WRITE|EV_CLOSED)) == EV_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 2074</span>        evtimer_assign(&amp;eonce-&gt;<a class="code hl_variable" href="structevent__once.html#ae99aa749694d8ded8120faf4d5cfda06">ev</a>, base, <a class="code hl_function" href="event_8c.html#ac19a3f382d47f0d3ba41ec20c1074463">event_once_cb</a>, eonce);</div>
<div class="line"><span class="lineno"> 2075</span> </div>
<div class="line"><span class="lineno"> 2076</span>        <span class="keywordflow">if</span> (tv == NULL || ! evutil_timerisset(tv)) {</div>
<div class="line"><span class="lineno"> 2077</span>            <span class="comment">/* If the event is going to become active immediately,</span></div>
<div class="line"><span class="lineno"> 2078</span><span class="comment">             * don&#39;t put it on the timeout queue.  This is one</span></div>
<div class="line"><span class="lineno"> 2079</span><span class="comment">             * idiom for scheduling a callback, so let&#39;s make</span></div>
<div class="line"><span class="lineno"> 2080</span><span class="comment">             * it fast (and order-preserving). */</span></div>
<div class="line"><span class="lineno"> 2081</span>            activate = 1;</div>
<div class="line"><span class="lineno"> 2082</span>        }</div>
<div class="line"><span class="lineno"> 2083</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (events &amp; (EV_READ|EV_WRITE|EV_CLOSED)) {</div>
<div class="line"><span class="lineno"> 2084</span>        events &amp;= EV_READ|EV_WRITE|EV_CLOSED;</div>
<div class="line"><span class="lineno"> 2085</span> </div>
<div class="line"><span class="lineno"> 2086</span>        <a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(&amp;eonce-&gt;<a class="code hl_variable" href="structevent__once.html#ae99aa749694d8ded8120faf4d5cfda06">ev</a>, base, fd, events, <a class="code hl_function" href="event_8c.html#ac19a3f382d47f0d3ba41ec20c1074463">event_once_cb</a>, eonce);</div>
<div class="line"><span class="lineno"> 2087</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2088</span>        <span class="comment">/* Bad event combination */</span></div>
<div class="line"><span class="lineno"> 2089</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(eonce);</div>
<div class="line"><span class="lineno"> 2090</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2091</span>    }</div>
<div class="line"><span class="lineno"> 2092</span> </div>
<div class="line"><span class="lineno"> 2093</span>    <span class="keywordflow">if</span> (res == 0) {</div>
<div class="line"><span class="lineno"> 2094</span>        <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2095</span>        <span class="keywordflow">if</span> (activate)</div>
<div class="line"><span class="lineno"> 2096</span>            <a class="code hl_function" href="event_8c.html#a4a08272009a9f1e34985fb25a80f42b6">event_active_nolock_</a>(&amp;eonce-&gt;<a class="code hl_variable" href="structevent__once.html#ae99aa749694d8ded8120faf4d5cfda06">ev</a>, EV_TIMEOUT, 1);</div>
<div class="line"><span class="lineno"> 2097</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2098</span>            res = <a class="code hl_function" href="event_8c.html#a4ce9a3ab811fb589cbd8f625bdba9b92">event_add_nolock_</a>(&amp;eonce-&gt;<a class="code hl_variable" href="structevent__once.html#ae99aa749694d8ded8120faf4d5cfda06">ev</a>, tv, 0);</div>
<div class="line"><span class="lineno"> 2099</span> </div>
<div class="line"><span class="lineno"> 2100</span>        <span class="keywordflow">if</span> (res != 0) {</div>
<div class="line"><span class="lineno"> 2101</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(eonce);</div>
<div class="line"><span class="lineno"> 2102</span>            <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 2103</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2104</span>            LIST_INSERT_HEAD(&amp;base-&gt;once_events, eonce, next_once);</div>
<div class="line"><span class="lineno"> 2105</span>        }</div>
<div class="line"><span class="lineno"> 2106</span>        <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2107</span>    }</div>
<div class="line"><span class="lineno"> 2108</span> </div>
<div class="line"><span class="lineno"> 2109</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2110</span>}</div>
<div class="ttc" id="aevent_8c_html_a22f3c79257a48df9020b7ca21ee0a012"><div class="ttname"><a href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a></div><div class="ttdeci">int event_assign(struct event *ev, struct event_base *base, evutil_socket_t fd, short events, void(*callback)(evutil_socket_t, short, void *), void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02113">event.c:2113</a></div></div>
<div class="ttc" id="aevent_8c_html_ac19a3f382d47f0d3ba41ec20c1074463"><div class="ttname"><a href="event_8c.html#ac19a3f382d47f0d3ba41ec20c1074463">event_once_cb</a></div><div class="ttdeci">static void event_once_cb(evutil_socket_t fd, short events, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02028">event.c:2028</a></div></div>
<div class="ttc" id="astructevent__once_html_a5b06aebb1ddd7d88ccb1cb2657eee3eb"><div class="ttname"><a href="structevent__once.html#a5b06aebb1ddd7d88ccb1cb2657eee3eb">event_once::arg</a></div><div class="ttdeci">void * arg</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00205">event-internal.h:205</a></div></div>
<div class="ttc" id="astructevent__once_html_ae71f4db9108ea9e973e136a76fa255ec"><div class="ttname"><a href="structevent__once.html#ae71f4db9108ea9e973e136a76fa255ec">event_once::cb</a></div><div class="ttdeci">void(* cb)(evutil_socket_t, short, void *)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00204">event-internal.h:204</a></div></div>
<div class="ttc" id="astructevent__once_html_ae99aa749694d8ded8120faf4d5cfda06"><div class="ttname"><a href="structevent__once.html#ae99aa749694d8ded8120faf4d5cfda06">event_once::ev</a></div><div class="ttdeci">struct event ev</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00202">event-internal.h:202</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00205">event_once::arg</a>, <a class="el" href="event-internal_8h_source.html#l00204">event_once::cb</a>, <a class="el" href="event-internal_8h_source.html#l00202">event_once::ev</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l02113">event_assign()</a>, <a class="el" href="event_8c_source.html#l02028">event_once_cb()</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01844">event_base_loopexit()</a>, and <a class="el" href="event_8c_source.html#l02042">event_once()</a>.</p>

</div>
</div>
<a id="a6d68c2a08de3f05fdb7a3c466ad33f37" name="a6d68c2a08de3f05fdb7a3c466ad33f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d68c2a08de3f05fdb7a3c466ad33f37">&#9670;&nbsp;</a></span>event_base_priority_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_priority_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npriorities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01240">1240</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1241</span>{</div>
<div class="line"><span class="lineno"> 1242</span>    <span class="keywordtype">int</span> i, r;</div>
<div class="line"><span class="lineno"> 1243</span>    r = -1;</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1246</span> </div>
<div class="line"><span class="lineno"> 1247</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a>(base) || npriorities &lt; 1</div>
<div class="line"><span class="lineno"> 1248</span>        || npriorities &gt;= EVENT_MAX_PRIORITIES)</div>
<div class="line"><span class="lineno"> 1249</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 1250</span> </div>
<div class="line"><span class="lineno"> 1251</span>    <span class="keywordflow">if</span> (npriorities == base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>)</div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">goto</span> ok;</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>) {</div>
<div class="line"><span class="lineno"> 1255</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>);</div>
<div class="line"><span class="lineno"> 1256</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a> = 0;</div>
<div class="line"><span class="lineno"> 1257</span>    }</div>
<div class="line"><span class="lineno"> 1258</span> </div>
<div class="line"><span class="lineno"> 1259</span>    <span class="comment">/* Allocate our priority queues */</span></div>
<div class="line"><span class="lineno"> 1260</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a> = (<span class="keyword">struct </span>evcallback_list *)</div>
<div class="line"><span class="lineno"> 1261</span>      <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(npriorities, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> evcallback_list));</div>
<div class="line"><span class="lineno"> 1262</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a> == NULL) {</div>
<div class="line"><span class="lineno"> 1263</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: calloc&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 1264</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 1265</span>    }</div>
<div class="line"><span class="lineno"> 1266</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a> = npriorities;</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>; ++i) {</div>
<div class="line"><span class="lineno"> 1269</span>        TAILQ_INIT(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i]);</div>
<div class="line"><span class="lineno"> 1270</span>    }</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>ok:</div>
<div class="line"><span class="lineno"> 1273</span>    r = 0;</div>
<div class="line"><span class="lineno"> 1274</span>err:</div>
<div class="line"><span class="lineno"> 1275</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1276</span>    <span class="keywordflow">return</span> (r);</div>
<div class="line"><span class="lineno"> 1277</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="event-internal_8h_source.html#l00401">N_ACTIVE_CALLBACKS</a>, and <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, and <a class="el" href="event_8c_source.html#l01234">event_priority_init()</a>.</p>

</div>
</div>
<a id="a27536fe9e78d400460ce6db34dfdabb6" name="a27536fe9e78d400460ce6db34dfdabb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27536fe9e78d400460ce6db34dfdabb6">&#9670;&nbsp;</a></span>event_base_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02164">2164</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2165</span>{</div>
<div class="line"><span class="lineno"> 2166</span>    <span class="comment">/* Only innocent events may be assigned to a different base */</span></div>
<div class="line"><span class="lineno"> 2167</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags != EVLIST_INIT)</div>
<div class="line"><span class="lineno"> 2168</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2169</span> </div>
<div class="line"><span class="lineno"> 2170</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2171</span> </div>
<div class="line"><span class="lineno"> 2172</span>    ev-&gt;ev_base = base;</div>
<div class="line"><span class="lineno"> 2173</span>    ev-&gt;ev_pri = base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>/2;</div>
<div class="line"><span class="lineno"> 2174</span> </div>
<div class="line"><span class="lineno"> 2175</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2176</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00202">event_once::ev</a>, <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>, and <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00671">bufferevent_base_set()</a>.</p>

</div>
</div>
<a id="a11bceab360672f72b8b7665bc22d1437" name="a11bceab360672f72b8b7665bc22d1437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11bceab360672f72b8b7665bc22d1437">&#9670;&nbsp;</a></span>event_base_start_iocp_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_start_iocp_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_cpus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00744">744</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  745</span>{</div>
<div class="line"><span class="lineno">  746</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  747</span>    <span class="keywordflow">if</span> (base-&gt;iocp)</div>
<div class="line"><span class="lineno">  748</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  749</span>    base-&gt;iocp = <a class="code hl_function" href="event__iocp_8c.html#a4845ad534f756a73e61c1223ffde44ee">event_iocp_port_launch_</a>(n_cpus);</div>
<div class="line"><span class="lineno">  750</span>    <span class="keywordflow">if</span> (!base-&gt;iocp) {</div>
<div class="line"><span class="lineno">  751</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: Couldn&#39;t launch IOCP&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  753</span>    }</div>
<div class="line"><span class="lineno">  754</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  755</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  756</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  757</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  758</span>}</div>
<div class="ttc" id="aevent__iocp_8c_html_a4845ad534f756a73e61c1223ffde44ee"><div class="ttname"><a href="event__iocp_8c.html#a4845ad534f756a73e61c1223ffde44ee">event_iocp_port_launch_</a></div><div class="ttdeci">struct event_iocp_port * event_iocp_port_launch_(int n_cpus)</div><div class="ttdef"><b>Definition:</b> <a href="event__iocp_8c_source.html#l00176">event_iocp.c:176</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event__iocp_8c_source.html#l00176">event_iocp_port_launch_()</a>, and <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>.</p>

</div>
</div>
<a id="a58a3c3c0a62757a3e71ae7685fe5bccb" name="a58a3c3c0a62757a3e71ae7685fe5bccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58a3c3c0a62757a3e71ae7685fe5bccb">&#9670;&nbsp;</a></span>event_base_stop_iocp_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_stop_iocp_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00761">761</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  762</span>{</div>
<div class="line"><span class="lineno">  763</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  764</span>    <span class="keywordtype">int</span> rv;</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>    <span class="keywordflow">if</span> (!base-&gt;iocp)</div>
<div class="line"><span class="lineno">  767</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  768</span>    rv = <a class="code hl_function" href="event__iocp_8c.html#a1b57e064b7217518cc3fb946eb939fe6">event_iocp_shutdown_</a>(base-&gt;iocp, -1);</div>
<div class="line"><span class="lineno">  769</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(rv &gt;= 0);</div>
<div class="line"><span class="lineno">  770</span>    base-&gt;iocp = NULL;</div>
<div class="line"><span class="lineno">  771</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  772</span>}</div>
<div class="ttc" id="aevent__iocp_8c_html_a1b57e064b7217518cc3fb946eb939fe6"><div class="ttname"><a href="event__iocp_8c.html#a1b57e064b7217518cc3fb946eb939fe6">event_iocp_shutdown_</a></div><div class="ttdeci">int event_iocp_shutdown_(struct event_iocp_port *port, long waitMsec)</div><div class="ttdef"><b>Definition:</b> <a href="event__iocp_8c_source.html#l00250">event_iocp.c:250</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event__iocp_8c_source.html#l00250">event_iocp_shutdown_()</a>, and <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>.</p>

</div>
</div>
<a id="a3afe5fbe0b7a0acfccef86a88b9c7923" name="a3afe5fbe0b7a0acfccef86a88b9c7923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3afe5fbe0b7a0acfccef86a88b9c7923">&#9670;&nbsp;</a></span>event_base_update_cache_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_update_cache_time </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00475">475</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  476</span>{</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">if</span> (!base) {</div>
<div class="line"><span class="lineno">  479</span>        base = <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>;</div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>)</div>
<div class="line"><span class="lineno">  481</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  482</span>    }</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ac2cc22f366389917edbb03ea55f2ccdd">running_loop</a>)</div>
<div class="line"><span class="lineno">  486</span>        <a class="code hl_function" href="event_8c.html#a1d9ef2944751ee9f5fa2ac4f9aac308d">update_time_cache</a>(base);</div>
<div class="line"><span class="lineno">  487</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno">  488</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  489</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00251">event_base::running_loop</a>, and <a class="el" href="event_8c_source.html#l00467">update_time_cache()</a>.</p>

</div>
</div>
<a id="a1b355828c0eac4d9752e0cc824360422" name="a1b355828c0eac4d9752e0cc824360422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b355828c0eac4d9752e0cc824360422">&#9670;&nbsp;</a></span>event_callback_activate_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_activate_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02995">2995</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2997</span>{</div>
<div class="line"><span class="lineno"> 2998</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 2999</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3000</span>    r = <a class="code hl_function" href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3001</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3002</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3003</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

</div>
</div>
<a id="a936dd89704869ed0c402c3a45f8515c9" name="a936dd89704869ed0c402c3a45f8515c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936dd89704869ed0c402c3a45f8515c9">&#9670;&nbsp;</a></span>event_callback_activate_later_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_activate_later_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03037">3037</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3039</span>{</div>
<div class="line"><span class="lineno"> 3040</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER))</div>
<div class="line"><span class="lineno"> 3041</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3042</span> </div>
<div class="line"><span class="lineno"> 3043</span>    <a class="code hl_function" href="event_8c.html#a5b4599275afb12bce1cc6f857aa69af9">event_queue_insert_active_later</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3044</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 3045</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 3046</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 3047</span>}</div>
<div class="ttc" id="aevent_8c_html_a5b4599275afb12bce1cc6f857aa69af9"><div class="ttname"><a href="event_8c.html#a5b4599275afb12bce1cc6f857aa69af9">event_queue_insert_active_later</a></div><div class="ttdeci">static void event_queue_insert_active_later(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03398">event.c:3398</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="event_8c_source.html#l03398">event_queue_insert_active_later()</a>, and <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02978">event_active_later_nolock_()</a>, and <a class="el" href="event_8c_source.html#l03124">event_deferred_cb_schedule_()</a>.</p>

</div>
</div>
<a id="a076746196a9869ea729e8418258dfbd7" name="a076746196a9869ea729e8418258dfbd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a076746196a9869ea729e8418258dfbd7">&#9670;&nbsp;</a></span>event_callback_activate_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_activate_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03006">3006</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3008</span>{</div>
<div class="line"><span class="lineno"> 3009</span>    <span class="keywordtype">int</span> r = 1;</div>
<div class="line"><span class="lineno"> 3010</span> </div>
<div class="line"><span class="lineno"> 3011</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_FINALIZING)</div>
<div class="line"><span class="lineno"> 3012</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3013</span> </div>
<div class="line"><span class="lineno"> 3014</span>    <span class="keywordflow">switch</span> (evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER)) {</div>
<div class="line"><span class="lineno"> 3015</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3016</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(0);</div>
<div class="line"><span class="lineno"> 3017</span>        <a class="code hl_define" href="util-internal_8h.html#a983a977972e6abd4cf31c4fdc6f628e2">EVUTIL_FALLTHROUGH</a>;</div>
<div class="line"><span class="lineno"> 3018</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 3019</span>        <a class="code hl_function" href="event_8c.html#a4c4082af1e928ea13dd2c3f7f2c66fbe">event_queue_remove_active_later</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3020</span>        r = 0;</div>
<div class="line"><span class="lineno"> 3021</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3022</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE:</div>
<div class="line"><span class="lineno"> 3023</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3024</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 3025</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3026</span>    }</div>
<div class="line"><span class="lineno"> 3027</span> </div>
<div class="line"><span class="lineno"> 3028</span>    <a class="code hl_function" href="event_8c.html#a29354e3bb874319f2705638f5e8351e4">event_queue_insert_active</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3029</span> </div>
<div class="line"><span class="lineno"> 3030</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 3031</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 3032</span> </div>
<div class="line"><span class="lineno"> 3033</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3034</span>}</div>
<div class="ttc" id="aevent_8c_html_a29354e3bb874319f2705638f5e8351e4"><div class="ttname"><a href="event_8c.html#a29354e3bb874319f2705638f5e8351e4">event_queue_insert_active</a></div><div class="ttdeci">static void event_queue_insert_active(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03377">event.c:3377</a></div></div>
<div class="ttc" id="aevent_8c_html_a4c4082af1e928ea13dd2c3f7f2c66fbe"><div class="ttname"><a href="event_8c.html#a4c4082af1e928ea13dd2c3f7f2c66fbe">event_queue_remove_active_later</a></div><div class="ttdeci">static void event_queue_remove_active_later(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03252">event.c:3252</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a983a977972e6abd4cf31c4fdc6f628e2"><div class="ttname"><a href="util-internal_8h.html#a983a977972e6abd4cf31c4fdc6f628e2">EVUTIL_FALLTHROUGH</a></div><div class="ttdeci">#define EVUTIL_FALLTHROUGH</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00355">util-internal.h:355</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="event_8c_source.html#l03377">event_queue_insert_active()</a>, <a class="el" href="event_8c_source.html#l03252">event_queue_remove_active_later()</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="util-internal_8h_source.html#l00355">EVUTIL_FALLTHROUGH</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event_8c_source.html#l02995">event_callback_activate_()</a>, <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>, and <a class="el" href="event_8c_source.html#l03124">event_deferred_cb_schedule_()</a>.</p>

</div>
</div>
<a id="aa57a48e6d6c0430db8f56bef682854f5" name="aa57a48e6d6c0430db8f56bef682854f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57a48e6d6c0430db8f56bef682854f5">&#9670;&nbsp;</a></span>event_callback_cancel_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_cancel_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03058">3058</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3060</span>{</div>
<div class="line"><span class="lineno"> 3061</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 3062</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3063</span>    r = <a class="code hl_function" href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a>(base, evcb, 0);</div>
<div class="line"><span class="lineno"> 3064</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3065</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3066</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03115">event_deferred_cb_cancel_()</a>.</p>

</div>
</div>
<a id="aff51369f2c5162bde92aa5b360cce150" name="aff51369f2c5162bde92aa5b360cce150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff51369f2c5162bde92aa5b360cce150">&#9670;&nbsp;</a></span>event_callback_cancel_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_cancel_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>even_if_finalizing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03069">3069</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3071</span>{</div>
<div class="line"><span class="lineno"> 3072</span>    <span class="keywordflow">if</span> ((evcb-&gt;evcb_flags &amp; EVLIST_FINALIZING) &amp;&amp; !even_if_finalizing)</div>
<div class="line"><span class="lineno"> 3073</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3074</span> </div>
<div class="line"><span class="lineno"> 3075</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_INIT)</div>
<div class="line"><span class="lineno"> 3076</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(<a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb),</div>
<div class="line"><span class="lineno"> 3077</span>            even_if_finalizing ? <a class="code hl_define" href="event-internal_8h.html#a8905546adf5fb540312eac1607bbdeb9">EVENT_DEL_EVEN_IF_FINALIZING</a> : <a class="code hl_define" href="event-internal_8h.html#a5b986417655459f13495c7e24acf8ac9">EVENT_DEL_AUTOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 3078</span> </div>
<div class="line"><span class="lineno"> 3079</span>    <span class="keywordflow">switch</span> ((evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER))) {</div>
<div class="line"><span class="lineno"> 3080</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3081</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE|EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 3082</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(0);</div>
<div class="line"><span class="lineno"> 3083</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3084</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE:</div>
<div class="line"><span class="lineno"> 3085</span>        <span class="comment">/* We get different kinds of events, add them together */</span></div>
<div class="line"><span class="lineno"> 3086</span>        <a class="code hl_function" href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3087</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3088</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 3089</span>        <a class="code hl_function" href="event_8c.html#a4c4082af1e928ea13dd2c3f7f2c66fbe">event_queue_remove_active_later</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3090</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3091</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 3092</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3093</span>    }</div>
<div class="line"><span class="lineno"> 3094</span> </div>
<div class="line"><span class="lineno"> 3095</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3096</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a5b986417655459f13495c7e24acf8ac9"><div class="ttname"><a href="event-internal_8h.html#a5b986417655459f13495c7e24acf8ac9">EVENT_DEL_AUTOBLOCK</a></div><div class="ttdeci">#define EVENT_DEL_AUTOBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00420">event-internal.h:420</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00492">event_callback_to_event()</a>, <a class="el" href="event-internal_8h_source.html#l00420">EVENT_DEL_AUTOBLOCK</a>, <a class="el" href="event-internal_8h_source.html#l00423">EVENT_DEL_EVEN_IF_FINALIZING</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, <a class="el" href="event_8c_source.html#l03236">event_queue_remove_active()</a>, <a class="el" href="event_8c_source.html#l03252">event_queue_remove_active_later()</a>, and <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00775">event_base_cancel_single_callback_()</a>, <a class="el" href="event_8c_source.html#l03058">event_callback_cancel_()</a>, <a class="el" href="event_8c_source.html#l02317">event_callback_finalize_many_()</a>, and <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>.</p>

</div>
</div>
<a id="ab79332981e939fba4ae93574d715ebd0" name="ab79332981e939fba4ae93574d715ebd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab79332981e939fba4ae93574d715ebd0">&#9670;&nbsp;</a></span>event_callback_finalize_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_callback_finalize_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct event_callback *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02306">2306</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2307</span>{</div>
<div class="line"><span class="lineno"> 2308</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2309</span>    <a class="code hl_function" href="event_8c.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a>(base, flags, evcb, cb);</div>
<div class="line"><span class="lineno"> 2310</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2311</span>}</div>
<div class="ttc" id="aevent_8c_html_adfe640e39f50bac53b51452800ec52ff"><div class="ttname"><a href="event_8c.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a></div><div class="ttdeci">void event_callback_finalize_nolock_(struct event_base *base, unsigned flags, struct event_callback *evcb, void(*cb)(struct event_callback *, void *))</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02289">event.c:2289</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>.</p>

</div>
</div>
<a id="a60393ac0869b5b5e507df8f50d024bec" name="a60393ac0869b5b5e507df8f50d024bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60393ac0869b5b5e507df8f50d024bec">&#9670;&nbsp;</a></span>event_callback_finalize_many_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_finalize_many_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_cbs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback **&#160;</td>
          <td class="paramname"><em>evcbs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct event_callback *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal: Finalize all of the n_cbs callbacks in evcbs. The provided callback will be invoked on <em>one of them</em>, after they have <em>all</em> been finalized. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02317">2317</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2318</span>{</div>
<div class="line"><span class="lineno"> 2319</span>    <span class="keywordtype">int</span> n_pending = 0, i;</div>
<div class="line"><span class="lineno"> 2320</span> </div>
<div class="line"><span class="lineno"> 2321</span>    <span class="keywordflow">if</span> (base == NULL)</div>
<div class="line"><span class="lineno"> 2322</span>        base = <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>;</div>
<div class="line"><span class="lineno"> 2323</span> </div>
<div class="line"><span class="lineno"> 2324</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2325</span> </div>
<div class="line"><span class="lineno"> 2326</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: %d events finalizing&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, n_cbs));</div>
<div class="line"><span class="lineno"> 2327</span> </div>
<div class="line"><span class="lineno"> 2328</span>    <span class="comment">/* At most one can be currently executing; the rest we just</span></div>
<div class="line"><span class="lineno"> 2329</span><span class="comment">     * cancel... But we always make sure that the finalize callback</span></div>
<div class="line"><span class="lineno"> 2330</span><span class="comment">     * runs. */</span></div>
<div class="line"><span class="lineno"> 2331</span>    <span class="keywordflow">for</span> (i = 0; i &lt; n_cbs; ++i) {</div>
<div class="line"><span class="lineno"> 2332</span>        <span class="keyword">struct </span>event_callback *evcb = evcbs[i];</div>
<div class="line"><span class="lineno"> 2333</span>        <span class="keywordflow">if</span> (evcb == base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a>) {</div>
<div class="line"><span class="lineno"> 2334</span>            <a class="code hl_function" href="event_8c.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a>(base, 0, evcb, cb);</div>
<div class="line"><span class="lineno"> 2335</span>            ++n_pending;</div>
<div class="line"><span class="lineno"> 2336</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2337</span>            <a class="code hl_function" href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a>(base, evcb, 0);</div>
<div class="line"><span class="lineno"> 2338</span>        }</div>
<div class="line"><span class="lineno"> 2339</span>    }</div>
<div class="line"><span class="lineno"> 2340</span> </div>
<div class="line"><span class="lineno"> 2341</span>    <span class="keywordflow">if</span> (n_pending == 0) {</div>
<div class="line"><span class="lineno"> 2342</span>        <span class="comment">/* Just do the first one. */</span></div>
<div class="line"><span class="lineno"> 2343</span>        <a class="code hl_function" href="event_8c.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a>(base, 0, evcbs[0], cb);</div>
<div class="line"><span class="lineno"> 2344</span>    }</div>
<div class="line"><span class="lineno"> 2345</span> </div>
<div class="line"><span class="lineno"> 2346</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2347</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2348</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>, and <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>.</p>

</div>
</div>
<a id="adfe640e39f50bac53b51452800ec52ff" name="adfe640e39f50bac53b51452800ec52ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe640e39f50bac53b51452800ec52ff">&#9670;&nbsp;</a></span>event_callback_finalize_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_callback_finalize_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct event_callback *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02289">2289</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2290</span>{</div>
<div class="line"><span class="lineno"> 2291</span>    <span class="keyword">struct </span>event *ev = NULL;</div>
<div class="line"><span class="lineno"> 2292</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_INIT) {</div>
<div class="line"><span class="lineno"> 2293</span>        ev = <a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb);</div>
<div class="line"><span class="lineno"> 2294</span>        <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 2295</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2296</span>        <a class="code hl_function" href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a>(base, evcb, 0); <span class="comment">/*XXX can this fail?*/</span></div>
<div class="line"><span class="lineno"> 2297</span>    }</div>
<div class="line"><span class="lineno"> 2298</span> </div>
<div class="line"><span class="lineno"> 2299</span>    evcb-&gt;evcb_closure = <a class="code hl_define" href="event-internal_8h.html#a2d789a90e7e056878473202407e78407">EV_CLOSURE_CB_FINALIZE</a>;</div>
<div class="line"><span class="lineno"> 2300</span>    evcb-&gt;evcb_cb_union.evcb_cbfinalize = cb;</div>
<div class="line"><span class="lineno"> 2301</span>    <a class="code hl_function" href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a>(base, evcb); <span class="comment">/* XXX can this really fail?*/</span></div>
<div class="line"><span class="lineno"> 2302</span>    evcb-&gt;evcb_flags |= EVLIST_FINALIZING;</div>
<div class="line"><span class="lineno"> 2303</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00077">EV_CLOSURE_CB_FINALIZE</a>, <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, <a class="el" href="event_8c_source.html#l00492">event_callback_to_event()</a>, <a class="el" href="event-internal_8h_source.html#l00412">EVENT_DEL_NOBLOCK</a>, and <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02306">event_callback_finalize_()</a>, and <a class="el" href="event_8c_source.html#l02317">event_callback_finalize_many_()</a>.</p>

</div>
</div>
<a id="a6080c912f44af885c07f6a518ea051af" name="a6080c912f44af885c07f6a518ea051af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6080c912f44af885c07f6a518ea051af">&#9670;&nbsp;</a></span>event_callback_init_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_callback_init_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03050">3050</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3052</span>{</div>
<div class="line"><span class="lineno"> 3053</span>    memset(cb, 0, <span class="keyword">sizeof</span>(*cb));</div>
<div class="line"><span class="lineno"> 3054</span>    cb-&gt;evcb_pri = base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a> - 1;</div>
<div class="line"><span class="lineno"> 3055</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>.</p>

</div>
</div>
<a id="a192dd5b45e3aa491374f90bc4b629a77" name="a192dd5b45e3aa491374f90bc4b629a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192dd5b45e3aa491374f90bc4b629a77">&#9670;&nbsp;</a></span>event_callback_to_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct event * event_callback_to_event </td>
          <td>(</td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00492">492</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  493</span>{</div>
<div class="line"><span class="lineno">  494</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((evcb-&gt;evcb_flags &amp; EVLIST_INIT));</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="util-internal_8h.html#a9b1285f7a3e9b52331e598415a98b5ef">EVUTIL_UPCAST</a>(evcb, <span class="keyword">struct</span> event, ev_evcallback);</div>
<div class="line"><span class="lineno">  496</span>}</div>
<div class="ttc" id="autil-internal_8h_html_a9b1285f7a3e9b52331e598415a98b5ef"><div class="ttname"><a href="util-internal_8h.html#a9b1285f7a3e9b52331e598415a98b5ef">EVUTIL_UPCAST</a></div><div class="ttdeci">#define EVUTIL_UPCAST(ptr, type, field)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00288">util-internal.h:288</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="util-internal_8h_source.html#l00288">EVUTIL_UPCAST</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00775">event_base_cancel_single_callback_()</a>, <a class="el" href="event_8c_source.html#l03680">event_base_foreach_event_nolock_()</a>, <a class="el" href="event_8c_source.html#l02194">event_base_get_running_event()</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>, and <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>.</p>

</div>
</div>
<a id="a961de3fb39a12ff67ff030bb3caacba2" name="a961de3fb39a12ff67ff030bb3caacba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a961de3fb39a12ff67ff030bb3caacba2">&#9670;&nbsp;</a></span>event_config_avoid_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_config_avoid_method </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__config.html">event_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01181">1181</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1182</span>{</div>
<div class="line"><span class="lineno"> 1183</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__config__entry.html">event_config_entry</a> *entry = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(<span class="keyword">sizeof</span>(*entry));</div>
<div class="line"><span class="lineno"> 1184</span>    <span class="keywordflow">if</span> (entry == NULL)</div>
<div class="line"><span class="lineno"> 1185</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>    <span class="keywordflow">if</span> ((entry-&gt;<a class="code hl_variable" href="structevent__config__entry.html#acf1761d5858509156afd2b1a46dd9fce">avoid_method</a> = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(method)) == NULL) {</div>
<div class="line"><span class="lineno"> 1188</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(entry);</div>
<div class="line"><span class="lineno"> 1189</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1190</span>    }</div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>    TAILQ_INSERT_TAIL(&amp;cfg-&gt;entries, entry, next);</div>
<div class="line"><span class="lineno"> 1193</span> </div>
<div class="line"><span class="lineno"> 1194</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 1195</span>}</div>
<div class="ttc" id="amm-internal_8h_html_a140c2a3e08063dc43326c240f6d6a9fd"><div class="ttname"><a href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a></div><div class="ttdeci">#define mm_strdup(s)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00077">mm-internal.h:77</a></div></div>
<div class="ttc" id="amm-internal_8h_html_a7c27fb60329839e84d16185cda4734d5"><div class="ttname"><a href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a></div><div class="ttdeci">#define mm_malloc(sz)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00075">mm-internal.h:75</a></div></div>
<div class="ttc" id="astructevent__config__entry_html"><div class="ttname"><a href="structevent__config__entry.html">event_config_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00351">event-internal.h:351</a></div></div>
<div class="ttc" id="astructevent__config__entry_html_acf1761d5858509156afd2b1a46dd9fce"><div class="ttname"><a href="structevent__config__entry.html#acf1761d5858509156afd2b1a46dd9fce">event_config_entry::avoid_method</a></div><div class="ttdeci">const char * avoid_method</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00354">event-internal.h:354</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00354">event_config_entry::avoid_method</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>, and <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>.</p>

</div>
</div>
<a id="a18cf13f12f6fcccb216e1864d42dd80a" name="a18cf13f12f6fcccb216e1864d42dd80a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18cf13f12f6fcccb216e1864d42dd80a">&#9670;&nbsp;</a></span>event_config_entry_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_config_entry_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__config__entry.html">event_config_entry</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01152">1152</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1153</span>{</div>
<div class="line"><span class="lineno"> 1154</span>    <span class="keywordflow">if</span> (entry-&gt;<a class="code hl_variable" href="structevent__config__entry.html#acf1761d5858509156afd2b1a46dd9fce">avoid_method</a> != NULL)</div>
<div class="line"><span class="lineno"> 1155</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>((<span class="keywordtype">char</span> *)entry-&gt;<a class="code hl_variable" href="structevent__config__entry.html#acf1761d5858509156afd2b1a46dd9fce">avoid_method</a>);</div>
<div class="line"><span class="lineno"> 1156</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(entry);</div>
<div class="line"><span class="lineno"> 1157</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00354">event_config_entry::avoid_method</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01160">event_config_free()</a>.</p>

</div>
</div>
<a id="a605f44836f97bb031776a7f70d53d719" name="a605f44836f97bb031776a7f70d53d719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a605f44836f97bb031776a7f70d53d719">&#9670;&nbsp;</a></span>event_config_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_config_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__config.html">event_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01160">1160</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1161</span>{</div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__config__entry.html">event_config_entry</a> *entry;</div>
<div class="line"><span class="lineno"> 1163</span> </div>
<div class="line"><span class="lineno"> 1164</span>    <span class="keywordflow">while</span> ((entry = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;cfg-&gt;entries)) != NULL) {</div>
<div class="line"><span class="lineno"> 1165</span>        TAILQ_REMOVE(&amp;cfg-&gt;entries, entry, next);</div>
<div class="line"><span class="lineno"> 1166</span>        <a class="code hl_function" href="event_8c.html#a18cf13f12f6fcccb216e1864d42dd80a">event_config_entry_free</a>(entry);</div>
<div class="line"><span class="lineno"> 1167</span>    }</div>
<div class="line"><span class="lineno"> 1168</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(cfg);</div>
<div class="line"><span class="lineno"> 1169</span>}</div>
<div class="ttc" id="aevent_8c_html_a18cf13f12f6fcccb216e1864d42dd80a"><div class="ttname"><a href="event_8c.html#a18cf13f12f6fcccb216e1864d42dd80a">event_config_entry_free</a></div><div class="ttdeci">static void event_config_entry_free(struct event_config_entry *entry)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01152">event.c:1152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l01152">event_config_entry_free()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00520">event_base_new()</a>.</p>

</div>
</div>
<a id="a6efc536ab673d187a3277e52214e0c34" name="a6efc536ab673d187a3277e52214e0c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6efc536ab673d187a3277e52214e0c34">&#9670;&nbsp;</a></span>event_config_is_avoided_method()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_config_is_avoided_method </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevent__config.html">event_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Return true iff 'method' is the name of a method that 'cfg' tells us to avoid. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00534">534</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  536</span>{</div>
<div class="line"><span class="lineno">  537</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__config__entry.html">event_config_entry</a> *entry;</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(entry, &amp;cfg-&gt;entries, next) {</div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordflow">if</span> (entry-&gt;<a class="code hl_variable" href="structevent__config__entry.html#acf1761d5858509156afd2b1a46dd9fce">avoid_method</a> != NULL &amp;&amp;</div>
<div class="line"><span class="lineno">  541</span>            strcmp(entry-&gt;<a class="code hl_variable" href="structevent__config__entry.html#acf1761d5858509156afd2b1a46dd9fce">avoid_method</a>, method) == 0)</div>
<div class="line"><span class="lineno">  542</span>            <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno">  543</span>    }</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  546</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00354">event_config_entry::avoid_method</a>, and <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>.</p>

</div>
</div>
<a id="a879ba599814d0d404a35c8202cd06fce" name="a879ba599814d0d404a35c8202cd06fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879ba599814d0d404a35c8202cd06fce">&#9670;&nbsp;</a></span>event_config_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevent__config.html">event_config</a> * event_config_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01136">1136</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1137</span>{</div>
<div class="line"><span class="lineno"> 1138</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__config.html">event_config</a> *cfg = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(*cfg));</div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span>    <span class="keywordflow">if</span> (cfg == NULL)</div>
<div class="line"><span class="lineno"> 1141</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 1142</span> </div>
<div class="line"><span class="lineno"> 1143</span>    TAILQ_INIT(&amp;cfg-&gt;entries);</div>
<div class="line"><span class="lineno"> 1144</span>    cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a7c98843685ec3f8f7e3354b60cd756b3">max_dispatch_interval</a>.tv_sec = -1;</div>
<div class="line"><span class="lineno"> 1145</span>    cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a8882483f39d05ed3e8bcbd29569f42db">max_dispatch_callbacks</a> = INT_MAX;</div>
<div class="line"><span class="lineno"> 1146</span>    cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a7526d213acace59f6f6851518f548b81">limit_callbacks_after_prio</a> = 1;</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>    <span class="keywordflow">return</span> (cfg);</div>
<div class="line"><span class="lineno"> 1149</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00365">event_config::limit_callbacks_after_prio</a>, <a class="el" href="event-internal_8h_source.html#l00364">event_config::max_dispatch_callbacks</a>, <a class="el" href="event-internal_8h_source.html#l00363">event_config::max_dispatch_interval</a>, and <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00520">event_base_new()</a>.</p>

</div>
</div>
<a id="aa2b230575cc7667a8119f4f7bfa9ce23" name="aa2b230575cc7667a8119f4f7bfa9ce23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b230575cc7667a8119f4f7bfa9ce23">&#9670;&nbsp;</a></span>event_config_require_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_config_require_features </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__config.html">event_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01198">1198</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1200</span>{</div>
<div class="line"><span class="lineno"> 1201</span>    <span class="keywordflow">if</span> (!cfg)</div>
<div class="line"><span class="lineno"> 1202</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1203</span>    cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a4585f4e0bcce3c0a6933de00aae65a6b">require_features</a> = features;</div>
<div class="line"><span class="lineno"> 1204</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 1205</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00366">event_config::require_features</a>.</p>

</div>
</div>
<a id="ac4b2697c7927fcd2167a1749f6602f29" name="ac4b2697c7927fcd2167a1749f6602f29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b2697c7927fcd2167a1749f6602f29">&#9670;&nbsp;</a></span>event_config_set_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_config_set_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__config.html">event_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01172">1172</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1173</span>{</div>
<div class="line"><span class="lineno"> 1174</span>    <span class="keywordflow">if</span> (!cfg)</div>
<div class="line"><span class="lineno"> 1175</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1176</span>    cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a5deee9571f15368b698f60c275e45ba3">flags</a> |= flag;</div>
<div class="line"><span class="lineno"> 1177</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1178</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00367">event_config::flags</a>.</p>

</div>
</div>
<a id="a4ce79ea64f2fb7074487672801a1ad20" name="a4ce79ea64f2fb7074487672801a1ad20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce79ea64f2fb7074487672801a1ad20">&#9670;&nbsp;</a></span>event_config_set_max_dispatch_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_config_set_max_dispatch_interval </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__config.html">event_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>max_interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_callbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01217">1217</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1219</span>{</div>
<div class="line"><span class="lineno"> 1220</span>    <span class="keywordflow">if</span> (max_interval)</div>
<div class="line"><span class="lineno"> 1221</span>        memcpy(&amp;cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a7c98843685ec3f8f7e3354b60cd756b3">max_dispatch_interval</a>, max_interval,</div>
<div class="line"><span class="lineno"> 1222</span>            <span class="keyword">sizeof</span>(<span class="keyword">struct</span> timeval));</div>
<div class="line"><span class="lineno"> 1223</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1224</span>        cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a7c98843685ec3f8f7e3354b60cd756b3">max_dispatch_interval</a>.tv_sec = -1;</div>
<div class="line"><span class="lineno"> 1225</span>    cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a8882483f39d05ed3e8bcbd29569f42db">max_dispatch_callbacks</a> =</div>
<div class="line"><span class="lineno"> 1226</span>        max_callbacks &gt;= 0 ? max_callbacks : INT_MAX;</div>
<div class="line"><span class="lineno"> 1227</span>    <span class="keywordflow">if</span> (min_priority &lt; 0)</div>
<div class="line"><span class="lineno"> 1228</span>        min_priority = 0;</div>
<div class="line"><span class="lineno"> 1229</span>    cfg-&gt;<a class="code hl_variable" href="structevent__config.html#a7526d213acace59f6f6851518f548b81">limit_callbacks_after_prio</a> = min_priority;</div>
<div class="line"><span class="lineno"> 1230</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 1231</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00365">event_config::limit_callbacks_after_prio</a>, <a class="el" href="event-internal_8h_source.html#l00364">event_config::max_dispatch_callbacks</a>, and <a class="el" href="event-internal_8h_source.html#l00363">event_config::max_dispatch_interval</a>.</p>

</div>
</div>
<a id="aa12ff91d766988a170cab43c53f66143" name="aa12ff91d766988a170cab43c53f66143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa12ff91d766988a170cab43c53f66143">&#9670;&nbsp;</a></span>event_config_set_num_cpus_hint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_config_set_num_cpus_hint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__config.html">event_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cpus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01208">1208</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1209</span>{</div>
<div class="line"><span class="lineno"> 1210</span>    <span class="keywordflow">if</span> (!cfg)</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 1212</span>    cfg-&gt;<a class="code hl_variable" href="structevent__config.html#afb117e6cf21c0b8040ff9af5dd28c957">n_cpus_hint</a> = cpus;</div>
<div class="line"><span class="lineno"> 1213</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 1214</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00362">event_config::n_cpus_hint</a>.</p>

</div>
</div>
<a id="a336acd34fef64d9dccadb70c8239a979" name="a336acd34fef64d9dccadb70c8239a979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a336acd34fef64d9dccadb70c8239a979">&#9670;&nbsp;</a></span>event_debug_assert_is_setup_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_debug_assert_is_setup_ </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00333">333</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  334</span>{</div>
<div class="line"><span class="lineno">  335</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__debug__entry.html">event_debug_entry</a> *dent, find;</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    find.ptr = ev;</div>
<div class="line"><span class="lineno">  341</span>    <a class="code hl_define" href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  342</span>    dent = <a class="code hl_define" href="ht-internal_8h.html#a5ad24c35d95cce0b583e43badc99d1f1">HT_FIND</a>(event_debug_map, &amp;global_debug_map, &amp;find);</div>
<div class="line"><span class="lineno">  343</span>    <span class="keywordflow">if</span> (!dent) {</div>
<div class="line"><span class="lineno">  344</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(<a class="code hl_define" href="log-internal_8h.html#a62a722656d249186705999fed74982cc">EVENT_ERR_ABORT_</a>,</div>
<div class="line"><span class="lineno">  345</span>            <span class="stringliteral">&quot;%s called on a non-initialized event %p&quot;</span></div>
<div class="line"><span class="lineno">  346</span>            <span class="stringliteral">&quot; (events: 0x%x, fd: &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a></div>
<div class="line"><span class="lineno">  347</span>            <span class="stringliteral">&quot;, flags: 0x%x)&quot;</span>,</div>
<div class="line"><span class="lineno">  348</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, ev, ev-&gt;ev_events,</div>
<div class="line"><span class="lineno">  349</span>            <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), ev-&gt;ev_flags);</div>
<div class="line"><span class="lineno">  350</span>    }</div>
<div class="line"><span class="lineno">  351</span>    <a class="code hl_define" href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  352</span>}</div>
<div class="ttc" id="aevent_8c_html_a3ede2ba43439e39992899a8c083bbb6a"><div class="ttname"><a href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a></div><div class="ttdeci">int event_debug_mode_on_</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00205">event.c:205</a></div></div>
<div class="ttc" id="aevent_8c_html_aeae80598cf04ce30bbeb1797aa9af121"><div class="ttname"><a href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a></div><div class="ttdeci">static void * event_debug_map_lock_</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00225">event.c:225</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a56adca0a6ba562d39552d187063a0ba7"><div class="ttname"><a href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a></div><div class="ttdeci">#define EVLOCK_UNLOCK(lockvar, mode)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00100">evthread-internal.h:100</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a85fdca55341e3703cd380dae6e90297d"><div class="ttname"><a href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a></div><div class="ttdeci">#define EVLOCK_LOCK(lockvar, mode)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00093">evthread-internal.h:93</a></div></div>
<div class="ttc" id="aht-internal_8h_html_a5ad24c35d95cce0b583e43badc99d1f1"><div class="ttname"><a href="ht-internal_8h.html#a5ad24c35d95cce0b583e43badc99d1f1">HT_FIND</a></div><div class="ttdeci">#define HT_FIND(name, head, elm)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00052">ht-internal.h:52</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a62a722656d249186705999fed74982cc"><div class="ttname"><a href="log-internal_8h.html#a62a722656d249186705999fed74982cc">EVENT_ERR_ABORT_</a></div><div class="ttdeci">#define EVENT_ERR_ABORT_</div><div class="ttdef"><b>Definition:</b> <a href="log-internal_8h_source.html#l00044">log-internal.h:44</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a806e47302b770376a451ae2efac9a504"><div class="ttname"><a href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void EVENT2_EXPORT_SYMBOL void event_errx(int eval, const char *fmt,...) EV_CHECK_FMT(2</div></div>
<div class="ttc" id="astructevent__debug__entry_html"><div class="ttname"><a href="structevent__debug__entry.html">event_debug_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00178">event.c:178</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="event_8c_source.html#l00225">event_debug_map_lock_</a>, <a class="el" href="event_8c_source.html#l00205">event_debug_mode_on_</a>, <a class="el" href="log-internal_8h_source.html#l00044">EVENT_ERR_ABORT_</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="evthread-internal_8h_source.html#l00093">EVLOCK_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00100">EVLOCK_UNLOCK</a>, and <a class="el" href="ht-internal_8h_source.html#l00052">HT_FIND</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02901">event_active()</a>, <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l02164">event_base_set()</a>, <a class="el" href="event_8c_source.html#l02419">event_get_assignment()</a>, <a class="el" href="event_8c_source.html#l02449">event_get_base()</a>, <a class="el" href="event_8c_source.html#l02463">event_get_callback()</a>, <a class="el" href="event_8c_source.html#l02470">event_get_callback_arg()</a>, <a class="el" href="event_8c_source.html#l02456">event_get_events()</a>, <a class="el" href="event_8c_source.html#l02442">event_get_fd()</a>, <a class="el" href="event_8c_source.html#l02477">event_get_priority()</a>, <a class="el" href="event_8c_source.html#l02375">event_pending()</a>, <a class="el" href="event_8c_source.html#l02356">event_priority_set()</a>, and <a class="el" href="event_8c_source.html#l02555">event_remove_timer_nolock_()</a>.</p>

</div>
</div>
<a id="a8f3a5b8c786d7e972cd38b46f71162ac" name="a8f3a5b8c786d7e972cd38b46f71162ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f3a5b8c786d7e972cd38b46f71162ac">&#9670;&nbsp;</a></span>event_debug_assert_not_added_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_debug_assert_not_added_ </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00354">354</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>{</div>
<div class="line"><span class="lineno">  356</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__debug__entry.html">event_debug_entry</a> *dent, find;</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>    find.ptr = ev;</div>
<div class="line"><span class="lineno">  362</span>    <a class="code hl_define" href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  363</span>    dent = <a class="code hl_define" href="ht-internal_8h.html#a5ad24c35d95cce0b583e43badc99d1f1">HT_FIND</a>(event_debug_map, &amp;global_debug_map, &amp;find);</div>
<div class="line"><span class="lineno">  364</span>    <span class="keywordflow">if</span> (dent &amp;&amp; dent-&gt;added) {</div>
<div class="line"><span class="lineno">  365</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(<a class="code hl_define" href="log-internal_8h.html#a62a722656d249186705999fed74982cc">EVENT_ERR_ABORT_</a>,</div>
<div class="line"><span class="lineno">  366</span>            <span class="stringliteral">&quot;%s called on an already added event %p&quot;</span></div>
<div class="line"><span class="lineno">  367</span>            <span class="stringliteral">&quot; (events: 0x%x, fd: &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  368</span>            <span class="stringliteral">&quot;flags: 0x%x)&quot;</span>,</div>
<div class="line"><span class="lineno">  369</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, ev, ev-&gt;ev_events,</div>
<div class="line"><span class="lineno">  370</span>            <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), ev-&gt;ev_flags);</div>
<div class="line"><span class="lineno">  371</span>    }</div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_define" href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  373</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="event_8c_source.html#l00225">event_debug_map_lock_</a>, <a class="el" href="event_8c_source.html#l00205">event_debug_mode_on_</a>, <a class="el" href="log-internal_8h_source.html#l00044">EVENT_ERR_ABORT_</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="evthread-internal_8h_source.html#l00093">EVLOCK_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00100">EVLOCK_UNLOCK</a>, and <a class="el" href="ht-internal_8h_source.html#l00052">HT_FIND</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02113">event_assign()</a>, and <a class="el" href="event_8c_source.html#l02237">event_debug_unassign()</a>.</p>

</div>
</div>
<a id="a15afe34bc83a53cf1fe585050ddbf03d" name="a15afe34bc83a53cf1fe585050ddbf03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15afe34bc83a53cf1fe585050ddbf03d">&#9670;&nbsp;</a></span>event_debug_assert_socket_nonblocking_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_debug_assert_socket_nonblocking_ </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00374">374</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  375</span>{</div>
<div class="line"><span class="lineno">  376</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</div>
<div class="line"><span class="lineno">  377</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  379</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><span class="lineno">  382</span>    {</div>
<div class="line"><span class="lineno">  383</span>        <span class="keywordtype">int</span> flags;</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">if</span> ((flags = fcntl(fd, F_GETFL, NULL)) &gt;= 0) {</div>
<div class="line"><span class="lineno">  385</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(flags &amp; O_NONBLOCK);</div>
<div class="line"><span class="lineno">  386</span>        }</div>
<div class="line"><span class="lineno">  387</span>    }</div>
<div class="line"><span class="lineno">  388</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  389</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00205">event_debug_mode_on_</a>, and <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02113">event_assign()</a>.</p>

</div>
</div>
<a id="a29eac5ce653c0400f9dc5b2f48d82d38" name="a29eac5ce653c0400f9dc5b2f48d82d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29eac5ce653c0400f9dc5b2f48d82d38">&#9670;&nbsp;</a></span>event_debug_note_add_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_debug_note_add_ </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00281">281</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  282</span>{</div>
<div class="line"><span class="lineno">  283</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__debug__entry.html">event_debug_entry</a> *dent,find;</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    find.ptr = ev;</div>
<div class="line"><span class="lineno">  289</span>    <a class="code hl_define" href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  290</span>    dent = <a class="code hl_define" href="ht-internal_8h.html#a5ad24c35d95cce0b583e43badc99d1f1">HT_FIND</a>(event_debug_map, &amp;global_debug_map, &amp;find);</div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">if</span> (dent) {</div>
<div class="line"><span class="lineno">  292</span>        dent-&gt;added = 1;</div>
<div class="line"><span class="lineno">  293</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  294</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(<a class="code hl_define" href="log-internal_8h.html#a62a722656d249186705999fed74982cc">EVENT_ERR_ABORT_</a>,</div>
<div class="line"><span class="lineno">  295</span>            <span class="stringliteral">&quot;%s: noting an add on a non-setup event %p&quot;</span></div>
<div class="line"><span class="lineno">  296</span>            <span class="stringliteral">&quot; (events: 0x%x, fd: &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a></div>
<div class="line"><span class="lineno">  297</span>            <span class="stringliteral">&quot;, flags: 0x%x)&quot;</span>,</div>
<div class="line"><span class="lineno">  298</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, ev, ev-&gt;ev_events,</div>
<div class="line"><span class="lineno">  299</span>            <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), ev-&gt;ev_flags);</div>
<div class="line"><span class="lineno">  300</span>    }</div>
<div class="line"><span class="lineno">  301</span>    <a class="code hl_define" href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>out:</div>
<div class="line"><span class="lineno">  304</span>    <a class="code hl_variable" href="event_8c.html#a81ada601d92f086041dbcf01f5f26ad0">event_debug_mode_too_late</a> = 1;</div>
<div class="line"><span class="lineno">  305</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="event_8c_source.html#l00225">event_debug_map_lock_</a>, <a class="el" href="event_8c_source.html#l00205">event_debug_mode_on_</a>, <a class="el" href="event_8c_source.html#l00223">event_debug_mode_too_late</a>, <a class="el" href="log-internal_8h_source.html#l00044">EVENT_ERR_ABORT_</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="evthread-internal_8h_source.html#l00093">EVLOCK_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00100">EVLOCK_UNLOCK</a>, and <a class="el" href="ht-internal_8h_source.html#l00052">HT_FIND</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>.</p>

</div>
</div>
<a id="a2f768cf7a31be418a8bf277bf2f92776" name="a2f768cf7a31be418a8bf277bf2f92776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f768cf7a31be418a8bf277bf2f92776">&#9670;&nbsp;</a></span>event_debug_note_del_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_debug_note_del_ </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00307">307</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  308</span>{</div>
<div class="line"><span class="lineno">  309</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__debug__entry.html">event_debug_entry</a> *dent, find;</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    find.ptr = ev;</div>
<div class="line"><span class="lineno">  315</span>    <a class="code hl_define" href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  316</span>    dent = <a class="code hl_define" href="ht-internal_8h.html#a5ad24c35d95cce0b583e43badc99d1f1">HT_FIND</a>(event_debug_map, &amp;global_debug_map, &amp;find);</div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">if</span> (dent) {</div>
<div class="line"><span class="lineno">  318</span>        dent-&gt;added = 0;</div>
<div class="line"><span class="lineno">  319</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  320</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(<a class="code hl_define" href="log-internal_8h.html#a62a722656d249186705999fed74982cc">EVENT_ERR_ABORT_</a>,</div>
<div class="line"><span class="lineno">  321</span>            <span class="stringliteral">&quot;%s: noting a del on a non-setup event %p&quot;</span></div>
<div class="line"><span class="lineno">  322</span>            <span class="stringliteral">&quot; (events: 0x%x, fd: &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a></div>
<div class="line"><span class="lineno">  323</span>            <span class="stringliteral">&quot;, flags: 0x%x)&quot;</span>,</div>
<div class="line"><span class="lineno">  324</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, ev, ev-&gt;ev_events,</div>
<div class="line"><span class="lineno">  325</span>            <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), ev-&gt;ev_flags);</div>
<div class="line"><span class="lineno">  326</span>    }</div>
<div class="line"><span class="lineno">  327</span>    <a class="code hl_define" href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>out:</div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_variable" href="event_8c.html#a81ada601d92f086041dbcf01f5f26ad0">event_debug_mode_too_late</a> = 1;</div>
<div class="line"><span class="lineno">  331</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="event_8c_source.html#l00225">event_debug_map_lock_</a>, <a class="el" href="event_8c_source.html#l00205">event_debug_mode_on_</a>, <a class="el" href="event_8c_source.html#l00223">event_debug_mode_too_late</a>, <a class="el" href="log-internal_8h_source.html#l00044">EVENT_ERR_ABORT_</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="evthread-internal_8h_source.html#l00093">EVLOCK_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00100">EVLOCK_UNLOCK</a>, and <a class="el" href="ht-internal_8h_source.html#l00052">HT_FIND</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="ab9ec4c017e2a70437572170a15f2e88e" name="ab9ec4c017e2a70437572170a15f2e88e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9ec4c017e2a70437572170a15f2e88e">&#9670;&nbsp;</a></span>event_debug_note_teardown_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_debug_note_teardown_ </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00263">263</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  264</span>{</div>
<div class="line"><span class="lineno">  265</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__debug__entry.html">event_debug_entry</a> *dent, find;</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    find.ptr = ev;</div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_define" href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  272</span>    dent = <a class="code hl_define" href="ht-internal_8h.html#a2936f7b435b437f3f156a9841137387d">HT_REMOVE</a>(event_debug_map, &amp;global_debug_map, &amp;find);</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">if</span> (dent)</div>
<div class="line"><span class="lineno">  274</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(dent);</div>
<div class="line"><span class="lineno">  275</span>    <a class="code hl_define" href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>out:</div>
<div class="line"><span class="lineno">  278</span>    <a class="code hl_variable" href="event_8c.html#a81ada601d92f086041dbcf01f5f26ad0">event_debug_mode_too_late</a> = 1;</div>
<div class="line"><span class="lineno">  279</span>}</div>
<div class="ttc" id="aht-internal_8h_html_a2936f7b435b437f3f156a9841137387d"><div class="ttname"><a href="ht-internal_8h.html#a2936f7b435b437f3f156a9841137387d">HT_REMOVE</a></div><div class="ttdeci">#define HT_REMOVE(name, head, elm)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00055">ht-internal.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00225">event_debug_map_lock_</a>, <a class="el" href="event_8c_source.html#l00205">event_debug_mode_on_</a>, <a class="el" href="event_8c_source.html#l00223">event_debug_mode_too_late</a>, <a class="el" href="evthread-internal_8h_source.html#l00093">EVLOCK_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00100">EVLOCK_UNLOCK</a>, <a class="el" href="ht-internal_8h_source.html#l00055">HT_REMOVE</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02237">event_debug_unassign()</a>, <a class="el" href="event_8c_source.html#l02223">event_free()</a>, and <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>.</p>

</div>
</div>
<a id="addc542c0516f6532cf2e9a645bd1694a" name="addc542c0516f6532cf2e9a645bd1694a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addc542c0516f6532cf2e9a645bd1694a">&#9670;&nbsp;</a></span>event_debug_unassign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_debug_unassign </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02237">2237</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2238</span>{</div>
<div class="line"><span class="lineno"> 2239</span>    <a class="code hl_function" href="event_8c.html#a8f3a5b8c786d7e972cd38b46f71162ac">event_debug_assert_not_added_</a>(ev);</div>
<div class="line"><span class="lineno"> 2240</span>    <a class="code hl_function" href="event_8c.html#ab9ec4c017e2a70437572170a15f2e88e">event_debug_note_teardown_</a>(ev);</div>
<div class="line"><span class="lineno"> 2241</span> </div>
<div class="line"><span class="lineno"> 2242</span>    ev-&gt;ev_flags &amp;= ~EVLIST_INIT;</div>
<div class="line"><span class="lineno"> 2243</span>}</div>
<div class="ttc" id="aevent_8c_html_ab9ec4c017e2a70437572170a15f2e88e"><div class="ttname"><a href="event_8c.html#ab9ec4c017e2a70437572170a15f2e88e">event_debug_note_teardown_</a></div><div class="ttdeci">static void event_debug_note_teardown_(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00263">event.c:263</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00354">event_debug_assert_not_added_()</a>, and <a class="el" href="event_8c_source.html#l00263">event_debug_note_teardown_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evdns_8c_source.html#l02502">evdns_nameserver_add_impl_()</a>, <a class="el" href="evdns_8c_source.html#l04085">evdns_nameserver_free()</a>, <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>, <a class="el" href="listener_8c_source.html#l00281">event_listener_destroy()</a>, <a class="el" href="event_8c_source.html#l02028">event_once_cb()</a>, <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="signal_8c_source.html#l00415">evsig_dealloc_()</a>, <a class="el" href="evdns_8c_source.html#l00653">request_finished()</a>, and <a class="el" href="evdns_8c_source.html#l02136">server_port_free()</a>.</p>

</div>
</div>
<a id="a78c8139148ee8b2ff0ebaff82860f115" name="a78c8139148ee8b2ff0ebaff82860f115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c8139148ee8b2ff0ebaff82860f115">&#9670;&nbsp;</a></span>event_deferred_cb_cancel_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_deferred_cb_cancel_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Cancel a struct event_callback if it is currently scheduled in an <a class="el" href="structevent__base.html">event_base</a>. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03115">3115</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3116</span>{</div>
<div class="line"><span class="lineno"> 3117</span>    <span class="keywordflow">if</span> (!base)</div>
<div class="line"><span class="lineno"> 3118</span>        base = <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>;</div>
<div class="line"><span class="lineno"> 3119</span>    <a class="code hl_function" href="event_8c.html#aa57a48e6d6c0430db8f56bef682854f5">event_callback_cancel_</a>(base, cb);</div>
<div class="line"><span class="lineno"> 3120</span>}</div>
<div class="ttc" id="aevent_8c_html_aa57a48e6d6c0430db8f56bef682854f5"><div class="ttname"><a href="event_8c.html#aa57a48e6d6c0430db8f56bef682854f5">event_callback_cancel_</a></div><div class="ttdeci">int event_callback_cancel_(struct event_base *base, struct event_callback *evcb)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03058">event.c:3058</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>, and <a class="el" href="event_8c_source.html#l03058">event_callback_cancel_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="libevent_2buffer_8c_source.html#l00561">evbuffer_decref_and_unlock_()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, and <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>.</p>

</div>
</div>
<a id="a2823fd0c8feffeeda8600f93eb58abbc" name="a2823fd0c8feffeeda8600f93eb58abbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2823fd0c8feffeeda8600f93eb58abbc">&#9670;&nbsp;</a></span>event_deferred_cb_init_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_deferred_cb_init_ </td>
          <td>(</td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint8_t&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="defer-internal_8h.html#a0d8047d26362e07dbfea0168b3ede42c">deferred_cb_fn</a>&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initialize an empty, non-pending event_callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deferred</td><td>The struct event_callback structure to initialize. </td></tr>
    <tr><td class="paramname">priority</td><td>The priority that the callback should run at. </td></tr>
    <tr><td class="paramname">cb</td><td>The function to run when the struct event_callback executes. </td></tr>
    <tr><td class="paramname">arg</td><td>The function's second argument. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03099">3099</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3100</span>{</div>
<div class="line"><span class="lineno"> 3101</span>    memset(cb, 0, <span class="keyword">sizeof</span>(*cb));</div>
<div class="line"><span class="lineno"> 3102</span>    cb-&gt;evcb_cb_union.evcb_selfcb = fn;</div>
<div class="line"><span class="lineno"> 3103</span>    cb-&gt;evcb_arg = arg;</div>
<div class="line"><span class="lineno"> 3104</span>    cb-&gt;evcb_pri = priority;</div>
<div class="line"><span class="lineno"> 3105</span>    cb-&gt;evcb_closure = <a class="code hl_define" href="event-internal_8h.html#ad7009db10499c3b79837d0c65e9a93ef">EV_CLOSURE_CB_SELF</a>;</div>
<div class="line"><span class="lineno"> 3106</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_ad7009db10499c3b79837d0c65e9a93ef"><div class="ttname"><a href="event-internal_8h.html#ad7009db10499c3b79837d0c65e9a93ef">EV_CLOSURE_CB_SELF</a></div><div class="ttdeci">#define EV_CLOSURE_CB_SELF</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00075">event-internal.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00075">EV_CLOSURE_CB_SELF</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00309">bufferevent_init_common_()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00411">evbuffer_defer_callbacks()</a>, <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>, and <a class="el" href="evdns_8c_source.html#l00834">reply_schedule_callback()</a>.</p>

</div>
</div>
<a id="ac02882c1e3fb31ffce0864312af9b1aa" name="ac02882c1e3fb31ffce0864312af9b1aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02882c1e3fb31ffce0864312af9b1aa">&#9670;&nbsp;</a></span>event_deferred_cb_schedule_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_deferred_cb_schedule_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Activate a struct event_callback if it is not currently scheduled in an <a class="el" href="structevent__base.html">event_base</a>.</p>
<p >Return true if it was not previously scheduled. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03124">3124</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3125</span>{</div>
<div class="line"><span class="lineno"> 3126</span>    <span class="keywordtype">int</span> r = 1;</div>
<div class="line"><span class="lineno"> 3127</span>    <span class="keywordflow">if</span> (!base)</div>
<div class="line"><span class="lineno"> 3128</span>        base = <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>;</div>
<div class="line"><span class="lineno"> 3129</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3130</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ae2fab821f44d3bb94c1712b6174cbc7a">n_deferreds_queued</a> &gt; <a class="code hl_define" href="event_8c.html#a94ddc861aa1b56a2ab1d450e4bb6f249">MAX_DEFERREDS_QUEUED</a>) {</div>
<div class="line"><span class="lineno"> 3131</span>        r = <a class="code hl_function" href="event_8c.html#a936dd89704869ed0c402c3a45f8515c9">event_callback_activate_later_nolock_</a>(base, cb);</div>
<div class="line"><span class="lineno"> 3132</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3133</span>        r = <a class="code hl_function" href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a>(base, cb);</div>
<div class="line"><span class="lineno"> 3134</span>        <span class="keywordflow">if</span> (r) {</div>
<div class="line"><span class="lineno"> 3135</span>            ++base-&gt;<a class="code hl_variable" href="structevent__base.html#ae2fab821f44d3bb94c1712b6174cbc7a">n_deferreds_queued</a>;</div>
<div class="line"><span class="lineno"> 3136</span>        }</div>
<div class="line"><span class="lineno"> 3137</span>    }</div>
<div class="line"><span class="lineno"> 3138</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3139</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3140</span>}</div>
<div class="ttc" id="aevent_8c_html_a94ddc861aa1b56a2ab1d450e4bb6f249"><div class="ttname"><a href="event_8c.html#a94ddc861aa1b56a2ab1d450e4bb6f249">MAX_DEFERREDS_QUEUED</a></div><div class="ttdeci">#define MAX_DEFERREDS_QUEUED</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03122">event.c:3122</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03037">event_callback_activate_later_nolock_()</a>, <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>, <a class="el" href="event_8c_source.html#l03122">MAX_DEFERREDS_QUEUED</a>, <a class="el" href="event-internal_8h_source.html#l00257">event_base::n_deferreds_queued</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="libevent_2buffer_8c_source.html#l00514">evbuffer_invoke_callbacks_()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, and <a class="el" href="evdns_8c_source.html#l00834">reply_schedule_callback()</a>.</p>

</div>
</div>
<a id="a11a448b33327eee0439dbea726d458bd" name="a11a448b33327eee0439dbea726d458bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11a448b33327eee0439dbea726d458bd">&#9670;&nbsp;</a></span>event_deferred_cb_set_priority_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_deferred_cb_set_priority_ </td>
          <td>(</td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint8_t&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Change the priority of a non-pending event_callback. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03109">3109</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3110</span>{</div>
<div class="line"><span class="lineno"> 3111</span>    cb-&gt;evcb_pri = priority;</div>
<div class="line"><span class="lineno"> 3112</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00647">bufferevent_priority_set()</a>.</p>

</div>
</div>
<a id="a4d01ab982328facb6ce4b584390b86ab" name="a4d01ab982328facb6ce4b584390b86ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d01ab982328facb6ce4b584390b86ab">&#9670;&nbsp;</a></span>event_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_del </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02787">2787</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2788</span>{</div>
<div class="line"><span class="lineno"> 2789</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a4ea9ace3dc6fd5235ee31f4891f72a52">event_del_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#a5b986417655459f13495c7e24acf8ac9">EVENT_DEL_AUTOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 2790</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02769">event_del_()</a>, and <a class="el" href="event-internal_8h_source.html#l00420">EVENT_DEL_AUTOBLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00580">be_socket_disable()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00619">be_socket_setfd()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00273">bufferevent_decrement_read_buckets_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00969">bufferevent_decrement_read_limit()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00311">bufferevent_decrement_write_buckets_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00996">bufferevent_decrement_write_limit()</a>, <a class="el" href="bufferevent_8c_source.html#l00970">bufferevent_generic_adj_timeouts_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00724">bufferevent_rate_limit_group_free()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00560">bufferevent_set_rate_limit()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00230">bufferevent_writecb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00785">consider_reading()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00855">consider_writing()</a>, <a class="el" href="evmap_8c_source.html#l00668">delete_all_in_dlist()</a>, <a class="el" href="net_8c_source.html#l00329">dogecoin_node_release_events()</a>, <a class="el" href="evdns_8c_source.html#l02413">evdns_base_clear_nameservers_and_suspend()</a>, <a class="el" href="evdns_8c_source.html#l04833">evdns_getaddrinfo_cancel()</a>, <a class="el" href="evdns_8c_source.html#l04085">evdns_nameserver_free()</a>, <a class="el" href="evdns_8c_source.html#l02005">evdns_server_request_respond()</a>, <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>, <a class="el" href="event_8c_source.html#l02223">event_free()</a>, <a class="el" href="listener_8c_source.html#l00281">event_listener_destroy()</a>, <a class="el" href="listener_8c_source.html#l00326">event_listener_disable()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="evrpc_8c_source.html#l00860">evrpc_reply_done()</a>, <a class="el" href="signal_8c_source.html#l00415">evsig_dealloc_()</a>, <a class="el" href="evdns_8c_source.html#l04364">free_getaddrinfo_request()</a>, <a class="el" href="evdns_8c_source.html#l01487">nameserver_write_waiting()</a>, <a class="el" href="evdns_8c_source.html#l00653">request_finished()</a>, <a class="el" href="evdns_8c_source.html#l01449">server_port_flush()</a>, <a class="el" href="evdns_8c_source.html#l02136">server_port_free()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00423">stop_reading()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00437">stop_writing()</a>.</p>

</div>
</div>
<a id="a4ea9ace3dc6fd5235ee31f4891f72a52" name="a4ea9ace3dc6fd5235ee31f4891f72a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea9ace3dc6fd5235ee31f4891f72a52">&#9670;&nbsp;</a></span>event_del_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_del_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02769">2769</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2770</span>{</div>
<div class="line"><span class="lineno"> 2771</span>    <span class="keywordtype">int</span> res;</div>
<div class="line"><span class="lineno"> 2772</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2773</span> </div>
<div class="line"><span class="lineno"> 2774</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(!base)) {</div>
<div class="line"><span class="lineno"> 2775</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: event has no event_base set.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2776</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2777</span>    }</div>
<div class="line"><span class="lineno"> 2778</span> </div>
<div class="line"><span class="lineno"> 2779</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, <a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2780</span>    res = <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(ev, blocking);</div>
<div class="line"><span class="lineno"> 2781</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, <a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2782</span> </div>
<div class="line"><span class="lineno"> 2783</span>    <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 2784</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00775">event_base_cancel_single_callback_()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="event_8c_source.html#l02793">event_del_block()</a>, and <a class="el" href="event_8c_source.html#l02799">event_del_noblock()</a>.</p>

</div>
</div>
<a id="a654e773b33792cdb819bc9e370a3f8ef" name="a654e773b33792cdb819bc9e370a3f8ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a654e773b33792cdb819bc9e370a3f8ef">&#9670;&nbsp;</a></span>event_del_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_del_block </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02793">2793</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2794</span>{</div>
<div class="line"><span class="lineno"> 2795</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a4ea9ace3dc6fd5235ee31f4891f72a52">event_del_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#a64dbbf37ce81344abd9ee8f44c6692e4">EVENT_DEL_BLOCK</a>);</div>
<div class="line"><span class="lineno"> 2796</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a64dbbf37ce81344abd9ee8f44c6692e4"><div class="ttname"><a href="event-internal_8h.html#a64dbbf37ce81344abd9ee8f44c6692e4">EVENT_DEL_BLOCK</a></div><div class="ttdeci">#define EVENT_DEL_BLOCK</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00416">event-internal.h:416</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02769">event_del_()</a>, and <a class="el" href="event-internal_8h_source.html#l00416">EVENT_DEL_BLOCK</a>.</p>

</div>
</div>
<a id="af8398ba3dae515a3241df4809cdd5238" name="af8398ba3dae515a3241df4809cdd5238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8398ba3dae515a3241df4809cdd5238">&#9670;&nbsp;</a></span>event_del_noblock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_del_noblock </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02799">2799</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2800</span>{</div>
<div class="line"><span class="lineno"> 2801</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a4ea9ace3dc6fd5235ee31f4891f72a52">event_del_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 2802</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02769">event_del_()</a>, and <a class="el" href="event-internal_8h_source.html#l00412">EVENT_DEL_NOBLOCK</a>.</p>

</div>
</div>
<a id="a7399bb4d0614286e07faaed9412b16ae" name="a7399bb4d0614286e07faaed9412b16ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7399bb4d0614286e07faaed9412b16ae">&#9670;&nbsp;</a></span>event_del_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_del_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Helper for event_del: always called with th_base_lock held.</p>
<p >"blocking" must be one of the EVENT_DEL_{BLOCK, NOBLOCK, AUTOBLOCK, EVEN_IF_FINALIZING} values. See those for more information. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02810">2810</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2811</span>{</div>
<div class="line"><span class="lineno"> 2812</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base;</div>
<div class="line"><span class="lineno"> 2813</span>    <span class="keywordtype">int</span> res = 0, notify = 0;</div>
<div class="line"><span class="lineno"> 2814</span> </div>
<div class="line"><span class="lineno"> 2815</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;event_del: %p (fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;), callback %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 2816</span>        ev, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 2817</span> </div>
<div class="line"><span class="lineno"> 2818</span>    <span class="comment">/* An event without a base has not been added */</span></div>
<div class="line"><span class="lineno"> 2819</span>    <span class="keywordflow">if</span> (ev-&gt;ev_base == NULL)</div>
<div class="line"><span class="lineno"> 2820</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2821</span> </div>
<div class="line"><span class="lineno"> 2822</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(ev-&gt;ev_base);</div>
<div class="line"><span class="lineno"> 2823</span> </div>
<div class="line"><span class="lineno"> 2824</span>    <span class="keywordflow">if</span> (blocking != <a class="code hl_define" href="event-internal_8h.html#a8905546adf5fb540312eac1607bbdeb9">EVENT_DEL_EVEN_IF_FINALIZING</a>) {</div>
<div class="line"><span class="lineno"> 2825</span>        <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_FINALIZING) {</div>
<div class="line"><span class="lineno"> 2826</span>            <span class="comment">/* XXXX Debug */</span></div>
<div class="line"><span class="lineno"> 2827</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2828</span>        }</div>
<div class="line"><span class="lineno"> 2829</span>    }</div>
<div class="line"><span class="lineno"> 2830</span> </div>
<div class="line"><span class="lineno"> 2831</span>    base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2832</span> </div>
<div class="line"><span class="lineno"> 2833</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!(ev-&gt;ev_flags &amp; ~EVLIST_ALL));</div>
<div class="line"><span class="lineno"> 2834</span> </div>
<div class="line"><span class="lineno"> 2835</span>    <span class="comment">/* See if we are just active executing this event in a loop */</span></div>
<div class="line"><span class="lineno"> 2836</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_SIGNAL) {</div>
<div class="line"><span class="lineno"> 2837</span>        <span class="keywordflow">if</span> (ev-&gt;ev_ncalls &amp;&amp; ev-&gt;ev_pncalls) {</div>
<div class="line"><span class="lineno"> 2838</span>            <span class="comment">/* Abort loop */</span></div>
<div class="line"><span class="lineno"> 2839</span>            *ev-&gt;ev_pncalls = 0;</div>
<div class="line"><span class="lineno"> 2840</span>        }</div>
<div class="line"><span class="lineno"> 2841</span>    }</div>
<div class="line"><span class="lineno"> 2842</span> </div>
<div class="line"><span class="lineno"> 2843</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 2844</span>        <span class="comment">/* NOTE: We never need to notify the main thread because of a</span></div>
<div class="line"><span class="lineno"> 2845</span><span class="comment">         * deleted timeout event: all that could happen if we don&#39;t is</span></div>
<div class="line"><span class="lineno"> 2846</span><span class="comment">         * that the dispatch loop might wake up too early.  But the</span></div>
<div class="line"><span class="lineno"> 2847</span><span class="comment">         * point of notifying the main thread _is_ to wake up the</span></div>
<div class="line"><span class="lineno"> 2848</span><span class="comment">         * dispatch loop early anyway, so we wouldn&#39;t gain anything by</span></div>
<div class="line"><span class="lineno"> 2849</span><span class="comment">         * doing it.</span></div>
<div class="line"><span class="lineno"> 2850</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 2851</span>        <a class="code hl_function" href="event_8c.html#a9eca687246bc048effecda8ab8db6038">event_queue_remove_timeout</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2852</span>    }</div>
<div class="line"><span class="lineno"> 2853</span> </div>
<div class="line"><span class="lineno"> 2854</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_ACTIVE)</div>
<div class="line"><span class="lineno"> 2855</span>        <a class="code hl_function" href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2856</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_ACTIVE_LATER)</div>
<div class="line"><span class="lineno"> 2857</span>        <a class="code hl_function" href="event_8c.html#a4c4082af1e928ea13dd2c3f7f2c66fbe">event_queue_remove_active_later</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2858</span> </div>
<div class="line"><span class="lineno"> 2859</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_INSERTED) {</div>
<div class="line"><span class="lineno"> 2860</span>        <a class="code hl_function" href="event_8c.html#ae03ffa551133afc1e89513464962642e">event_queue_remove_inserted</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2861</span>        <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; (EV_READ|EV_WRITE|EV_CLOSED))</div>
<div class="line"><span class="lineno"> 2862</span>            res = <a class="code hl_function" href="evmap-internal_8h.html#a352dfdfbae15e78da5acf461fb427336">evmap_io_del_</a>(base, ev-&gt;ev_fd, ev);</div>
<div class="line"><span class="lineno"> 2863</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2864</span>            res = <a class="code hl_function" href="evmap-internal_8h.html#a5aa8a24f437d00d04d08eeed29626136">evmap_signal_del_</a>(base, (<span class="keywordtype">int</span>)ev-&gt;ev_fd, ev);</div>
<div class="line"><span class="lineno"> 2865</span>        <span class="keywordflow">if</span> (res == 1) {</div>
<div class="line"><span class="lineno"> 2866</span>            <span class="comment">/* evmap says we need to notify the main thread. */</span></div>
<div class="line"><span class="lineno"> 2867</span>            notify = 1;</div>
<div class="line"><span class="lineno"> 2868</span>            res = 0;</div>
<div class="line"><span class="lineno"> 2869</span>        }</div>
<div class="line"><span class="lineno"> 2870</span>        <span class="comment">/* If we do not have events, let&#39;s notify event base so it can</span></div>
<div class="line"><span class="lineno"> 2871</span><span class="comment">         * exit without waiting */</span></div>
<div class="line"><span class="lineno"> 2872</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="event_8c.html#a60fd389521c61b379ef338b995e06eae">event_haveevents</a>(base) &amp;&amp; !<a class="code hl_define" href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a>(base))</div>
<div class="line"><span class="lineno"> 2873</span>            notify = 1;</div>
<div class="line"><span class="lineno"> 2874</span>    }</div>
<div class="line"><span class="lineno"> 2875</span> </div>
<div class="line"><span class="lineno"> 2876</span>    <span class="comment">/* if we are not in the right thread, we need to wake up the loop */</span></div>
<div class="line"><span class="lineno"> 2877</span>    <span class="keywordflow">if</span> (res != -1 &amp;&amp; notify &amp;&amp; <a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 2878</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 2879</span> </div>
<div class="line"><span class="lineno"> 2880</span>    <a class="code hl_function" href="event_8c.html#a2f768cf7a31be418a8bf277bf2f92776">event_debug_note_del_</a>(ev);</div>
<div class="line"><span class="lineno"> 2881</span> </div>
<div class="line"><span class="lineno"> 2882</span>    <span class="comment">/* If the main thread is currently executing this event&#39;s callback,</span></div>
<div class="line"><span class="lineno"> 2883</span><span class="comment">     * and we are not the main thread, then we want to wait until the</span></div>
<div class="line"><span class="lineno"> 2884</span><span class="comment">     * callback is done before returning. That way, when this function</span></div>
<div class="line"><span class="lineno"> 2885</span><span class="comment">     * returns, it will be safe to free the user-supplied argument.</span></div>
<div class="line"><span class="lineno"> 2886</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2887</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 2888</span>    <span class="keywordflow">if</span> (blocking != <a class="code hl_define" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 2889</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> == <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2890</span>        !<a class="code hl_define" href="evthread-internal_8h.html#ac023e978d4b8ebfb1a79926a47f90ed9">EVBASE_IN_THREAD</a>(base) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2891</span>        (blocking == <a class="code hl_define" href="event-internal_8h.html#a64dbbf37ce81344abd9ee8f44c6692e4">EVENT_DEL_BLOCK</a> || !(ev-&gt;ev_events &amp; EV_FINALIZE))) {</div>
<div class="line"><span class="lineno"> 2892</span>        ++base-&gt;<a class="code hl_variable" href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">current_event_waiters</a>;</div>
<div class="line"><span class="lineno"> 2893</span>        <a class="code hl_define" href="evthread-internal_8h.html#aacb4425897e69915b7f3e366b6b4b430">EVTHREAD_COND_WAIT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">current_event_cond</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2894</span>    }</div>
<div class="line"><span class="lineno"> 2895</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2896</span> </div>
<div class="line"><span class="lineno"> 2897</span>    <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 2898</span>}</div>
<div class="ttc" id="aevent_8c_html_a2f768cf7a31be418a8bf277bf2f92776"><div class="ttname"><a href="event_8c.html#a2f768cf7a31be418a8bf277bf2f92776">event_debug_note_del_</a></div><div class="ttdeci">static void event_debug_note_del_(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00307">event.c:307</a></div></div>
<div class="ttc" id="aevent_8c_html_ae03ffa551133afc1e89513464962642e"><div class="ttname"><a href="event_8c.html#ae03ffa551133afc1e89513464962642e">event_queue_remove_inserted</a></div><div class="ttdeci">static void event_queue_remove_inserted(struct event_base *, struct event *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03224">event.c:3224</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a352dfdfbae15e78da5acf461fb427336"><div class="ttname"><a href="evmap-internal_8h.html#a352dfdfbae15e78da5acf461fb427336">evmap_io_del_</a></div><div class="ttdeci">int evmap_io_del_(struct event_base *base, evutil_socket_t fd, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00354">evmap.c:354</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a5aa8a24f437d00d04d08eeed29626136"><div class="ttname"><a href="evmap-internal_8h.html#a5aa8a24f437d00d04d08eeed29626136">evmap_signal_del_</a></div><div class="ttdeci">int evmap_signal_del_(struct event_base *base, int signum, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00479">evmap.c:479</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="event-internal_8h_source.html#l00310">event_base::current_event_cond</a>, <a class="el" href="event-internal_8h_source.html#l00312">event_base::current_event_waiters</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="evthread-internal_8h_source.html#l00066">EVBASE_IN_THREAD</a>, <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l00307">event_debug_note_del_()</a>, <a class="el" href="event-internal_8h_source.html#l00416">EVENT_DEL_BLOCK</a>, <a class="el" href="event-internal_8h_source.html#l00423">EVENT_DEL_EVEN_IF_FINALIZING</a>, <a class="el" href="event-internal_8h_source.html#l00412">EVENT_DEL_NOBLOCK</a>, <a class="el" href="event_8c_source.html#l01346">event_haveevents()</a>, <a class="el" href="event_8c_source.html#l03236">event_queue_remove_active()</a>, <a class="el" href="event_8c_source.html#l03252">event_queue_remove_active_later()</a>, <a class="el" href="event_8c_source.html#l03224">event_queue_remove_inserted()</a>, <a class="el" href="event_8c_source.html#l03267">event_queue_remove_timeout()</a>, <a class="el" href="event_8c_source.html#l00499">event_to_event_callback()</a>, <a class="el" href="evmap_8c_source.html#l00354">evmap_io_del_()</a>, <a class="el" href="evmap_8c_source.html#l00479">evmap_signal_del_()</a>, <a class="el" href="evthread-internal_8h_source.html#l00174">EVTHREAD_COND_WAIT</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event-internal_8h_source.html#l00401">N_ACTIVE_CALLBACKS</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01462">common_timeout_callback()</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>, <a class="el" href="event_8c_source.html#l02769">event_del_()</a>, <a class="el" href="event_8c_source.html#l02247">event_finalize_nolock_()</a>, <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>, <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>, and <a class="el" href="event_8c_source.html#l03181">timeout_process()</a>.</p>

</div>
</div>
<a id="ad6954084f09f614ffbafb1b85e86a27b" name="ad6954084f09f614ffbafb1b85e86a27b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6954084f09f614ffbafb1b85e86a27b">&#9670;&nbsp;</a></span>event_disable_debug_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_disable_debug_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00586">586</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  587</span>{</div>
<div class="line"><span class="lineno">  588</span><span class="preprocessor">#ifndef EVENT__DISABLE_DEBUG_MODE</span></div>
<div class="line"><span class="lineno">  589</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__debug__entry.html">event_debug_entry</a> **ent, *victim;</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>    <a class="code hl_define" href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">for</span> (ent = <a class="code hl_define" href="ht-internal_8h.html#a8db72db32aef0de42a0029d12f051455">HT_START</a>(event_debug_map, &amp;global_debug_map); ent; ) {</div>
<div class="line"><span class="lineno">  593</span>        victim = *ent;</div>
<div class="line"><span class="lineno">  594</span>        ent = <a class="code hl_define" href="ht-internal_8h.html#ae820c3a6cef137fe5b0ec3638b3cc786">HT_NEXT_RMV</a>(event_debug_map, &amp;global_debug_map, ent);</div>
<div class="line"><span class="lineno">  595</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(victim);</div>
<div class="line"><span class="lineno">  596</span>    }</div>
<div class="line"><span class="lineno">  597</span>    <a class="code hl_define" href="ht-internal_8h.html#a47c2c198644086f2703eb89374000c08">HT_CLEAR</a>(event_debug_map, &amp;global_debug_map);</div>
<div class="line"><span class="lineno">  598</span>    <a class="code hl_define" href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a> , 0);</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>  = 0;</div>
<div class="line"><span class="lineno">  601</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  602</span>}</div>
<div class="ttc" id="aht-internal_8h_html_a47c2c198644086f2703eb89374000c08"><div class="ttname"><a href="ht-internal_8h.html#a47c2c198644086f2703eb89374000c08">HT_CLEAR</a></div><div class="ttdeci">#define HT_CLEAR(name, head)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00059">ht-internal.h:59</a></div></div>
<div class="ttc" id="aht-internal_8h_html_a8db72db32aef0de42a0029d12f051455"><div class="ttname"><a href="ht-internal_8h.html#a8db72db32aef0de42a0029d12f051455">HT_START</a></div><div class="ttdeci">#define HT_START(name, head)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00056">ht-internal.h:56</a></div></div>
<div class="ttc" id="aht-internal_8h_html_ae820c3a6cef137fe5b0ec3638b3cc786"><div class="ttname"><a href="ht-internal_8h.html#ae820c3a6cef137fe5b0ec3638b3cc786">HT_NEXT_RMV</a></div><div class="ttdeci">#define HT_NEXT_RMV(name, head, elm)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00058">ht-internal.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00225">event_debug_map_lock_</a>, <a class="el" href="event_8c_source.html#l00205">event_debug_mode_on_</a>, <a class="el" href="evthread-internal_8h_source.html#l00093">EVLOCK_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00100">EVLOCK_UNLOCK</a>, <a class="el" href="ht-internal_8h_source.html#l00059">HT_CLEAR</a>, <a class="el" href="ht-internal_8h_source.html#l00058">HT_NEXT_RMV</a>, <a class="el" href="ht-internal_8h_source.html#l00056">HT_START</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03932">libevent_global_shutdown()</a>.</p>

</div>
</div>
<a id="a1f4991bceb8aaf33545d1fc857230b51" name="a1f4991bceb8aaf33545d1fc857230b51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4991bceb8aaf33545d1fc857230b51">&#9670;&nbsp;</a></span>event_dispatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_dispatch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01809">1809</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1810</span>{</div>
<div class="line"><span class="lineno"> 1811</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="event_8c.html#aa57cb63396305d98350e4eff3720b1c7">event_loop</a>(0));</div>
<div class="line"><span class="lineno"> 1812</span>}</div>
<div class="ttc" id="aevent_8c_html_aa57cb63396305d98350e4eff3720b1c7"><div class="ttname"><a href="event_8c.html#aa57cb63396305d98350e4eff3720b1c7">event_loop</a></div><div class="ttdeci">int event_loop(int flags)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01917">event.c:1917</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l01917">event_loop()</a>.</p>

</div>
</div>
<a id="a3472400b8b1802550df2242673a6da37" name="a3472400b8b1802550df2242673a6da37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3472400b8b1802550df2242673a6da37">&#9670;&nbsp;</a></span>event_enable_debug_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_enable_debug_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00570">570</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  571</span>{</div>
<div class="line"><span class="lineno">  572</span><span class="preprocessor">#ifndef EVENT__DISABLE_DEBUG_MODE</span></div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</div>
<div class="line"><span class="lineno">  574</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s was called twice!&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="event_8c.html#a81ada601d92f086041dbcf01f5f26ad0">event_debug_mode_too_late</a>)</div>
<div class="line"><span class="lineno">  576</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s must be called *before* creating any events &quot;</span></div>
<div class="line"><span class="lineno">  577</span>            <span class="stringliteral">&quot;or event_bases&quot;</span>,<a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>    <a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a> = 1;</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>    <a class="code hl_define" href="ht-internal_8h.html#a76902e7b3229894e5737189b1ab09753">HT_INIT</a>(event_debug_map, &amp;global_debug_map);</div>
<div class="line"><span class="lineno">  582</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  583</span>}</div>
<div class="ttc" id="aht-internal_8h_html_a76902e7b3229894e5737189b1ab09753"><div class="ttname"><a href="ht-internal_8h.html#a76902e7b3229894e5737189b1ab09753">HT_INIT</a></div><div class="ttdeci">#define HT_INIT(name, head)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00060">ht-internal.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event_8c_source.html#l00205">event_debug_mode_on_</a>, <a class="el" href="event_8c_source.html#l00223">event_debug_mode_too_late</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, and <a class="el" href="ht-internal_8h_source.html#l00060">HT_INIT</a>.</p>

</div>
</div>
<a id="a116423515797962d1c8ab95632e00118" name="a116423515797962d1c8ab95632e00118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a116423515797962d1c8ab95632e00118">&#9670;&nbsp;</a></span>event_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_finalize </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_finalize_callback_fn&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02277">2277</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2278</span>{</div>
<div class="line"><span class="lineno"> 2279</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a97cee7033b4708246b5e6e35d65510fd">event_finalize_impl_</a>(flags, ev, cb);</div>
<div class="line"><span class="lineno"> 2280</span>}</div>
<div class="ttc" id="aevent_8c_html_a97cee7033b4708246b5e6e35d65510fd"><div class="ttname"><a href="event_8c.html#a97cee7033b4708246b5e6e35d65510fd">event_finalize_impl_</a></div><div class="ttdeci">static int event_finalize_impl_(unsigned flags, struct event *ev, event_finalize_callback_fn cb)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02261">event.c:2261</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02261">event_finalize_impl_()</a>, and <a class="el" href="event-internal_8h_source.html#l00323">event_base::flags</a>.</p>

</div>
</div>
<a id="a97cee7033b4708246b5e6e35d65510fd" name="a97cee7033b4708246b5e6e35d65510fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97cee7033b4708246b5e6e35d65510fd">&#9670;&nbsp;</a></span>event_finalize_impl_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_finalize_impl_ </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_finalize_callback_fn&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02261">2261</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2262</span>{</div>
<div class="line"><span class="lineno"> 2263</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 2264</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2265</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(!base)) {</div>
<div class="line"><span class="lineno"> 2266</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: event has no event_base set.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2267</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2268</span>    }</div>
<div class="line"><span class="lineno"> 2269</span> </div>
<div class="line"><span class="lineno"> 2270</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, <a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2271</span>    r = <a class="code hl_function" href="event_8c.html#aca7b3e3e4e72ebb2023712b8b05fa2e7">event_finalize_nolock_</a>(base, <a class="code hl_variable" href="structevent__base.html#a006428a1561abfb5709615c077022948">flags</a>, ev, cb);</div>
<div class="line"><span class="lineno"> 2272</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, <a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2273</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2274</span>}</div>
<div class="ttc" id="aevent_8c_html_aca7b3e3e4e72ebb2023712b8b05fa2e7"><div class="ttname"><a href="event_8c.html#aca7b3e3e4e72ebb2023712b8b05fa2e7">event_finalize_nolock_</a></div><div class="ttdeci">static int event_finalize_nolock_(struct event_base *base, unsigned flags, struct event *ev, event_finalize_callback_fn cb)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02247">event.c:2247</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02247">event_finalize_nolock_()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>, <a class="el" href="event-internal_8h_source.html#l00323">event_base::flags</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02277">event_finalize()</a>, and <a class="el" href="event_8c_source.html#l02283">event_free_finalize()</a>.</p>

</div>
</div>
<a id="aca7b3e3e4e72ebb2023712b8b05fa2e7" name="aca7b3e3e4e72ebb2023712b8b05fa2e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca7b3e3e4e72ebb2023712b8b05fa2e7">&#9670;&nbsp;</a></span>event_finalize_nolock_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_finalize_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_finalize_callback_fn&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02247">2247</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2248</span>{</div>
<div class="line"><span class="lineno"> 2249</span>    ev_uint8_t closure = (flags &amp; <a class="code hl_define" href="event_8c.html#a6bbc669ae0ec28967fba4859053715b7">EVENT_FINALIZE_FREE_</a>) ?</div>
<div class="line"><span class="lineno"> 2250</span>        <a class="code hl_define" href="event-internal_8h.html#af694eafd1a0f9c35a09bc31d2865aaf2">EV_CLOSURE_EVENT_FINALIZE_FREE</a> : <a class="code hl_define" href="event-internal_8h.html#a1e3eb121c751dbfd015c416550fee057">EV_CLOSURE_EVENT_FINALIZE</a>;</div>
<div class="line"><span class="lineno"> 2251</span> </div>
<div class="line"><span class="lineno"> 2252</span>    <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 2253</span>    ev-&gt;ev_closure = closure;</div>
<div class="line"><span class="lineno"> 2254</span>    ev-&gt;ev_evcallback.evcb_cb_union.evcb_evfinalize = cb;</div>
<div class="line"><span class="lineno"> 2255</span>    <a class="code hl_function" href="event_8c.html#a4a08272009a9f1e34985fb25a80f42b6">event_active_nolock_</a>(ev, EV_FINALIZE, 1);</div>
<div class="line"><span class="lineno"> 2256</span>    ev-&gt;ev_flags |= EVLIST_FINALIZING;</div>
<div class="line"><span class="lineno"> 2257</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2258</span>}</div>
<div class="ttc" id="aevent_8c_html_a6bbc669ae0ec28967fba4859053715b7"><div class="ttname"><a href="event_8c.html#a6bbc669ae0ec28967fba4859053715b7">EVENT_FINALIZE_FREE_</a></div><div class="ttdeci">#define EVENT_FINALIZE_FREE_</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02245">event.c:2245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00079">EV_CLOSURE_EVENT_FINALIZE</a>, <a class="el" href="event-internal_8h_source.html#l00082">EV_CLOSURE_EVENT_FINALIZE_FREE</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event-internal_8h_source.html#l00412">EVENT_DEL_NOBLOCK</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, and <a class="el" href="event_8c_source.html#l02245">EVENT_FINALIZE_FREE_</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02261">event_finalize_impl_()</a>.</p>

</div>
</div>
<a id="a5cce38736e39a5f5398056bd5ca83e80" name="a5cce38736e39a5f5398056bd5ca83e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cce38736e39a5f5398056bd5ca83e80">&#9670;&nbsp;</a></span>event_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_free </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02223">2223</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2224</span>{</div>
<div class="line"><span class="lineno"> 2225</span>    <span class="comment">/* This is disabled, so that events which have been finalized be a</span></div>
<div class="line"><span class="lineno"> 2226</span><span class="comment">     * valid target for event_free(). That&#39;s */</span></div>
<div class="line"><span class="lineno"> 2227</span>    <span class="comment">// event_debug_assert_is_setup_(ev);</span></div>
<div class="line"><span class="lineno"> 2228</span> </div>
<div class="line"><span class="lineno"> 2229</span>    <span class="comment">/* make sure that this event won&#39;t be coming back to haunt us. */</span></div>
<div class="line"><span class="lineno"> 2230</span>    <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(ev);</div>
<div class="line"><span class="lineno"> 2231</span>    <a class="code hl_function" href="event_8c.html#ab9ec4c017e2a70437572170a15f2e88e">event_debug_note_teardown_</a>(ev);</div>
<div class="line"><span class="lineno"> 2232</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(ev);</div>
<div class="line"><span class="lineno"> 2233</span> </div>
<div class="line"><span class="lineno"> 2234</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00263">event_debug_note_teardown_()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00329">dogecoin_node_release_events()</a>.</p>

</div>
</div>
<a id="af3a354161b5beacf2710f99dd69e6e88" name="af3a354161b5beacf2710f99dd69e6e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a354161b5beacf2710f99dd69e6e88">&#9670;&nbsp;</a></span>event_free_debug_globals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_free_debug_globals </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03906">3906</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3907</span>{</div>
<div class="line"><span class="lineno"> 3908</span>    <a class="code hl_function" href="event_8c.html#a7147d5629ceee9f332aee334398532ea">event_free_debug_globals_locks</a>();</div>
<div class="line"><span class="lineno"> 3909</span>}</div>
<div class="ttc" id="aevent_8c_html_a7147d5629ceee9f332aee334398532ea"><div class="ttname"><a href="event_8c.html#a7147d5629ceee9f332aee334398532ea">event_free_debug_globals_locks</a></div><div class="ttdeci">static void event_free_debug_globals_locks(void)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03891">event.c:3891</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l03891">event_free_debug_globals_locks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03924">event_free_globals()</a>.</p>

</div>
</div>
<a id="a7147d5629ceee9f332aee334398532ea" name="a7147d5629ceee9f332aee334398532ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7147d5629ceee9f332aee334398532ea">&#9670;&nbsp;</a></span>event_free_debug_globals_locks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_free_debug_globals_locks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03891">3891</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3892</span>{</div>
<div class="line"><span class="lineno"> 3893</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 3894</span><span class="preprocessor">#ifndef EVENT__DISABLE_DEBUG_MODE</span></div>
<div class="line"><span class="lineno"> 3895</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a> != NULL) {</div>
<div class="line"><span class="lineno"> 3896</span>        <a class="code hl_define" href="evthread-internal_8h.html#a56d74d4600adf793a2411f26db03ca71">EVTHREAD_FREE_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno"> 3897</span>        <a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a> = NULL;</div>
<div class="line"><span class="lineno"> 3898</span>        <a class="code hl_function" href="evthread-internal_8h.html#a0ca516f33199ff0c4d12807ed080a04b">evthreadimpl_disable_lock_debugging_</a>();</div>
<div class="line"><span class="lineno"> 3899</span>    }</div>
<div class="line"><span class="lineno"> 3900</span><span class="preprocessor">#endif </span><span class="comment">/* EVENT__DISABLE_DEBUG_MODE */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 3901</span><span class="preprocessor">#endif </span><span class="comment">/* EVENT__DISABLE_THREAD_SUPPORT */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 3902</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3903</span>}</div>
<div class="ttc" id="aevthread-internal_8h_html_a0ca516f33199ff0c4d12807ed080a04b"><div class="ttname"><a href="evthread-internal_8h.html#a0ca516f33199ff0c4d12807ed080a04b">evthreadimpl_disable_lock_debugging_</a></div><div class="ttdeci">void evthreadimpl_disable_lock_debugging_(void)</div><div class="ttdef"><b>Definition:</b> <a href="evthread_8c_source.html#l00087">evthread.c:87</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00225">event_debug_map_lock_</a>, <a class="el" href="evthread-internal_8h_source.html#l00085">EVTHREAD_FREE_LOCK</a>, and <a class="el" href="evthread_8c_source.html#l00087">evthreadimpl_disable_lock_debugging_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03906">event_free_debug_globals()</a>.</p>

</div>
</div>
<a id="aa0388d14a13f4854063d26a56e2e54d2" name="aa0388d14a13f4854063d26a56e2e54d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0388d14a13f4854063d26a56e2e54d2">&#9670;&nbsp;</a></span>event_free_evsig_globals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_free_evsig_globals </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03912">3912</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3913</span>{</div>
<div class="line"><span class="lineno"> 3914</span>    <a class="code hl_function" href="evsignal-internal_8h.html#a917a3e560755bd41e23c9c3157f1d1d8">evsig_free_globals_</a>();</div>
<div class="line"><span class="lineno"> 3915</span>}</div>
<div class="ttc" id="aevsignal-internal_8h_html_a917a3e560755bd41e23c9c3157f1d1d8"><div class="ttname"><a href="evsignal-internal_8h.html#a917a3e560755bd41e23c9c3157f1d1d8">evsig_free_globals_</a></div><div class="ttdeci">void evsig_free_globals_(void)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00468">signal.c:468</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="signal_8c_source.html#l00468">evsig_free_globals_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03924">event_free_globals()</a>.</p>

</div>
</div>
<a id="ad2069fa24cd49d455c3fd8ea21ab4313" name="ad2069fa24cd49d455c3fd8ea21ab4313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2069fa24cd49d455c3fd8ea21ab4313">&#9670;&nbsp;</a></span>event_free_evutil_globals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_free_evutil_globals </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03918">3918</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3919</span>{</div>
<div class="line"><span class="lineno"> 3920</span>    <a class="code hl_function" href="evutil_8c.html#a2882c6a8797ce8940db82d3ebe073293">evutil_free_globals_</a>();</div>
<div class="line"><span class="lineno"> 3921</span>}</div>
<div class="ttc" id="aevutil_8c_html_a2882c6a8797ce8940db82d3ebe073293"><div class="ttname"><a href="evutil_8c.html#a2882c6a8797ce8940db82d3ebe073293">evutil_free_globals_</a></div><div class="ttdeci">void evutil_free_globals_(void)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02761">evutil.c:2761</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02761">evutil_free_globals_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03924">event_free_globals()</a>.</p>

</div>
</div>
<a id="a1ac859018c98ed5f6f7cb90d1dea5fd4" name="a1ac859018c98ed5f6f7cb90d1dea5fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac859018c98ed5f6f7cb90d1dea5fd4">&#9670;&nbsp;</a></span>event_free_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_free_finalize </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_finalize_callback_fn&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02283">2283</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2284</span>{</div>
<div class="line"><span class="lineno"> 2285</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a97cee7033b4708246b5e6e35d65510fd">event_finalize_impl_</a>(flags|<a class="code hl_define" href="event_8c.html#a6bbc669ae0ec28967fba4859053715b7">EVENT_FINALIZE_FREE_</a>, ev, cb);</div>
<div class="line"><span class="lineno"> 2286</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02245">EVENT_FINALIZE_FREE_</a>, <a class="el" href="event_8c_source.html#l02261">event_finalize_impl_()</a>, and <a class="el" href="event-internal_8h_source.html#l00323">event_base::flags</a>.</p>

</div>
</div>
<a id="a594a91e669861602fb7a903635ff85d3" name="a594a91e669861602fb7a903635ff85d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a594a91e669861602fb7a903635ff85d3">&#9670;&nbsp;</a></span>event_free_globals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_free_globals </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03924">3924</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3925</span>{</div>
<div class="line"><span class="lineno"> 3926</span>    <a class="code hl_function" href="event_8c.html#af3a354161b5beacf2710f99dd69e6e88">event_free_debug_globals</a>();</div>
<div class="line"><span class="lineno"> 3927</span>    <a class="code hl_function" href="event_8c.html#aa0388d14a13f4854063d26a56e2e54d2">event_free_evsig_globals</a>();</div>
<div class="line"><span class="lineno"> 3928</span>    <a class="code hl_function" href="event_8c.html#ad2069fa24cd49d455c3fd8ea21ab4313">event_free_evutil_globals</a>();</div>
<div class="line"><span class="lineno"> 3929</span>}</div>
<div class="ttc" id="aevent_8c_html_aa0388d14a13f4854063d26a56e2e54d2"><div class="ttname"><a href="event_8c.html#aa0388d14a13f4854063d26a56e2e54d2">event_free_evsig_globals</a></div><div class="ttdeci">static void event_free_evsig_globals(void)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03912">event.c:3912</a></div></div>
<div class="ttc" id="aevent_8c_html_ad2069fa24cd49d455c3fd8ea21ab4313"><div class="ttname"><a href="event_8c.html#ad2069fa24cd49d455c3fd8ea21ab4313">event_free_evutil_globals</a></div><div class="ttdeci">static void event_free_evutil_globals(void)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03918">event.c:3918</a></div></div>
<div class="ttc" id="aevent_8c_html_af3a354161b5beacf2710f99dd69e6e88"><div class="ttname"><a href="event_8c.html#af3a354161b5beacf2710f99dd69e6e88">event_free_debug_globals</a></div><div class="ttdeci">static void event_free_debug_globals(void)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03906">event.c:3906</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l03906">event_free_debug_globals()</a>, <a class="el" href="event_8c_source.html#l03912">event_free_evsig_globals()</a>, and <a class="el" href="event_8c_source.html#l03918">event_free_evutil_globals()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03932">libevent_global_shutdown()</a>.</p>

</div>
</div>
<a id="a2103c3cbf6e3e173419ebf019e29c788" name="a2103c3cbf6e3e173419ebf019e29c788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2103c3cbf6e3e173419ebf019e29c788">&#9670;&nbsp;</a></span>event_get_assignment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_get_assignment </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> **&#160;</td>
          <td class="paramname"><em>base_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t *&#160;</td>
          <td class="paramname"><em>fd_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>events_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_callback_fn *&#160;</td>
          <td class="paramname"><em>callback_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>arg_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02419">2419</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2420</span>{</div>
<div class="line"><span class="lineno"> 2421</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(event);</div>
<div class="line"><span class="lineno"> 2422</span> </div>
<div class="line"><span class="lineno"> 2423</span>    <span class="keywordflow">if</span> (base_out)</div>
<div class="line"><span class="lineno"> 2424</span>        *base_out = <span class="keyword">event</span>-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2425</span>    <span class="keywordflow">if</span> (fd_out)</div>
<div class="line"><span class="lineno"> 2426</span>        *fd_out = <span class="keyword">event</span>-&gt;ev_fd;</div>
<div class="line"><span class="lineno"> 2427</span>    <span class="keywordflow">if</span> (events_out)</div>
<div class="line"><span class="lineno"> 2428</span>        *events_out = <span class="keyword">event</span>-&gt;ev_events;</div>
<div class="line"><span class="lineno"> 2429</span>    <span class="keywordflow">if</span> (callback_out)</div>
<div class="line"><span class="lineno"> 2430</span>        *callback_out = <span class="keyword">event</span>-&gt;ev_callback;</div>
<div class="line"><span class="lineno"> 2431</span>    <span class="keywordflow">if</span> (arg_out)</div>
<div class="line"><span class="lineno"> 2432</span>        *arg_out = <span class="keyword">event</span>-&gt;ev_arg;</div>
<div class="line"><span class="lineno"> 2433</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>.</p>

</div>
</div>
<a id="a1e2df53277bd51525399eebae8e5c261" name="a1e2df53277bd51525399eebae8e5c261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e2df53277bd51525399eebae8e5c261">&#9670;&nbsp;</a></span>event_get_base()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevent__base.html">event_base</a> * event_get_base </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02449">2449</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2450</span>{</div>
<div class="line"><span class="lineno"> 2451</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2452</span>    <span class="keywordflow">return</span> ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2453</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__ratelim_8c_source.html#l00529">bev_group_refill_callback_()</a>, and <a class="el" href="listener_8c_source.html#l00362">event_listener_getbase()</a>.</p>

</div>
</div>
<a id="a6cdb0a8dbf7efa9be7b65914ed5c6821" name="a6cdb0a8dbf7efa9be7b65914ed5c6821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cdb0a8dbf7efa9be7b65914ed5c6821">&#9670;&nbsp;</a></span>event_get_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">event_callback_fn event_get_callback </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02463">2463</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2464</span>{</div>
<div class="line"><span class="lineno"> 2465</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2466</span>    <span class="keywordflow">return</span> ev-&gt;ev_callback;</div>
<div class="line"><span class="lineno"> 2467</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>.</p>

</div>
</div>
<a id="ac691e81319711fef55f53624c10347e3" name="ac691e81319711fef55f53624c10347e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac691e81319711fef55f53624c10347e3">&#9670;&nbsp;</a></span>event_get_callback_arg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * event_get_callback_arg </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02470">2470</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2471</span>{</div>
<div class="line"><span class="lineno"> 2472</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2473</span>    <span class="keywordflow">return</span> ev-&gt;ev_arg;</div>
<div class="line"><span class="lineno"> 2474</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>.</p>

</div>
</div>
<a id="a0123fdd5b9a1c204de5d7ef1a4578387" name="a0123fdd5b9a1c204de5d7ef1a4578387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0123fdd5b9a1c204de5d7ef1a4578387">&#9670;&nbsp;</a></span>event_get_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short event_get_events </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02456">2456</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2457</span>{</div>
<div class="line"><span class="lineno"> 2458</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2459</span>    <span class="keywordflow">return</span> ev-&gt;ev_events;</div>
<div class="line"><span class="lineno"> 2460</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>.</p>

</div>
</div>
<a id="aee0c9c3fc7c997e4d4b77bdcdf321ee6" name="aee0c9c3fc7c997e4d4b77bdcdf321ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee0c9c3fc7c997e4d4b77bdcdf321ee6">&#9670;&nbsp;</a></span>event_get_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evutil_socket_t event_get_fd </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02442">2442</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2443</span>{</div>
<div class="line"><span class="lineno"> 2444</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2445</span>    <span class="keywordflow">return</span> ev-&gt;ev_fd;</div>
<div class="line"><span class="lineno"> 2446</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00971">be_openssl_auto_fd()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01299">be_openssl_ctrl()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00692">be_socket_ctrl()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00596">be_socket_destruct()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, <a class="el" href="listener_8c_source.html#l00281">event_listener_destroy()</a>, and <a class="el" href="listener_8c_source.html#l00344">event_listener_getfd()</a>.</p>

</div>
</div>
<a id="a1aa6dd87b60408880d8a8496b780cf18" name="a1aa6dd87b60408880d8a8496b780cf18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aa6dd87b60408880d8a8496b780cf18">&#9670;&nbsp;</a></span>event_get_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * event_get_method </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03473">3473</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3474</span>{</div>
<div class="line"><span class="lineno"> 3475</span>    <span class="keywordflow">return</span> (<a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>-&gt;evsel-&gt;name);</div>
<div class="line"><span class="lineno"> 3476</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>.</p>

</div>
</div>
<a id="a3096f44016a612f715dab49563a71947" name="a3096f44016a612f715dab49563a71947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3096f44016a612f715dab49563a71947">&#9670;&nbsp;</a></span>event_get_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_get_priority </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02477">2477</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2478</span>{</div>
<div class="line"><span class="lineno"> 2479</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2480</span>    <span class="keywordflow">return</span> ev-&gt;ev_pri;</div>
<div class="line"><span class="lineno"> 2481</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00442">bufferevent_get_priority()</a>, and <a class="el" href="evdns_8c_source.html#l00834">reply_schedule_callback()</a>.</p>

</div>
</div>
<a id="a3881f7391324c05bd6f0c291e2682f03" name="a3881f7391324c05bd6f0c291e2682f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3881f7391324c05bd6f0c291e2682f03">&#9670;&nbsp;</a></span>event_get_struct_event_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t event_get_struct_event_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02436">2436</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2437</span>{</div>
<div class="line"><span class="lineno"> 2438</span>    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<span class="keyword">struct </span>event);</div>
<div class="line"><span class="lineno"> 2439</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa32a6f2d82ca250cc8ef0e226b523b61" name="aa32a6f2d82ca250cc8ef0e226b523b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32a6f2d82ca250cc8ef0e226b523b61">&#9670;&nbsp;</a></span>event_get_supported_methods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char ** event_get_supported_methods </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01104">1104</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1105</span>{</div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> **methods = NULL;</div>
<div class="line"><span class="lineno"> 1107</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> **method;</div>
<div class="line"><span class="lineno"> 1108</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> **tmp;</div>
<div class="line"><span class="lineno"> 1109</span>    <span class="keywordtype">int</span> i = 0, k;</div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>    <span class="comment">/* count all methods */</span></div>
<div class="line"><span class="lineno"> 1112</span>    <span class="keywordflow">for</span> (method = &amp;<a class="code hl_variable" href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a>[0]; *method != NULL; ++method) {</div>
<div class="line"><span class="lineno"> 1113</span>        ++i;</div>
<div class="line"><span class="lineno"> 1114</span>    }</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span>    <span class="comment">/* allocate one more than we need for the NULL pointer */</span></div>
<div class="line"><span class="lineno"> 1117</span>    tmp = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>((i + 1), <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));</div>
<div class="line"><span class="lineno"> 1118</span>    <span class="keywordflow">if</span> (tmp == NULL)</div>
<div class="line"><span class="lineno"> 1119</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 1120</span> </div>
<div class="line"><span class="lineno"> 1121</span>    <span class="comment">/* populate the array with the supported methods */</span></div>
<div class="line"><span class="lineno"> 1122</span>    <span class="keywordflow">for</span> (k = 0, i = 0; <a class="code hl_variable" href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a>[k] != NULL; ++k) {</div>
<div class="line"><span class="lineno"> 1123</span>        tmp[i++] = <a class="code hl_variable" href="event_8c.html#a1b3bf59f277db3795ff01c05e937ccbf">eventops</a>[k]-&gt;<a class="code hl_variable" href="structeventop.html#aea346959c36b45b594317b9f27960a4e">name</a>;</div>
<div class="line"><span class="lineno"> 1124</span>    }</div>
<div class="line"><span class="lineno"> 1125</span>    tmp[i] = NULL;</div>
<div class="line"><span class="lineno"> 1126</span> </div>
<div class="line"><span class="lineno"> 1127</span>    <span class="keywordflow">if</span> (methods != NULL)</div>
<div class="line"><span class="lineno"> 1128</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>((<span class="keywordtype">char</span>**)methods);</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>    methods = tmp;</div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span>    <span class="keywordflow">return</span> (methods);</div>
<div class="line"><span class="lineno"> 1133</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00103">eventops</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="event-internal_8h_source.html#l00088">eventop::name</a>.</p>

</div>
</div>
<a id="a7e15fac10323fefb92a2cec679e1e5bf" name="a7e15fac10323fefb92a2cec679e1e5bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e15fac10323fefb92a2cec679e1e5bf">&#9670;&nbsp;</a></span>event_get_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * event_get_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03456">3456</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3457</span>{</div>
<div class="line"><span class="lineno"> 3458</span>    <span class="keywordflow">return</span> (EVENT__VERSION);</div>
<div class="line"><span class="lineno"> 3459</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abd4d1f2b4ca8e11f3bbf022244f01fa9" name="abd4d1f2b4ca8e11f3bbf022244f01fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4d1f2b4ca8e11f3bbf022244f01fa9">&#9670;&nbsp;</a></span>event_get_version_number()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ev_uint32_t event_get_version_number </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03462">3462</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3463</span>{</div>
<div class="line"><span class="lineno"> 3464</span>    <span class="keywordflow">return</span> (EVENT__NUMERIC_VERSION);</div>
<div class="line"><span class="lineno"> 3465</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af73bc174db4b751d3a7a81cb7dec17b5" name="af73bc174db4b751d3a7a81cb7dec17b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af73bc174db4b751d3a7a81cb7dec17b5">&#9670;&nbsp;</a></span>event_gettime_monotonic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_gettime_monotonic </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01090">1090</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1091</span>{</div>
<div class="line"><span class="lineno"> 1092</span>  <span class="keywordtype">int</span> rv = -1;</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>  <span class="keywordflow">if</span> (base &amp;&amp; tv) {</div>
<div class="line"><span class="lineno"> 1095</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1096</span>    rv = <a class="code hl_function" href="evutil__time_8c.html#ab7f2d66e4a3e0b2b4a76e77cfba0e014">evutil_gettime_monotonic_</a>(&amp;(base-&gt;<a class="code hl_variable" href="structevent__base.html#a20c589bba72735f895a714cfa937d18b">monotonic_timer</a>), tv);</div>
<div class="line"><span class="lineno"> 1097</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1098</span>  }</div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span>  <span class="keywordflow">return</span> rv;</div>
<div class="line"><span class="lineno"> 1101</span>}</div>
<div class="ttc" id="aevutil__time_8c_html_ab7f2d66e4a3e0b2b4a76e77cfba0e014"><div class="ttname"><a href="evutil__time_8c.html#ab7f2d66e4a3e0b2b4a76e77cfba0e014">evutil_gettime_monotonic_</a></div><div class="ttdeci">int evutil_gettime_monotonic_(struct evutil_monotonic_timer *base, struct timeval *tp)</div><div class="ttdef"><b>Definition:</b> <a href="evutil__time_8c_source.html#l00612">evutil_time.c:612</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="evutil__time_8c_source.html#l00612">evutil_gettime_monotonic_()</a>, and <a class="el" href="event-internal_8h_source.html#l00294">event_base::monotonic_timer</a>.</p>

</div>
</div>
<a id="a3279b88ea50290f222a36ca03051d0d6" name="a3279b88ea50290f222a36ca03051d0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3279b88ea50290f222a36ca03051d0d6">&#9670;&nbsp;</a></span>event_global_setup_locks_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_global_setup_locks_ </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>enable_locks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03940">3940</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3941</span>{</div>
<div class="line"><span class="lineno"> 3942</span><span class="preprocessor">#ifndef EVENT__DISABLE_DEBUG_MODE</span></div>
<div class="line"><span class="lineno"> 3943</span>    <a class="code hl_define" href="evthread-internal_8h.html#ae2b90dcbcd89179a8d95ec90a375352a">EVTHREAD_SETUP_GLOBAL_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno"> 3944</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3945</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="evthread-internal_8h.html#a8ae3f868ceec0f22395df068146dea39">evsig_global_setup_locks_</a>(enable_locks) &lt; 0)</div>
<div class="line"><span class="lineno"> 3946</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3947</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="evthread-internal_8h.html#a8246998aefa3eaca8a88a759e1bfb01a">evutil_global_setup_locks_</a>(enable_locks) &lt; 0)</div>
<div class="line"><span class="lineno"> 3948</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3949</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="evthread-internal_8h.html#a30625089dac949d3ada8373669b860fe">evutil_secure_rng_global_setup_locks_</a>(enable_locks) &lt; 0)</div>
<div class="line"><span class="lineno"> 3950</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3951</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3952</span>}</div>
<div class="ttc" id="aevthread-internal_8h_html_a30625089dac949d3ada8373669b860fe"><div class="ttname"><a href="evthread-internal_8h.html#a30625089dac949d3ada8373669b860fe">evutil_secure_rng_global_setup_locks_</a></div><div class="ttdeci">int evutil_secure_rng_global_setup_locks_(const int enable_locks)</div><div class="ttdef"><b>Definition:</b> <a href="evutil__rand_8c_source.html#l00138">evutil_rand.c:138</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a8246998aefa3eaca8a88a759e1bfb01a"><div class="ttname"><a href="evthread-internal_8h.html#a8246998aefa3eaca8a88a759e1bfb01a">evutil_global_setup_locks_</a></div><div class="ttdeci">int evutil_global_setup_locks_(const int enable_locks)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01844">evutil.c:1844</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a8ae3f868ceec0f22395df068146dea39"><div class="ttname"><a href="evthread-internal_8h.html#a8ae3f868ceec0f22395df068146dea39">evsig_global_setup_locks_</a></div><div class="ttdeci">int evsig_global_setup_locks_(const int enable_locks)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00475">signal.c:475</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_ae2b90dcbcd89179a8d95ec90a375352a"><div class="ttname"><a href="evthread-internal_8h.html#ae2b90dcbcd89179a8d95ec90a375352a">EVTHREAD_SETUP_GLOBAL_LOCK</a></div><div class="ttdeci">#define EVTHREAD_SETUP_GLOBAL_LOCK(lockvar, locktype)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00377">evthread-internal.h:377</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00225">event_debug_map_lock_</a>, <a class="el" href="signal_8c_source.html#l00475">evsig_global_setup_locks_()</a>, <a class="el" href="evthread-internal_8h_source.html#l00377">EVTHREAD_SETUP_GLOBAL_LOCK</a>, <a class="el" href="evutil_8c_source.html#l01844">evutil_global_setup_locks_()</a>, and <a class="el" href="evutil__rand_8c_source.html#l00138">evutil_secure_rng_global_setup_locks_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evthread_8c_source.html#l00318">evthread_enable_lock_debugging()</a>, and <a class="el" href="evthread_8c_source.html#l00093">evthread_set_lock_callbacks()</a>.</p>

</div>
</div>
<a id="a60fd389521c61b379ef338b995e06eae" name="a60fd389521c61b379ef338b995e06eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60fd389521c61b379ef338b995e06eae">&#9670;&nbsp;</a></span>event_haveevents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_haveevents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01346">1346</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1347</span>{</div>
<div class="line"><span class="lineno"> 1348</span>    <span class="comment">/* Caller must hold th_base_lock */</span></div>
<div class="line"><span class="lineno"> 1349</span>    <span class="keywordflow">return</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a> &gt; 0 || base-&gt;<a class="code hl_variable" href="structevent__base.html#ad9cd3722457586263119c733a5a0c892">event_count</a> &gt; 0);</div>
<div class="line"><span class="lineno"> 1350</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00230">event_base::event_count</a>, and <a class="el" href="event-internal_8h_source.html#l00226">event_base::virtual_event_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01923">event_base_loop()</a>, and <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="a0c7f959030c4e3365e7c70463183b544" name="a0c7f959030c4e3365e7c70463183b544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c7f959030c4e3365e7c70463183b544">&#9670;&nbsp;</a></span>event_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevent__base.html">event_base</a> * event_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00505">505</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  506</span>{</div>
<div class="line"><span class="lineno">  507</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = <a class="code hl_function" href="event_8c.html#ab7a163752e4648994234106d2aead255">event_base_new_with_config</a>(NULL);</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    <span class="keywordflow">if</span> (base == NULL) {</div>
<div class="line"><span class="lineno">  510</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s: Unable to construct event_base&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  512</span>    }</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>    <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a> = base;</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">return</span> (base);</div>
<div class="line"><span class="lineno">  517</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, and <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>.</p>

</div>
</div>
<a id="a5be4fbc16d90915a7d1b21ed3bae40c0" name="a5be4fbc16d90915a7d1b21ed3bae40c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be4fbc16d90915a7d1b21ed3bae40c0">&#9670;&nbsp;</a></span>event_initialized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_initialized </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02410">2410</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2411</span>{</div>
<div class="line"><span class="lineno"> 2412</span>    <span class="keywordflow">if</span> (!(ev-&gt;ev_flags &amp; EVLIST_INIT))</div>
<div class="line"><span class="lineno"> 2413</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2414</span> </div>
<div class="line"><span class="lineno"> 2415</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2416</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00971">be_openssl_auto_fd()</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00442">bufferevent_get_priority()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00560">bufferevent_set_rate_limit()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>.</p>

</div>
</div>
<a id="ab96221d1985aeb0265ed74c8a9f9a950" name="ab96221d1985aeb0265ed74c8a9f9a950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab96221d1985aeb0265ed74c8a9f9a950">&#9670;&nbsp;</a></span>event_is_method_disabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_is_method_disabled </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Return true iff 'method' is disabled according to the environment. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00550">550</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  551</span>{</div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordtype">char</span> environment[64];</div>
<div class="line"><span class="lineno">  553</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>    <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(environment, <span class="keyword">sizeof</span>(environment), <span class="stringliteral">&quot;EVENT_NO%s&quot;</span>, name);</div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">for</span> (i = 8; environment[i] != <span class="charliteral">&#39;\0&#39;</span>; ++i)</div>
<div class="line"><span class="lineno">  557</span>        environment[i] = <a class="code hl_function" href="evutil_8c.html#a4dce50d7aae2f91d90632cd3f2714cd8">EVUTIL_TOUPPER_</a>(environment[i]);</div>
<div class="line"><span class="lineno">  558</span>    <span class="comment">/* Note that evutil_getenv_() ignores the environment entirely if</span></div>
<div class="line"><span class="lineno">  559</span><span class="comment">     * we&#39;re setuid */</span></div>
<div class="line"><span class="lineno">  560</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="evutil_8c.html#a09a32ccf29cf07d78b1f8267863fadd7">evutil_getenv_</a>(environment) != NULL);</div>
<div class="line"><span class="lineno">  561</span>}</div>
<div class="ttc" id="aevutil_8c_html_a4dce50d7aae2f91d90632cd3f2714cd8"><div class="ttname"><a href="evutil_8c.html#a4dce50d7aae2f91d90632cd3f2714cd8">EVUTIL_TOUPPER_</a></div><div class="ttdeci">char EVUTIL_TOUPPER_(char c)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02387">evutil.c:2387</a></div></div>
<div class="ttc" id="aevutil_8c_html_a55dc7427a539b8c710acf6eb117364e1"><div class="ttname"><a href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a></div><div class="ttdeci">int evutil_snprintf(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01858">evutil.c:1858</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02463">evutil_getenv_()</a>, <a class="el" href="evutil_8c_source.html#l01858">evutil_snprintf()</a>, and <a class="el" href="evutil_8c_source.html#l02387">EVUTIL_TOUPPER_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>.</p>

</div>
</div>
<a id="aa57cb63396305d98350e4eff3720b1c7" name="aa57cb63396305d98350e4eff3720b1c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57cb63396305d98350e4eff3720b1c7">&#9670;&nbsp;</a></span>event_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_loop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01917">1917</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1918</span>{</div>
<div class="line"><span class="lineno"> 1919</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a83e0d97da18820d78eac87b1dc76638d">event_base_loop</a>(<a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>, flags);</div>
<div class="line"><span class="lineno"> 1920</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="event_8c_source.html#l01923">event_base_loop()</a>, and <a class="el" href="event-internal_8h_source.html#l00323">event_base::flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01809">event_dispatch()</a>.</p>

</div>
</div>
<a id="a3a5c57caea1d97160f6990b3deeb6961" name="a3a5c57caea1d97160f6990b3deeb6961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a5c57caea1d97160f6990b3deeb6961">&#9670;&nbsp;</a></span>event_loopbreak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_loopbreak </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01851">1851</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1852</span>{</div>
<div class="line"><span class="lineno"> 1853</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="event_8c.html#a0dcd552c5794323ab9c444e9a53d4cdf">event_base_loopbreak</a>(<a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>));</div>
<div class="line"><span class="lineno"> 1854</span>}</div>
<div class="ttc" id="aevent_8c_html_a0dcd552c5794323ab9c444e9a53d4cdf"><div class="ttname"><a href="event_8c.html#a0dcd552c5794323ab9c444e9a53d4cdf">event_base_loopbreak</a></div><div class="ttdeci">int event_base_loopbreak(struct event_base *event_base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01857">event.c:1857</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>, and <a class="el" href="event_8c_source.html#l01857">event_base_loopbreak()</a>.</p>

</div>
</div>
<a id="a6fe6872e98045d4faae04b34435350c1" name="a6fe6872e98045d4faae04b34435350c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fe6872e98045d4faae04b34435350c1">&#9670;&nbsp;</a></span>event_loopexit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_loopexit </td>
          <td>(</td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01837">1837</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1838</span>{</div>
<div class="line"><span class="lineno"> 1839</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="event_8c.html#ae26d9c0cee14338be1ebf9d9f3cb1423">event_once</a>(-1, EV_TIMEOUT, <a class="code hl_function" href="event_8c.html#ae50f0db214d663b8c14438e239d5a0a1">event_loopexit_cb</a>,</div>
<div class="line"><span class="lineno"> 1840</span>            <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>, tv));</div>
<div class="line"><span class="lineno"> 1841</span>}</div>
<div class="ttc" id="aevent_8c_html_ae26d9c0cee14338be1ebf9d9f3cb1423"><div class="ttname"><a href="event_8c.html#ae26d9c0cee14338be1ebf9d9f3cb1423">event_once</a></div><div class="ttdeci">int event_once(evutil_socket_t fd, short events, void(*callback)(evutil_socket_t, short, void *), void *arg, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02042">event.c:2042</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="event_8c_source.html#l01830">event_loopexit_cb()</a>, and <a class="el" href="event_8c_source.html#l02042">event_once()</a>.</p>

</div>
</div>
<a id="ae50f0db214d663b8c14438e239d5a0a1" name="ae50f0db214d663b8c14438e239d5a0a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae50f0db214d663b8c14438e239d5a0a1">&#9670;&nbsp;</a></span>event_loopexit_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_loopexit_cb </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Callback: used to implement event_base_loopexit by telling the <a class="el" href="structevent__base.html">event_base</a> that it's time to exit its loop. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01830">1830</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1831</span>{</div>
<div class="line"><span class="lineno"> 1832</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = arg;</div>
<div class="line"><span class="lineno"> 1833</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#ad0ba443ffdcb681f0f578aae8957a133">event_gotterm</a> = 1;</div>
<div class="line"><span class="lineno"> 1834</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00240">event_base::event_gotterm</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01844">event_base_loopexit()</a>, and <a class="el" href="event_8c_source.html#l01837">event_loopexit()</a>.</p>

</div>
</div>
<a id="a6551fbca1a14af5717524a3e0751ccab" name="a6551fbca1a14af5717524a3e0751ccab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6551fbca1a14af5717524a3e0751ccab">&#9670;&nbsp;</a></span>event_mm_calloc_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * event_mm_calloc_ </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Allocate memory initialized to zero.</p>
<dl class="section return"><dt>Returns</dt><dd>On success, return a pointer to (count * size) newly allocated bytes, initialized to zero. On failure, or if the product would result in an integer overflow, set errno to ENOMEM and return NULL. If either arguments are 0, simply return NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03496">3496</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3497</span>{</div>
<div class="line"><span class="lineno"> 3498</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> == 0 || size == 0)</div>
<div class="line"><span class="lineno"> 3499</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 3500</span> </div>
<div class="line"><span class="lineno"> 3501</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="event_8c.html#ad083139f3239682929a9ae330e2174d4">mm_malloc_fn_</a>) {</div>
<div class="line"><span class="lineno"> 3502</span>        <span class="keywordtype">size_t</span> sz = <a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> * size;</div>
<div class="line"><span class="lineno"> 3503</span>        <span class="keywordtype">void</span> *p = NULL;</div>
<div class="line"><span class="lineno"> 3504</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> &gt; EV_SIZE_MAX / size)</div>
<div class="line"><span class="lineno"> 3505</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 3506</span>        p = <a class="code hl_variable" href="event_8c.html#ad083139f3239682929a9ae330e2174d4">mm_malloc_fn_</a>(sz);</div>
<div class="line"><span class="lineno"> 3507</span>        <span class="keywordflow">if</span> (p)</div>
<div class="line"><span class="lineno"> 3508</span>            <span class="keywordflow">return</span> memset(p, 0, sz);</div>
<div class="line"><span class="lineno"> 3509</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3510</span>        <span class="keywordtype">void</span> *p = calloc(<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, size);</div>
<div class="line"><span class="lineno"> 3511</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 3512</span>        <span class="comment">/* Windows calloc doesn&#39;t reliably set ENOMEM */</span></div>
<div class="line"><span class="lineno"> 3513</span>        <span class="keywordflow">if</span> (p == NULL)</div>
<div class="line"><span class="lineno"> 3514</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 3515</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3516</span>        <span class="keywordflow">return</span> p;</div>
<div class="line"><span class="lineno"> 3517</span>    }</div>
<div class="line"><span class="lineno"> 3518</span> </div>
<div class="line"><span class="lineno"> 3519</span>error:</div>
<div class="line"><span class="lineno"> 3520</span>    errno = ENOMEM;</div>
<div class="line"><span class="lineno"> 3521</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 3522</span>}</div>
<div class="ttc" id="aevent_8c_html_ad083139f3239682929a9ae330e2174d4"><div class="ttname"><a href="event_8c.html#ad083139f3239682929a9ae330e2174d4">mm_malloc_fn_</a></div><div class="ttdeci">static void *(* mm_malloc_fn_)(size_t sz)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03479">event.c:3479</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00033">count</a>, and <a class="el" href="event_8c_source.html#l03479">mm_malloc_fn_</a>.</p>

</div>
</div>
<a id="ae96e27c40d0e2f4d18e0f53bcb095353" name="ae96e27c40d0e2f4d18e0f53bcb095353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96e27c40d0e2f4d18e0f53bcb095353">&#9670;&nbsp;</a></span>event_mm_free_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_mm_free_ </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03562">3562</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3563</span>{</div>
<div class="line"><span class="lineno"> 3564</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="event_8c.html#a2b30ec95fb03489b39308baa6b5f90c2">mm_free_fn_</a>)</div>
<div class="line"><span class="lineno"> 3565</span>        <a class="code hl_variable" href="event_8c.html#a2b30ec95fb03489b39308baa6b5f90c2">mm_free_fn_</a>(ptr);</div>
<div class="line"><span class="lineno"> 3566</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3567</span>        free(ptr);</div>
<div class="line"><span class="lineno"> 3568</span>}</div>
<div class="ttc" id="aevent_8c_html_a2b30ec95fb03489b39308baa6b5f90c2"><div class="ttname"><a href="event_8c.html#a2b30ec95fb03489b39308baa6b5f90c2">mm_free_fn_</a></div><div class="ttdeci">static void(* mm_free_fn_)(void *p)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03481">event.c:3481</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l03481">mm_free_fn_</a>.</p>

</div>
</div>
<a id="a7a37dde5c8f73acefe22b57688d8209b" name="a7a37dde5c8f73acefe22b57688d8209b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a37dde5c8f73acefe22b57688d8209b">&#9670;&nbsp;</a></span>event_mm_malloc_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * event_mm_malloc_ </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Allocate uninitialized memory.</p>
<dl class="section return"><dt>Returns</dt><dd>On success, return a pointer to sz newly allocated bytes. On failure, set errno to ENOMEM and return NULL. If the argument sz is 0, simply return NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03484">3484</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3485</span>{</div>
<div class="line"><span class="lineno"> 3486</span>    <span class="keywordflow">if</span> (sz == 0)</div>
<div class="line"><span class="lineno"> 3487</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 3488</span> </div>
<div class="line"><span class="lineno"> 3489</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="event_8c.html#ad083139f3239682929a9ae330e2174d4">mm_malloc_fn_</a>)</div>
<div class="line"><span class="lineno"> 3490</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="event_8c.html#ad083139f3239682929a9ae330e2174d4">mm_malloc_fn_</a>(sz);</div>
<div class="line"><span class="lineno"> 3491</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3492</span>        <span class="keywordflow">return</span> malloc(sz);</div>
<div class="line"><span class="lineno"> 3493</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l03479">mm_malloc_fn_</a>.</p>

</div>
</div>
<a id="adac9d1c703154f7f82548cfa8c1012c9" name="adac9d1c703154f7f82548cfa8c1012c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac9d1c703154f7f82548cfa8c1012c9">&#9670;&nbsp;</a></span>event_mm_realloc_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * event_mm_realloc_ </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03553">3553</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3554</span>{</div>
<div class="line"><span class="lineno"> 3555</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="event_8c.html#aeba3bfaa2fb3ce0a2e5ffad4ce77d90d">mm_realloc_fn_</a>)</div>
<div class="line"><span class="lineno"> 3556</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="event_8c.html#aeba3bfaa2fb3ce0a2e5ffad4ce77d90d">mm_realloc_fn_</a>(ptr, sz);</div>
<div class="line"><span class="lineno"> 3557</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3558</span>        <span class="keywordflow">return</span> realloc(ptr, sz);</div>
<div class="line"><span class="lineno"> 3559</span>}</div>
<div class="ttc" id="aevent_8c_html_aeba3bfaa2fb3ce0a2e5ffad4ce77d90d"><div class="ttname"><a href="event_8c.html#aeba3bfaa2fb3ce0a2e5ffad4ce77d90d">mm_realloc_fn_</a></div><div class="ttdeci">static void *(* mm_realloc_fn_)(void *p, size_t sz)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03480">event.c:3480</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l03480">mm_realloc_fn_</a>.</p>

</div>
</div>
<a id="a3654ef40a7a497dbd2a2c14b753642f4" name="a3654ef40a7a497dbd2a2c14b753642f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3654ef40a7a497dbd2a2c14b753642f4">&#9670;&nbsp;</a></span>event_mm_strdup_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * event_mm_strdup_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Duplicate a string.</p>
<dl class="section return"><dt>Returns</dt><dd>On success, return a pointer to a newly allocated duplicate of a string. Set errno to ENOMEM and return NULL if a memory allocation error occurs (or would occur) in the process. If the argument str is NULL, set errno to EINVAL and return NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03525">3525</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3526</span>{</div>
<div class="line"><span class="lineno"> 3527</span>    <span class="keywordflow">if</span> (!str) {</div>
<div class="line"><span class="lineno"> 3528</span>        errno = EINVAL;</div>
<div class="line"><span class="lineno"> 3529</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 3530</span>    }</div>
<div class="line"><span class="lineno"> 3531</span> </div>
<div class="line"><span class="lineno"> 3532</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="event_8c.html#ad083139f3239682929a9ae330e2174d4">mm_malloc_fn_</a>) {</div>
<div class="line"><span class="lineno"> 3533</span>        <span class="keywordtype">size_t</span> ln = strlen(str);</div>
<div class="line"><span class="lineno"> 3534</span>        <span class="keywordtype">void</span> *p = NULL;</div>
<div class="line"><span class="lineno"> 3535</span>        <span class="keywordflow">if</span> (ln == EV_SIZE_MAX)</div>
<div class="line"><span class="lineno"> 3536</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 3537</span>        p = <a class="code hl_variable" href="event_8c.html#ad083139f3239682929a9ae330e2174d4">mm_malloc_fn_</a>(ln+1);</div>
<div class="line"><span class="lineno"> 3538</span>        <span class="keywordflow">if</span> (p)</div>
<div class="line"><span class="lineno"> 3539</span>            <span class="keywordflow">return</span> memcpy(p, str, ln+1);</div>
<div class="line"><span class="lineno"> 3540</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3541</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 3542</span>        <span class="keywordflow">return</span> _strdup(str);</div>
<div class="line"><span class="lineno"> 3543</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 3544</span>        <span class="keywordflow">return</span> strdup(str);</div>
<div class="line"><span class="lineno"> 3545</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3546</span> </div>
<div class="line"><span class="lineno"> 3547</span>error:</div>
<div class="line"><span class="lineno"> 3548</span>    errno = ENOMEM;</div>
<div class="line"><span class="lineno"> 3549</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 3550</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l03479">mm_malloc_fn_</a>.</p>

</div>
</div>
<a id="a330459eb59cbee4bc369b74b72665783" name="a330459eb59cbee4bc369b74b72665783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a330459eb59cbee4bc369b74b72665783">&#9670;&nbsp;</a></span>event_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct event * event_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(evutil_socket_t, short, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02208">2208</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2209</span>{</div>
<div class="line"><span class="lineno"> 2210</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno"> 2211</span>    ev = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> event));</div>
<div class="line"><span class="lineno"> 2212</span>    <span class="keywordflow">if</span> (ev == NULL)</div>
<div class="line"><span class="lineno"> 2213</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 2214</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(ev, base, fd, events, cb, arg) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2215</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(ev);</div>
<div class="line"><span class="lineno"> 2216</span>        <span class="keywordflow">return</span> (NULL);</div>
<div class="line"><span class="lineno"> 2217</span>    }</div>
<div class="line"><span class="lineno"> 2218</span> </div>
<div class="line"><span class="lineno"> 2219</span>    <span class="keywordflow">return</span> (ev);</div>
<div class="line"><span class="lineno"> 2220</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02113">event_assign()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00547">dogecoin_node_group_connect_next_nodes()</a>.</p>

</div>
</div>
<a id="ae26d9c0cee14338be1ebf9d9f3cb1423" name="ae26d9c0cee14338be1ebf9d9f3cb1423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae26d9c0cee14338be1ebf9d9f3cb1423">&#9670;&nbsp;</a></span>event_once()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structevent__once.html">event_once</a> </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(evutil_socket_t, short, void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02042">2042</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2045</span>{</div>
<div class="line"><span class="lineno"> 2046</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a42858d966d6a966ae85ce25a036d5aa5">event_base_once</a>(<a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>, fd, events, callback, arg, tv);</div>
<div class="line"><span class="lineno"> 2047</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00205">event_once::arg</a>, <a class="el" href="event_8c_source.html#l00131">current_base</a>, and <a class="el" href="event_8c_source.html#l02051">event_base_once()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01837">event_loopexit()</a>.</p>

</div>
</div>
<a id="ac19a3f382d47f0d3ba41ec20c1074463" name="ac19a3f382d47f0d3ba41ec20c1074463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac19a3f382d47f0d3ba41ec20c1074463">&#9670;&nbsp;</a></span>event_once_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_once_cb </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02028">2028</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2029</span>{</div>
<div class="line"><span class="lineno"> 2030</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__once.html">event_once</a> *eonce = <a class="code hl_variable" href="structevent__once.html#a5b06aebb1ddd7d88ccb1cb2657eee3eb">arg</a>;</div>
<div class="line"><span class="lineno"> 2031</span> </div>
<div class="line"><span class="lineno"> 2032</span>    (*eonce-&gt;<a class="code hl_variable" href="structevent__once.html#ae71f4db9108ea9e973e136a76fa255ec">cb</a>)(fd, events, eonce-&gt;<a class="code hl_variable" href="structevent__once.html#a5b06aebb1ddd7d88ccb1cb2657eee3eb">arg</a>);</div>
<div class="line"><span class="lineno"> 2033</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(eonce-&gt;<a class="code hl_variable" href="structevent__once.html#ae99aa749694d8ded8120faf4d5cfda06">ev</a>.ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2034</span>    LIST_REMOVE(eonce, next_once);</div>
<div class="line"><span class="lineno"> 2035</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(eonce-&gt;<a class="code hl_variable" href="structevent__once.html#ae99aa749694d8ded8120faf4d5cfda06">ev</a>.ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2036</span>    <a class="code hl_function" href="event_8c.html#addc542c0516f6532cf2e9a645bd1694a">event_debug_unassign</a>(&amp;eonce-&gt;<a class="code hl_variable" href="structevent__once.html#ae99aa749694d8ded8120faf4d5cfda06">ev</a>);</div>
<div class="line"><span class="lineno"> 2037</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(eonce);</div>
<div class="line"><span class="lineno"> 2038</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00205">event_once::arg</a>, <a class="el" href="event-internal_8h_source.html#l00204">event_once::cb</a>, <a class="el" href="event-internal_8h_source.html#l00202">event_once::ev</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02237">event_debug_unassign()</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02051">event_base_once()</a>.</p>

</div>
</div>
<a id="a864a500f29d40018203a5d63eebd834e" name="a864a500f29d40018203a5d63eebd834e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a864a500f29d40018203a5d63eebd834e">&#9670;&nbsp;</a></span>event_pending()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_pending </td>
          <td>(</td>
          <td class="paramtype">const struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02375">2375</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2376</span>{</div>
<div class="line"><span class="lineno"> 2377</span>    <span class="keywordtype">int</span> flags = 0;</div>
<div class="line"><span class="lineno"> 2378</span> </div>
<div class="line"><span class="lineno"> 2379</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(ev-&gt;ev_base == NULL)) {</div>
<div class="line"><span class="lineno"> 2380</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: event has no event_base set.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2381</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2382</span>    }</div>
<div class="line"><span class="lineno"> 2383</span> </div>
<div class="line"><span class="lineno"> 2384</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2385</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2386</span> </div>
<div class="line"><span class="lineno"> 2387</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_INSERTED)</div>
<div class="line"><span class="lineno"> 2388</span>        flags |= (ev-&gt;ev_events &amp; (EV_READ|EV_WRITE|EV_CLOSED|EV_SIGNAL));</div>
<div class="line"><span class="lineno"> 2389</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER))</div>
<div class="line"><span class="lineno"> 2390</span>        flags |= ev-&gt;ev_res;</div>
<div class="line"><span class="lineno"> 2391</span>    if (ev-&gt;ev_flags &amp; EVLIST_TIMEOUT)</div>
<div class="line"><span class="lineno"> 2392</span>        flags |= EV_TIMEOUT;</div>
<div class="line"><span class="lineno"> 2393</span> </div>
<div class="line"><span class="lineno"> 2394</span>    <span class="keyword">event</span> &amp;= (EV_TIMEOUT|EV_READ|EV_WRITE|EV_CLOSED|EV_SIGNAL);</div>
<div class="line"><span class="lineno"> 2395</span> </div>
<div class="line"><span class="lineno"> 2396</span>    <span class="comment">/* See if there is a timeout that we should report */</span></div>
<div class="line"><span class="lineno"> 2397</span>    <span class="keywordflow">if</span> (tv != NULL &amp;&amp; (flags &amp; event &amp; EV_TIMEOUT)) {</div>
<div class="line"><span class="lineno"> 2398</span>        <span class="keyword">struct </span>timeval tmp = ev-&gt;ev_timeout;</div>
<div class="line"><span class="lineno"> 2399</span>        tmp.tv_usec &amp;= <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>;</div>
<div class="line"><span class="lineno"> 2400</span>        <span class="comment">/* correctly remamp to real time */</span></div>
<div class="line"><span class="lineno"> 2401</span>        evutil_timeradd(&amp;ev-&gt;ev_base-&gt;tv_clock_diff, &amp;tmp, tv);</div>
<div class="line"><span class="lineno"> 2402</span>    }</div>
<div class="line"><span class="lineno"> 2403</span> </div>
<div class="line"><span class="lineno"> 2404</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2405</span> </div>
<div class="line"><span class="lineno"> 2406</span>    <span class="keywordflow">return</span> (flags &amp; event);</div>
<div class="line"><span class="lineno"> 2407</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>, and <a class="el" href="event_8c_source.html#l01397">MICROSECONDS_MASK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00993">bufferevent_generic_adj_existing_timeouts_()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00129">bufferevent_socket_outbuf_cb()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>.</p>

</div>
</div>
<a id="a2b12182f0e9d2dd242577276885def20" name="a2b12182f0e9d2dd242577276885def20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b12182f0e9d2dd242577276885def20">&#9670;&nbsp;</a></span>event_persist_closure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_persist_closure </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01562">1562</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1563</span>{</div>
<div class="line"><span class="lineno"> 1564</span>    void (*evcb_callback)(evutil_socket_t, short, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno"> 1565</span> </div>
<div class="line"><span class="lineno"> 1566</span>        <span class="comment">// Other fields of *ev that must be stored before executing</span></div>
<div class="line"><span class="lineno"> 1567</span>        evutil_socket_t evcb_fd;</div>
<div class="line"><span class="lineno"> 1568</span>        <span class="keywordtype">short</span> evcb_res;</div>
<div class="line"><span class="lineno"> 1569</span>        <span class="keywordtype">void</span> *evcb_arg;</div>
<div class="line"><span class="lineno"> 1570</span> </div>
<div class="line"><span class="lineno"> 1571</span>    <span class="comment">/* reschedule the persistent event if we have a timeout. */</span></div>
<div class="line"><span class="lineno"> 1572</span>    <span class="keywordflow">if</span> (ev-&gt;ev_io_timeout.tv_sec || ev-&gt;ev_io_timeout.tv_usec) {</div>
<div class="line"><span class="lineno"> 1573</span>        <span class="comment">/* If there was a timeout, we want it to run at an interval of</span></div>
<div class="line"><span class="lineno"> 1574</span><span class="comment">         * ev_io_timeout after the last time it was _scheduled_ for,</span></div>
<div class="line"><span class="lineno"> 1575</span><span class="comment">         * not ev_io_timeout after _now_.  If it fired for another</span></div>
<div class="line"><span class="lineno"> 1576</span><span class="comment">         * reason, though, the timeout ought to start ticking _now_. */</span></div>
<div class="line"><span class="lineno"> 1577</span>        <span class="keyword">struct </span>timeval run_at, relative_to, delay, now;</div>
<div class="line"><span class="lineno"> 1578</span>        ev_uint32_t usec_mask = 0;</div>
<div class="line"><span class="lineno"> 1579</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_function" href="event_8c.html#a32d33db512943366b94669dd3f02f20f">is_same_common_timeout</a>(&amp;ev-&gt;ev_timeout,</div>
<div class="line"><span class="lineno"> 1580</span>            &amp;ev-&gt;ev_io_timeout));</div>
<div class="line"><span class="lineno"> 1581</span>        <a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;now);</div>
<div class="line"><span class="lineno"> 1582</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(&amp;ev-&gt;ev_timeout, base)) {</div>
<div class="line"><span class="lineno"> 1583</span>            delay = ev-&gt;ev_io_timeout;</div>
<div class="line"><span class="lineno"> 1584</span>            usec_mask = delay.tv_usec &amp; ~MICROSECONDS_MASK;</div>
<div class="line"><span class="lineno"> 1585</span>            delay.tv_usec &amp;= <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>;</div>
<div class="line"><span class="lineno"> 1586</span>            <span class="keywordflow">if</span> (ev-&gt;ev_res &amp; EV_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 1587</span>                relative_to = ev-&gt;ev_timeout;</div>
<div class="line"><span class="lineno"> 1588</span>                relative_to.tv_usec &amp;= <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>;</div>
<div class="line"><span class="lineno"> 1589</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1590</span>                relative_to = now;</div>
<div class="line"><span class="lineno"> 1591</span>            }</div>
<div class="line"><span class="lineno"> 1592</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1593</span>            delay = ev-&gt;ev_io_timeout;</div>
<div class="line"><span class="lineno"> 1594</span>            <span class="keywordflow">if</span> (ev-&gt;ev_res &amp; EV_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 1595</span>                relative_to = ev-&gt;ev_timeout;</div>
<div class="line"><span class="lineno"> 1596</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1597</span>                relative_to = now;</div>
<div class="line"><span class="lineno"> 1598</span>            }</div>
<div class="line"><span class="lineno"> 1599</span>        }</div>
<div class="line"><span class="lineno"> 1600</span>        evutil_timeradd(&amp;relative_to, &amp;delay, &amp;run_at);</div>
<div class="line"><span class="lineno"> 1601</span>        <span class="keywordflow">if</span> (evutil_timercmp(&amp;run_at, &amp;now, &lt;)) {</div>
<div class="line"><span class="lineno"> 1602</span>            <span class="comment">/* Looks like we missed at least one invocation due to</span></div>
<div class="line"><span class="lineno"> 1603</span><span class="comment">             * a clock jump, not running the event loop for a</span></div>
<div class="line"><span class="lineno"> 1604</span><span class="comment">             * while, really slow callbacks, or</span></div>
<div class="line"><span class="lineno"> 1605</span><span class="comment">             * something. Reschedule relative to now.</span></div>
<div class="line"><span class="lineno"> 1606</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 1607</span>            evutil_timeradd(&amp;now, &amp;delay, &amp;run_at);</div>
<div class="line"><span class="lineno"> 1608</span>        }</div>
<div class="line"><span class="lineno"> 1609</span>        run_at.tv_usec |= usec_mask;</div>
<div class="line"><span class="lineno"> 1610</span>        <a class="code hl_function" href="event_8c.html#a4ce9a3ab811fb589cbd8f625bdba9b92">event_add_nolock_</a>(ev, &amp;run_at, 1);</div>
<div class="line"><span class="lineno"> 1611</span>    }</div>
<div class="line"><span class="lineno"> 1612</span> </div>
<div class="line"><span class="lineno"> 1613</span>    <span class="comment">// Save our callback before we release the lock</span></div>
<div class="line"><span class="lineno"> 1614</span>    evcb_callback = ev-&gt;ev_callback;</div>
<div class="line"><span class="lineno"> 1615</span>        evcb_fd = ev-&gt;ev_fd;</div>
<div class="line"><span class="lineno"> 1616</span>        evcb_res = ev-&gt;ev_res;</div>
<div class="line"><span class="lineno"> 1617</span>        evcb_arg = ev-&gt;ev_arg;</div>
<div class="line"><span class="lineno"> 1618</span> </div>
<div class="line"><span class="lineno"> 1619</span>    <span class="comment">// Release the lock</span></div>
<div class="line"><span class="lineno"> 1620</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1621</span> </div>
<div class="line"><span class="lineno"> 1622</span>    <span class="comment">// Execute the callback</span></div>
<div class="line"><span class="lineno"> 1623</span>        (evcb_callback)(evcb_fd, evcb_res, evcb_arg);</div>
<div class="line"><span class="lineno"> 1624</span>}</div>
<div class="ttc" id="aevent_8c_html_a32d33db512943366b94669dd3f02f20f"><div class="ttname"><a href="event_8c.html#a32d33db512943366b94669dd3f02f20f">is_same_common_timeout</a></div><div class="ttdeci">static int is_same_common_timeout(const struct timeval *tv1, const struct timeval *tv2)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01421">event.c:1421</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, <a class="el" href="event_8c_source.html#l01408">is_common_timeout()</a>, <a class="el" href="event_8c_source.html#l01421">is_same_common_timeout()</a>, and <a class="el" href="event_8c_source.html#l01397">MICROSECONDS_MASK</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>.</p>

</div>
</div>
<a id="a2c905da5fa075f729a372dfc1586e54d" name="a2c905da5fa075f729a372dfc1586e54d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c905da5fa075f729a372dfc1586e54d">&#9670;&nbsp;</a></span>event_priority_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_priority_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npriorities</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01234">1234</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1235</span>{</div>
<div class="line"><span class="lineno"> 1236</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a6d68c2a08de3f05fdb7a3c466ad33f37">event_base_priority_init</a>(<a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>, npriorities);</div>
<div class="line"><span class="lineno"> 1237</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00131">current_base</a>, and <a class="el" href="event_8c_source.html#l01240">event_base_priority_init()</a>.</p>

</div>
</div>
<a id="a4b6b70a0e975a4ab48b1bb4abecded0f" name="a4b6b70a0e975a4ab48b1bb4abecded0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b6b70a0e975a4ab48b1bb4abecded0f">&#9670;&nbsp;</a></span>event_priority_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_priority_set </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02356">2356</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2357</span>{</div>
<div class="line"><span class="lineno"> 2358</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2359</span> </div>
<div class="line"><span class="lineno"> 2360</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_ACTIVE)</div>
<div class="line"><span class="lineno"> 2361</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2362</span>    <span class="keywordflow">if</span> (pri &lt; 0 || pri &gt;= ev-&gt;ev_base-&gt;nactivequeues)</div>
<div class="line"><span class="lineno"> 2363</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2364</span> </div>
<div class="line"><span class="lineno"> 2365</span>    ev-&gt;ev_pri = pri;</div>
<div class="line"><span class="lineno"> 2366</span> </div>
<div class="line"><span class="lineno"> 2367</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2368</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00647">bufferevent_priority_set()</a>, <a class="el" href="event_8c_source.html#l01487">event_base_init_common_timeout()</a>, <a class="el" href="signal_8c_source.html#l00176">evsig_init_()</a>, and <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>.</p>

</div>
</div>
<a id="a8b01c8be58badeafa97edb197f183cbd" name="a8b01c8be58badeafa97edb197f183cbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b01c8be58badeafa97edb197f183cbd">&#9670;&nbsp;</a></span>event_process_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_process_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01760">1760</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1761</span>{</div>
<div class="line"><span class="lineno"> 1762</span>    <span class="comment">/* Caller must hold th_base_lock */</span></div>
<div class="line"><span class="lineno"> 1763</span>    <span class="keyword">struct </span>evcallback_list *activeq = NULL;</div>
<div class="line"><span class="lineno"> 1764</span>    <span class="keywordtype">int</span> i, c = 0;</div>
<div class="line"><span class="lineno"> 1765</span>    <span class="keyword">const</span> <span class="keyword">struct </span>timeval *endtime;</div>
<div class="line"><span class="lineno"> 1766</span>    <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno"> 1767</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> maxcb = base-&gt;<a class="code hl_variable" href="structevent__base.html#a3cdb7cd811ed624d15cddfb69aac5283">max_dispatch_callbacks</a>;</div>
<div class="line"><span class="lineno"> 1768</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> limit_after_prio = base-&gt;<a class="code hl_variable" href="structevent__base.html#a390d518ee422ba3b95ea9f0af4c0903a">limit_callbacks_after_prio</a>;</div>
<div class="line"><span class="lineno"> 1769</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a55cbb954543d779190df9762c5739610">max_dispatch_time</a>.tv_sec &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1770</span>        <a class="code hl_function" href="event_8c.html#a1d9ef2944751ee9f5fa2ac4f9aac308d">update_time_cache</a>(base);</div>
<div class="line"><span class="lineno"> 1771</span>        <a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;tv);</div>
<div class="line"><span class="lineno"> 1772</span>        evutil_timeradd(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a55cbb954543d779190df9762c5739610">max_dispatch_time</a>, &amp;tv, &amp;tv);</div>
<div class="line"><span class="lineno"> 1773</span>        endtime = &amp;tv;</div>
<div class="line"><span class="lineno"> 1774</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1775</span>        endtime = NULL;</div>
<div class="line"><span class="lineno"> 1776</span>    }</div>
<div class="line"><span class="lineno"> 1777</span> </div>
<div class="line"><span class="lineno"> 1778</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>; ++i) {</div>
<div class="line"><span class="lineno"> 1779</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i]) != NULL) {</div>
<div class="line"><span class="lineno"> 1780</span>            base-&gt;<a class="code hl_variable" href="structevent__base.html#a2190f4f8a6118c1145a294ca11d26954">event_running_priority</a> = i;</div>
<div class="line"><span class="lineno"> 1781</span>            activeq = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i];</div>
<div class="line"><span class="lineno"> 1782</span>            <span class="keywordflow">if</span> (i &lt; limit_after_prio)</div>
<div class="line"><span class="lineno"> 1783</span>                c = <a class="code hl_function" href="event_8c.html#ab4908f655c55d6d3697beb999fce3f08">event_process_active_single_queue</a>(base, activeq,</div>
<div class="line"><span class="lineno"> 1784</span>                    INT_MAX, NULL);</div>
<div class="line"><span class="lineno"> 1785</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1786</span>                c = <a class="code hl_function" href="event_8c.html#ab4908f655c55d6d3697beb999fce3f08">event_process_active_single_queue</a>(base, activeq,</div>
<div class="line"><span class="lineno"> 1787</span>                    maxcb, endtime);</div>
<div class="line"><span class="lineno"> 1788</span>            <span class="keywordflow">if</span> (c &lt; 0) {</div>
<div class="line"><span class="lineno"> 1789</span>                <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1790</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c &gt; 0)</div>
<div class="line"><span class="lineno"> 1791</span>                <span class="keywordflow">break</span>; <span class="comment">/* Processed a real event; do not</span></div>
<div class="line"><span class="lineno"> 1792</span><span class="comment">                    * consider lower-priority events */</span></div>
<div class="line"><span class="lineno"> 1793</span>            <span class="comment">/* If we get here, all of the events we processed</span></div>
<div class="line"><span class="lineno"> 1794</span><span class="comment">             * were internal.  Continue. */</span></div>
<div class="line"><span class="lineno"> 1795</span>        }</div>
<div class="line"><span class="lineno"> 1796</span>    }</div>
<div class="line"><span class="lineno"> 1797</span> </div>
<div class="line"><span class="lineno"> 1798</span>done:</div>
<div class="line"><span class="lineno"> 1799</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a2190f4f8a6118c1145a294ca11d26954">event_running_priority</a> = -1;</div>
<div class="line"><span class="lineno"> 1800</span> </div>
<div class="line"><span class="lineno"> 1801</span>    <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno"> 1802</span>}</div>
<div class="ttc" id="aevent_8c_html_ab4908f655c55d6d3697beb999fce3f08"><div class="ttname"><a href="event_8c.html#ab4908f655c55d6d3697beb999fce3f08">event_process_active_single_queue</a></div><div class="ttdeci">static int event_process_active_single_queue(struct event_base *base, struct evcallback_list *activeq, int max_to_process, const struct timeval *endtime)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01634">event.c:1634</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>, <a class="el" href="event-internal_8h_source.html#l00247">event_base::event_running_priority</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, <a class="el" href="event-internal_8h_source.html#l00327">event_base::limit_callbacks_after_prio</a>, <a class="el" href="event-internal_8h_source.html#l00326">event_base::max_dispatch_callbacks</a>, <a class="el" href="event-internal_8h_source.html#l00325">event_base::max_dispatch_time</a>, <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>, <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>, and <a class="el" href="event_8c_source.html#l00467">update_time_cache()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01923">event_base_loop()</a>.</p>

</div>
</div>
<a id="ab4908f655c55d6d3697beb999fce3f08" name="ab4908f655c55d6d3697beb999fce3f08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4908f655c55d6d3697beb999fce3f08">&#9670;&nbsp;</a></span>event_process_active_single_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_process_active_single_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evcallback_list *&#160;</td>
          <td class="paramname"><em>activeq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_to_process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>endtime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01634">1634</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1637</span>{</div>
<div class="line"><span class="lineno"> 1638</span>    <span class="keyword">struct </span>event_callback *evcb;</div>
<div class="line"><span class="lineno"> 1639</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0;</div>
<div class="line"><span class="lineno"> 1640</span> </div>
<div class="line"><span class="lineno"> 1641</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(activeq != NULL);</div>
<div class="line"><span class="lineno"> 1642</span> </div>
<div class="line"><span class="lineno"> 1643</span>    <span class="keywordflow">for</span> (evcb = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(activeq); evcb; evcb = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(activeq)) {</div>
<div class="line"><span class="lineno"> 1644</span>        <span class="keyword">struct </span>event *ev=NULL;</div>
<div class="line"><span class="lineno"> 1645</span>        <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_INIT) {</div>
<div class="line"><span class="lineno"> 1646</span>            ev = <a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb);</div>
<div class="line"><span class="lineno"> 1647</span> </div>
<div class="line"><span class="lineno"> 1648</span>            <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_PERSIST || ev-&gt;ev_flags &amp; EVLIST_FINALIZING)</div>
<div class="line"><span class="lineno"> 1649</span>                <a class="code hl_function" href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 1650</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1651</span>                <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 1652</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((</div>
<div class="line"><span class="lineno"> 1653</span>                <span class="stringliteral">&quot;event_process_active: event: %p, %s%s%scall %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 1654</span>                ev,</div>
<div class="line"><span class="lineno"> 1655</span>                ev-&gt;ev_res &amp; EV_READ ? <span class="stringliteral">&quot;EV_READ &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 1656</span>                ev-&gt;ev_res &amp; EV_WRITE ? <span class="stringliteral">&quot;EV_WRITE &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 1657</span>                ev-&gt;ev_res &amp; EV_CLOSED ? <span class="stringliteral">&quot;EV_CLOSED &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 1658</span>                ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 1659</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1660</span>            <a class="code hl_function" href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 1661</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;event_process_active: event_callback %p, &quot;</span></div>
<div class="line"><span class="lineno"> 1662</span>                <span class="stringliteral">&quot;closure %d, call %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 1663</span>                evcb, evcb-&gt;evcb_closure, evcb-&gt;evcb_cb_union.evcb_callback));</div>
<div class="line"><span class="lineno"> 1664</span>        }</div>
<div class="line"><span class="lineno"> 1665</span> </div>
<div class="line"><span class="lineno"> 1666</span>        <span class="keywordflow">if</span> (!(evcb-&gt;evcb_flags &amp; EVLIST_INTERNAL))</div>
<div class="line"><span class="lineno"> 1667</span>            ++<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 1668</span> </div>
<div class="line"><span class="lineno"> 1669</span> </div>
<div class="line"><span class="lineno"> 1670</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> = evcb;</div>
<div class="line"><span class="lineno"> 1671</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 1672</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">current_event_waiters</a> = 0;</div>
<div class="line"><span class="lineno"> 1673</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1674</span> </div>
<div class="line"><span class="lineno"> 1675</span>        <span class="keywordflow">switch</span> (evcb-&gt;evcb_closure) {</div>
<div class="line"><span class="lineno"> 1676</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#a36e83bc48ad10f5d5350e0fd8b17ff12">EV_CLOSURE_EVENT_SIGNAL</a>:</div>
<div class="line"><span class="lineno"> 1677</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev != NULL);</div>
<div class="line"><span class="lineno"> 1678</span>            <a class="code hl_function" href="event_8c.html#a0c32a99f53efd3ca27f6141f25f25bb3">event_signal_closure</a>(base, ev);</div>
<div class="line"><span class="lineno"> 1679</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1680</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#a47a14b7de7ee2dca0aaf221ab7963dce">EV_CLOSURE_EVENT_PERSIST</a>:</div>
<div class="line"><span class="lineno"> 1681</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev != NULL);</div>
<div class="line"><span class="lineno"> 1682</span>            <a class="code hl_function" href="event_8c.html#a2b12182f0e9d2dd242577276885def20">event_persist_closure</a>(base, ev);</div>
<div class="line"><span class="lineno"> 1683</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1684</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#abfd9db6f5c092cafa76e3d8cecc3a9d8">EV_CLOSURE_EVENT</a>: {</div>
<div class="line"><span class="lineno"> 1685</span>            void (*evcb_callback)(evutil_socket_t, short, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno"> 1686</span>            <span class="keywordtype">short</span> res;</div>
<div class="line"><span class="lineno"> 1687</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev != NULL);</div>
<div class="line"><span class="lineno"> 1688</span>            evcb_callback = *ev-&gt;ev_callback;</div>
<div class="line"><span class="lineno"> 1689</span>            res = ev-&gt;ev_res;</div>
<div class="line"><span class="lineno"> 1690</span>            <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1691</span>            evcb_callback(ev-&gt;ev_fd, res, ev-&gt;ev_arg);</div>
<div class="line"><span class="lineno"> 1692</span>        }</div>
<div class="line"><span class="lineno"> 1693</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1694</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#ad7009db10499c3b79837d0c65e9a93ef">EV_CLOSURE_CB_SELF</a>: {</div>
<div class="line"><span class="lineno"> 1695</span>            void (*evcb_selfcb)(<span class="keyword">struct </span>event_callback *, <span class="keywordtype">void</span> *) = evcb-&gt;evcb_cb_union.evcb_selfcb;</div>
<div class="line"><span class="lineno"> 1696</span>            <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1697</span>            evcb_selfcb(evcb, evcb-&gt;evcb_arg);</div>
<div class="line"><span class="lineno"> 1698</span>        }</div>
<div class="line"><span class="lineno"> 1699</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1700</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#a1e3eb121c751dbfd015c416550fee057">EV_CLOSURE_EVENT_FINALIZE</a>:</div>
<div class="line"><span class="lineno"> 1701</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#af694eafd1a0f9c35a09bc31d2865aaf2">EV_CLOSURE_EVENT_FINALIZE_FREE</a>: {</div>
<div class="line"><span class="lineno"> 1702</span>            void (*evcb_evfinalize)(<span class="keyword">struct </span>event *, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno"> 1703</span>            <span class="keywordtype">int</span> evcb_closure = evcb-&gt;evcb_closure;</div>
<div class="line"><span class="lineno"> 1704</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev != NULL);</div>
<div class="line"><span class="lineno"> 1705</span>            base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> = NULL;</div>
<div class="line"><span class="lineno"> 1706</span>            evcb_evfinalize = ev-&gt;ev_evcallback.evcb_cb_union.evcb_evfinalize;</div>
<div class="line"><span class="lineno"> 1707</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((evcb-&gt;evcb_flags &amp; EVLIST_FINALIZING));</div>
<div class="line"><span class="lineno"> 1708</span>            <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1709</span>            <a class="code hl_function" href="event_8c.html#ab9ec4c017e2a70437572170a15f2e88e">event_debug_note_teardown_</a>(ev);</div>
<div class="line"><span class="lineno"> 1710</span>            evcb_evfinalize(ev, ev-&gt;ev_arg);</div>
<div class="line"><span class="lineno"> 1711</span>            <span class="keywordflow">if</span> (evcb_closure == <a class="code hl_define" href="event-internal_8h.html#af694eafd1a0f9c35a09bc31d2865aaf2">EV_CLOSURE_EVENT_FINALIZE_FREE</a>)</div>
<div class="line"><span class="lineno"> 1712</span>                <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(ev);</div>
<div class="line"><span class="lineno"> 1713</span>        }</div>
<div class="line"><span class="lineno"> 1714</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1715</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="event-internal_8h.html#a2d789a90e7e056878473202407e78407">EV_CLOSURE_CB_FINALIZE</a>: {</div>
<div class="line"><span class="lineno"> 1716</span>            void (*evcb_cbfinalize)(<span class="keyword">struct </span>event_callback *, <span class="keywordtype">void</span> *) = evcb-&gt;evcb_cb_union.evcb_cbfinalize;</div>
<div class="line"><span class="lineno"> 1717</span>            base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> = NULL;</div>
<div class="line"><span class="lineno"> 1718</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((evcb-&gt;evcb_flags &amp; EVLIST_FINALIZING));</div>
<div class="line"><span class="lineno"> 1719</span>            <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1720</span>            evcb_cbfinalize(evcb, evcb-&gt;evcb_arg);</div>
<div class="line"><span class="lineno"> 1721</span>        }</div>
<div class="line"><span class="lineno"> 1722</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1723</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1724</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(0);</div>
<div class="line"><span class="lineno"> 1725</span>        }</div>
<div class="line"><span class="lineno"> 1726</span> </div>
<div class="line"><span class="lineno"> 1727</span>        <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1728</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> = NULL;</div>
<div class="line"><span class="lineno"> 1729</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 1730</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">current_event_waiters</a>) {</div>
<div class="line"><span class="lineno"> 1731</span>            base-&gt;<a class="code hl_variable" href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">current_event_waiters</a> = 0;</div>
<div class="line"><span class="lineno"> 1732</span>            <a class="code hl_define" href="evthread-internal_8h.html#a8f739622f3a1f0352687960cf2849350">EVTHREAD_COND_BROADCAST</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">current_event_cond</a>);</div>
<div class="line"><span class="lineno"> 1733</span>        }</div>
<div class="line"><span class="lineno"> 1734</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1735</span> </div>
<div class="line"><span class="lineno"> 1736</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a62565fb082b09a6abf4a19141a1a7f77">event_break</a>)</div>
<div class="line"><span class="lineno"> 1737</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1738</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> &gt;= max_to_process)</div>
<div class="line"><span class="lineno"> 1739</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 1740</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> &amp;&amp; endtime) {</div>
<div class="line"><span class="lineno"> 1741</span>            <span class="keyword">struct </span>timeval now;</div>
<div class="line"><span class="lineno"> 1742</span>            <a class="code hl_function" href="event_8c.html#a1d9ef2944751ee9f5fa2ac4f9aac308d">update_time_cache</a>(base);</div>
<div class="line"><span class="lineno"> 1743</span>            <a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;now);</div>
<div class="line"><span class="lineno"> 1744</span>            <span class="keywordflow">if</span> (evutil_timercmp(&amp;now, endtime, &gt;=))</div>
<div class="line"><span class="lineno"> 1745</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 1746</span>        }</div>
<div class="line"><span class="lineno"> 1747</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ab1ee3887cd128743f5037d8f2e8f444a">event_continue</a>)</div>
<div class="line"><span class="lineno"> 1748</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1749</span>    }</div>
<div class="line"><span class="lineno"> 1750</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 1751</span>}</div>
<div class="ttc" id="aevent_8c_html_a0c32a99f53efd3ca27f6141f25f25bb3"><div class="ttname"><a href="event_8c.html#a0c32a99f53efd3ca27f6141f25f25bb3">event_signal_closure</a></div><div class="ttdeci">static void event_signal_closure(struct event_base *, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01354">event.c:1354</a></div></div>
<div class="ttc" id="aevent_8c_html_a2b12182f0e9d2dd242577276885def20"><div class="ttname"><a href="event_8c.html#a2b12182f0e9d2dd242577276885def20">event_persist_closure</a></div><div class="ttdeci">static void event_persist_closure(struct event_base *, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01562">event.c:1562</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a8f739622f3a1f0352687960cf2849350"><div class="ttname"><a href="evthread-internal_8h.html#a8f739622f3a1f0352687960cf2849350">EVTHREAD_COND_BROADCAST</a></div><div class="ttdeci">#define EVTHREAD_COND_BROADCAST(cond)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00168">evthread-internal.h:168</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00033">count</a>, <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="event-internal_8h_source.html#l00310">event_base::current_event_cond</a>, <a class="el" href="event-internal_8h_source.html#l00312">event_base::current_event_waiters</a>, <a class="el" href="event-internal_8h_source.html#l00077">EV_CLOSURE_CB_FINALIZE</a>, <a class="el" href="event-internal_8h_source.html#l00075">EV_CLOSURE_CB_SELF</a>, <a class="el" href="event-internal_8h_source.html#l00069">EV_CLOSURE_EVENT</a>, <a class="el" href="event-internal_8h_source.html#l00079">EV_CLOSURE_EVENT_FINALIZE</a>, <a class="el" href="event-internal_8h_source.html#l00082">EV_CLOSURE_EVENT_FINALIZE_FREE</a>, <a class="el" href="event-internal_8h_source.html#l00073">EV_CLOSURE_EVENT_PERSIST</a>, <a class="el" href="event-internal_8h_source.html#l00071">EV_CLOSURE_EVENT_SIGNAL</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00242">event_base::event_break</a>, <a class="el" href="event_8c_source.html#l00492">event_callback_to_event()</a>, <a class="el" href="event-internal_8h_source.html#l00244">event_base::event_continue</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l00263">event_debug_note_teardown_()</a>, <a class="el" href="event-internal_8h_source.html#l00412">EVENT_DEL_NOBLOCK</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, <a class="el" href="event_8c_source.html#l01562">event_persist_closure()</a>, <a class="el" href="event_8c_source.html#l03236">event_queue_remove_active()</a>, <a class="el" href="event_8c_source.html#l01354">event_signal_closure()</a>, <a class="el" href="evthread-internal_8h_source.html#l00168">EVTHREAD_COND_BROADCAST</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>, and <a class="el" href="event_8c_source.html#l00467">update_time_cache()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01760">event_process_active()</a>.</p>

</div>
</div>
<a id="a29354e3bb874319f2705638f5e8351e4" name="a29354e3bb874319f2705638f5e8351e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29354e3bb874319f2705638f5e8351e4">&#9670;&nbsp;</a></span>event_queue_insert_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_queue_insert_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03377">3377</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3378</span>{</div>
<div class="line"><span class="lineno"> 3379</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 3380</span> </div>
<div class="line"><span class="lineno"> 3381</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_ACTIVE) {</div>
<div class="line"><span class="lineno"> 3382</span>        <span class="comment">/* Double insertion is possible for active events */</span></div>
<div class="line"><span class="lineno"> 3383</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3384</span>    }</div>
<div class="line"><span class="lineno"> 3385</span> </div>
<div class="line"><span class="lineno"> 3386</span>    <a class="code hl_define" href="event_8c.html#a822ea8ac11948faaa7c49b8f7a98417a">INCR_EVENT_COUNT</a>(base, evcb-&gt;evcb_flags);</div>
<div class="line"><span class="lineno"> 3387</span> </div>
<div class="line"><span class="lineno"> 3388</span>    evcb-&gt;evcb_flags |= EVLIST_ACTIVE;</div>
<div class="line"><span class="lineno"> 3389</span> </div>
<div class="line"><span class="lineno"> 3390</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_count_active</a>++;</div>
<div class="line"><span class="lineno"> 3391</span>    <a class="code hl_define" href="event_8c.html#a256de7de21d779b6aa35f78eb8dfe528">MAX_EVENT_COUNT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a3863c7a8d4246670ff84964f7253f328">event_count_active_max</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_count_active</a>);</div>
<div class="line"><span class="lineno"> 3392</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcb-&gt;evcb_pri &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>);</div>
<div class="line"><span class="lineno"> 3393</span>    TAILQ_INSERT_TAIL(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[evcb-&gt;evcb_pri],</div>
<div class="line"><span class="lineno"> 3394</span>        evcb, evcb_active_next);</div>
<div class="line"><span class="lineno"> 3395</span>}</div>
<div class="ttc" id="aevent_8c_html_a822ea8ac11948faaa7c49b8f7a98417a"><div class="ttname"><a href="event_8c.html#a822ea8ac11948faaa7c49b8f7a98417a">INCR_EVENT_COUNT</a></div><div class="ttdeci">#define INCR_EVENT_COUNT(base, flags)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03218">event.c:3218</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="event-internal_8h_source.html#l00234">event_base::event_count_active</a>, <a class="el" href="event-internal_8h_source.html#l00236">event_base::event_count_active_max</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event_8c_source.html#l03218">INCR_EVENT_COUNT</a>, <a class="el" href="event_8c_source.html#l03210">MAX_EVENT_COUNT</a>, and <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>.</p>

</div>
</div>
<a id="a5b4599275afb12bce1cc6f857aa69af9" name="a5b4599275afb12bce1cc6f857aa69af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b4599275afb12bce1cc6f857aa69af9">&#9670;&nbsp;</a></span>event_queue_insert_active_later()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_queue_insert_active_later </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03398">3398</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3399</span>{</div>
<div class="line"><span class="lineno"> 3400</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 3401</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE_LATER|EVLIST_ACTIVE)) {</div>
<div class="line"><span class="lineno"> 3402</span>        <span class="comment">/* Double insertion is possible */</span></div>
<div class="line"><span class="lineno"> 3403</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3404</span>    }</div>
<div class="line"><span class="lineno"> 3405</span> </div>
<div class="line"><span class="lineno"> 3406</span>    <a class="code hl_define" href="event_8c.html#a822ea8ac11948faaa7c49b8f7a98417a">INCR_EVENT_COUNT</a>(base, evcb-&gt;evcb_flags);</div>
<div class="line"><span class="lineno"> 3407</span>    evcb-&gt;evcb_flags |= EVLIST_ACTIVE_LATER;</div>
<div class="line"><span class="lineno"> 3408</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_count_active</a>++;</div>
<div class="line"><span class="lineno"> 3409</span>    <a class="code hl_define" href="event_8c.html#a256de7de21d779b6aa35f78eb8dfe528">MAX_EVENT_COUNT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a3863c7a8d4246670ff84964f7253f328">event_count_active_max</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_count_active</a>);</div>
<div class="line"><span class="lineno"> 3410</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcb-&gt;evcb_pri &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>);</div>
<div class="line"><span class="lineno"> 3411</span>    TAILQ_INSERT_TAIL(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">active_later_queue</a>, evcb, evcb_active_next);</div>
<div class="line"><span class="lineno"> 3412</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00269">event_base::active_later_queue</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="event-internal_8h_source.html#l00234">event_base::event_count_active</a>, <a class="el" href="event-internal_8h_source.html#l00236">event_base::event_count_active_max</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event_8c_source.html#l03218">INCR_EVENT_COUNT</a>, <a class="el" href="event_8c_source.html#l03210">MAX_EVENT_COUNT</a>, and <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03037">event_callback_activate_later_nolock_()</a>.</p>

</div>
</div>
<a id="adaae07804a434ebfed9249b186ff5d85" name="adaae07804a434ebfed9249b186ff5d85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaae07804a434ebfed9249b186ff5d85">&#9670;&nbsp;</a></span>event_queue_insert_inserted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_queue_insert_inserted </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03361">3361</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3362</span>{</div>
<div class="line"><span class="lineno"> 3363</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 3364</span> </div>
<div class="line"><span class="lineno"> 3365</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(ev-&gt;ev_flags &amp; EVLIST_INSERTED)) {</div>
<div class="line"><span class="lineno"> 3366</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s: %p(fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;) already inserted&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 3367</span>            ev, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd));</div>
<div class="line"><span class="lineno"> 3368</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3369</span>    }</div>
<div class="line"><span class="lineno"> 3370</span> </div>
<div class="line"><span class="lineno"> 3371</span>    <a class="code hl_define" href="event_8c.html#a822ea8ac11948faaa7c49b8f7a98417a">INCR_EVENT_COUNT</a>(base, ev-&gt;ev_flags);</div>
<div class="line"><span class="lineno"> 3372</span> </div>
<div class="line"><span class="lineno"> 3373</span>    ev-&gt;ev_flags |= EVLIST_INSERTED;</div>
<div class="line"><span class="lineno"> 3374</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>, and <a class="el" href="event_8c_source.html#l03218">INCR_EVENT_COUNT</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>.</p>

</div>
</div>
<a id="a3216b39db4357b40755d35660a235116" name="a3216b39db4357b40755d35660a235116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3216b39db4357b40755d35660a235116">&#9670;&nbsp;</a></span>event_queue_insert_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_queue_insert_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03415">3415</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3416</span>{</div>
<div class="line"><span class="lineno"> 3417</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 3418</span> </div>
<div class="line"><span class="lineno"> 3419</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(ev-&gt;ev_flags &amp; EVLIST_TIMEOUT)) {</div>
<div class="line"><span class="lineno"> 3420</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s: %p(fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;) already on timeout&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 3421</span>            ev, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd));</div>
<div class="line"><span class="lineno"> 3422</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3423</span>    }</div>
<div class="line"><span class="lineno"> 3424</span> </div>
<div class="line"><span class="lineno"> 3425</span>    <a class="code hl_define" href="event_8c.html#a822ea8ac11948faaa7c49b8f7a98417a">INCR_EVENT_COUNT</a>(base, ev-&gt;ev_flags);</div>
<div class="line"><span class="lineno"> 3426</span> </div>
<div class="line"><span class="lineno"> 3427</span>    ev-&gt;ev_flags |= EVLIST_TIMEOUT;</div>
<div class="line"><span class="lineno"> 3428</span> </div>
<div class="line"><span class="lineno"> 3429</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(&amp;ev-&gt;ev_timeout, base)) {</div>
<div class="line"><span class="lineno"> 3430</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl =</div>
<div class="line"><span class="lineno"> 3431</span>            <a class="code hl_function" href="event_8c.html#aca5c888c116f4c7fe12e343185d53dc4">get_common_timeout_list</a>(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>, &amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 3432</span>        <a class="code hl_function" href="event_8c.html#a4f967d431edde0056f824b1d88553548">insert_common_timeout_inorder</a>(ctl, ev);</div>
<div class="line"><span class="lineno"> 3433</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3434</span>        <a class="code hl_function" href="minheap-internal_8h.html#a395709418b63ade3f6dbec4b49d83dd1">min_heap_push_</a>(&amp;<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>, ev);</div>
<div class="line"><span class="lineno"> 3435</span>    }</div>
<div class="line"><span class="lineno"> 3436</span>}</div>
<div class="ttc" id="aevent_8c_html_a4f967d431edde0056f824b1d88553548"><div class="ttname"><a href="event_8c.html#a4f967d431edde0056f824b1d88553548">insert_common_timeout_inorder</a></div><div class="ttdeci">static void insert_common_timeout_inorder(struct common_timeout_list *ctl, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03331">event.c:3331</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_a395709418b63ade3f6dbec4b49d83dd1"><div class="ttname"><a href="minheap-internal_8h.html#a395709418b63ade3f6dbec4b49d83dd1">min_heap_push_</a></div><div class="ttdeci">static int min_heap_push_(min_heap_t *s, struct event *e)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00071">minheap-internal.h:71</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>, <a class="el" href="event_8c_source.html#l01430">get_common_timeout_list()</a>, <a class="el" href="event_8c_source.html#l03218">INCR_EVENT_COUNT</a>, <a class="el" href="event_8c_source.html#l03331">insert_common_timeout_inorder()</a>, <a class="el" href="event_8c_source.html#l01408">is_common_timeout()</a>, <a class="el" href="minheap-internal_8h_source.html#l00071">min_heap_push_()</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>.</p>

</div>
</div>
<a id="a9d65a3e71e17c0b18c26419b3e2afa46" name="a9d65a3e71e17c0b18c26419b3e2afa46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d65a3e71e17c0b18c26419b3e2afa46">&#9670;&nbsp;</a></span>event_queue_make_later_events_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_queue_make_later_events_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03439">3439</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3440</span>{</div>
<div class="line"><span class="lineno"> 3441</span>    <span class="keyword">struct </span>event_callback *evcb;</div>
<div class="line"><span class="lineno"> 3442</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 3443</span> </div>
<div class="line"><span class="lineno"> 3444</span>    <span class="keywordflow">while</span> ((evcb = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">active_later_queue</a>))) {</div>
<div class="line"><span class="lineno"> 3445</span>        TAILQ_REMOVE(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">active_later_queue</a>, evcb, evcb_active_next);</div>
<div class="line"><span class="lineno"> 3446</span>        evcb-&gt;evcb_flags = (evcb-&gt;evcb_flags &amp; ~EVLIST_ACTIVE_LATER) | EVLIST_ACTIVE;</div>
<div class="line"><span class="lineno"> 3447</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcb-&gt;evcb_pri &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>);</div>
<div class="line"><span class="lineno"> 3448</span>        TAILQ_INSERT_TAIL(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[evcb-&gt;evcb_pri], evcb, evcb_active_next);</div>
<div class="line"><span class="lineno"> 3449</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#ae2fab821f44d3bb94c1712b6174cbc7a">n_deferreds_queued</a> += (evcb-&gt;evcb_closure == <a class="code hl_define" href="event-internal_8h.html#ad7009db10499c3b79837d0c65e9a93ef">EV_CLOSURE_CB_SELF</a>);</div>
<div class="line"><span class="lineno"> 3450</span>    }</div>
<div class="line"><span class="lineno"> 3451</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00269">event_base::active_later_queue</a>, <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event-internal_8h_source.html#l00075">EV_CLOSURE_CB_SELF</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event-internal_8h_source.html#l00257">event_base::n_deferreds_queued</a>, <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01923">event_base_loop()</a>.</p>

</div>
</div>
<a id="a05756f811bfc57faa1781b4c8ea20e3b" name="a05756f811bfc57faa1781b4c8ea20e3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05756f811bfc57faa1781b4c8ea20e3b">&#9670;&nbsp;</a></span>event_queue_remove_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_queue_remove_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03236">3236</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3237</span>{</div>
<div class="line"><span class="lineno"> 3238</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 3239</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(!(evcb-&gt;evcb_flags &amp; EVLIST_ACTIVE))) {</div>
<div class="line"><span class="lineno"> 3240</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s: %p not on queue %x&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 3241</span>               evcb, EVLIST_ACTIVE);</div>
<div class="line"><span class="lineno"> 3242</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3243</span>    }</div>
<div class="line"><span class="lineno"> 3244</span>    <a class="code hl_define" href="event_8c.html#acd333867b976433dc3d1a7350d88812f">DECR_EVENT_COUNT</a>(base, evcb-&gt;evcb_flags);</div>
<div class="line"><span class="lineno"> 3245</span>    evcb-&gt;evcb_flags &amp;= ~EVLIST_ACTIVE;</div>
<div class="line"><span class="lineno"> 3246</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_count_active</a>--;</div>
<div class="line"><span class="lineno"> 3247</span> </div>
<div class="line"><span class="lineno"> 3248</span>    TAILQ_REMOVE(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[evcb-&gt;evcb_pri],</div>
<div class="line"><span class="lineno"> 3249</span>        evcb, evcb_active_next);</div>
<div class="line"><span class="lineno"> 3250</span>}</div>
<div class="ttc" id="aevent_8c_html_acd333867b976433dc3d1a7350d88812f"><div class="ttname"><a href="event_8c.html#acd333867b976433dc3d1a7350d88812f">DECR_EVENT_COUNT</a></div><div class="ttdeci">#define DECR_EVENT_COUNT(base, flags)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03216">event.c:3216</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event_8c_source.html#l03216">DECR_EVENT_COUNT</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="event-internal_8h_source.html#l00234">event_base::event_count_active</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, and <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, and <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>.</p>

</div>
</div>
<a id="a4c4082af1e928ea13dd2c3f7f2c66fbe" name="a4c4082af1e928ea13dd2c3f7f2c66fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4082af1e928ea13dd2c3f7f2c66fbe">&#9670;&nbsp;</a></span>event_queue_remove_active_later()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_queue_remove_active_later </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03252">3252</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3253</span>{</div>
<div class="line"><span class="lineno"> 3254</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 3255</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(!(evcb-&gt;evcb_flags &amp; EVLIST_ACTIVE_LATER))) {</div>
<div class="line"><span class="lineno"> 3256</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s: %p not on queue %x&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 3257</span>               evcb, EVLIST_ACTIVE_LATER);</div>
<div class="line"><span class="lineno"> 3258</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3259</span>    }</div>
<div class="line"><span class="lineno"> 3260</span>    <a class="code hl_define" href="event_8c.html#acd333867b976433dc3d1a7350d88812f">DECR_EVENT_COUNT</a>(base, evcb-&gt;evcb_flags);</div>
<div class="line"><span class="lineno"> 3261</span>    evcb-&gt;evcb_flags &amp;= ~EVLIST_ACTIVE_LATER;</div>
<div class="line"><span class="lineno"> 3262</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_count_active</a>--;</div>
<div class="line"><span class="lineno"> 3263</span> </div>
<div class="line"><span class="lineno"> 3264</span>    TAILQ_REMOVE(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">active_later_queue</a>, evcb, evcb_active_next);</div>
<div class="line"><span class="lineno"> 3265</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00269">event_base::active_later_queue</a>, <a class="el" href="event_8c_source.html#l03216">DECR_EVENT_COUNT</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="event-internal_8h_source.html#l00234">event_base::event_count_active</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, and <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, and <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="ae03ffa551133afc1e89513464962642e" name="ae03ffa551133afc1e89513464962642e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae03ffa551133afc1e89513464962642e">&#9670;&nbsp;</a></span>event_queue_remove_inserted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_queue_remove_inserted </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03224">3224</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3225</span>{</div>
<div class="line"><span class="lineno"> 3226</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 3227</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(!(ev-&gt;ev_flags &amp; EVLIST_INSERTED))) {</div>
<div class="line"><span class="lineno"> 3228</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s: %p(fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;) not on queue %x&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 3229</span>            ev, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), EVLIST_INSERTED);</div>
<div class="line"><span class="lineno"> 3230</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3231</span>    }</div>
<div class="line"><span class="lineno"> 3232</span>    <a class="code hl_define" href="event_8c.html#acd333867b976433dc3d1a7350d88812f">DECR_EVENT_COUNT</a>(base, ev-&gt;ev_flags);</div>
<div class="line"><span class="lineno"> 3233</span>    ev-&gt;ev_flags &amp;= ~EVLIST_INSERTED;</div>
<div class="line"><span class="lineno"> 3234</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event_8c_source.html#l03216">DECR_EVENT_COUNT</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, and <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="a9eca687246bc048effecda8ab8db6038" name="a9eca687246bc048effecda8ab8db6038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eca687246bc048effecda8ab8db6038">&#9670;&nbsp;</a></span>event_queue_remove_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_queue_remove_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03267">3267</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3268</span>{</div>
<div class="line"><span class="lineno"> 3269</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 3270</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(!(ev-&gt;ev_flags &amp; EVLIST_TIMEOUT))) {</div>
<div class="line"><span class="lineno"> 3271</span>        <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1, <span class="stringliteral">&quot;%s: %p(fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;) not on queue %x&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>,</div>
<div class="line"><span class="lineno"> 3272</span>            ev, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), EVLIST_TIMEOUT);</div>
<div class="line"><span class="lineno"> 3273</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3274</span>    }</div>
<div class="line"><span class="lineno"> 3275</span>    <a class="code hl_define" href="event_8c.html#acd333867b976433dc3d1a7350d88812f">DECR_EVENT_COUNT</a>(base, ev-&gt;ev_flags);</div>
<div class="line"><span class="lineno"> 3276</span>    ev-&gt;ev_flags &amp;= ~EVLIST_TIMEOUT;</div>
<div class="line"><span class="lineno"> 3277</span> </div>
<div class="line"><span class="lineno"> 3278</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(&amp;ev-&gt;ev_timeout, base)) {</div>
<div class="line"><span class="lineno"> 3279</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl =</div>
<div class="line"><span class="lineno"> 3280</span>            <a class="code hl_function" href="event_8c.html#aca5c888c116f4c7fe12e343185d53dc4">get_common_timeout_list</a>(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>, &amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 3281</span>        TAILQ_REMOVE(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>, ev,</div>
<div class="line"><span class="lineno"> 3282</span>            ev_timeout_pos.ev_next_with_common_timeout);</div>
<div class="line"><span class="lineno"> 3283</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3284</span>        <a class="code hl_function" href="minheap-internal_8h.html#aea5dc1e43739ddc89f854ea04410c4ae">min_heap_erase_</a>(&amp;<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>, ev);</div>
<div class="line"><span class="lineno"> 3285</span>    }</div>
<div class="line"><span class="lineno"> 3286</span>}</div>
<div class="ttc" id="aminheap-internal_8h_html_aea5dc1e43739ddc89f854ea04410c4ae"><div class="ttname"><a href="minheap-internal_8h.html#aea5dc1e43739ddc89f854ea04410c4ae">min_heap_erase_</a></div><div class="ttdeci">static int min_heap_erase_(min_heap_t *s, struct event *e)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00096">minheap-internal.h:96</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event_8c_source.html#l03216">DECR_EVENT_COUNT</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>, <a class="el" href="event_8c_source.html#l01430">get_common_timeout_list()</a>, <a class="el" href="event_8c_source.html#l01408">is_common_timeout()</a>, <a class="el" href="minheap-internal_8h_source.html#l00096">min_heap_erase_()</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, and <a class="el" href="event_8c_source.html#l02555">event_remove_timer_nolock_()</a>.</p>

</div>
</div>
<a id="a7409499a79a59842955928af446fe03d" name="a7409499a79a59842955928af446fe03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7409499a79a59842955928af446fe03d">&#9670;&nbsp;</a></span>event_reinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_reinit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00981">981</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  982</span>{</div>
<div class="line"><span class="lineno">  983</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel;</div>
<div class="line"><span class="lineno">  984</span>    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><span class="lineno">  985</span>    <span class="keywordtype">int</span> was_notifiable = 0;</div>
<div class="line"><span class="lineno">  986</span>    <span class="keywordtype">int</span> had_signal_added = 0;</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span>    evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>;</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>    <span class="comment">/* check if this event mechanism requires reinit on the backend */</span></div>
<div class="line"><span class="lineno">  993</span>    <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#a542f6de57ac994c0e2d663570bbe494e">need_reinit</a>) {</div>
<div class="line"><span class="lineno">  994</span>        <span class="comment">/* We&#39;re going to call event_del() on our notify events (the</span></div>
<div class="line"><span class="lineno">  995</span><span class="comment">         * ones that tell about signals and wakeup events).  But we</span></div>
<div class="line"><span class="lineno">  996</span><span class="comment">         * don&#39;t actually want to tell the backend to change its</span></div>
<div class="line"><span class="lineno">  997</span><span class="comment">         * state, since it might still share some resource (a kqueue,</span></div>
<div class="line"><span class="lineno">  998</span><span class="comment">         * an epoll fd) with the parent process, and we don&#39;t want to</span></div>
<div class="line"><span class="lineno">  999</span><span class="comment">         * delete the fds from _that_ backend, we temporarily stub out</span></div>
<div class="line"><span class="lineno"> 1000</span><span class="comment">         * the evsel with a replacement.</span></div>
<div class="line"><span class="lineno"> 1001</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1002</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a> = &amp;<a class="code hl_variable" href="event_8c.html#ae51f1eec5c67037507cd24fc94acac44">nil_eventop</a>;</div>
<div class="line"><span class="lineno"> 1003</span>    }</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>    <span class="comment">/* We need to re-create a new signal-notification fd and a new</span></div>
<div class="line"><span class="lineno"> 1006</span><span class="comment">     * thread-notification fd.  Otherwise, we&#39;ll still share those with</span></div>
<div class="line"><span class="lineno"> 1007</span><span class="comment">     * the parent process, which would make any notification sent to them</span></div>
<div class="line"><span class="lineno"> 1008</span><span class="comment">     * get received by one or both of the event loops, more or less at</span></div>
<div class="line"><span class="lineno"> 1009</span><span class="comment">     * random.</span></div>
<div class="line"><span class="lineno"> 1010</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1011</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a7a18f3a99a0572e1a6a798470de759e3">ev_signal_added</a>) {</div>
<div class="line"><span class="lineno"> 1012</span>        <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#aa951707b1d8e710117841951edbd7fa8">ev_signal</a>, <a class="code hl_define" href="event-internal_8h.html#a5b986417655459f13495c7e24acf8ac9">EVENT_DEL_AUTOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 1013</span>        <a class="code hl_function" href="event_8c.html#addc542c0516f6532cf2e9a645bd1694a">event_debug_unassign</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#aa951707b1d8e710117841951edbd7fa8">ev_signal</a>);</div>
<div class="line"><span class="lineno"> 1014</span>        memset(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#aa951707b1d8e710117841951edbd7fa8">ev_signal</a>, 0, <span class="keyword">sizeof</span>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#aa951707b1d8e710117841951edbd7fa8">ev_signal</a>));</div>
<div class="line"><span class="lineno"> 1015</span>        had_signal_added = 1;</div>
<div class="line"><span class="lineno"> 1016</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a7a18f3a99a0572e1a6a798470de759e3">ev_signal_added</a> = 0;</div>
<div class="line"><span class="lineno"> 1017</span>    }</div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a2edadc6765050f7104c4374d541a9392">ev_signal_pair</a>[0] != -1)</div>
<div class="line"><span class="lineno"> 1019</span>        EVUTIL_CLOSESOCKET(base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a2edadc6765050f7104c4374d541a9392">ev_signal_pair</a>[0]);</div>
<div class="line"><span class="lineno"> 1020</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a2edadc6765050f7104c4374d541a9392">ev_signal_pair</a>[1] != -1)</div>
<div class="line"><span class="lineno"> 1021</span>        EVUTIL_CLOSESOCKET(base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a2edadc6765050f7104c4374d541a9392">ev_signal_pair</a>[1]);</div>
<div class="line"><span class="lineno"> 1022</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#adc4ea44a6ee85cefd913e57dfb57b88e">th_notify_fn</a> != NULL) {</div>
<div class="line"><span class="lineno"> 1023</span>        was_notifiable = 1;</div>
<div class="line"><span class="lineno"> 1024</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#adc4ea44a6ee85cefd913e57dfb57b88e">th_notify_fn</a> = NULL;</div>
<div class="line"><span class="lineno"> 1025</span>    }</div>
<div class="line"><span class="lineno"> 1026</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0] != -1) {</div>
<div class="line"><span class="lineno"> 1027</span>        <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a3ce8b297e9c64d42e2d00be80ffb4d28">th_notify</a>, <a class="code hl_define" href="event-internal_8h.html#a5b986417655459f13495c7e24acf8ac9">EVENT_DEL_AUTOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 1028</span>        EVUTIL_CLOSESOCKET(base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0]);</div>
<div class="line"><span class="lineno"> 1029</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1] != -1)</div>
<div class="line"><span class="lineno"> 1030</span>            EVUTIL_CLOSESOCKET(base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1]);</div>
<div class="line"><span class="lineno"> 1031</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0] = -1;</div>
<div class="line"><span class="lineno"> 1032</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1] = -1;</div>
<div class="line"><span class="lineno"> 1033</span>        <a class="code hl_function" href="event_8c.html#addc542c0516f6532cf2e9a645bd1694a">event_debug_unassign</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a3ce8b297e9c64d42e2d00be80ffb4d28">th_notify</a>);</div>
<div class="line"><span class="lineno"> 1034</span>    }</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>    <span class="comment">/* Replace the original evsel. */</span></div>
<div class="line"><span class="lineno"> 1037</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a> = evsel;</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#a542f6de57ac994c0e2d663570bbe494e">need_reinit</a>) {</div>
<div class="line"><span class="lineno"> 1040</span>        <span class="comment">/* Reconstruct the backend through brute-force, so that we do</span></div>
<div class="line"><span class="lineno"> 1041</span><span class="comment">         * not share any structures with the parent process. For some</span></div>
<div class="line"><span class="lineno"> 1042</span><span class="comment">         * backends, this is necessary: epoll and kqueue, for</span></div>
<div class="line"><span class="lineno"> 1043</span><span class="comment">         * instance, have events associated with a kernel</span></div>
<div class="line"><span class="lineno"> 1044</span><span class="comment">         * structure. If didn&#39;t reinitialize, we&#39;d share that</span></div>
<div class="line"><span class="lineno"> 1045</span><span class="comment">         * structure with the parent process, and any changes made by</span></div>
<div class="line"><span class="lineno"> 1046</span><span class="comment">         * the parent would affect our backend&#39;s behavior (and vice</span></div>
<div class="line"><span class="lineno"> 1047</span><span class="comment">         * versa).</span></div>
<div class="line"><span class="lineno"> 1048</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1049</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#ad16bfece64f9b400c149cd33b17c6746">dealloc</a> != NULL)</div>
<div class="line"><span class="lineno"> 1050</span>            base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#ad16bfece64f9b400c149cd33b17c6746">dealloc</a>(base);</div>
<div class="line"><span class="lineno"> 1051</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#ac69c16250431b118d0f066244a67da56">evbase</a> = evsel-&gt;<a class="code hl_variable" href="structeventop.html#afbede54539e157e0441f8186f74dd606">init</a>(base);</div>
<div class="line"><span class="lineno"> 1052</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ac69c16250431b118d0f066244a67da56">evbase</a> == NULL) {</div>
<div class="line"><span class="lineno"> 1053</span>            <a class="code hl_function" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx</a>(1,</div>
<div class="line"><span class="lineno"> 1054</span>               <span class="stringliteral">&quot;%s: could not reinitialize event mechanism&quot;</span>,</div>
<div class="line"><span class="lineno"> 1055</span>               <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 1056</span>            res = -1;</div>
<div class="line"><span class="lineno"> 1057</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1058</span>        }</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>        <span class="comment">/* Empty out the changelist (if any): we are starting from a</span></div>
<div class="line"><span class="lineno"> 1061</span><span class="comment">         * blank slate. */</span></div>
<div class="line"><span class="lineno"> 1062</span>        <a class="code hl_function" href="changelist-internal_8h.html#a7776028e11ff5cf2d12de2cadc028b56">event_changelist_freemem_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a91a445ff7af6e157a35b3b2276b5f1a2">changelist</a>);</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>        <span class="comment">/* Tell the event maps to re-inform the backend about all</span></div>
<div class="line"><span class="lineno"> 1065</span><span class="comment">         * pending events. This will make the signal notification</span></div>
<div class="line"><span class="lineno"> 1066</span><span class="comment">         * event get re-created if necessary. */</span></div>
<div class="line"><span class="lineno"> 1067</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evmap-internal_8h.html#a6c6bf184dee8fd1da0ca746717e77b70">evmap_reinit_</a>(base) &lt; 0)</div>
<div class="line"><span class="lineno"> 1068</span>            res = -1;</div>
<div class="line"><span class="lineno"> 1069</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1070</span>        res = <a class="code hl_function" href="evsignal-internal_8h.html#a6df9a0db70a34719c003fd755b4fc4a3">evsig_init_</a>(base);</div>
<div class="line"><span class="lineno"> 1071</span>        <span class="keywordflow">if</span> (res == 0 &amp;&amp; had_signal_added) {</div>
<div class="line"><span class="lineno"> 1072</span>            res = <a class="code hl_function" href="event_8c.html#a4ce9a3ab811fb589cbd8f625bdba9b92">event_add_nolock_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#aa951707b1d8e710117841951edbd7fa8">ev_signal</a>, NULL, 0);</div>
<div class="line"><span class="lineno"> 1073</span>            <span class="keywordflow">if</span> (res == 0)</div>
<div class="line"><span class="lineno"> 1074</span>                base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>.<a class="code hl_variable" href="structevsig__info.html#a7a18f3a99a0572e1a6a798470de759e3">ev_signal_added</a> = 1;</div>
<div class="line"><span class="lineno"> 1075</span>        }</div>
<div class="line"><span class="lineno"> 1076</span>    }</div>
<div class="line"><span class="lineno"> 1077</span> </div>
<div class="line"><span class="lineno"> 1078</span>    <span class="comment">/* If we were notifiable before, and nothing just exploded, become</span></div>
<div class="line"><span class="lineno"> 1079</span><span class="comment">     * notifiable again. */</span></div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keywordflow">if</span> (was_notifiable &amp;&amp; res == 0)</div>
<div class="line"><span class="lineno"> 1081</span>        res = <a class="code hl_function" href="event_8c.html#a4444871a14549a8dd747c526599c52a1">evthread_make_base_notifiable_nolock_</a>(base);</div>
<div class="line"><span class="lineno"> 1082</span> </div>
<div class="line"><span class="lineno"> 1083</span>done:</div>
<div class="line"><span class="lineno"> 1084</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1085</span>    <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 1086</span>}</div>
<div class="ttc" id="aevent_8c_html_a4444871a14549a8dd747c526599c52a1"><div class="ttname"><a href="event_8c.html#a4444871a14549a8dd747c526599c52a1">evthread_make_base_notifiable_nolock_</a></div><div class="ttdeci">static int evthread_make_base_notifiable_nolock_(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03631">event.c:3631</a></div></div>
<div class="ttc" id="aevent_8c_html_ae51f1eec5c67037507cd24fc94acac44"><div class="ttname"><a href="event_8c.html#ae51f1eec5c67037507cd24fc94acac44">nil_eventop</a></div><div class="ttdeci">const struct eventop nil_eventop</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00969">event.c:969</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a6c6bf184dee8fd1da0ca746717e77b70"><div class="ttname"><a href="evmap-internal_8h.html#a6c6bf184dee8fd1da0ca746717e77b70">evmap_reinit_</a></div><div class="ttdeci">int evmap_reinit_(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00653">evmap.c:653</a></div></div>
<div class="ttc" id="aevsignal-internal_8h_html_a6df9a0db70a34719c003fd755b4fc4a3"><div class="ttname"><a href="evsignal-internal_8h.html#a6df9a0db70a34719c003fd755b4fc4a3">evsig_init_</a></div><div class="ttdeci">int evsig_init_(struct event_base *)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00176">signal.c:176</a></div></div>
<div class="ttc" id="astructevent__base_html_adc4ea44a6ee85cefd913e57dfb57b88e"><div class="ttname"><a href="structevent__base.html#adc4ea44a6ee85cefd913e57dfb57b88e">event_base::th_notify_fn</a></div><div class="ttdeci">int(* th_notify_fn)(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00340">event-internal.h:340</a></div></div>
<div class="ttc" id="astructeventop_html_a542f6de57ac994c0e2d663570bbe494e"><div class="ttname"><a href="structeventop.html#a542f6de57ac994c0e2d663570bbe494e">eventop::need_reinit</a></div><div class="ttdeci">int need_reinit</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00116">event-internal.h:116</a></div></div>
<div class="ttc" id="astructevsig__info_html_aa951707b1d8e710117841951edbd7fa8"><div class="ttname"><a href="structevsig__info.html#aa951707b1d8e710117841951edbd7fa8">evsig_info::ev_signal</a></div><div class="ttdeci">struct event ev_signal</div><div class="ttdef"><b>Definition:</b> <a href="evsignal-internal_8h_source.html#l00041">evsignal-internal.h:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event-internal_8h_source.html#l00217">event_base::changelist</a>, <a class="el" href="event-internal_8h_source.html#l00113">eventop::dealloc</a>, <a class="el" href="evsignal-internal_8h_source.html#l00041">evsig_info::ev_signal</a>, <a class="el" href="evsignal-internal_8h_source.html#l00045">evsig_info::ev_signal_added</a>, <a class="el" href="evsignal-internal_8h_source.html#l00043">evsig_info::ev_signal_pair</a>, <a class="el" href="event-internal_8h_source.html#l00213">event_base::evbase</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="evmap_8c_source.html#l00800">event_changelist_freemem_()</a>, <a class="el" href="event_8c_source.html#l02237">event_debug_unassign()</a>, <a class="el" href="event-internal_8h_source.html#l00420">EVENT_DEL_AUTOBLOCK</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, <a class="el" href="log-internal_8h.html#a806e47302b770376a451ae2efac9a504">event_errx()</a>, <a class="el" href="evmap_8c_source.html#l00653">evmap_reinit_()</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="signal_8c_source.html#l00176">evsig_init_()</a>, <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>, <a class="el" href="event-internal_8h_source.html#l00094">eventop::init</a>, <a class="el" href="event-internal_8h_source.html#l00116">eventop::need_reinit</a>, <a class="el" href="event_8c_source.html#l00969">nil_eventop</a>, <a class="el" href="event-internal_8h_source.html#l00223">event_base::sig</a>, <a class="el" href="event-internal_8h_source.html#l00338">event_base::th_notify</a>, <a class="el" href="event-internal_8h_source.html#l00335">event_base::th_notify_fd</a>, and <a class="el" href="event-internal_8h_source.html#l00340">event_base::th_notify_fn</a>.</p>

</div>
</div>
<a id="af4a725e7866bce74ea18833d21fe714e" name="af4a725e7866bce74ea18833d21fe714e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4a725e7866bce74ea18833d21fe714e">&#9670;&nbsp;</a></span>event_remove_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_remove_timer </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02574">2574</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2575</span>{</div>
<div class="line"><span class="lineno"> 2576</span>    <span class="keywordtype">int</span> res;</div>
<div class="line"><span class="lineno"> 2577</span> </div>
<div class="line"><span class="lineno"> 2578</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a8b00f9822385cc93daa80a9b9c56406d">EVUTIL_FAILURE_CHECK</a>(!ev-&gt;ev_base)) {</div>
<div class="line"><span class="lineno"> 2579</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;%s: event has no event_base set.&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2580</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2581</span>    }</div>
<div class="line"><span class="lineno"> 2582</span> </div>
<div class="line"><span class="lineno"> 2583</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2584</span> </div>
<div class="line"><span class="lineno"> 2585</span>    res = <a class="code hl_function" href="event_8c.html#aeffedf24376f5fc194b975900bcd498d">event_remove_timer_nolock_</a>(ev);</div>
<div class="line"><span class="lineno"> 2586</span> </div>
<div class="line"><span class="lineno"> 2587</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2588</span> </div>
<div class="line"><span class="lineno"> 2589</span>    <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 2590</span>}</div>
<div class="ttc" id="aevent_8c_html_aeffedf24376f5fc194b975900bcd498d"><div class="ttname"><a href="event_8c.html#aeffedf24376f5fc194b975900bcd498d">event_remove_timer_nolock_</a></div><div class="ttdeci">int event_remove_timer_nolock_(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02555">event.c:2555</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02555">event_remove_timer_nolock_()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="util-internal_8h_source.html#l00377">EVUTIL_FAILURE_CHECK</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00993">bufferevent_generic_adj_existing_timeouts_()</a>.</p>

</div>
</div>
<a id="aeffedf24376f5fc194b975900bcd498d" name="aeffedf24376f5fc194b975900bcd498d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeffedf24376f5fc194b975900bcd498d">&#9670;&nbsp;</a></span>event_remove_timer_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_remove_timer_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02555">2555</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2556</span>{</div>
<div class="line"><span class="lineno"> 2557</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2558</span> </div>
<div class="line"><span class="lineno"> 2559</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 2560</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2561</span> </div>
<div class="line"><span class="lineno"> 2562</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;event_remove_timer_nolock: event: %p&quot;</span>, ev));</div>
<div class="line"><span class="lineno"> 2563</span> </div>
<div class="line"><span class="lineno"> 2564</span>    <span class="comment">/* If it&#39;s not pending on a timeout, we don&#39;t need to do anything. */</span></div>
<div class="line"><span class="lineno"> 2565</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 2566</span>        <a class="code hl_function" href="event_8c.html#a9eca687246bc048effecda8ab8db6038">event_queue_remove_timeout</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2567</span>        evutil_timerclear(&amp;ev-&gt;ev_.ev_io.ev_timeout);</div>
<div class="line"><span class="lineno"> 2568</span>    }</div>
<div class="line"><span class="lineno"> 2569</span> </div>
<div class="line"><span class="lineno"> 2570</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2571</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>, and <a class="el" href="event_8c_source.html#l03267">event_queue_remove_timeout()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02574">event_remove_timer()</a>.</p>

</div>
</div>
<a id="a3fef417ca79da2449f269e1d72aa74b4" name="a3fef417ca79da2449f269e1d72aa74b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fef417ca79da2449f269e1d72aa74b4">&#9670;&nbsp;</a></span>event_self_cbarg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * event_self_cbarg </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02188">2188</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2189</span>{</div>
<div class="line"><span class="lineno"> 2190</span>    <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="event_8c.html#af31856048b322e785beb0d494f6c5058">event_self_cbarg_ptr_</a>;</div>
<div class="line"><span class="lineno"> 2191</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00135">event_self_cbarg_ptr_</a>.</p>

</div>
</div>
<a id="a35e52a4128008b5ab69c4ea2f1ab41ae" name="a35e52a4128008b5ab69c4ea2f1ab41ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e52a4128008b5ab69c4ea2f1ab41ae">&#9670;&nbsp;</a></span>event_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_set </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(evutil_socket_t, short, void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02179">2179</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2181</span>{</div>
<div class="line"><span class="lineno"> 2182</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 2183</span>    r = <a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(ev, <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>, fd, events, callback, arg);</div>
<div class="line"><span class="lineno"> 2184</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(r == 0);</div>
<div class="line"><span class="lineno"> 2185</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00205">event_once::arg</a>, <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="event-internal_8h_source.html#l00202">event_once::ev</a>, <a class="el" href="event_8c_source.html#l02113">event_assign()</a>, and <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>.</p>

</div>
</div>
<a id="a653e38c4bdd2f3b2d7476fcee95c1a62" name="a653e38c4bdd2f3b2d7476fcee95c1a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a653e38c4bdd2f3b2d7476fcee95c1a62">&#9670;&nbsp;</a></span>event_set_mem_functions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_set_mem_functions </td>
          <td>(</td>
          <td class="paramtype">void *(*)(size_t sz)&#160;</td>
          <td class="paramname"><em>malloc_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(void *ptr, size_t sz)&#160;</td>
          <td class="paramname"><em>realloc_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *ptr)&#160;</td>
          <td class="paramname"><em>free_fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03571">3571</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3574</span>{</div>
<div class="line"><span class="lineno"> 3575</span>    <a class="code hl_variable" href="event_8c.html#ad083139f3239682929a9ae330e2174d4">mm_malloc_fn_</a> = malloc_fn;</div>
<div class="line"><span class="lineno"> 3576</span>    <a class="code hl_variable" href="event_8c.html#aeba3bfaa2fb3ce0a2e5ffad4ce77d90d">mm_realloc_fn_</a> = realloc_fn;</div>
<div class="line"><span class="lineno"> 3577</span>    <a class="code hl_variable" href="event_8c.html#a2b30ec95fb03489b39308baa6b5f90c2">mm_free_fn_</a> = free_fn;</div>
<div class="line"><span class="lineno"> 3578</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l03481">mm_free_fn_</a>, <a class="el" href="event_8c_source.html#l03479">mm_malloc_fn_</a>, and <a class="el" href="event_8c_source.html#l03480">mm_realloc_fn_</a>.</p>

</div>
</div>
<a id="a0c32a99f53efd3ca27f6141f25f25bb3" name="a0c32a99f53efd3ca27f6141f25f25bb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c32a99f53efd3ca27f6141f25f25bb3">&#9670;&nbsp;</a></span>event_signal_closure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_signal_closure </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01354">1354</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1355</span>{</div>
<div class="line"><span class="lineno"> 1356</span>    <span class="keywordtype">short</span> ncalls;</div>
<div class="line"><span class="lineno"> 1357</span>    <span class="keywordtype">int</span> should_break;</div>
<div class="line"><span class="lineno"> 1358</span> </div>
<div class="line"><span class="lineno"> 1359</span>    <span class="comment">/* Allows deletes to work */</span></div>
<div class="line"><span class="lineno"> 1360</span>    ncalls = ev-&gt;ev_ncalls;</div>
<div class="line"><span class="lineno"> 1361</span>    <span class="keywordflow">if</span> (ncalls != 0)</div>
<div class="line"><span class="lineno"> 1362</span>        ev-&gt;ev_pncalls = &amp;ncalls;</div>
<div class="line"><span class="lineno"> 1363</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1364</span>    <span class="keywordflow">while</span> (ncalls) {</div>
<div class="line"><span class="lineno"> 1365</span>        ncalls--;</div>
<div class="line"><span class="lineno"> 1366</span>        ev-&gt;ev_ncalls = ncalls;</div>
<div class="line"><span class="lineno"> 1367</span>        <span class="keywordflow">if</span> (ncalls == 0)</div>
<div class="line"><span class="lineno"> 1368</span>            ev-&gt;ev_pncalls = NULL;</div>
<div class="line"><span class="lineno"> 1369</span>        (*ev-&gt;ev_callback)(ev-&gt;ev_fd, ev-&gt;ev_res, ev-&gt;ev_arg);</div>
<div class="line"><span class="lineno"> 1370</span> </div>
<div class="line"><span class="lineno"> 1371</span>        <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1372</span>        should_break = base-&gt;<a class="code hl_variable" href="structevent__base.html#a62565fb082b09a6abf4a19141a1a7f77">event_break</a>;</div>
<div class="line"><span class="lineno"> 1373</span>        <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 1374</span> </div>
<div class="line"><span class="lineno"> 1375</span>        <span class="keywordflow">if</span> (should_break) {</div>
<div class="line"><span class="lineno"> 1376</span>            <span class="keywordflow">if</span> (ncalls != 0)</div>
<div class="line"><span class="lineno"> 1377</span>                ev-&gt;ev_pncalls = NULL;</div>
<div class="line"><span class="lineno"> 1378</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1379</span>        }</div>
<div class="line"><span class="lineno"> 1380</span>    }</div>
<div class="line"><span class="lineno"> 1381</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="event-internal_8h_source.html#l00242">event_base::event_break</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>.</p>

</div>
</div>
<a id="a983e7de51e0271404f0801df799876bc" name="a983e7de51e0271404f0801df799876bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a983e7de51e0271404f0801df799876bc">&#9670;&nbsp;</a></span>event_to_event_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct event_callback * event_to_event_callback </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00499">499</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  500</span>{</div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordflow">return</span> &amp;ev-&gt;ev_evcallback;</div>
<div class="line"><span class="lineno">  502</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02978">event_active_later_nolock_()</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, and <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="ad6ce3b3efff53b41758944a8b486f62c" name="ad6ce3b3efff53b41758944a8b486f62c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ce3b3efff53b41758944a8b486f62c">&#9670;&nbsp;</a></span>evthread_make_base_notifiable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evthread_make_base_notifiable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03618">3618</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3619</span>{</div>
<div class="line"><span class="lineno"> 3620</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 3621</span>    <span class="keywordflow">if</span> (!base)</div>
<div class="line"><span class="lineno"> 3622</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3623</span> </div>
<div class="line"><span class="lineno"> 3624</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3625</span>    r = <a class="code hl_function" href="event_8c.html#a4444871a14549a8dd747c526599c52a1">evthread_make_base_notifiable_nolock_</a>(base);</div>
<div class="line"><span class="lineno"> 3626</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3627</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3628</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>.</p>

</div>
</div>
<a id="a4444871a14549a8dd747c526599c52a1" name="a4444871a14549a8dd747c526599c52a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4444871a14549a8dd747c526599c52a1">&#9670;&nbsp;</a></span>evthread_make_base_notifiable_nolock_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evthread_make_base_notifiable_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03631">3631</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3632</span>{</div>
<div class="line"><span class="lineno"> 3633</span>    void (*cb)(evutil_socket_t, short, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno"> 3634</span>    int (*notify)(<span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *);</div>
<div class="line"><span class="lineno"> 3635</span> </div>
<div class="line"><span class="lineno"> 3636</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#adc4ea44a6ee85cefd913e57dfb57b88e">th_notify_fn</a> != NULL) {</div>
<div class="line"><span class="lineno"> 3637</span>        <span class="comment">/* The base is already notifiable: we&#39;re doing fine. */</span></div>
<div class="line"><span class="lineno"> 3638</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3639</span>    }</div>
<div class="line"><span class="lineno"> 3640</span> </div>
<div class="line"><span class="lineno"> 3641</span><span class="preprocessor">#if defined(EVENT__HAVE_WORKING_KQUEUE)</span></div>
<div class="line"><span class="lineno"> 3642</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a> == &amp;kqops &amp;&amp; <a class="code hl_function" href="kqueue-internal_8h.html#a3841995b80cde0064b30d31d8817f714">event_kq_add_notify_event_</a>(base) == 0) {</div>
<div class="line"><span class="lineno"> 3643</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#adc4ea44a6ee85cefd913e57dfb57b88e">th_notify_fn</a> = <a class="code hl_function" href="kqueue-internal_8h.html#a9ef252426de796012f94ce9c086c9e7d">event_kq_notify_base_</a>;</div>
<div class="line"><span class="lineno"> 3644</span>        <span class="comment">/* No need to add an event here; the backend can wake</span></div>
<div class="line"><span class="lineno"> 3645</span><span class="comment">         * itself up just fine. */</span></div>
<div class="line"><span class="lineno"> 3646</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3647</span>    }</div>
<div class="line"><span class="lineno"> 3648</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3649</span> </div>
<div class="line"><span class="lineno"> 3650</span><span class="preprocessor">#ifdef EVENT__HAVE_EVENTFD</span></div>
<div class="line"><span class="lineno"> 3651</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0] = <a class="code hl_function" href="evutil_8c.html#a180e4a5d182158d6395de687f654ebc5">evutil_eventfd_</a>(0,</div>
<div class="line"><span class="lineno"> 3652</span>        <a class="code hl_define" href="util-internal_8h.html#a78dfde382f0d5a08939804dd36d1e5a6">EVUTIL_EFD_CLOEXEC</a>|<a class="code hl_define" href="util-internal_8h.html#a24ad825cdff36be478e01dfd4a33369e">EVUTIL_EFD_NONBLOCK</a>);</div>
<div class="line"><span class="lineno"> 3653</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0] &gt;= 0) {</div>
<div class="line"><span class="lineno"> 3654</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1] = -1;</div>
<div class="line"><span class="lineno"> 3655</span>        notify = evthread_notify_base_eventfd;</div>
<div class="line"><span class="lineno"> 3656</span>        cb = evthread_notify_drain_eventfd;</div>
<div class="line"><span class="lineno"> 3657</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3658</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3659</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#ac9621ec3160c76f8f6dd67c8007ef4dc">evutil_make_internal_pipe_</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>) == 0) {</div>
<div class="line"><span class="lineno"> 3660</span>        notify = <a class="code hl_function" href="event_8c.html#a41f1214915c4a2d82c2cf69389eb26d4">evthread_notify_base_default</a>;</div>
<div class="line"><span class="lineno"> 3661</span>        cb = <a class="code hl_function" href="event_8c.html#a692f2961885ddc3da22f10fabed77ced">evthread_notify_drain_default</a>;</div>
<div class="line"><span class="lineno"> 3662</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3663</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3664</span>    }</div>
<div class="line"><span class="lineno"> 3665</span> </div>
<div class="line"><span class="lineno"> 3666</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#adc4ea44a6ee85cefd913e57dfb57b88e">th_notify_fn</a> = notify;</div>
<div class="line"><span class="lineno"> 3667</span> </div>
<div class="line"><span class="lineno"> 3668</span>    <span class="comment">/* prepare an event that we can use for wakeup */</span></div>
<div class="line"><span class="lineno"> 3669</span>    <a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a3ce8b297e9c64d42e2d00be80ffb4d28">th_notify</a>, base, base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[0],</div>
<div class="line"><span class="lineno"> 3670</span>                 EV_READ|EV_PERSIST, cb, base);</div>
<div class="line"><span class="lineno"> 3671</span> </div>
<div class="line"><span class="lineno"> 3672</span>    <span class="comment">/* we need to mark this as internal event */</span></div>
<div class="line"><span class="lineno"> 3673</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a3ce8b297e9c64d42e2d00be80ffb4d28">th_notify</a>.ev_flags |= EVLIST_INTERNAL;</div>
<div class="line"><span class="lineno"> 3674</span>    <a class="code hl_function" href="event_8c.html#a4b6b70a0e975a4ab48b1bb4abecded0f">event_priority_set</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a3ce8b297e9c64d42e2d00be80ffb4d28">th_notify</a>, 0);</div>
<div class="line"><span class="lineno"> 3675</span> </div>
<div class="line"><span class="lineno"> 3676</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a4ce9a3ab811fb589cbd8f625bdba9b92">event_add_nolock_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a3ce8b297e9c64d42e2d00be80ffb4d28">th_notify</a>, NULL, 0);</div>
<div class="line"><span class="lineno"> 3677</span>}</div>
<div class="ttc" id="aevent_8c_html_a41f1214915c4a2d82c2cf69389eb26d4"><div class="ttname"><a href="event_8c.html#a41f1214915c4a2d82c2cf69389eb26d4">evthread_notify_base_default</a></div><div class="ttdeci">static int evthread_notify_base_default(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02507">event.c:2507</a></div></div>
<div class="ttc" id="aevent_8c_html_a692f2961885ddc3da22f10fabed77ced"><div class="ttname"><a href="event_8c.html#a692f2961885ddc3da22f10fabed77ced">evthread_notify_drain_default</a></div><div class="ttdeci">static void evthread_notify_drain_default(evutil_socket_t fd, short what, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03600">event.c:3600</a></div></div>
<div class="ttc" id="aevutil_8c_html_a180e4a5d182158d6395de687f654ebc5"><div class="ttname"><a href="evutil_8c.html#a180e4a5d182158d6395de687f654ebc5">evutil_eventfd_</a></div><div class="ttdeci">evutil_socket_t evutil_eventfd_(unsigned initval, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02730">evutil.c:2730</a></div></div>
<div class="ttc" id="aevutil_8c_html_ac9621ec3160c76f8f6dd67c8007ef4dc"><div class="ttname"><a href="evutil_8c.html#ac9621ec3160c76f8f6dd67c8007ef4dc">evutil_make_internal_pipe_</a></div><div class="ttdeci">int evutil_make_internal_pipe_(evutil_socket_t fd[2])</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02672">evutil.c:2672</a></div></div>
<div class="ttc" id="akqueue-internal_8h_html_a3841995b80cde0064b30d31d8817f714"><div class="ttname"><a href="kqueue-internal_8h.html#a3841995b80cde0064b30d31d8817f714">event_kq_add_notify_event_</a></div><div class="ttdeci">int event_kq_add_notify_event_(struct event_base *base)</div></div>
<div class="ttc" id="akqueue-internal_8h_html_a9ef252426de796012f94ce9c086c9e7d"><div class="ttname"><a href="kqueue-internal_8h.html#a9ef252426de796012f94ce9c086c9e7d">event_kq_notify_base_</a></div><div class="ttdeci">int event_kq_notify_base_(struct event_base *base)</div></div>
<div class="ttc" id="autil-internal_8h_html_a24ad825cdff36be478e01dfd4a33369e"><div class="ttname"><a href="util-internal_8h.html#a24ad825cdff36be478e01dfd4a33369e">EVUTIL_EFD_NONBLOCK</a></div><div class="ttdeci">#define EVUTIL_EFD_NONBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00526">util-internal.h:526</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a78dfde382f0d5a08939804dd36d1e5a6"><div class="ttname"><a href="util-internal_8h.html#a78dfde382f0d5a08939804dd36d1e5a6">EVUTIL_EFD_CLOEXEC</a></div><div class="ttdeci">#define EVUTIL_EFD_CLOEXEC</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00531">util-internal.h:531</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l02113">event_assign()</a>, <a class="el" href="kqueue-internal_8h.html#a3841995b80cde0064b30d31d8817f714">event_kq_add_notify_event_()</a>, <a class="el" href="kqueue-internal_8h.html#a9ef252426de796012f94ce9c086c9e7d">event_kq_notify_base_()</a>, <a class="el" href="event_8c_source.html#l02356">event_priority_set()</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="event_8c_source.html#l02507">evthread_notify_base_default()</a>, <a class="el" href="event_8c_source.html#l03600">evthread_notify_drain_default()</a>, <a class="el" href="util-internal_8h_source.html#l00531">EVUTIL_EFD_CLOEXEC</a>, <a class="el" href="util-internal_8h_source.html#l00526">EVUTIL_EFD_NONBLOCK</a>, <a class="el" href="evutil_8c_source.html#l02730">evutil_eventfd_()</a>, <a class="el" href="evutil_8c_source.html#l02672">evutil_make_internal_pipe_()</a>, <a class="el" href="event-internal_8h_source.html#l00338">event_base::th_notify</a>, <a class="el" href="event-internal_8h_source.html#l00335">event_base::th_notify_fd</a>, and <a class="el" href="event-internal_8h_source.html#l00340">event_base::th_notify_fn</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>, and <a class="el" href="event_8c_source.html#l03618">evthread_make_base_notifiable()</a>.</p>

</div>
</div>
<a id="aba00a4b368970f5f6e2c5e39e5556e1e" name="aba00a4b368970f5f6e2c5e39e5556e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba00a4b368970f5f6e2c5e39e5556e1e">&#9670;&nbsp;</a></span>evthread_notify_base()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evthread_notify_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Tell the thread currently running the event_loop for base (if any) that it needs to stop waiting in its dispatch function (if it is) and process all active callbacks. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02541">2541</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2542</span>{</div>
<div class="line"><span class="lineno"> 2543</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 2544</span>    <span class="keywordflow">if</span> (!base-&gt;<a class="code hl_variable" href="structevent__base.html#adc4ea44a6ee85cefd913e57dfb57b88e">th_notify_fn</a>)</div>
<div class="line"><span class="lineno"> 2545</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2546</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a81e1d6dbea69fe075ace12211469d8de">is_notify_pending</a>)</div>
<div class="line"><span class="lineno"> 2547</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2548</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a81e1d6dbea69fe075ace12211469d8de">is_notify_pending</a> = 1;</div>
<div class="line"><span class="lineno"> 2549</span>    <span class="keywordflow">return</span> base-&gt;<a class="code hl_variable" href="structevent__base.html#adc4ea44a6ee85cefd913e57dfb57b88e">th_notify_fn</a>(base);</div>
<div class="line"><span class="lineno"> 2550</span>}</div>
<div class="ttc" id="astructevent__base_html_a81e1d6dbea69fe075ace12211469d8de"><div class="ttname"><a href="structevent__base.html#a81e1d6dbea69fe075ace12211469d8de">event_base::is_notify_pending</a></div><div class="ttdeci">int is_notify_pending</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00332">event-internal.h:332</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="event-internal_8h_source.html#l00332">event_base::is_notify_pending</a>, and <a class="el" href="event-internal_8h_source.html#l00340">event_base::th_notify_fn</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l03880">event_base_del_virtual_()</a>, <a class="el" href="event_8c_source.html#l01857">event_base_loopbreak()</a>, <a class="el" href="event_8c_source.html#l01876">event_base_loopcontinue()</a>, <a class="el" href="event_8c_source.html#l03037">event_callback_activate_later_nolock_()</a>, <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>, and <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="a41f1214915c4a2d82c2cf69389eb26d4" name="a41f1214915c4a2d82c2cf69389eb26d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41f1214915c4a2d82c2cf69389eb26d4">&#9670;&nbsp;</a></span>evthread_notify_base_default()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evthread_notify_base_default </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02507">2507</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2508</span>{</div>
<div class="line"><span class="lineno"> 2509</span>    <span class="keywordtype">char</span> buf[1];</div>
<div class="line"><span class="lineno"> 2510</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 2511</span>    buf[0] = (char) 0;</div>
<div class="line"><span class="lineno"> 2512</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 2513</span>    r = send(base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1], buf, 1, 0);</div>
<div class="line"><span class="lineno"> 2514</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2515</span>    r = write(base-&gt;<a class="code hl_variable" href="structevent__base.html#aa712346eb14b04665a4b19292c75dea5">th_notify_fd</a>[1], buf, 1);</div>
<div class="line"><span class="lineno"> 2516</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2517</span>    <span class="keywordflow">return</span> (r &lt; 0 &amp;&amp; ! <a class="code hl_define" href="util-internal_8h.html#aaa5d448df1cd140f88cf33f4f48fb0a1">EVUTIL_ERR_IS_EAGAIN</a>(errno)) ? -1 : 0;</div>
<div class="line"><span class="lineno"> 2518</span>}</div>
<div class="ttc" id="autil-internal_8h_html_aaa5d448df1cd140f88cf33f4f48fb0a1"><div class="ttname"><a href="util-internal_8h.html#aaa5d448df1cd140f88cf33f4f48fb0a1">EVUTIL_ERR_IS_EAGAIN</a></div><div class="ttdeci">#define EVUTIL_ERR_IS_EAGAIN(e)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00111">util-internal.h:111</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00111">EVUTIL_ERR_IS_EAGAIN</a>, and <a class="el" href="event-internal_8h_source.html#l00335">event_base::th_notify_fd</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>.</p>

</div>
</div>
<a id="a692f2961885ddc3da22f10fabed77ced" name="a692f2961885ddc3da22f10fabed77ced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a692f2961885ddc3da22f10fabed77ced">&#9670;&nbsp;</a></span>evthread_notify_drain_default()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evthread_notify_drain_default </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03600">3600</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3601</span>{</div>
<div class="line"><span class="lineno"> 3602</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[1024];</div>
<div class="line"><span class="lineno"> 3603</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = arg;</div>
<div class="line"><span class="lineno"> 3604</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 3605</span>    <span class="keywordflow">while</span> (recv(fd, (<span class="keywordtype">char</span>*)buf, <span class="keyword">sizeof</span>(buf), 0) &gt; 0)</div>
<div class="line"><span class="lineno"> 3606</span>        ;</div>
<div class="line"><span class="lineno"> 3607</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 3608</span>    <span class="keywordflow">while</span> (read(fd, (<span class="keywordtype">char</span>*)buf, <span class="keyword">sizeof</span>(buf)) &gt; 0)</div>
<div class="line"><span class="lineno"> 3609</span>        ;</div>
<div class="line"><span class="lineno"> 3610</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3611</span> </div>
<div class="line"><span class="lineno"> 3612</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, <a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 3613</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a81e1d6dbea69fe075ace12211469d8de">is_notify_pending</a> = 0;</div>
<div class="line"><span class="lineno"> 3614</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, <a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 3615</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event-internal_8h_source.html#l00332">event_base::is_notify_pending</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>.</p>

</div>
</div>
<a id="aca5c888c116f4c7fe12e343185d53dc4" name="aca5c888c116f4c7fe12e343185d53dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca5c888c116f4c7fe12e343185d53dc4">&#9670;&nbsp;</a></span>get_common_timeout_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcommon__timeout__list.html">common_timeout_list</a> * get_common_timeout_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Requires that 'tv' is a common timeout. Return the corresponding <a class="el" href="structcommon__timeout__list.html">common_timeout_list</a>. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01430">1430</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1431</span>{</div>
<div class="line"><span class="lineno"> 1432</span>    <span class="keywordflow">return</span> base-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>[<a class="code hl_define" href="event_8c.html#a8b06e24327bbf239360f3b3f806957d5">COMMON_TIMEOUT_IDX</a>(tv)];</div>
<div class="line"><span class="lineno"> 1433</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event_8c_source.html#l01403">COMMON_TIMEOUT_IDX</a>, and <a class="el" href="event-internal_8h_source.html#l00275">event_base::common_timeout_queues</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l03415">event_queue_insert_timeout()</a>, and <a class="el" href="event_8c_source.html#l03267">event_queue_remove_timeout()</a>.</p>

</div>
</div>
<a id="a408d8860367b435d7919b7582acfec0b" name="a408d8860367b435d7919b7582acfec0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a408d8860367b435d7919b7582acfec0b">&#9670;&nbsp;</a></span>gettime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int gettime </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Set 'tp' to the current time according to 'base'. We must hold the lock on 'base'. If there is a cached time, return it. Otherwise, use clock_gettime or gettimeofday as appropriate to find out the right time. Return 0 on success, -1 on failure. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00413">413</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  414</span>{</div>
<div class="line"><span class="lineno">  415</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#ade376556c650f951dbc9d579a4000820">tv_cache</a>.tv_sec) {</div>
<div class="line"><span class="lineno">  418</span>        *tp = base-&gt;<a class="code hl_variable" href="structevent__base.html#ade376556c650f951dbc9d579a4000820">tv_cache</a>;</div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  420</span>    }</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil__time_8c.html#ab7f2d66e4a3e0b2b4a76e77cfba0e014">evutil_gettime_monotonic_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a20c589bba72735f895a714cfa937d18b">monotonic_timer</a>, tp) == -1) {</div>
<div class="line"><span class="lineno">  423</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  424</span>    }</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a752a4b51cd696e78cad3992dd440283b">last_updated_clock_diff</a> + <a class="code hl_define" href="event_8c.html#a3d56fa0b50d78f9e0fb4df0f59a2200b">CLOCK_SYNC_INTERVAL</a></div>
<div class="line"><span class="lineno">  427</span>        &lt; tp-&gt;tv_sec) {</div>
<div class="line"><span class="lineno">  428</span>        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno">  429</span>        <a class="code hl_function" href="evutil__time_8c.html#a2ca2db950ffe1e218494428a4c6be268">evutil_gettimeofday</a>(&amp;tv,NULL);</div>
<div class="line"><span class="lineno">  430</span>        evutil_timersub(&amp;tv, tp, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a75c3d90fccab2295e259dbd00bae1f45">tv_clock_diff</a>);</div>
<div class="line"><span class="lineno">  431</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a752a4b51cd696e78cad3992dd440283b">last_updated_clock_diff</a> = tp-&gt;tv_sec;</div>
<div class="line"><span class="lineno">  432</span>    }</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  435</span>}</div>
<div class="ttc" id="aevent_8c_html_a3d56fa0b50d78f9e0fb4df0f59a2200b"><div class="ttname"><a href="event_8c.html#a3d56fa0b50d78f9e0fb4df0f59a2200b">CLOCK_SYNC_INTERVAL</a></div><div class="ttdeci">#define CLOCK_SYNC_INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00405">event.c:405</a></div></div>
<div class="ttc" id="astructevent__base_html_a752a4b51cd696e78cad3992dd440283b"><div class="ttname"><a href="structevent__base.html#a752a4b51cd696e78cad3992dd440283b">event_base::last_updated_clock_diff</a></div><div class="ttdeci">time_t last_updated_clock_diff</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00300">event-internal.h:300</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00405">CLOCK_SYNC_INTERVAL</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="evutil__time_8c_source.html#l00612">evutil_gettime_monotonic_()</a>, <a class="el" href="evutil__time_8c_source.html#l00072">evutil_gettimeofday()</a>, <a class="el" href="event-internal_8h_source.html#l00300">event_base::last_updated_clock_diff</a>, <a class="el" href="event-internal_8h_source.html#l00294">event_base::monotonic_timer</a>, <a class="el" href="event-internal_8h_source.html#l00292">event_base::tv_cache</a>, and <a class="el" href="event-internal_8h_source.html#l00298">event_base::tv_clock_diff</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01462">common_timeout_callback()</a>, <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, <a class="el" href="event_8c_source.html#l01562">event_persist_closure()</a>, <a class="el" href="event_8c_source.html#l01760">event_process_active()</a>, <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>, <a class="el" href="event_8c_source.html#l03143">timeout_next()</a>, <a class="el" href="event_8c_source.html#l03181">timeout_process()</a>, and <a class="el" href="event_8c_source.html#l00467">update_time_cache()</a>.</p>

</div>
</div>
<a id="abaf94acac986b033c7e2e546caee8c7f" name="abaf94acac986b033c7e2e546caee8c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf94acac986b033c7e2e546caee8c7f">&#9670;&nbsp;</a></span>hash_debug_entry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned hash_debug_entry </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structevent__debug__entry.html">event_debug_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00185">185</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  186</span>{</div>
<div class="line"><span class="lineno">  187</span>    <span class="comment">/* We need to do this silliness to convince compilers that we</span></div>
<div class="line"><span class="lineno">  188</span><span class="comment">     * honestly mean to cast e-&gt;ptr to an integer, and discard any</span></div>
<div class="line"><span class="lineno">  189</span><span class="comment">     * part of it that doesn&#39;t fit in an unsigned.</span></div>
<div class="line"><span class="lineno">  190</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordtype">unsigned</span> u = (unsigned) ((ev_uintptr_t) e-&gt;ptr);</div>
<div class="line"><span class="lineno">  192</span>    <span class="comment">/* Our hashtable implementation is pretty sensitive to low bits,</span></div>
<div class="line"><span class="lineno">  193</span><span class="comment">     * and every struct event is over 64 bytes in size, so we can</span></div>
<div class="line"><span class="lineno">  194</span><span class="comment">     * just say &gt;&gt;6. */</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">return</span> (u &gt;&gt; 6);</div>
<div class="line"><span class="lineno">  196</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b68d59031aca7286dbf643d040d7d18" name="a5b68d59031aca7286dbf643d040d7d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b68d59031aca7286dbf643d040d7d18">&#9670;&nbsp;</a></span>HT_HEAD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static HT_HEAD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ht-internal_8h.html#a3915ddaaf31e1e14c7929231e833aebe">HT_PROTOTYPE</a>(&#160;</td>
          <td class="paramname"><em>event_debug_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ht-internal_8h.html#a3915ddaaf31e1e14c7929231e833aebe">HT_PROTOTYPE</a>(&#160;</td>
          <td class="paramname"><em>event_debug_entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00227">227</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  237</span>{</div>
<div class="line"><span class="lineno">  238</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__debug__entry.html">event_debug_entry</a> *dent, find;</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    find.ptr = ev;</div>
<div class="line"><span class="lineno">  244</span>    <a class="code hl_define" href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  245</span>    dent = <a class="code hl_define" href="ht-internal_8h.html#a5ad24c35d95cce0b583e43badc99d1f1">HT_FIND</a>(event_debug_map, &amp;global_debug_map, &amp;find);</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> (dent) {</div>
<div class="line"><span class="lineno">  247</span>        dent-&gt;added = 0;</div>
<div class="line"><span class="lineno">  248</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  249</span>        dent = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(<span class="keyword">sizeof</span>(*dent));</div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">if</span> (!dent)</div>
<div class="line"><span class="lineno">  251</span>            <a class="code hl_function" href="log-internal_8h.html#ae9aa937b8e3367bae06b4f0bebcee904">event_err</a>(1,</div>
<div class="line"><span class="lineno">  252</span>                <span class="stringliteral">&quot;Out of memory in debugging code&quot;</span>);</div>
<div class="line"><span class="lineno">  253</span>        dent-&gt;ptr = ev;</div>
<div class="line"><span class="lineno">  254</span>        dent-&gt;added = 0;</div>
<div class="line"><span class="lineno">  255</span>        <a class="code hl_define" href="ht-internal_8h.html#afb355bc41fcff2ec460a79e81a60e30d">HT_INSERT</a>(event_debug_map, &amp;global_debug_map, dent);</div>
<div class="line"><span class="lineno">  256</span>    }</div>
<div class="line"><span class="lineno">  257</span>    <a class="code hl_define" href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>out:</div>
<div class="line"><span class="lineno">  260</span>    <a class="code hl_variable" href="event_8c.html#a81ada601d92f086041dbcf01f5f26ad0">event_debug_mode_too_late</a> = 1;</div>
<div class="line"><span class="lineno">  261</span>}</div>
<div class="ttc" id="aht-internal_8h_html_afb355bc41fcff2ec460a79e81a60e30d"><div class="ttname"><a href="ht-internal_8h.html#afb355bc41fcff2ec460a79e81a60e30d">HT_INSERT</a></div><div class="ttdeci">#define HT_INSERT(name, head, elm)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00053">ht-internal.h:53</a></div></div>
<div class="ttc" id="alog-internal_8h_html_ae9aa937b8e3367bae06b4f0bebcee904"><div class="ttname"><a href="log-internal_8h.html#ae9aa937b8e3367bae06b4f0bebcee904">event_err</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_err(int eval, const char *fmt,...) EV_CHECK_FMT(2</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f967d431edde0056f824b1d88553548" name="a4f967d431edde0056f824b1d88553548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f967d431edde0056f824b1d88553548">&#9670;&nbsp;</a></span>insert_common_timeout_inorder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void insert_common_timeout_inorder </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommon__timeout__list.html">common_timeout_list</a> *&#160;</td>
          <td class="paramname"><em>ctl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03331">3331</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3333</span>{</div>
<div class="line"><span class="lineno"> 3334</span>    <span class="keyword">struct </span>event *e;</div>
<div class="line"><span class="lineno"> 3335</span>    <span class="comment">/* By all logic, we should just be able to append &#39;ev&#39; to the end of</span></div>
<div class="line"><span class="lineno"> 3336</span><span class="comment">     * ctl-&gt;events, since the timeout on each &#39;ev&#39; is set to {the common</span></div>
<div class="line"><span class="lineno"> 3337</span><span class="comment">     * timeout} + {the time when we add the event}, and so the events</span></div>
<div class="line"><span class="lineno"> 3338</span><span class="comment">     * should arrive in order of their timeeouts.  But just in case</span></div>
<div class="line"><span class="lineno"> 3339</span><span class="comment">     * there&#39;s some wacky threading issue going on, we do a search from</span></div>
<div class="line"><span class="lineno"> 3340</span><span class="comment">     * the end of &#39;ev&#39; to find the right insertion point.</span></div>
<div class="line"><span class="lineno"> 3341</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 3342</span>    TAILQ_FOREACH_REVERSE(e, &amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>,</div>
<div class="line"><span class="lineno"> 3343</span>        event_list, ev_timeout_pos.ev_next_with_common_timeout) {</div>
<div class="line"><span class="lineno"> 3344</span>        <span class="comment">/* This timercmp is a little sneaky, since both ev and e have</span></div>
<div class="line"><span class="lineno"> 3345</span><span class="comment">         * magic values in tv_usec.  Fortunately, they ought to have</span></div>
<div class="line"><span class="lineno"> 3346</span><span class="comment">         * the _same_ magic values in tv_usec.  Let&#39;s assert for that.</span></div>
<div class="line"><span class="lineno"> 3347</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 3348</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(</div>
<div class="line"><span class="lineno"> 3349</span>            <a class="code hl_function" href="event_8c.html#a32d33db512943366b94669dd3f02f20f">is_same_common_timeout</a>(&amp;e-&gt;ev_timeout, &amp;ev-&gt;ev_timeout));</div>
<div class="line"><span class="lineno"> 3350</span>        <span class="keywordflow">if</span> (evutil_timercmp(&amp;ev-&gt;ev_timeout, &amp;e-&gt;ev_timeout, &gt;=)) {</div>
<div class="line"><span class="lineno"> 3351</span>            TAILQ_INSERT_AFTER(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>, e, ev,</div>
<div class="line"><span class="lineno"> 3352</span>                ev_timeout_pos.ev_next_with_common_timeout);</div>
<div class="line"><span class="lineno"> 3353</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3354</span>        }</div>
<div class="line"><span class="lineno"> 3355</span>    }</div>
<div class="line"><span class="lineno"> 3356</span>    TAILQ_INSERT_HEAD(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>, ev,</div>
<div class="line"><span class="lineno"> 3357</span>        ev_timeout_pos.ev_next_with_common_timeout);</div>
<div class="line"><span class="lineno"> 3358</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="event_8c_source.html#l01421">is_same_common_timeout()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03415">event_queue_insert_timeout()</a>.</p>

</div>
</div>
<a id="a23e45fc3b40aa101c03ce6b199483ca6" name="a23e45fc3b40aa101c03ce6b199483ca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23e45fc3b40aa101c03ce6b199483ca6">&#9670;&nbsp;</a></span>is_common_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_common_timeout </td>
          <td>(</td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Return true iff if 'tv' is a common timeout in 'base' </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01408">1408</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1410</span>{</div>
<div class="line"><span class="lineno"> 1411</span>    <span class="keywordtype">int</span> idx;</div>
<div class="line"><span class="lineno"> 1412</span>    <span class="keywordflow">if</span> ((tv-&gt;tv_usec &amp; <a class="code hl_define" href="event_8c.html#ad6896aaffc7cd8cadba9365f3c7f738d">COMMON_TIMEOUT_MASK</a>) != <a class="code hl_define" href="event_8c.html#a80e745a43c8c111761f4297668ebca5f">COMMON_TIMEOUT_MAGIC</a>)</div>
<div class="line"><span class="lineno"> 1413</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1414</span>    idx = <a class="code hl_define" href="event_8c.html#a8b06e24327bbf239360f3b3f806957d5">COMMON_TIMEOUT_IDX</a>(tv);</div>
<div class="line"><span class="lineno"> 1415</span>    <span class="keywordflow">return</span> idx &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>;</div>
<div class="line"><span class="lineno"> 1416</span>}</div>
<div class="ttc" id="aevent_8c_html_ad6896aaffc7cd8cadba9365f3c7f738d"><div class="ttname"><a href="event_8c.html#ad6896aaffc7cd8cadba9365f3c7f738d">COMMON_TIMEOUT_MASK</a></div><div class="ttdeci">#define COMMON_TIMEOUT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01400">event.c:1400</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l01403">COMMON_TIMEOUT_IDX</a>, <a class="el" href="event_8c_source.html#l01401">COMMON_TIMEOUT_MAGIC</a>, <a class="el" href="event_8c_source.html#l01400">COMMON_TIMEOUT_MASK</a>, and <a class="el" href="event-internal_8h_source.html#l00277">event_base::n_common_timeouts</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>, <a class="el" href="event_8c_source.html#l03964">event_base_assert_ok_nolock_()</a>, <a class="el" href="event_8c_source.html#l01487">event_base_init_common_timeout()</a>, <a class="el" href="event_8c_source.html#l01562">event_persist_closure()</a>, <a class="el" href="event_8c_source.html#l03415">event_queue_insert_timeout()</a>, and <a class="el" href="event_8c_source.html#l03267">event_queue_remove_timeout()</a>.</p>

</div>
</div>
<a id="a32d33db512943366b94669dd3f02f20f" name="a32d33db512943366b94669dd3f02f20f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d33db512943366b94669dd3f02f20f">&#9670;&nbsp;</a></span>is_same_common_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_same_common_timeout </td>
          <td>(</td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l01421">1421</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1422</span>{</div>
<div class="line"><span class="lineno"> 1423</span>    <span class="keywordflow">return</span> (tv1-&gt;tv_usec &amp; ~<a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>) ==</div>
<div class="line"><span class="lineno"> 1424</span>        (tv2-&gt;tv_usec &amp; ~MICROSECONDS_MASK);</div>
<div class="line"><span class="lineno"> 1425</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l01397">MICROSECONDS_MASK</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01562">event_persist_closure()</a>, and <a class="el" href="event_8c_source.html#l03331">insert_common_timeout_inorder()</a>.</p>

</div>
</div>
<a id="a254874d6906be003e6405f429ed662ce" name="a254874d6906be003e6405f429ed662ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a254874d6906be003e6405f429ed662ce">&#9670;&nbsp;</a></span>libevent_global_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libevent_global_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03932">3932</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3933</span>{</div>
<div class="line"><span class="lineno"> 3934</span>    <a class="code hl_function" href="event_8c.html#ad6954084f09f614ffbafb1b85e86a27b">event_disable_debug_mode</a>();</div>
<div class="line"><span class="lineno"> 3935</span>    <a class="code hl_function" href="event_8c.html#a594a91e669861602fb7a903635ff85d3">event_free_globals</a>();</div>
<div class="line"><span class="lineno"> 3936</span>}</div>
<div class="ttc" id="aevent_8c_html_a594a91e669861602fb7a903635ff85d3"><div class="ttname"><a href="event_8c.html#a594a91e669861602fb7a903635ff85d3">event_free_globals</a></div><div class="ttdeci">static void event_free_globals(void)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03924">event.c:3924</a></div></div>
<div class="ttc" id="aevent_8c_html_ad6954084f09f614ffbafb1b85e86a27b"><div class="ttname"><a href="event_8c.html#ad6954084f09f614ffbafb1b85e86a27b">event_disable_debug_mode</a></div><div class="ttdeci">void event_disable_debug_mode(void)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00586">event.c:586</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00586">event_disable_debug_mode()</a>, and <a class="el" href="event_8c_source.html#l03924">event_free_globals()</a>.</p>

</div>
</div>
<a id="a4758a46e8f68119e0c40d3532c12c272" name="a4758a46e8f68119e0c40d3532c12c272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4758a46e8f68119e0c40d3532c12c272">&#9670;&nbsp;</a></span>nil_backend_del()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nil_backend_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fdinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00964">964</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  966</span>{</div>
<div class="line"><span class="lineno">  967</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  968</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a20bdbb1a2969d82b124b9dab0d9eefc7" name="a20bdbb1a2969d82b124b9dab0d9eefc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20bdbb1a2969d82b124b9dab0d9eefc7">&#9670;&nbsp;</a></span>timeout_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int timeout_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval **&#160;</td>
          <td class="paramname"><em>tv_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03143">3143</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3144</span>{</div>
<div class="line"><span class="lineno"> 3145</span>    <span class="comment">/* Caller must hold th_base_lock */</span></div>
<div class="line"><span class="lineno"> 3146</span>    <span class="keyword">struct </span>timeval now;</div>
<div class="line"><span class="lineno"> 3147</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno"> 3148</span>    <span class="keyword">struct </span>timeval *tv = *tv_p;</div>
<div class="line"><span class="lineno"> 3149</span>    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><span class="lineno"> 3150</span> </div>
<div class="line"><span class="lineno"> 3151</span>    ev = <a class="code hl_function" href="minheap-internal_8h.html#af370aef7e99d50e8387fd19158fb8515">min_heap_top_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>);</div>
<div class="line"><span class="lineno"> 3152</span> </div>
<div class="line"><span class="lineno"> 3153</span>    <span class="keywordflow">if</span> (ev == NULL) {</div>
<div class="line"><span class="lineno"> 3154</span>        <span class="comment">/* if no time-based events are active wait for I/O */</span></div>
<div class="line"><span class="lineno"> 3155</span>        *tv_p = NULL;</div>
<div class="line"><span class="lineno"> 3156</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 3157</span>    }</div>
<div class="line"><span class="lineno"> 3158</span> </div>
<div class="line"><span class="lineno"> 3159</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;now) == -1) {</div>
<div class="line"><span class="lineno"> 3160</span>        res = -1;</div>
<div class="line"><span class="lineno"> 3161</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 3162</span>    }</div>
<div class="line"><span class="lineno"> 3163</span> </div>
<div class="line"><span class="lineno"> 3164</span>    <span class="keywordflow">if</span> (evutil_timercmp(&amp;ev-&gt;ev_timeout, &amp;now, &lt;=)) {</div>
<div class="line"><span class="lineno"> 3165</span>        evutil_timerclear(tv);</div>
<div class="line"><span class="lineno"> 3166</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 3167</span>    }</div>
<div class="line"><span class="lineno"> 3168</span> </div>
<div class="line"><span class="lineno"> 3169</span>    evutil_timersub(&amp;ev-&gt;ev_timeout, &amp;now, tv);</div>
<div class="line"><span class="lineno"> 3170</span> </div>
<div class="line"><span class="lineno"> 3171</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(tv-&gt;tv_sec &gt;= 0);</div>
<div class="line"><span class="lineno"> 3172</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(tv-&gt;tv_usec &gt;= 0);</div>
<div class="line"><span class="lineno"> 3173</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;timeout_next: event: %p, in %d seconds, %d useconds&quot;</span>, ev, (<span class="keywordtype">int</span>)tv-&gt;tv_sec, (<span class="keywordtype">int</span>)tv-&gt;tv_usec));</div>
<div class="line"><span class="lineno"> 3174</span> </div>
<div class="line"><span class="lineno"> 3175</span>out:</div>
<div class="line"><span class="lineno"> 3176</span>    <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 3177</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, <a class="el" href="minheap-internal_8h_source.html#l00069">min_heap_top_()</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01923">event_base_loop()</a>.</p>

</div>
</div>
<a id="ab376e44421907675a1e700a08aac70f4" name="ab376e44421907675a1e700a08aac70f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab376e44421907675a1e700a08aac70f4">&#9670;&nbsp;</a></span>timeout_process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timeout_process </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03181">3181</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3182</span>{</div>
<div class="line"><span class="lineno"> 3183</span>    <span class="comment">/* Caller must hold lock. */</span></div>
<div class="line"><span class="lineno"> 3184</span>    <span class="keyword">struct </span>timeval now;</div>
<div class="line"><span class="lineno"> 3185</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno"> 3186</span> </div>
<div class="line"><span class="lineno"> 3187</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="minheap-internal_8h.html#a2411e8d421b6f61fd231ef58490e28bf">min_heap_empty_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>)) {</div>
<div class="line"><span class="lineno"> 3188</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3189</span>    }</div>
<div class="line"><span class="lineno"> 3190</span> </div>
<div class="line"><span class="lineno"> 3191</span>    <a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;now);</div>
<div class="line"><span class="lineno"> 3192</span> </div>
<div class="line"><span class="lineno"> 3193</span>    <span class="keywordflow">while</span> ((ev = <a class="code hl_function" href="minheap-internal_8h.html#af370aef7e99d50e8387fd19158fb8515">min_heap_top_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>))) {</div>
<div class="line"><span class="lineno"> 3194</span>        <span class="keywordflow">if</span> (evutil_timercmp(&amp;ev-&gt;ev_timeout, &amp;now, &gt;))</div>
<div class="line"><span class="lineno"> 3195</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3196</span> </div>
<div class="line"><span class="lineno"> 3197</span>        <span class="comment">/* delete this event from the I/O queues */</span></div>
<div class="line"><span class="lineno"> 3198</span>        <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 3199</span> </div>
<div class="line"><span class="lineno"> 3200</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;timeout_process: event: %p, call %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 3201</span>             ev, ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 3202</span>        <a class="code hl_function" href="event_8c.html#a4a08272009a9f1e34985fb25a80f42b6">event_active_nolock_</a>(ev, EV_TIMEOUT, 1);</div>
<div class="line"><span class="lineno"> 3203</span>    }</div>
<div class="line"><span class="lineno"> 3204</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event-internal_8h_source.html#l00412">EVENT_DEL_NOBLOCK</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, <a class="el" href="minheap-internal_8h_source.html#l00067">min_heap_empty_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00069">min_heap_top_()</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01923">event_base_loop()</a>.</p>

</div>
</div>
<a id="a1d9ef2944751ee9f5fa2ac4f9aac308d" name="a1d9ef2944751ee9f5fa2ac4f9aac308d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d9ef2944751ee9f5fa2ac4f9aac308d">&#9670;&nbsp;</a></span>update_time_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_time_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Replace the cached time in 'base' with the current time. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00467">467</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  468</span>{</div>
<div class="line"><span class="lineno">  469</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#ade376556c650f951dbc9d579a4000820">tv_cache</a>.tv_sec = 0;</div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> (!(base-&gt;<a class="code hl_variable" href="structevent__base.html#a006428a1561abfb5709615c077022948">flags</a> &amp; EVENT_BASE_FLAG_NO_CACHE_TIME))</div>
<div class="line"><span class="lineno">  471</span>        <a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#ade376556c650f951dbc9d579a4000820">tv_cache</a>);</div>
<div class="line"><span class="lineno">  472</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00323">event_base::flags</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, and <a class="el" href="event-internal_8h_source.html#l00292">event_base::tv_cache</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01923">event_base_loop()</a>, <a class="el" href="event_8c_source.html#l00475">event_base_update_cache_time()</a>, <a class="el" href="event_8c_source.html#l01760">event_process_active()</a>, and <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae188742324142406ed91ba1e3d4aae03" name="ae188742324142406ed91ba1e3d4aae03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae188742324142406ed91ba1e3d4aae03">&#9670;&nbsp;</a></span>event_debug_created_threadable_ctx_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_debug_created_threadable_ctx_ = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>debug mode variable which is set for any function/structure that needs to be shared across threads (if thread support is enabled). </p>
<p >When and if evthreads are initialized, this variable will be evaluated, and if set to something other than zero, this means the evthread setup functions were called out of order.</p>
<p >See: "Locks and threading" in the documentation. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00219">219</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, <a class="el" href="evthread_8c_source.html#l00136">evthread_set_condition_callbacks()</a>, and <a class="el" href="evthread_8c_source.html#l00093">evthread_set_lock_callbacks()</a>.</p>

</div>
</div>
<a id="aeae80598cf04ce30bbeb1797aa9af121" name="aeae80598cf04ce30bbeb1797aa9af121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae80598cf04ce30bbeb1797aa9af121">&#9670;&nbsp;</a></span>event_debug_map_lock_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* event_debug_map_lock_ = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00225">225</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>, <a class="el" href="event_8c_source.html#l00354">event_debug_assert_not_added_()</a>, <a class="el" href="event_8c_source.html#l00281">event_debug_note_add_()</a>, <a class="el" href="event_8c_source.html#l00307">event_debug_note_del_()</a>, <a class="el" href="event_8c_source.html#l00263">event_debug_note_teardown_()</a>, <a class="el" href="event_8c_source.html#l00586">event_disable_debug_mode()</a>, <a class="el" href="event_8c_source.html#l03891">event_free_debug_globals_locks()</a>, and <a class="el" href="event_8c_source.html#l03940">event_global_setup_locks_()</a>.</p>

</div>
</div>
<a id="a3ede2ba43439e39992899a8c083bbb6a" name="a3ede2ba43439e39992899a8c083bbb6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ede2ba43439e39992899a8c083bbb6a">&#9670;&nbsp;</a></span>event_debug_mode_on_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_debug_mode_on_ = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00205">205</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>, <a class="el" href="event_8c_source.html#l00354">event_debug_assert_not_added_()</a>, <a class="el" href="event_8c_source.html#l00374">event_debug_assert_socket_nonblocking_()</a>, <a class="el" href="event_8c_source.html#l00281">event_debug_note_add_()</a>, <a class="el" href="event_8c_source.html#l00307">event_debug_note_del_()</a>, <a class="el" href="event_8c_source.html#l00263">event_debug_note_teardown_()</a>, <a class="el" href="event_8c_source.html#l00586">event_disable_debug_mode()</a>, <a class="el" href="event_8c_source.html#l00570">event_enable_debug_mode()</a>, <a class="el" href="evthread_8c_source.html#l00136">evthread_set_condition_callbacks()</a>, and <a class="el" href="evthread_8c_source.html#l00093">evthread_set_lock_callbacks()</a>.</p>

</div>
</div>
<a id="a81ada601d92f086041dbcf01f5f26ad0" name="a81ada601d92f086041dbcf01f5f26ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ada601d92f086041dbcf01f5f26ad0">&#9670;&nbsp;</a></span>event_debug_mode_too_late</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int event_debug_mode_too_late = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00223">223</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, <a class="el" href="event_8c_source.html#l00281">event_debug_note_add_()</a>, <a class="el" href="event_8c_source.html#l00307">event_debug_note_del_()</a>, <a class="el" href="event_8c_source.html#l00263">event_debug_note_teardown_()</a>, and <a class="el" href="event_8c_source.html#l00570">event_enable_debug_mode()</a>.</p>

</div>
</div>
<a id="a8987b4eff1c8f162193a4eb06073ac9b" name="a8987b4eff1c8f162193a4eb06073ac9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8987b4eff1c8f162193a4eb06073ac9b">&#9670;&nbsp;</a></span>event_global_current_base_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL struct <a class="el" href="structevent__base.html">event_base</a>* event_global_current_base_ = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00130">130</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a id="af31856048b322e785beb0d494f6c5058" name="af31856048b322e785beb0d494f6c5058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31856048b322e785beb0d494f6c5058">&#9670;&nbsp;</a></span>event_self_cbarg_ptr_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* event_self_cbarg_ptr_ = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00135">135</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02113">event_assign()</a>, and <a class="el" href="event_8c_source.html#l02188">event_self_cbarg()</a>.</p>

</div>
</div>
<a id="a1b3bf59f277db3795ff01c05e937ccbf" name="a1b3bf59f277db3795ff01c05e937ccbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3bf59f277db3795ff01c05e937ccbf">&#9670;&nbsp;</a></span>eventops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structeventop.html">eventop</a>* eventops[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    NULL</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00103">103</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, and <a class="el" href="event_8c_source.html#l01104">event_get_supported_methods()</a>.</p>

</div>
</div>
<a id="a2b30ec95fb03489b39308baa6b5f90c2" name="a2b30ec95fb03489b39308baa6b5f90c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b30ec95fb03489b39308baa6b5f90c2">&#9670;&nbsp;</a></span>mm_free_fn_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void(* mm_free_fn_) (void *p) </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03481">3481</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03562">event_mm_free_()</a>, and <a class="el" href="event_8c_source.html#l03571">event_set_mem_functions()</a>.</p>

</div>
</div>
<a id="ad083139f3239682929a9ae330e2174d4" name="ad083139f3239682929a9ae330e2174d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad083139f3239682929a9ae330e2174d4">&#9670;&nbsp;</a></span>mm_malloc_fn_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void *(* mm_malloc_fn_) (size_t sz) </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em></td><td>)</td>
          <td> = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03479">3479</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03496">event_mm_calloc_()</a>, <a class="el" href="event_8c_source.html#l03484">event_mm_malloc_()</a>, <a class="el" href="event_8c_source.html#l03525">event_mm_strdup_()</a>, and <a class="el" href="event_8c_source.html#l03571">event_set_mem_functions()</a>.</p>

</div>
</div>
<a id="aeba3bfaa2fb3ce0a2e5ffad4ce77d90d" name="aeba3bfaa2fb3ce0a2e5ffad4ce77d90d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba3bfaa2fb3ce0a2e5ffad4ce77d90d">&#9670;&nbsp;</a></span>mm_realloc_fn_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void *(* mm_realloc_fn_) (void *p, size_t sz) </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03480">3480</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03553">event_mm_realloc_()</a>, and <a class="el" href="event_8c_source.html#l03571">event_set_mem_functions()</a>.</p>

</div>
</div>
<a id="ae51f1eec5c67037507cd24fc94acac44" name="ae51f1eec5c67037507cd24fc94acac44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae51f1eec5c67037507cd24fc94acac44">&#9670;&nbsp;</a></span>nil_eventop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structeventop.html">eventop</a> nil_eventop</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="stringliteral">&quot;nil&quot;</span>,</div>
<div class="line">    NULL, </div>
<div class="line">    NULL, </div>
<div class="line">    <a class="code hl_function" href="event_8c.html#a4758a46e8f68119e0c40d3532c12c272">nil_backend_del</a>, </div>
<div class="line">    NULL, </div>
<div class="line">    NULL, </div>
<div class="line">    0, 0, 0</div>
<div class="line">}</div>
<div class="ttc" id="aevent_8c_html_a4758a46e8f68119e0c40d3532c12c272"><div class="ttname"><a href="event_8c.html#a4758a46e8f68119e0c40d3532c12c272">nil_backend_del</a></div><div class="ttdeci">static int nil_backend_del(struct event_base *b, evutil_socket_t fd, short old, short events, void *fdinfo)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00964">event.c:964</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00969">969</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
