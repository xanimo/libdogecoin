<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/libevent/bufferevent_openssl.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_97979c17d049e8002d2e089c4964ead4.html">libevent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">bufferevent_openssl.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;event2/event-config.h&quot;</code><br />
<code>#include &quot;evconfig-private.h&quot;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;event2/bufferevent.h&quot;</code><br />
<code>#include &quot;event2/bufferevent_struct.h&quot;</code><br />
<code>#include &quot;event2/bufferevent_ssl.h&quot;</code><br />
<code>#include &quot;event2/buffer.h&quot;</code><br />
<code>#include &quot;event2/event.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mm-internal_8h_source.html">mm-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bufferevent-internal_8h_source.html">bufferevent-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log-internal_8h_source.html">log-internal.h</a>&quot;</code><br />
<code>#include &lt;openssl/ssl.h&gt;</code><br />
<code>#include &lt;openssl/err.h&gt;</code><br />
<code>#include &quot;<a class="el" href="openssl-compat_8h_source.html">openssl-compat.h</a>&quot;</code><br />
</div>
<p><a href="bufferevent__openssl_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbio__data__counts.html">bio_data_counts</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af91d4ed02f9d6fcf7bba052d97488da8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#af91d4ed02f9d6fcf7bba052d97488da8">BIO_TYPE_LIBEVENT</a>&#160;&#160;&#160;57</td></tr>
<tr class="separator:af91d4ed02f9d6fcf7bba052d97488da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8edc8c2c3d131f8bfffbad1d0ead09b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a8edc8c2c3d131f8bfffbad1d0ead09b3">print_err</a>(v)&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:a8edc8c2c3d131f8bfffbad1d0ead09b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d76228545c2552584055a1e1d1787f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a8d76228545c2552584055a1e1d1787f3">NUM_ERRORS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a8d76228545c2552584055a1e1d1787f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ef7acb2fff3e898c367fb921be2183"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ad3ef7acb2fff3e898c367fb921be2183">OP_MADE_PROGRESS</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ad3ef7acb2fff3e898c367fb921be2183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7b15cfc881fc9f2ead8e44da987fcb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#aec7b15cfc881fc9f2ead8e44da987fcb">OP_BLOCKED</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:aec7b15cfc881fc9f2ead8e44da987fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14dd75ff57ffdd8b78ffe508ee75cd55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a14dd75ff57ffdd8b78ffe508ee75cd55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb5cffe1b3dff799bd554325b4addc8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#abfb5cffe1b3dff799bd554325b4addc8">WRITE_FRAME</a>&#160;&#160;&#160;15000</td></tr>
<tr class="separator:abfb5cffe1b3dff799bd554325b4addc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe7e0ba10e59f3cc5cb3b0500febf57f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#afe7e0ba10e59f3cc5cb3b0500febf57f">READ_DEFAULT</a>&#160;&#160;&#160;4096</td></tr>
<tr class="separator:afe7e0ba10e59f3cc5cb3b0500febf57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:addd2bd4031b8a0d6dc4de5019cd839d5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#addd2bd4031b8a0d6dc4de5019cd839d5">bio_bufferevent_new</a> (BIO *b)</td></tr>
<tr class="separator:addd2bd4031b8a0d6dc4de5019cd839d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8371ced28d386cc24cd70151fc2008e3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a8371ced28d386cc24cd70151fc2008e3">bio_bufferevent_free</a> (BIO *b)</td></tr>
<tr class="separator:a8371ced28d386cc24cd70151fc2008e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a03f86d6152112e75cdd6834ebcc9b5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a6a03f86d6152112e75cdd6834ebcc9b5">bio_bufferevent_read</a> (BIO *b, char *out, int outlen)</td></tr>
<tr class="separator:a6a03f86d6152112e75cdd6834ebcc9b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91b8be648e57e13eab380c42699659a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ae91b8be648e57e13eab380c42699659a">bio_bufferevent_write</a> (BIO *b, const char *in, int inlen)</td></tr>
<tr class="separator:ae91b8be648e57e13eab380c42699659a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90d399e5bef0c3b01557889f4ffb5bc7"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a90d399e5bef0c3b01557889f4ffb5bc7">bio_bufferevent_ctrl</a> (BIO *b, int cmd, long num, void *ptr)</td></tr>
<tr class="separator:a90d399e5bef0c3b01557889f4ffb5bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc0885d751162e35321e091b14b9c0d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a7cc0885d751162e35321e091b14b9c0d">bio_bufferevent_puts</a> (BIO *b, const char *s)</td></tr>
<tr class="separator:a7cc0885d751162e35321e091b14b9c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6752960355449215eb03b357b5542690"><td class="memItemLeft" align="right" valign="top">static BIO_METHOD *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a6752960355449215eb03b357b5542690">BIO_s_bufferevent</a> (void)</td></tr>
<tr class="separator:a6752960355449215eb03b357b5542690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936a1143c36bc8ad1f8fe3fbef5bad58"><td class="memItemLeft" align="right" valign="top">static BIO *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a936a1143c36bc8ad1f8fe3fbef5bad58">BIO_new_bufferevent</a> (struct bufferevent *bufferevent)</td></tr>
<tr class="separator:a936a1143c36bc8ad1f8fe3fbef5bad58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae92bc593e4e0bfa376592af3168911d4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ae92bc593e4e0bfa376592af3168911d4">be_openssl_enable</a> (struct bufferevent *, short)</td></tr>
<tr class="separator:ae92bc593e4e0bfa376592af3168911d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627272d784662f3847df480d8c1ad55c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a627272d784662f3847df480d8c1ad55c">be_openssl_disable</a> (struct bufferevent *, short)</td></tr>
<tr class="separator:a627272d784662f3847df480d8c1ad55c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac5bce7bae057d033878e6e3dce7d0b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#adac5bce7bae057d033878e6e3dce7d0b">be_openssl_unlink</a> (struct bufferevent *)</td></tr>
<tr class="separator:adac5bce7bae057d033878e6e3dce7d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89acab0a794bec46c0bedfa9b21211c4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a89acab0a794bec46c0bedfa9b21211c4">be_openssl_destruct</a> (struct bufferevent *)</td></tr>
<tr class="separator:a89acab0a794bec46c0bedfa9b21211c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad683ed6b055ce480ae913d0c8bc84aad"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ad683ed6b055ce480ae913d0c8bc84aad">be_openssl_adj_timeouts</a> (struct bufferevent *)</td></tr>
<tr class="separator:ad683ed6b055ce480ae913d0c8bc84aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca71bae3d5e10b424b440ca392c5da8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a3ca71bae3d5e10b424b440ca392c5da8">be_openssl_flush</a> (struct bufferevent *bufev, short iotype, enum bufferevent_flush_mode mode)</td></tr>
<tr class="separator:a3ca71bae3d5e10b424b440ca392c5da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ad909df29f64b3b798448d5e67d29a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ab4ad909df29f64b3b798448d5e67d29a">be_openssl_ctrl</a> (struct bufferevent *, enum <a class="el" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52a">bufferevent_ctrl_op</a>, union <a class="el" href="unionbufferevent__ctrl__data.html">bufferevent_ctrl_data</a> *)</td></tr>
<tr class="separator:ab4ad909df29f64b3b798448d5e67d29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a30f0a419da6d01e62169c097cfe380"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a3a30f0a419da6d01e62169c097cfe380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446e999811ad80878513161520ebde27"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a446e999811ad80878513161520ebde27">put_error</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl, unsigned long err)</td></tr>
<tr class="separator:a446e999811ad80878513161520ebde27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e347c8c3e78a502d9481a55337ddabd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a8e347c8c3e78a502d9481a55337ddabd">start_reading</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:a8e347c8c3e78a502d9481a55337ddabd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a312378eec8388eb749e22b437fc49146"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a312378eec8388eb749e22b437fc49146">start_writing</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:a312378eec8388eb749e22b437fc49146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f1cb114cd7bc7b79e96fef0d951c19"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a00f1cb114cd7bc7b79e96fef0d951c19">stop_reading</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:a00f1cb114cd7bc7b79e96fef0d951c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50075648e731f3bae2bb5f6e58691ff4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a50075648e731f3bae2bb5f6e58691ff4">stop_writing</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:a50075648e731f3bae2bb5f6e58691ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7113227b6669a408d55beffe85c5e1c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ab7113227b6669a408d55beffe85c5e1c">set_rbow</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:ab7113227b6669a408d55beffe85c5e1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec699b8583e27257e146954d4d62a52"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#adec699b8583e27257e146954d4d62a52">set_wbor</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:adec699b8583e27257e146954d4d62a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28222bf85d354acd63ee51851515c2df"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a28222bf85d354acd63ee51851515c2df">clear_rbow</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:a28222bf85d354acd63ee51851515c2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f1cf121563cfda037294d49c535765"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ac0f1cf121563cfda037294d49c535765">clear_wbor</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:ac0f1cf121563cfda037294d49c535765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7595311464f4601af667e8552948a92"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ae7595311464f4601af667e8552948a92">conn_closed</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl, int when, int errcode, int ret)</td></tr>
<tr class="separator:ae7595311464f4601af667e8552948a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72777deb9555efcfda525da0077f2f4a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a72777deb9555efcfda525da0077f2f4a">init_bio_counts</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:a72777deb9555efcfda525da0077f2f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b40c0a40fe06b06b0770ac4b0ad231"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ac4b40c0a40fe06b06b0770ac4b0ad231">decrement_buckets</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:ac4b40c0a40fe06b06b0770ac4b0ad231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b221ffc1d2861641ddc0ba68cd4790b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a5b221ffc1d2861641ddc0ba68cd4790b">do_read</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl, int n_to_read)</td></tr>
<tr class="separator:a5b221ffc1d2861641ddc0ba68cd4790b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e2b4d6569c141151a412412cc16bd3f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a2e2b4d6569c141151a412412cc16bd3f">do_write</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl, int atmost)</td></tr>
<tr class="separator:a2e2b4d6569c141151a412412cc16bd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0541f68588a18043d02d36487022f9d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#af0541f68588a18043d02d36487022f9d">bytes_to_read</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev)</td></tr>
<tr class="separator:af0541f68588a18043d02d36487022f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa259edb960f26d0cf4a5986e35f5e081"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#aa259edb960f26d0cf4a5986e35f5e081">consider_reading</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:aa259edb960f26d0cf4a5986e35f5e081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a416b016f5b55e4fe1c0e829a719fa6ee"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a416b016f5b55e4fe1c0e829a719fa6ee">consider_writing</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:a416b016f5b55e4fe1c0e829a719fa6ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdf91e18578b7fe0755a2f6fc1402956"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#acdf91e18578b7fe0755a2f6fc1402956">be_openssl_readcb</a> (struct bufferevent *bev_base, void *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:acdf91e18578b7fe0755a2f6fc1402956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89ab26cf88effe214bf26fb66fe9db9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ae89ab26cf88effe214bf26fb66fe9db9">be_openssl_writecb</a> (struct bufferevent *bev_base, void *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:ae89ab26cf88effe214bf26fb66fe9db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab7ccac02fb5065efde0fae75730226c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#aab7ccac02fb5065efde0fae75730226c">be_openssl_eventcb</a> (struct bufferevent *bev_base, short what, void *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:aab7ccac02fb5065efde0fae75730226c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b762f2f172ea123a992bb113a9d58b6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a5b762f2f172ea123a992bb113a9d58b6">be_openssl_readeventcb</a> (evutil_socket_t fd, short what, void *ptr)</td></tr>
<tr class="separator:a5b762f2f172ea123a992bb113a9d58b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f40ce09243ad7b71ef7a465b635fad1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a9f40ce09243ad7b71ef7a465b635fad1">be_openssl_writeeventcb</a> (evutil_socket_t fd, short what, void *ptr)</td></tr>
<tr class="separator:a9f40ce09243ad7b71ef7a465b635fad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc691f6f779104f33501d76e6e27edb1"><td class="memItemLeft" align="right" valign="top">static evutil_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#afc691f6f779104f33501d76e6e27edb1">be_openssl_auto_fd</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl, evutil_socket_t fd)</td></tr>
<tr class="separator:afc691f6f779104f33501d76e6e27edb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4975f42b111af70d7f8a7938f73f451"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#af4975f42b111af70d7f8a7938f73f451">set_open_callbacks</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl, evutil_socket_t fd)</td></tr>
<tr class="separator:af4975f42b111af70d7f8a7938f73f451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d7eab3c66da1a8bcec446bd024f4019"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a4d7eab3c66da1a8bcec446bd024f4019">do_handshake</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl)</td></tr>
<tr class="separator:a4d7eab3c66da1a8bcec446bd024f4019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46d6ad9b57b74d13b1a211eeb34ff85b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a46d6ad9b57b74d13b1a211eeb34ff85b">be_openssl_handshakecb</a> (struct bufferevent *bev_base, void *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:a46d6ad9b57b74d13b1a211eeb34ff85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9fc1690781dba87b5e9ed77cfe19e5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a3e9fc1690781dba87b5e9ed77cfe19e5">be_openssl_handshakeeventcb</a> (evutil_socket_t fd, short what, void *ptr)</td></tr>
<tr class="separator:a3e9fc1690781dba87b5e9ed77cfe19e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b54452257546f8e493af35e6f19747"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ac9b54452257546f8e493af35e6f19747">set_handshake_callbacks</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl, evutil_socket_t fd)</td></tr>
<tr class="separator:ac9b54452257546f8e493af35e6f19747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e0a58477aaf15fc619d352788d19830"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a2e0a58477aaf15fc619d352788d19830">bufferevent_ssl_renegotiate</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a2e0a58477aaf15fc619d352788d19830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56b8cc3a01e4511d014afe0f5262e16"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#ae56b8cc3a01e4511d014afe0f5262e16">be_openssl_outbuf_cb</a> (struct <a class="el" href="structevbuffer.html">evbuffer</a> *buf, const struct evbuffer_cb_info *cbinfo, void *arg)</td></tr>
<tr class="separator:ae56b8cc3a01e4511d014afe0f5262e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41982b3451840eda4655d9743fcf9a51"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a41982b3451840eda4655d9743fcf9a51">be_openssl_set_fd</a> (struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl, enum bufferevent_ssl_state state, evutil_socket_t fd)</td></tr>
<tr class="separator:a41982b3451840eda4655d9743fcf9a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeec6761c2b512b14ff3fda59636f3e80"><td class="memItemLeft" align="right" valign="top">SSL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#aeec6761c2b512b14ff3fda59636f3e80">bufferevent_openssl_get_ssl</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:aeec6761c2b512b14ff3fda59636f3e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97fe2cc9b8b2c0729db913b5d37ade65"><td class="memItemLeft" align="right" valign="top">static struct bufferevent *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a97fe2cc9b8b2c0729db913b5d37ade65">bufferevent_openssl_new_impl</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct bufferevent *underlying, evutil_socket_t fd, SSL *ssl, enum bufferevent_ssl_state state, int options)</td></tr>
<tr class="separator:a97fe2cc9b8b2c0729db913b5d37ade65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2fad44f416410a9120589324f0c0a84"><td class="memItemLeft" align="right" valign="top">struct bufferevent *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#aa2fad44f416410a9120589324f0c0a84">bufferevent_openssl_filter_new</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct bufferevent *underlying, SSL *ssl, enum bufferevent_ssl_state state, int options)</td></tr>
<tr class="separator:aa2fad44f416410a9120589324f0c0a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af27a7476f66abeb20e6130f14353b3e6"><td class="memItemLeft" align="right" valign="top">struct bufferevent *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#af27a7476f66abeb20e6130f14353b3e6">bufferevent_openssl_socket_new</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, SSL *ssl, enum bufferevent_ssl_state state, int options)</td></tr>
<tr class="separator:af27a7476f66abeb20e6130f14353b3e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8c8fbfc0b037c9f0d05a8a8e5c9f9d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#af8c8fbfc0b037c9f0d05a8a8e5c9f9d2">bufferevent_openssl_get_allow_dirty_shutdown</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:af8c8fbfc0b037c9f0d05a8a8e5c9f9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7960dbc9132954fb599da050f14b8176"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a7960dbc9132954fb599da050f14b8176">bufferevent_openssl_set_allow_dirty_shutdown</a> (struct bufferevent *bev, int allow_dirty_shutdown)</td></tr>
<tr class="separator:a7960dbc9132954fb599da050f14b8176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d6e69ab782b5455d92dd6090f81fdf"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a84d6e69ab782b5455d92dd6090f81fdf">bufferevent_get_openssl_error</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a84d6e69ab782b5455d92dd6090f81fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7d130018e25d91ce286e7949d462fe5d"><td class="memItemLeft" align="right" valign="top">static BIO_METHOD *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a></td></tr>
<tr class="separator:a7d130018e25d91ce286e7949d462fe5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6301a9dade80c3b7cc424aa8c5655180"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structbufferevent__ops.html">bufferevent_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent__openssl_8c.html#a6301a9dade80c3b7cc424aa8c5655180">bufferevent_ops_openssl</a></td></tr>
<tr class="separator:a6301a9dade80c3b7cc424aa8c5655180"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af91d4ed02f9d6fcf7bba052d97488da8" name="af91d4ed02f9d6fcf7bba052d97488da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af91d4ed02f9d6fcf7bba052d97488da8">&#9670;&nbsp;</a></span>BIO_TYPE_LIBEVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIO_TYPE_LIBEVENT&#160;&#160;&#160;57</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00085">85</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

</div>
</div>
<a id="a8d76228545c2552584055a1e1d1787f3" name="a8d76228545c2552584055a1e1d1787f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d76228545c2552584055a1e1d1787f3">&#9670;&nbsp;</a></span>NUM_ERRORS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_ERRORS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00311">311</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

</div>
</div>
<a id="aec7b15cfc881fc9f2ead8e44da987fcb" name="aec7b15cfc881fc9f2ead8e44da987fcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec7b15cfc881fc9f2ead8e44da987fcb">&#9670;&nbsp;</a></span>OP_BLOCKED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_BLOCKED&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00578">578</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

</div>
</div>
<a id="a14dd75ff57ffdd8b78ffe508ee75cd55" name="a14dd75ff57ffdd8b78ffe508ee75cd55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14dd75ff57ffdd8b78ffe508ee75cd55">&#9670;&nbsp;</a></span>OP_ERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_ERR&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00579">579</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

</div>
</div>
<a id="ad3ef7acb2fff3e898c367fb921be2183" name="ad3ef7acb2fff3e898c367fb921be2183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3ef7acb2fff3e898c367fb921be2183">&#9670;&nbsp;</a></span>OP_MADE_PROGRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_MADE_PROGRESS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00577">577</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

</div>
</div>
<a id="a8edc8c2c3d131f8bfffbad1d0ead09b3" name="a8edc8c2c3d131f8bfffbad1d0ead09b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8edc8c2c3d131f8bfffbad1d0ead09b3">&#9670;&nbsp;</a></span>print_err</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define print_err</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00105">105</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

</div>
</div>
<a id="afe7e0ba10e59f3cc5cb3b0500febf57f" name="afe7e0ba10e59f3cc5cb3b0500febf57f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe7e0ba10e59f3cc5cb3b0500febf57f">&#9670;&nbsp;</a></span>READ_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_DEFAULT&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00734">734</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

</div>
</div>
<a id="abfb5cffe1b3dff799bd554325b4addc8" name="abfb5cffe1b3dff799bd554325b4addc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfb5cffe1b3dff799bd554325b4addc8">&#9670;&nbsp;</a></span>WRITE_FRAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_FRAME&#160;&#160;&#160;15000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00732">732</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad683ed6b055ce480ae913d0c8bc84aad" name="ad683ed6b055ce480ae913d0c8bc84aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad683ed6b055ce480ae913d0c8bc84aad">&#9670;&nbsp;</a></span>be_openssl_adj_timeouts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int be_openssl_adj_timeouts </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01247">1247</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1248</span>{</div>
<div class="line"><span class="lineno"> 1249</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1250</span> </div>
<div class="line"><span class="lineno"> 1251</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent-internal_8h.html#a9edc4dfc6197f6a57b855aa706a0e1e7">bufferevent_generic_adj_timeouts_</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1253</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1254</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent-internal_8h.html#af87f7ea0cf183231ab8e36c1468b51e1">bufferevent_generic_adj_existing_timeouts_</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1255</span>    }</div>
<div class="line"><span class="lineno"> 1256</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a9edc4dfc6197f6a57b855aa706a0e1e7"><div class="ttname"><a href="bufferevent-internal_8h.html#a9edc4dfc6197f6a57b855aa706a0e1e7">bufferevent_generic_adj_timeouts_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_generic_adj_timeouts_(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00970">bufferevent.c:970</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_af87f7ea0cf183231ab8e36c1468b51e1"><div class="ttname"><a href="bufferevent-internal_8h.html#af87f7ea0cf183231ab8e36c1468b51e1">bufferevent_generic_adj_existing_timeouts_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_generic_adj_existing_timeouts_(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00993">bufferevent.c:993</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a3a30f0a419da6d01e62169c097cfe380"><div class="ttname"><a href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a></div><div class="ttdeci">static struct bufferevent_openssl * upcast(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00355">bufferevent_openssl.c:355</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html"><div class="ttname"><a href="structbufferevent__openssl.html">bufferevent_openssl</a></div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00286">bufferevent_openssl.c:286</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_a2c3728f5b11a3919989bf312c9ef86d8"><div class="ttname"><a href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">bufferevent_openssl::underlying</a></div><div class="ttdeci">struct bufferevent * underlying</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl.c:295</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_a35666e3cfc51eeeff2dd120af136b1c6"><div class="ttname"><a href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bufferevent_openssl::bev</a></div><div class="ttdeci">struct bufferevent_private bev</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl.c:292</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00993">bufferevent_generic_adj_existing_timeouts_()</a>, <a class="el" href="bufferevent_8c_source.html#l00970">bufferevent_generic_adj_timeouts_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="afc691f6f779104f33501d76e6e27edb1" name="afc691f6f779104f33501d76e6e27edb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc691f6f779104f33501d76e6e27edb1">&#9670;&nbsp;</a></span>be_openssl_auto_fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static evutil_socket_t be_openssl_auto_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00971">971</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  972</span>{</div>
<div class="line"><span class="lineno">  973</span>    <span class="keywordflow">if</span> (!bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno">  974</span>        <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  975</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a>(&amp;bev-&gt;ev_read) &amp;&amp; fd &lt; 0) {</div>
<div class="line"><span class="lineno">  976</span>            fd = <a class="code hl_function" href="event_8c.html#aee0c9c3fc7c997e4d4b77bdcdf321ee6">event_get_fd</a>(&amp;bev-&gt;ev_read);</div>
<div class="line"><span class="lineno">  977</span>        }</div>
<div class="line"><span class="lineno">  978</span>    }</div>
<div class="line"><span class="lineno">  979</span>    <span class="keywordflow">return</span> fd;</div>
<div class="line"><span class="lineno">  980</span>}</div>
<div class="ttc" id="aevent_8c_html_a5be4fbc16d90915a7d1b21ed3bae40c0"><div class="ttname"><a href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a></div><div class="ttdeci">int event_initialized(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02410">event.c:2410</a></div></div>
<div class="ttc" id="aevent_8c_html_aee0c9c3fc7c997e4d4b77bdcdf321ee6"><div class="ttname"><a href="event_8c.html#aee0c9c3fc7c997e4d4b77bdcdf321ee6">event_get_fd</a></div><div class="ttdeci">evutil_socket_t event_get_fd(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02442">event.c:2442</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a7d793f0632346c32119b818783b97c41"><div class="ttname"><a href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bufferevent_private::bev</a></div><div class="ttdeci">struct bufferevent bev</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00156">bufferevent-internal.h:156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="event_8c_source.html#l02442">event_get_fd()</a>, <a class="el" href="event_8c_source.html#l02410">event_initialized()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01120">bufferevent_ssl_renegotiate()</a>.</p>

</div>
</div>
<a id="ab4ad909df29f64b3b798448d5e67d29a" name="ab4ad909df29f64b3b798448d5e67d29a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ad909df29f64b3b798448d5e67d29a">&#9670;&nbsp;</a></span>be_openssl_ctrl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int be_openssl_ctrl </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52a">bufferevent_ctrl_op</a>&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionbufferevent__ctrl__data.html">bufferevent_ctrl_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01299">1299</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1301</span>{</div>
<div class="line"><span class="lineno"> 1302</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1303</span>    <span class="keywordflow">switch</span> (op) {</div>
<div class="line"><span class="lineno"> 1304</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa8dc56de908ecc163ab17bcd51d09e126">BEV_CTRL_SET_FD</a>:</div>
<div class="line"><span class="lineno"> 1305</span>        <span class="keywordflow">if</span> (!bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno"> 1306</span>            BIO *bio;</div>
<div class="line"><span class="lineno"> 1307</span>            bio = BIO_new_socket((<span class="keywordtype">int</span>)data-&gt;<a class="code hl_variable" href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">fd</a>, 0);</div>
<div class="line"><span class="lineno"> 1308</span>            SSL_set_bio(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>, bio, bio);</div>
<div class="line"><span class="lineno"> 1309</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1310</span>            BIO *bio;</div>
<div class="line"><span class="lineno"> 1311</span>            <span class="keywordflow">if</span> (!(bio = <a class="code hl_function" href="bufferevent__openssl_8c.html#a936a1143c36bc8ad1f8fe3fbef5bad58">BIO_new_bufferevent</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>)))</div>
<div class="line"><span class="lineno"> 1312</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1313</span>            SSL_set_bio(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>, bio, bio);</div>
<div class="line"><span class="lineno"> 1314</span>        }</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent__openssl_8c.html#a41982b3451840eda4655d9743fcf9a51">be_openssl_set_fd</a>(bev_ssl, bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a94b092c8a7a895b2b12223894c6aa7b5">old_state</a>, data-&gt;<a class="code hl_variable" href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">fd</a>);</div>
<div class="line"><span class="lineno"> 1317</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aafb0a966a7d89e90eca916344a697a5b3">BEV_CTRL_GET_FD</a>:</div>
<div class="line"><span class="lineno"> 1318</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno"> 1319</span>            data-&gt;<a class="code hl_variable" href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">fd</a> = <a class="code hl_function" href="event_8c.html#aee0c9c3fc7c997e4d4b77bdcdf321ee6">event_get_fd</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>-&gt;ev_read);</div>
<div class="line"><span class="lineno"> 1320</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1321</span>            data-&gt;<a class="code hl_variable" href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">fd</a> = <a class="code hl_function" href="event_8c.html#aee0c9c3fc7c997e4d4b77bdcdf321ee6">event_get_fd</a>(&amp;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>-&gt;ev_read);</div>
<div class="line"><span class="lineno"> 1322</span>        }</div>
<div class="line"><span class="lineno"> 1323</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1324</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa0046aa9fb35a36aea5784d57fad825c8">BEV_CTRL_GET_UNDERLYING</a>:</div>
<div class="line"><span class="lineno"> 1325</span>        data-&gt;<a class="code hl_variable" href="unionbufferevent__ctrl__data.html#ad9b690798053449a9170b57fd681e782">ptr</a> = bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>;</div>
<div class="line"><span class="lineno"> 1326</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1327</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa33b3258d7535c185c828c9b49f8701f2">BEV_CTRL_CANCEL_ALL</a>:</div>
<div class="line"><span class="lineno"> 1328</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1329</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1330</span>    }</div>
<div class="line"><span class="lineno"> 1331</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_abc6ade452731b2fd37d6660acb38f52aa0046aa9fb35a36aea5784d57fad825c8"><div class="ttname"><a href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa0046aa9fb35a36aea5784d57fad825c8">BEV_CTRL_GET_UNDERLYING</a></div><div class="ttdeci">@ BEV_CTRL_GET_UNDERLYING</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00239">bufferevent-internal.h:239</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_abc6ade452731b2fd37d6660acb38f52aa33b3258d7535c185c828c9b49f8701f2"><div class="ttname"><a href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa33b3258d7535c185c828c9b49f8701f2">BEV_CTRL_CANCEL_ALL</a></div><div class="ttdeci">@ BEV_CTRL_CANCEL_ALL</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00241">bufferevent-internal.h:240</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_abc6ade452731b2fd37d6660acb38f52aa8dc56de908ecc163ab17bcd51d09e126"><div class="ttname"><a href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa8dc56de908ecc163ab17bcd51d09e126">BEV_CTRL_SET_FD</a></div><div class="ttdeci">@ BEV_CTRL_SET_FD</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00237">bufferevent-internal.h:237</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_abc6ade452731b2fd37d6660acb38f52aafb0a966a7d89e90eca916344a697a5b3"><div class="ttname"><a href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aafb0a966a7d89e90eca916344a697a5b3">BEV_CTRL_GET_FD</a></div><div class="ttdeci">@ BEV_CTRL_GET_FD</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00238">bufferevent-internal.h:238</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a41982b3451840eda4655d9743fcf9a51"><div class="ttname"><a href="bufferevent__openssl_8c.html#a41982b3451840eda4655d9743fcf9a51">be_openssl_set_fd</a></div><div class="ttdeci">static int be_openssl_set_fd(struct bufferevent_openssl *bev_ssl, enum bufferevent_ssl_state state, evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01267">bufferevent_openssl.c:1267</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a936a1143c36bc8ad1f8fe3fbef5bad58"><div class="ttname"><a href="bufferevent__openssl_8c.html#a936a1143c36bc8ad1f8fe3fbef5bad58">BIO_new_bufferevent</a></div><div class="ttdeci">static BIO * BIO_new_bufferevent(struct bufferevent *bufferevent)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00253">bufferevent_openssl.c:253</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_a294aac290cde76e848117f4959913c58"><div class="ttname"><a href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">bufferevent_openssl::ssl</a></div><div class="ttdeci">SSL * ssl</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl.c:297</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_a94b092c8a7a895b2b12223894c6aa7b5"><div class="ttname"><a href="structbufferevent__openssl.html#a94b092c8a7a895b2b12223894c6aa7b5">bufferevent_openssl::old_state</a></div><div class="ttdeci">unsigned old_state</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00328">bufferevent_openssl.c:328</a></div></div>
<div class="ttc" id="aunionbufferevent__ctrl__data_html_a94c0a8d5e3afe371bc7028ebe01970ee"><div class="ttname"><a href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">bufferevent_ctrl_data::fd</a></div><div class="ttdeci">evutil_socket_t fd</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00246">bufferevent-internal.h:246</a></div></div>
<div class="ttc" id="aunionbufferevent__ctrl__data_html_ad9b690798053449a9170b57fd681e782"><div class="ttname"><a href="unionbufferevent__ctrl__data.html#ad9b690798053449a9170b57fd681e782">bufferevent_ctrl_data::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00245">bufferevent-internal.h:245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l01267">be_openssl_set_fd()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00240">BEV_CTRL_CANCEL_ALL</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00238">BEV_CTRL_GET_FD</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00239">BEV_CTRL_GET_UNDERLYING</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00237">BEV_CTRL_SET_FD</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00253">BIO_new_bufferevent()</a>, <a class="el" href="event_8c_source.html#l02442">event_get_fd()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00246">bufferevent_ctrl_data::fd</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00328">bufferevent_openssl::old_state</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00245">bufferevent_ctrl_data::ptr</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="a89acab0a794bec46c0bedfa9b21211c4" name="a89acab0a794bec46c0bedfa9b21211c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89acab0a794bec46c0bedfa9b21211c4">&#9670;&nbsp;</a></span>be_openssl_destruct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_destruct </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01229">1229</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1230</span>{</div>
<div class="line"><span class="lineno"> 1231</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a> &amp; BEV_OPT_CLOSE_ON_FREE) {</div>
<div class="line"><span class="lineno"> 1234</span>        <span class="keywordflow">if</span> (! bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno"> 1235</span>            evutil_socket_t fd = EVUTIL_INVALID_SOCKET;</div>
<div class="line"><span class="lineno"> 1236</span>            BIO *bio = SSL_get_wbio(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>);</div>
<div class="line"><span class="lineno"> 1237</span>            <span class="keywordflow">if</span> (bio)</div>
<div class="line"><span class="lineno"> 1238</span>                fd = BIO_get_fd(bio, NULL);</div>
<div class="line"><span class="lineno"> 1239</span>            <span class="keywordflow">if</span> (fd &gt;= 0)</div>
<div class="line"><span class="lineno"> 1240</span>                <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(fd);</div>
<div class="line"><span class="lineno"> 1241</span>        }</div>
<div class="line"><span class="lineno"> 1242</span>        SSL_free(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>);</div>
<div class="line"><span class="lineno"> 1243</span>    }</div>
<div class="line"><span class="lineno"> 1244</span>}</div>
<div class="ttc" id="aevutil_8c_html_a3950f08bc7b4ab52d519eabe7edd1889"><div class="ttname"><a href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a></div><div class="ttdeci">int evutil_closesocket(evutil_socket_t sock)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00454">evutil.c:454</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a68f017fa842099067e2eea7236a903de"><div class="ttname"><a href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">bufferevent_private::options</a></div><div class="ttdeci">enum bufferevent_options options</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00200">bufferevent-internal.h:200</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="a627272d784662f3847df480d8c1ad55c" name="a627272d784662f3847df480d8c1ad55c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627272d784662f3847df480d8c1ad55c">&#9670;&nbsp;</a></span>be_openssl_disable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int be_openssl_disable </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01182">1182</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1183</span>{</div>
<div class="line"><span class="lineno"> 1184</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1185</span> </div>
<div class="line"><span class="lineno"> 1186</span>    <span class="keywordflow">if</span> (events &amp; EV_READ)</div>
<div class="line"><span class="lineno"> 1187</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a00f1cb114cd7bc7b79e96fef0d951c19">stop_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1188</span>    <span class="keywordflow">if</span> (events &amp; EV_WRITE)</div>
<div class="line"><span class="lineno"> 1189</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a50075648e731f3bae2bb5f6e58691ff4">stop_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1190</span> </div>
<div class="line"><span class="lineno"> 1191</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno"> 1192</span>        <span class="keywordflow">if</span> (events &amp; EV_READ)</div>
<div class="line"><span class="lineno"> 1193</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#a3b9d4ba1bd08c9d9434aa4c79babe25e">BEV_DEL_GENERIC_READ_TIMEOUT</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1194</span>        <span class="keywordflow">if</span> (events &amp; EV_WRITE)</div>
<div class="line"><span class="lineno"> 1195</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#a1ceb260089da21aac6f11f2ea96feca8">BEV_DEL_GENERIC_WRITE_TIMEOUT</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1196</span>    }</div>
<div class="line"><span class="lineno"> 1197</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1198</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a1ceb260089da21aac6f11f2ea96feca8"><div class="ttname"><a href="bufferevent-internal_8h.html#a1ceb260089da21aac6f11f2ea96feca8">BEV_DEL_GENERIC_WRITE_TIMEOUT</a></div><div class="ttdeci">#define BEV_DEL_GENERIC_WRITE_TIMEOUT(bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00472">bufferevent-internal.h:472</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_a3b9d4ba1bd08c9d9434aa4c79babe25e"><div class="ttname"><a href="bufferevent-internal_8h.html#a3b9d4ba1bd08c9d9434aa4c79babe25e">BEV_DEL_GENERIC_READ_TIMEOUT</a></div><div class="ttdeci">#define BEV_DEL_GENERIC_READ_TIMEOUT(bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00470">bufferevent-internal.h:470</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a00f1cb114cd7bc7b79e96fef0d951c19"><div class="ttname"><a href="bufferevent__openssl_8c.html#a00f1cb114cd7bc7b79e96fef0d951c19">stop_reading</a></div><div class="ttdeci">static void stop_reading(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00423">bufferevent_openssl.c:423</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a50075648e731f3bae2bb5f6e58691ff4"><div class="ttname"><a href="bufferevent__openssl_8c.html#a50075648e731f3bae2bb5f6e58691ff4">stop_writing</a></div><div class="ttdeci">static void stop_writing(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00437">bufferevent_openssl.c:437</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00470">BEV_DEL_GENERIC_READ_TIMEOUT</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00472">BEV_DEL_GENERIC_WRITE_TIMEOUT</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00423">stop_reading()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00437">stop_writing()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="ae92bc593e4e0bfa376592af3168911d4" name="ae92bc593e4e0bfa376592af3168911d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae92bc593e4e0bfa376592af3168911d4">&#9670;&nbsp;</a></span>be_openssl_enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int be_openssl_enable </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01157">1157</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1158</span>{</div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1160</span>    <span class="keywordtype">int</span> r1 = 0, r2 = 0;</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keywordflow">if</span> (events &amp; EV_READ)</div>
<div class="line"><span class="lineno"> 1163</span>        r1 = <a class="code hl_function" href="bufferevent__openssl_8c.html#a8e347c8c3e78a502d9481a55337ddabd">start_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1164</span>    <span class="keywordflow">if</span> (events &amp; EV_WRITE)</div>
<div class="line"><span class="lineno"> 1165</span>        r2 = <a class="code hl_function" href="bufferevent__openssl_8c.html#a312378eec8388eb749e22b437fc49146">start_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1166</span> </div>
<div class="line"><span class="lineno"> 1167</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno"> 1168</span>        <span class="keywordflow">if</span> (events &amp; EV_READ)</div>
<div class="line"><span class="lineno"> 1169</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#ab98e768f6bac7bc9ccfc5740414db30c">BEV_RESET_GENERIC_READ_TIMEOUT</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1170</span>        <span class="keywordflow">if</span> (events &amp; EV_WRITE)</div>
<div class="line"><span class="lineno"> 1171</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#a9778ac69ff24595e9385856a67f41b01">BEV_RESET_GENERIC_WRITE_TIMEOUT</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1172</span> </div>
<div class="line"><span class="lineno"> 1173</span>        <span class="keywordflow">if</span> (events &amp; EV_READ)</div>
<div class="line"><span class="lineno"> 1174</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#aa259edb960f26d0cf4a5986e35f5e081">consider_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1175</span>        <span class="keywordflow">if</span> (events &amp; EV_WRITE)</div>
<div class="line"><span class="lineno"> 1176</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#a416b016f5b55e4fe1c0e829a719fa6ee">consider_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1177</span>    }</div>
<div class="line"><span class="lineno"> 1178</span>    <span class="keywordflow">return</span> (r1 &lt; 0 || r2 &lt; 0) ? -1 : 0;</div>
<div class="line"><span class="lineno"> 1179</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a9778ac69ff24595e9385856a67f41b01"><div class="ttname"><a href="bufferevent-internal_8h.html#a9778ac69ff24595e9385856a67f41b01">BEV_RESET_GENERIC_WRITE_TIMEOUT</a></div><div class="ttdeci">#define BEV_RESET_GENERIC_WRITE_TIMEOUT(bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00465">bufferevent-internal.h:465</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_ab98e768f6bac7bc9ccfc5740414db30c"><div class="ttname"><a href="bufferevent-internal_8h.html#ab98e768f6bac7bc9ccfc5740414db30c">BEV_RESET_GENERIC_READ_TIMEOUT</a></div><div class="ttdeci">#define BEV_RESET_GENERIC_READ_TIMEOUT(bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00458">bufferevent-internal.h:458</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a312378eec8388eb749e22b437fc49146"><div class="ttname"><a href="bufferevent__openssl_8c.html#a312378eec8388eb749e22b437fc49146">start_writing</a></div><div class="ttdeci">static int start_writing(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00404">bufferevent_openssl.c:404</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a416b016f5b55e4fe1c0e829a719fa6ee"><div class="ttname"><a href="bufferevent__openssl_8c.html#a416b016f5b55e4fe1c0e829a719fa6ee">consider_writing</a></div><div class="ttdeci">static void consider_writing(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00855">bufferevent_openssl.c:855</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a8e347c8c3e78a502d9481a55337ddabd"><div class="ttname"><a href="bufferevent__openssl_8c.html#a8e347c8c3e78a502d9481a55337ddabd">start_reading</a></div><div class="ttdeci">static int start_reading(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00383">bufferevent_openssl.c:383</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_aa259edb960f26d0cf4a5986e35f5e081"><div class="ttname"><a href="bufferevent__openssl_8c.html#aa259edb960f26d0cf4a5986e35f5e081">consider_reading</a></div><div class="ttdeci">static void consider_reading(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00785">bufferevent_openssl.c:785</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00458">BEV_RESET_GENERIC_READ_TIMEOUT</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00465">BEV_RESET_GENERIC_WRITE_TIMEOUT</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00785">consider_reading()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00855">consider_writing()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00383">start_reading()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00404">start_writing()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="aab7ccac02fb5065efde0fae75730226c" name="aab7ccac02fb5065efde0fae75730226c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab7ccac02fb5065efde0fae75730226c">&#9670;&nbsp;</a></span>be_openssl_eventcb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_eventcb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00918">918</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  919</span>{</div>
<div class="line"><span class="lineno">  920</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  921</span>    <span class="keywordtype">int</span> <span class="keyword">event</span> = 0;</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>    <span class="keywordflow">if</span> (what &amp; BEV_EVENT_EOF) {</div>
<div class="line"><span class="lineno">  924</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#ac1de2452f2f4eb0fccdd69ccace1865a">allow_dirty_shutdown</a>)</div>
<div class="line"><span class="lineno">  925</span>            <span class="keyword">event</span> = BEV_EVENT_EOF;</div>
<div class="line"><span class="lineno">  926</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  927</span>            <span class="keyword">event</span> = BEV_EVENT_ERROR;</div>
<div class="line"><span class="lineno">  928</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what &amp; BEV_EVENT_TIMEOUT) {</div>
<div class="line"><span class="lineno">  929</span>        <span class="comment">/* We sure didn&#39;t set this.  Propagate it to the user. */</span></div>
<div class="line"><span class="lineno">  930</span>        <span class="keyword">event</span> = what;</div>
<div class="line"><span class="lineno">  931</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what &amp; BEV_EVENT_ERROR) {</div>
<div class="line"><span class="lineno">  932</span>        <span class="comment">/* An error occurred on the connection.  Propagate it to the user. */</span></div>
<div class="line"><span class="lineno">  933</span>        <span class="keyword">event</span> = what;</div>
<div class="line"><span class="lineno">  934</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what &amp; BEV_EVENT_CONNECTED) {</div>
<div class="line"><span class="lineno">  935</span>        <span class="comment">/* Ignore it.  We&#39;re saying SSL_connect() already, which will</span></div>
<div class="line"><span class="lineno">  936</span><span class="comment">           eat it. */</span></div>
<div class="line"><span class="lineno">  937</span>    }</div>
<div class="line"><span class="lineno">  938</span>    <span class="keywordflow">if</span> (event)</div>
<div class="line"><span class="lineno">  939</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a43b7bd7739cbc72cf461e1dd76d9c2d7">bufferevent_run_eventcb_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>, event, 0);</div>
<div class="line"><span class="lineno">  940</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a43b7bd7739cbc72cf461e1dd76d9c2d7"><div class="ttname"><a href="bufferevent-internal_8h.html#a43b7bd7739cbc72cf461e1dd76d9c2d7">bufferevent_run_eventcb_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void bufferevent_run_eventcb_(struct bufferevent *bufev, short what, int options)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00285">bufferevent.c:285</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_ac1de2452f2f4eb0fccdd69ccace1865a"><div class="ttname"><a href="structbufferevent__openssl.html#ac1de2452f2f4eb0fccdd69ccace1865a">bufferevent_openssl::allow_dirty_shutdown</a></div><div class="ttdeci">unsigned allow_dirty_shutdown</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00321">bufferevent_openssl.c:321</a></div></div>
<div class="ttc" id="atests_8c_html_a06a3e29ada83211a695a49e8f7405842"><div class="ttname"><a href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a></div><div class="ttdeci">static secp256k1_context * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_8c_source.html#l00034">tests.c:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00321">bufferevent_openssl::allow_dirty_shutdown</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00285">bufferevent_run_eventcb_()</a>, and <a class="el" href="tests_8c_source.html#l00034">ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01201">be_openssl_unlink()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>.</p>

</div>
</div>
<a id="a3ca71bae3d5e10b424b440ca392c5da8" name="a3ca71bae3d5e10b424b440ca392c5da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ca71bae3d5e10b424b440ca392c5da8">&#9670;&nbsp;</a></span>be_openssl_flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int be_openssl_flush </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>iotype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum bufferevent_flush_mode&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01259">1259</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1261</span>{</div>
<div class="line"><span class="lineno"> 1262</span>    <span class="comment">/* XXXX Implement this. */</span></div>
<div class="line"><span class="lineno"> 1263</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1264</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a46d6ad9b57b74d13b1a211eeb34ff85b" name="a46d6ad9b57b74d13b1a211eeb34ff85b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46d6ad9b57b74d13b1a211eeb34ff85b">&#9670;&nbsp;</a></span>be_openssl_handshakecb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_handshakecb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01064">1064</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1065</span>{</div>
<div class="line"><span class="lineno"> 1066</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno"> 1067</span>    <a class="code hl_function" href="bufferevent__openssl_8c.html#a4d7eab3c66da1a8bcec446bd024f4019">do_handshake</a>(bev_ssl);<span class="comment">/* XXX handle failure */</span></div>
<div class="line"><span class="lineno"> 1068</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a4d7eab3c66da1a8bcec446bd024f4019"><div class="ttname"><a href="bufferevent__openssl_8c.html#a4d7eab3c66da1a8bcec446bd024f4019">do_handshake</a></div><div class="ttdeci">static int do_handshake(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01019">bufferevent_openssl.c:1019</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>.</p>

</div>
</div>
<a id="a3e9fc1690781dba87b5e9ed77cfe19e5" name="a3e9fc1690781dba87b5e9ed77cfe19e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e9fc1690781dba87b5e9ed77cfe19e5">&#9670;&nbsp;</a></span>be_openssl_handshakeeventcb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_handshakeeventcb </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01071">1071</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1072</span>{</div>
<div class="line"><span class="lineno"> 1073</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = ptr;</div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a28c208dc62652fcad839da92d099fa3e">bufferevent_incref_and_lock_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno"> 1076</span>    <span class="keywordflow">if</span> (what &amp; EV_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 1077</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a43b7bd7739cbc72cf461e1dd76d9c2d7">bufferevent_run_eventcb_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>, BEV_EVENT_TIMEOUT, 0);</div>
<div class="line"><span class="lineno"> 1078</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1079</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a4d7eab3c66da1a8bcec446bd024f4019">do_handshake</a>(bev_ssl);<span class="comment">/* XXX handle failure */</span></div>
<div class="line"><span class="lineno"> 1080</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a0cc86b61f53ebb83d1b934b970d6bb72">bufferevent_decref_and_unlock_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno"> 1081</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a0cc86b61f53ebb83d1b934b970d6bb72"><div class="ttname"><a href="bufferevent-internal_8h.html#a0cc86b61f53ebb83d1b934b970d6bb72">bufferevent_decref_and_unlock_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_decref_and_unlock_(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00706">bufferevent.c:706</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_a28c208dc62652fcad839da92d099fa3e"><div class="ttname"><a href="bufferevent-internal_8h.html#a28c208dc62652fcad839da92d099fa3e">bufferevent_incref_and_lock_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void bufferevent_incref_and_lock_(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00680">bufferevent.c:680</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00680">bufferevent_incref_and_lock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00285">bufferevent_run_eventcb_()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>.</p>

</div>
</div>
<a id="ae56b8cc3a01e4511d014afe0f5262e16" name="ae56b8cc3a01e4511d014afe0f5262e16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56b8cc3a01e4511d014afe0f5262e16">&#9670;&nbsp;</a></span>be_openssl_outbuf_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_outbuf_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct evbuffer_cb_info *&#160;</td>
          <td class="paramname"><em>cbinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01136">1136</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1138</span>{</div>
<div class="line"><span class="lineno"> 1139</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = arg;</div>
<div class="line"><span class="lineno"> 1140</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno"> 1141</span>    <span class="comment">/* XXX need to hold a reference here. */</span></div>
<div class="line"><span class="lineno"> 1142</span> </div>
<div class="line"><span class="lineno"> 1143</span>    <span class="keywordflow">if</span> (cbinfo-&gt;n_added &amp;&amp; bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a800c0653e879ef59ffbd77e856dd592f">state</a> == BUFFEREVENT_SSL_OPEN) {</div>
<div class="line"><span class="lineno"> 1144</span>        <span class="keywordflow">if</span> (cbinfo-&gt;orig_size == 0)</div>
<div class="line"><span class="lineno"> 1145</span>            r = <a class="code hl_function" href="bufferevent-internal_8h.html#a8ca14f4fea358ac3f898830a30ea641c">bufferevent_add_event_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.ev_write,</div>
<div class="line"><span class="lineno"> 1146</span>                &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.timeout_write);</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>)</div>
<div class="line"><span class="lineno"> 1149</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#a416b016f5b55e4fe1c0e829a719fa6ee">consider_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1150</span>    }</div>
<div class="line"><span class="lineno"> 1151</span>    <span class="comment">/* XXX Handle r &lt; 0 */</span></div>
<div class="line"><span class="lineno"> 1152</span>    (void)r;</div>
<div class="line"><span class="lineno"> 1153</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a8ca14f4fea358ac3f898830a30ea641c"><div class="ttname"><a href="bufferevent-internal_8h.html#a8ca14f4fea358ac3f898830a30ea641c">bufferevent_add_event_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_add_event_(struct event *ev, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l01016">bufferevent.c:1016</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_a800c0653e879ef59ffbd77e856dd592f"><div class="ttname"><a href="structbufferevent__openssl.html#a800c0653e879ef59ffbd77e856dd592f">bufferevent_openssl::state</a></div><div class="ttdeci">unsigned state</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00326">bufferevent_openssl.c:326</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l01016">bufferevent_add_event_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00855">consider_writing()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00326">bufferevent_openssl::state</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>.</p>

</div>
</div>
<a id="acdf91e18578b7fe0755a2f6fc1402956" name="acdf91e18578b7fe0755a2f6fc1402956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdf91e18578b7fe0755a2f6fc1402956">&#9670;&nbsp;</a></span>be_openssl_readcb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_readcb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00904">904</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  905</span>{</div>
<div class="line"><span class="lineno">  906</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  907</span>    <a class="code hl_function" href="bufferevent__openssl_8c.html#aa259edb960f26d0cf4a5986e35f5e081">consider_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  908</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00785">consider_reading()</a>, and <a class="el" href="tests_8c_source.html#l00034">ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>.</p>

</div>
</div>
<a id="a5b762f2f172ea123a992bb113a9d58b6" name="a5b762f2f172ea123a992bb113a9d58b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b762f2f172ea123a992bb113a9d58b6">&#9670;&nbsp;</a></span>be_openssl_readeventcb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_readeventcb </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00943">943</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  944</span>{</div>
<div class="line"><span class="lineno">  945</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = ptr;</div>
<div class="line"><span class="lineno">  946</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a28c208dc62652fcad839da92d099fa3e">bufferevent_incref_and_lock_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno">  947</span>    <span class="keywordflow">if</span> (what == EV_TIMEOUT) {</div>
<div class="line"><span class="lineno">  948</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a43b7bd7739cbc72cf461e1dd76d9c2d7">bufferevent_run_eventcb_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>,</div>
<div class="line"><span class="lineno">  949</span>            BEV_EVENT_TIMEOUT|BEV_EVENT_READING, 0);</div>
<div class="line"><span class="lineno">  950</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  951</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#aa259edb960f26d0cf4a5986e35f5e081">consider_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  952</span>    }</div>
<div class="line"><span class="lineno">  953</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a0cc86b61f53ebb83d1b934b970d6bb72">bufferevent_decref_and_unlock_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno">  954</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00680">bufferevent_incref_and_lock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00285">bufferevent_run_eventcb_()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00785">consider_reading()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>.</p>

</div>
</div>
<a id="a41982b3451840eda4655d9743fcf9a51" name="a41982b3451840eda4655d9743fcf9a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41982b3451840eda4655d9743fcf9a51">&#9670;&nbsp;</a></span>be_openssl_set_fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int be_openssl_set_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum bufferevent_ssl_state&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01267">1267</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1269</span>{</div>
<div class="line"><span class="lineno"> 1270</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a800c0653e879ef59ffbd77e856dd592f">state</a> = state;</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>    <span class="keywordflow">switch</span> (state) {</div>
<div class="line"><span class="lineno"> 1273</span>    <span class="keywordflow">case</span> BUFFEREVENT_SSL_ACCEPTING:</div>
<div class="line"><span class="lineno"> 1274</span>        <span class="keywordflow">if</span> (!SSL_clear(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>))</div>
<div class="line"><span class="lineno"> 1275</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1276</span>        SSL_set_accept_state(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>);</div>
<div class="line"><span class="lineno"> 1277</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#ac9b54452257546f8e493af35e6f19747">set_handshake_callbacks</a>(bev_ssl, fd) &lt; 0)</div>
<div class="line"><span class="lineno"> 1278</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1279</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1280</span>    <span class="keywordflow">case</span> BUFFEREVENT_SSL_CONNECTING:</div>
<div class="line"><span class="lineno"> 1281</span>        <span class="keywordflow">if</span> (!SSL_clear(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>))</div>
<div class="line"><span class="lineno"> 1282</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1283</span>        SSL_set_connect_state(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>);</div>
<div class="line"><span class="lineno"> 1284</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#ac9b54452257546f8e493af35e6f19747">set_handshake_callbacks</a>(bev_ssl, fd) &lt; 0)</div>
<div class="line"><span class="lineno"> 1285</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1286</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1287</span>    <span class="keywordflow">case</span> BUFFEREVENT_SSL_OPEN:</div>
<div class="line"><span class="lineno"> 1288</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#af4975f42b111af70d7f8a7938f73f451">set_open_callbacks</a>(bev_ssl, fd) &lt; 0)</div>
<div class="line"><span class="lineno"> 1289</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1290</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1291</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1292</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1293</span>    }</div>
<div class="line"><span class="lineno"> 1294</span> </div>
<div class="line"><span class="lineno"> 1295</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1296</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_ac9b54452257546f8e493af35e6f19747"><div class="ttname"><a href="bufferevent__openssl_8c.html#ac9b54452257546f8e493af35e6f19747">set_handshake_callbacks</a></div><div class="ttdeci">static int set_handshake_callbacks(struct bufferevent_openssl *bev_ssl, evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01084">bufferevent_openssl.c:1084</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_af4975f42b111af70d7f8a7938f73f451"><div class="ttname"><a href="bufferevent__openssl_8c.html#af4975f42b111af70d7f8a7938f73f451">set_open_callbacks</a></div><div class="ttdeci">static int set_open_callbacks(struct bufferevent_openssl *bev_ssl, evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00983">bufferevent_openssl.c:983</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00326">bufferevent_openssl::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01299">be_openssl_ctrl()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>.</p>

</div>
</div>
<a id="adac5bce7bae057d033878e6e3dce7d0b" name="adac5bce7bae057d033878e6e3dce7d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac5bce7bae057d033878e6e3dce7d0b">&#9670;&nbsp;</a></span>be_openssl_unlink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_unlink </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01201">1201</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1202</span>{</div>
<div class="line"><span class="lineno"> 1203</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1204</span> </div>
<div class="line"><span class="lineno"> 1205</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a> &amp; BEV_OPT_CLOSE_ON_FREE) {</div>
<div class="line"><span class="lineno"> 1206</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno"> 1207</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>)-&gt;refcnt &lt; 2) {</div>
<div class="line"><span class="lineno"> 1208</span>                <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;BEV_OPT_CLOSE_ON_FREE set on an &quot;</span></div>
<div class="line"><span class="lineno"> 1209</span>                    <span class="stringliteral">&quot;bufferevent with too few references&quot;</span>);</div>
<div class="line"><span class="lineno"> 1210</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1211</span>                <a class="code hl_function" href="bufferevent_8c.html#a474a4cef8fd80bea09a636b5f3055bec">bufferevent_free</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>);</div>
<div class="line"><span class="lineno"> 1212</span>                <span class="comment">/* We still have a reference to it, via our</span></div>
<div class="line"><span class="lineno"> 1213</span><span class="comment">                 * BIO. So we don&#39;t drop this. */</span></div>
<div class="line"><span class="lineno"> 1214</span>                <span class="comment">// bev_ssl-&gt;underlying = NULL;</span></div>
<div class="line"><span class="lineno"> 1215</span>            }</div>
<div class="line"><span class="lineno"> 1216</span>        }</div>
<div class="line"><span class="lineno"> 1217</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1218</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno"> 1219</span>            <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>-&gt;errorcb == <a class="code hl_function" href="bufferevent__openssl_8c.html#aab7ccac02fb5065efde0fae75730226c">be_openssl_eventcb</a>)</div>
<div class="line"><span class="lineno"> 1220</span>                <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>,</div>
<div class="line"><span class="lineno"> 1221</span>                    NULL,NULL,NULL,NULL);</div>
<div class="line"><span class="lineno"> 1222</span>            <a class="code hl_function" href="bufferevent-internal_8h.html#a5754c572785bd31ec8f41c39681dc29f">bufferevent_unsuspend_read_</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>,</div>
<div class="line"><span class="lineno"> 1223</span>                <a class="code hl_define" href="bufferevent-internal_8h.html#ab43a7947e11f1e810a9d5653ea503de0">BEV_SUSPEND_FILT_READ</a>);</div>
<div class="line"><span class="lineno"> 1224</span>        }</div>
<div class="line"><span class="lineno"> 1225</span>    }</div>
<div class="line"><span class="lineno"> 1226</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a50603e7195cdaee52020d30b6f4f5c94"><div class="ttname"><a href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a></div><div class="ttdeci">#define BEV_UPCAST(b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00478">bufferevent-internal.h:478</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_a5754c572785bd31ec8f41c39681dc29f"><div class="ttname"><a href="bufferevent-internal_8h.html#a5754c572785bd31ec8f41c39681dc29f">bufferevent_unsuspend_read_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void bufferevent_unsuspend_read_(struct bufferevent *bufev, bufferevent_suspend_flags what)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00078">bufferevent.c:78</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_ab43a7947e11f1e810a9d5653ea503de0"><div class="ttname"><a href="bufferevent-internal_8h.html#ab43a7947e11f1e810a9d5653ea503de0">BEV_SUSPEND_FILT_READ</a></div><div class="ttdeci">#define BEV_SUSPEND_FILT_READ</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00075">bufferevent-internal.h:75</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a474a4cef8fd80bea09a636b5f3055bec"><div class="ttname"><a href="bufferevent_8c.html#a474a4cef8fd80bea09a636b5f3055bec">bufferevent_free</a></div><div class="ttdeci">void bufferevent_free(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00806">bufferevent.c:806</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a63792519cb94a38beccb5e1390cd6198"><div class="ttname"><a href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a></div><div class="ttdeci">void bufferevent_setcb(struct bufferevent *bufev, bufferevent_data_cb readcb, bufferevent_data_cb writecb, bufferevent_event_cb eventcb, void *cbarg)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00389">bufferevent.c:389</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_aab7ccac02fb5065efde0fae75730226c"><div class="ttname"><a href="bufferevent__openssl_8c.html#aab7ccac02fb5065efde0fae75730226c">be_openssl_eventcb</a></div><div class="ttdeci">static void be_openssl_eventcb(struct bufferevent *bev_base, short what, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00918">bufferevent_openssl.c:918</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a0e3973f226e9585030596534e23cd95f"><div class="ttname"><a href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warnx(const char *fmt,...) EV_CHECK_FMT(1</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00918">be_openssl_eventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00075">BEV_SUSPEND_FILT_READ</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="bufferevent_8c_source.html#l00806">bufferevent_free()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="bufferevent_8c_source.html#l00078">bufferevent_unsuspend_read_()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="ae89ab26cf88effe214bf26fb66fe9db9" name="ae89ab26cf88effe214bf26fb66fe9db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae89ab26cf88effe214bf26fb66fe9db9">&#9670;&nbsp;</a></span>be_openssl_writecb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_writecb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00911">911</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  912</span>{</div>
<div class="line"><span class="lineno">  913</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  914</span>    <a class="code hl_function" href="bufferevent__openssl_8c.html#a416b016f5b55e4fe1c0e829a719fa6ee">consider_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  915</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00855">consider_writing()</a>, and <a class="el" href="tests_8c_source.html#l00034">ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>.</p>

</div>
</div>
<a id="a9f40ce09243ad7b71ef7a465b635fad1" name="a9f40ce09243ad7b71ef7a465b635fad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f40ce09243ad7b71ef7a465b635fad1">&#9670;&nbsp;</a></span>be_openssl_writeeventcb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void be_openssl_writeeventcb </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00957">957</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  958</span>{</div>
<div class="line"><span class="lineno">  959</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = ptr;</div>
<div class="line"><span class="lineno">  960</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a28c208dc62652fcad839da92d099fa3e">bufferevent_incref_and_lock_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno">  961</span>    <span class="keywordflow">if</span> (what == EV_TIMEOUT) {</div>
<div class="line"><span class="lineno">  962</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a43b7bd7739cbc72cf461e1dd76d9c2d7">bufferevent_run_eventcb_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>,</div>
<div class="line"><span class="lineno">  963</span>            BEV_EVENT_TIMEOUT|BEV_EVENT_WRITING, 0);</div>
<div class="line"><span class="lineno">  964</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  965</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a416b016f5b55e4fe1c0e829a719fa6ee">consider_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  966</span>    }</div>
<div class="line"><span class="lineno">  967</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a0cc86b61f53ebb83d1b934b970d6bb72">bufferevent_decref_and_unlock_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno">  968</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00680">bufferevent_incref_and_lock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00285">bufferevent_run_eventcb_()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00855">consider_writing()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>.</p>

</div>
</div>
<a id="a90d399e5bef0c3b01557889f4ffb5bc7" name="a90d399e5bef0c3b01557889f4ffb5bc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90d399e5bef0c3b01557889f4ffb5bc7">&#9670;&nbsp;</a></span>bio_bufferevent_ctrl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long bio_bufferevent_ctrl </td>
          <td>(</td>
          <td class="paramtype">BIO *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00191">191</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  192</span>{</div>
<div class="line"><span class="lineno">  193</span>    <span class="keyword">struct </span>bufferevent *bufev = <a class="code hl_define" href="openssl-compat_8h.html#ab03a5cad242a2193fe88768fc01e69a0">BIO_get_data</a>(b);</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordtype">long</span> ret = 1;</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">switch</span> (cmd) {</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">case</span> BIO_CTRL_GET_CLOSE:</div>
<div class="line"><span class="lineno">  198</span>        ret = <a class="code hl_define" href="openssl-compat_8h.html#aa86ae9702bf97c3d56fbcab192328c42">BIO_get_shutdown</a>(b);</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">case</span> BIO_CTRL_SET_CLOSE:</div>
<div class="line"><span class="lineno">  201</span>        <a class="code hl_define" href="openssl-compat_8h.html#a03b9204096a477f31b603382b86d3725">BIO_set_shutdown</a>(b, (<span class="keywordtype">int</span>)num);</div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">case</span> BIO_CTRL_PENDING:</div>
<div class="line"><span class="lineno">  204</span>        ret = <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(bufev)) != 0;</div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordflow">case</span> BIO_CTRL_WPENDING:</div>
<div class="line"><span class="lineno">  207</span>        ret = <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(bufev)) != 0;</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  209</span>    <span class="comment">/* XXXX These two are given a special-case treatment because</span></div>
<div class="line"><span class="lineno">  210</span><span class="comment">     * of cargo-cultism.  I should come up with a better reason. */</span></div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">case</span> BIO_CTRL_DUP:</div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">case</span> BIO_CTRL_FLUSH:</div>
<div class="line"><span class="lineno">  213</span>        ret = 1;</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  216</span>        ret = 0;</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  220</span>}</div>
<div class="ttc" id="abufferevent_8c_html_ac661f8ca773b6247a47c8deea6be51d3"><div class="ttname"><a href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a></div><div class="ttdeci">struct evbuffer * bufferevent_get_output(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00430">bufferevent.c:430</a></div></div>
<div class="ttc" id="abufferevent_8c_html_acc6ab0c64f9a7ed8bc24c2f6d3d594ad"><div class="ttname"><a href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a></div><div class="ttdeci">struct evbuffer * bufferevent_get_input(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00424">bufferevent.c:424</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a1c1b3464e6a40ab2ae6398d214779a93"><div class="ttname"><a href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a></div><div class="ttdeci">size_t evbuffer_get_length(const struct evbuffer *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00607">buffer.c:607</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_a03b9204096a477f31b603382b86d3725"><div class="ttname"><a href="openssl-compat_8h.html#a03b9204096a477f31b603382b86d3725">BIO_set_shutdown</a></div><div class="ttdeci">#define BIO_set_shutdown(b, val)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00030">openssl-compat.h:30</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_aa86ae9702bf97c3d56fbcab192328c42"><div class="ttname"><a href="openssl-compat_8h.html#aa86ae9702bf97c3d56fbcab192328c42">BIO_get_shutdown</a></div><div class="ttdeci">#define BIO_get_shutdown(b)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00033">openssl-compat.h:33</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_ab03a5cad242a2193fe88768fc01e69a0"><div class="ttname"><a href="openssl-compat_8h.html#ab03a5cad242a2193fe88768fc01e69a0">BIO_get_data</a></div><div class="ttdeci">#define BIO_get_data(b)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00032">openssl-compat.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="openssl-compat_8h_source.html#l00032">BIO_get_data</a>, <a class="el" href="openssl-compat_8h_source.html#l00033">BIO_get_shutdown</a>, <a class="el" href="openssl-compat_8h_source.html#l00030">BIO_set_shutdown</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, and <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00234">BIO_s_bufferevent()</a>.</p>

</div>
</div>
<a id="a8371ced28d386cc24cd70151fc2008e3" name="a8371ced28d386cc24cd70151fc2008e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8371ced28d386cc24cd70151fc2008e3">&#9670;&nbsp;</a></span>bio_bufferevent_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bio_bufferevent_free </td>
          <td>(</td>
          <td class="paramtype">BIO *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00119">119</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>{</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">if</span> (!b)</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="openssl-compat_8h.html#aa86ae9702bf97c3d56fbcab192328c42">BIO_get_shutdown</a>(b)) {</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="openssl-compat_8h.html#a827eb56c8656ce47df879af285486afd">BIO_get_init</a>(b) &amp;&amp; <a class="code hl_define" href="openssl-compat_8h.html#ab03a5cad242a2193fe88768fc01e69a0">BIO_get_data</a>(b))</div>
<div class="line"><span class="lineno">  125</span>            <a class="code hl_function" href="bufferevent_8c.html#a474a4cef8fd80bea09a636b5f3055bec">bufferevent_free</a>(<a class="code hl_define" href="openssl-compat_8h.html#ab03a5cad242a2193fe88768fc01e69a0">BIO_get_data</a>(b));</div>
<div class="line"><span class="lineno">  126</span>        BIO_free(b);</div>
<div class="line"><span class="lineno">  127</span>    }</div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  129</span>}</div>
<div class="ttc" id="aopenssl-compat_8h_html_a827eb56c8656ce47df879af285486afd"><div class="ttname"><a href="openssl-compat_8h.html#a827eb56c8656ce47df879af285486afd">BIO_get_init</a></div><div class="ttdeci">#define BIO_get_init(b)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00031">openssl-compat.h:31</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="openssl-compat_8h_source.html#l00032">BIO_get_data</a>, <a class="el" href="openssl-compat_8h_source.html#l00031">BIO_get_init</a>, <a class="el" href="openssl-compat_8h_source.html#l00033">BIO_get_shutdown</a>, and <a class="el" href="bufferevent_8c_source.html#l00806">bufferevent_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00234">BIO_s_bufferevent()</a>.</p>

</div>
</div>
<a id="addd2bd4031b8a0d6dc4de5019cd839d5" name="addd2bd4031b8a0d6dc4de5019cd839d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addd2bd4031b8a0d6dc4de5019cd839d5">&#9670;&nbsp;</a></span>bio_bufferevent_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bio_bufferevent_new </td>
          <td>(</td>
          <td class="paramtype">BIO *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00110">110</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>{</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_define" href="openssl-compat_8h.html#a765d3c1cc71b946e13b631a4cc710b7e">BIO_set_init</a>(b, 0);</div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_define" href="openssl-compat_8h.html#a654163d4452a3eb77c0690d9b2d98521">BIO_set_data</a>(b, NULL); <span class="comment">/* We&#39;ll be putting the bufferevent in this field.*/</span></div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  115</span>}</div>
<div class="ttc" id="aopenssl-compat_8h_html_a654163d4452a3eb77c0690d9b2d98521"><div class="ttname"><a href="openssl-compat_8h.html#a654163d4452a3eb77c0690d9b2d98521">BIO_set_data</a></div><div class="ttdeci">#define BIO_set_data(b, val)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00029">openssl-compat.h:29</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_a765d3c1cc71b946e13b631a4cc710b7e"><div class="ttname"><a href="openssl-compat_8h.html#a765d3c1cc71b946e13b631a4cc710b7e">BIO_set_init</a></div><div class="ttdeci">#define BIO_set_init(b, val)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00028">openssl-compat.h:28</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="openssl-compat_8h_source.html#l00029">BIO_set_data</a>, and <a class="el" href="openssl-compat_8h_source.html#l00028">BIO_set_init</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00234">BIO_s_bufferevent()</a>.</p>

</div>
</div>
<a id="a7cc0885d751162e35321e091b14b9c0d" name="a7cc0885d751162e35321e091b14b9c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc0885d751162e35321e091b14b9c0d">&#9670;&nbsp;</a></span>bio_bufferevent_puts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bio_bufferevent_puts </td>
          <td>(</td>
          <td class="paramtype">BIO *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00224">224</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  225</span>{</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent__openssl_8c.html#ae91b8be648e57e13eab380c42699659a">bio_bufferevent_write</a>(b, s, strlen(s));</div>
<div class="line"><span class="lineno">  227</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_ae91b8be648e57e13eab380c42699659a"><div class="ttname"><a href="bufferevent__openssl_8c.html#ae91b8be648e57e13eab380c42699659a">bio_bufferevent_write</a></div><div class="ttdeci">static int bio_bufferevent_write(BIO *b, const char *in, int inlen)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00159">bufferevent_openssl.c:159</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00159">bio_bufferevent_write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00234">BIO_s_bufferevent()</a>.</p>

</div>
</div>
<a id="a6a03f86d6152112e75cdd6834ebcc9b5" name="a6a03f86d6152112e75cdd6834ebcc9b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a03f86d6152112e75cdd6834ebcc9b5">&#9670;&nbsp;</a></span>bio_bufferevent_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bio_bufferevent_read </td>
          <td>(</td>
          <td class="paramtype">BIO *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>outlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00133">133</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  134</span>{</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  136</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *input;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    BIO_clear_retry_flags(b);</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">if</span> (!out)</div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="openssl-compat_8h.html#ab03a5cad242a2193fe88768fc01e69a0">BIO_get_data</a>(b))</div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    input = <a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(<a class="code hl_define" href="openssl-compat_8h.html#ab03a5cad242a2193fe88768fc01e69a0">BIO_get_data</a>(b));</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(input) == 0) {</div>
<div class="line"><span class="lineno">  147</span>        <span class="comment">/* If there&#39;s no data to read, say so. */</span></div>
<div class="line"><span class="lineno">  148</span>        BIO_set_retry_read(b);</div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  150</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  151</span>        r = <a class="code hl_function" href="libevent_2buffer_8c.html#af5a341004cb2b4fb591fe11544b3228d">evbuffer_remove</a>(input, out, outlen);</div>
<div class="line"><span class="lineno">  152</span>    }</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  155</span>}</div>
<div class="ttc" id="alibevent_2buffer_8c_html_af5a341004cb2b4fb591fe11544b3228d"><div class="ttname"><a href="libevent_2buffer_8c.html#af5a341004cb2b4fb591fe11544b3228d">evbuffer_remove</a></div><div class="ttdeci">int evbuffer_remove(struct evbuffer *buf, void *data_out, size_t datlen)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01170">buffer.c:1170</a></div></div>
<div class="ttc" id="astructevbuffer_html"><div class="ttname"><a href="structevbuffer.html">evbuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="evbuffer-internal_8h_source.html#l00080">evbuffer-internal.h:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="openssl-compat_8h_source.html#l00032">BIO_get_data</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, and <a class="el" href="libevent_2buffer_8c_source.html#l01170">evbuffer_remove()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00234">BIO_s_bufferevent()</a>.</p>

</div>
</div>
<a id="ae91b8be648e57e13eab380c42699659a" name="ae91b8be648e57e13eab380c42699659a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae91b8be648e57e13eab380c42699659a">&#9670;&nbsp;</a></span>bio_bufferevent_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bio_bufferevent_write </td>
          <td>(</td>
          <td class="paramtype">BIO *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00159">159</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  160</span>{</div>
<div class="line"><span class="lineno">  161</span>    <span class="keyword">struct </span>bufferevent *bufev = <a class="code hl_define" href="openssl-compat_8h.html#ab03a5cad242a2193fe88768fc01e69a0">BIO_get_data</a>(b);</div>
<div class="line"><span class="lineno">  162</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *output;</div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordtype">size_t</span> outlen;</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    BIO_clear_retry_flags(b);</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="openssl-compat_8h.html#ab03a5cad242a2193fe88768fc01e69a0">BIO_get_data</a>(b))</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    output = <a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(bufev);</div>
<div class="line"><span class="lineno">  171</span>    outlen = <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(output);</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    <span class="comment">/* Copy only as much data onto the output buffer as can fit under the</span></div>
<div class="line"><span class="lineno">  174</span><span class="comment">     * high-water mark. */</span></div>
<div class="line"><span class="lineno">  175</span>    <span class="keywordflow">if</span> (bufev-&gt;wm_write.high &amp;&amp; bufev-&gt;wm_write.high &lt;= (outlen+inlen)) {</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> (bufev-&gt;wm_write.high &lt;= outlen) {</div>
<div class="line"><span class="lineno">  177</span>            <span class="comment">/* If no data can fit, we&#39;ll need to retry later. */</span></div>
<div class="line"><span class="lineno">  178</span>            BIO_set_retry_write(b);</div>
<div class="line"><span class="lineno">  179</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  180</span>        }</div>
<div class="line"><span class="lineno">  181</span>        inlen = bufev-&gt;wm_write.high - outlen;</div>
<div class="line"><span class="lineno">  182</span>    }</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(inlen &gt; 0);</div>
<div class="line"><span class="lineno">  185</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(output, in, inlen);</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">return</span> inlen;</div>
<div class="line"><span class="lineno">  187</span>}</div>
<div class="ttc" id="alibevent_2buffer_8c_html_a8bcbab1212ab067b8faa767febc347ef"><div class="ttname"><a href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a></div><div class="ttdeci">int evbuffer_add(struct evbuffer *buf, const void *data_in, size_t datlen)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01730">buffer.c:1730</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7365930d8b30f4c1ab3cef31a8622731"><div class="ttname"><a href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a></div><div class="ttdeci">#define EVUTIL_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00363">util-internal.h:363</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="openssl-compat_8h_source.html#l00032">BIO_get_data</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01730">evbuffer_add()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, and <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00224">bio_bufferevent_puts()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00234">BIO_s_bufferevent()</a>.</p>

</div>
</div>
<a id="a936a1143c36bc8ad1f8fe3fbef5bad58" name="a936a1143c36bc8ad1f8fe3fbef5bad58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936a1143c36bc8ad1f8fe3fbef5bad58">&#9670;&nbsp;</a></span>BIO_new_bufferevent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static BIO * BIO_new_bufferevent </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufferevent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00253">253</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  254</span>{</div>
<div class="line"><span class="lineno">  255</span>    BIO *result;</div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">if</span> (!bufferevent)</div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">if</span> (!(result = BIO_new(<a class="code hl_function" href="bufferevent__openssl_8c.html#a6752960355449215eb03b357b5542690">BIO_s_bufferevent</a>())))</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  260</span>    <a class="code hl_define" href="openssl-compat_8h.html#a765d3c1cc71b946e13b631a4cc710b7e">BIO_set_init</a>(result, 1);</div>
<div class="line"><span class="lineno">  261</span>    <a class="code hl_define" href="openssl-compat_8h.html#a654163d4452a3eb77c0690d9b2d98521">BIO_set_data</a>(result, bufferevent);</div>
<div class="line"><span class="lineno">  262</span>    <span class="comment">/* We don&#39;t tell the BIO to close the bufferevent; we do it ourselves on</span></div>
<div class="line"><span class="lineno">  263</span><span class="comment">     * be_openssl_destruct() */</span></div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_define" href="openssl-compat_8h.html#a03b9204096a477f31b603382b86d3725">BIO_set_shutdown</a>(result, 0);</div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  266</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a6752960355449215eb03b357b5542690"><div class="ttname"><a href="bufferevent__openssl_8c.html#a6752960355449215eb03b357b5542690">BIO_s_bufferevent</a></div><div class="ttdeci">static BIO_METHOD * BIO_s_bufferevent(void)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00234">bufferevent_openssl.c:234</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00234">BIO_s_bufferevent()</a>, <a class="el" href="openssl-compat_8h_source.html#l00029">BIO_set_data</a>, <a class="el" href="openssl-compat_8h_source.html#l00028">BIO_set_init</a>, and <a class="el" href="openssl-compat_8h_source.html#l00030">BIO_set_shutdown</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01299">be_openssl_ctrl()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01414">bufferevent_openssl_filter_new()</a>.</p>

</div>
</div>
<a id="a6752960355449215eb03b357b5542690" name="a6752960355449215eb03b357b5542690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6752960355449215eb03b357b5542690">&#9670;&nbsp;</a></span>BIO_s_bufferevent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static BIO_METHOD * BIO_s_bufferevent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00234">234</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  235</span>{</div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a> == NULL) {</div>
<div class="line"><span class="lineno">  237</span>        <a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a> = <a class="code hl_function" href="openssl-compat_8h.html#a375d2b43fc3958bd6e92b6bbebd14cc2">BIO_meth_new</a>(<a class="code hl_define" href="bufferevent__openssl_8c.html#af91d4ed02f9d6fcf7bba052d97488da8">BIO_TYPE_LIBEVENT</a>, <span class="stringliteral">&quot;bufferevent&quot;</span>);</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a> == NULL)</div>
<div class="line"><span class="lineno">  239</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  240</span>        <a class="code hl_define" href="openssl-compat_8h.html#a0b9412b55bab3f82f14028aa6a2335df">BIO_meth_set_write</a>(<a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a>, <a class="code hl_function" href="bufferevent__openssl_8c.html#ae91b8be648e57e13eab380c42699659a">bio_bufferevent_write</a>);</div>
<div class="line"><span class="lineno">  241</span>        <a class="code hl_define" href="openssl-compat_8h.html#a3d7706cb6b6c39e03ad84e0ca575eddb">BIO_meth_set_read</a>(<a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a>, <a class="code hl_function" href="bufferevent__openssl_8c.html#a6a03f86d6152112e75cdd6834ebcc9b5">bio_bufferevent_read</a>);</div>
<div class="line"><span class="lineno">  242</span>        <a class="code hl_define" href="openssl-compat_8h.html#a844f84178497986716b95570f5874dbb">BIO_meth_set_puts</a>(<a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a>, <a class="code hl_function" href="bufferevent__openssl_8c.html#a7cc0885d751162e35321e091b14b9c0d">bio_bufferevent_puts</a>);</div>
<div class="line"><span class="lineno">  243</span>        <a class="code hl_define" href="openssl-compat_8h.html#a41226c17e628738be74db503108a9dce">BIO_meth_set_ctrl</a>(<a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a>, <a class="code hl_function" href="bufferevent__openssl_8c.html#a90d399e5bef0c3b01557889f4ffb5bc7">bio_bufferevent_ctrl</a>);</div>
<div class="line"><span class="lineno">  244</span>        <a class="code hl_define" href="openssl-compat_8h.html#a2413056ccd202cb4e17dfbb0d06f2d74">BIO_meth_set_create</a>(<a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a>, <a class="code hl_function" href="bufferevent__openssl_8c.html#addd2bd4031b8a0d6dc4de5019cd839d5">bio_bufferevent_new</a>);</div>
<div class="line"><span class="lineno">  245</span>        <a class="code hl_define" href="openssl-compat_8h.html#a4cd54408591e612551fb2083958b0d9c">BIO_meth_set_destroy</a>(<a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a>, <a class="code hl_function" href="bufferevent__openssl_8c.html#a8371ced28d386cc24cd70151fc2008e3">bio_bufferevent_free</a>);</div>
<div class="line"><span class="lineno">  246</span>    }</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a>;</div>
<div class="line"><span class="lineno">  248</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a6a03f86d6152112e75cdd6834ebcc9b5"><div class="ttname"><a href="bufferevent__openssl_8c.html#a6a03f86d6152112e75cdd6834ebcc9b5">bio_bufferevent_read</a></div><div class="ttdeci">static int bio_bufferevent_read(BIO *b, char *out, int outlen)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00133">bufferevent_openssl.c:133</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a7cc0885d751162e35321e091b14b9c0d"><div class="ttname"><a href="bufferevent__openssl_8c.html#a7cc0885d751162e35321e091b14b9c0d">bio_bufferevent_puts</a></div><div class="ttdeci">static int bio_bufferevent_puts(BIO *b, const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00224">bufferevent_openssl.c:224</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a7d130018e25d91ce286e7949d462fe5d"><div class="ttname"><a href="bufferevent__openssl_8c.html#a7d130018e25d91ce286e7949d462fe5d">methods_bufferevent</a></div><div class="ttdeci">static BIO_METHOD * methods_bufferevent</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00230">bufferevent_openssl.c:230</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a8371ced28d386cc24cd70151fc2008e3"><div class="ttname"><a href="bufferevent__openssl_8c.html#a8371ced28d386cc24cd70151fc2008e3">bio_bufferevent_free</a></div><div class="ttdeci">static int bio_bufferevent_free(BIO *b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00119">bufferevent_openssl.c:119</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a90d399e5bef0c3b01557889f4ffb5bc7"><div class="ttname"><a href="bufferevent__openssl_8c.html#a90d399e5bef0c3b01557889f4ffb5bc7">bio_bufferevent_ctrl</a></div><div class="ttdeci">static long bio_bufferevent_ctrl(BIO *b, int cmd, long num, void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00191">bufferevent_openssl.c:191</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_addd2bd4031b8a0d6dc4de5019cd839d5"><div class="ttname"><a href="bufferevent__openssl_8c.html#addd2bd4031b8a0d6dc4de5019cd839d5">bio_bufferevent_new</a></div><div class="ttdeci">static int bio_bufferevent_new(BIO *b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00110">bufferevent_openssl.c:110</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_af91d4ed02f9d6fcf7bba052d97488da8"><div class="ttname"><a href="bufferevent__openssl_8c.html#af91d4ed02f9d6fcf7bba052d97488da8">BIO_TYPE_LIBEVENT</a></div><div class="ttdeci">#define BIO_TYPE_LIBEVENT</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00085">bufferevent_openssl.c:85</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_a0b9412b55bab3f82f14028aa6a2335df"><div class="ttname"><a href="openssl-compat_8h.html#a0b9412b55bab3f82f14028aa6a2335df">BIO_meth_set_write</a></div><div class="ttdeci">#define BIO_meth_set_write(b, f)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00021">openssl-compat.h:21</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_a2413056ccd202cb4e17dfbb0d06f2d74"><div class="ttname"><a href="openssl-compat_8h.html#a2413056ccd202cb4e17dfbb0d06f2d74">BIO_meth_set_create</a></div><div class="ttdeci">#define BIO_meth_set_create(b, f)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00025">openssl-compat.h:25</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_a375d2b43fc3958bd6e92b6bbebd14cc2"><div class="ttname"><a href="openssl-compat_8h.html#a375d2b43fc3958bd6e92b6bbebd14cc2">BIO_meth_new</a></div><div class="ttdeci">static BIO_METHOD * BIO_meth_new(int type, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00010">openssl-compat.h:10</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_a3d7706cb6b6c39e03ad84e0ca575eddb"><div class="ttname"><a href="openssl-compat_8h.html#a3d7706cb6b6c39e03ad84e0ca575eddb">BIO_meth_set_read</a></div><div class="ttdeci">#define BIO_meth_set_read(b, f)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00022">openssl-compat.h:22</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_a41226c17e628738be74db503108a9dce"><div class="ttname"><a href="openssl-compat_8h.html#a41226c17e628738be74db503108a9dce">BIO_meth_set_ctrl</a></div><div class="ttdeci">#define BIO_meth_set_ctrl(b, f)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00024">openssl-compat.h:24</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_a4cd54408591e612551fb2083958b0d9c"><div class="ttname"><a href="openssl-compat_8h.html#a4cd54408591e612551fb2083958b0d9c">BIO_meth_set_destroy</a></div><div class="ttdeci">#define BIO_meth_set_destroy(b, f)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00026">openssl-compat.h:26</a></div></div>
<div class="ttc" id="aopenssl-compat_8h_html_a844f84178497986716b95570f5874dbb"><div class="ttname"><a href="openssl-compat_8h.html#a844f84178497986716b95570f5874dbb">BIO_meth_set_puts</a></div><div class="ttdeci">#define BIO_meth_set_puts(b, f)</div><div class="ttdef"><b>Definition:</b> <a href="openssl-compat_8h_source.html#l00023">openssl-compat.h:23</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00191">bio_bufferevent_ctrl()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00119">bio_bufferevent_free()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00110">bio_bufferevent_new()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00224">bio_bufferevent_puts()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00133">bio_bufferevent_read()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00159">bio_bufferevent_write()</a>, <a class="el" href="openssl-compat_8h_source.html#l00010">BIO_meth_new()</a>, <a class="el" href="openssl-compat_8h_source.html#l00025">BIO_meth_set_create</a>, <a class="el" href="openssl-compat_8h_source.html#l00024">BIO_meth_set_ctrl</a>, <a class="el" href="openssl-compat_8h_source.html#l00026">BIO_meth_set_destroy</a>, <a class="el" href="openssl-compat_8h_source.html#l00023">BIO_meth_set_puts</a>, <a class="el" href="openssl-compat_8h_source.html#l00022">BIO_meth_set_read</a>, <a class="el" href="openssl-compat_8h_source.html#l00021">BIO_meth_set_write</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00085">BIO_TYPE_LIBEVENT</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00230">methods_bufferevent</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00253">BIO_new_bufferevent()</a>.</p>

</div>
</div>
<a id="a84d6e69ab782b5455d92dd6090f81fdf" name="a84d6e69ab782b5455d92dd6090f81fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84d6e69ab782b5455d92dd6090f81fdf">&#9670;&nbsp;</a></span>bufferevent_get_openssl_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long bufferevent_get_openssl_error </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01513">1513</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1514</span>{</div>
<div class="line"><span class="lineno"> 1515</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> err = 0;</div>
<div class="line"><span class="lineno"> 1516</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl;</div>
<div class="line"><span class="lineno"> 1517</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1518</span>    bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1519</span>    <span class="keywordflow">if</span> (bev_ssl &amp;&amp; bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#aa9d8bf6a2afe4c2bdc657641d33fa697">n_errors</a>) {</div>
<div class="line"><span class="lineno"> 1520</span>        err = bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a88f0d4c8ca08d3c2c19f0569a315ce0f">errors</a>[--bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#aa9d8bf6a2afe4c2bdc657641d33fa697">n_errors</a>];</div>
<div class="line"><span class="lineno"> 1521</span>    }</div>
<div class="line"><span class="lineno"> 1522</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1523</span>    <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno"> 1524</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a08b6651a207b67183866ec2ccc899c9c"><div class="ttname"><a href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a></div><div class="ttdeci">#define BEV_LOCK(b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00485">bufferevent-internal.h:485</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_ae4db92fe8e7d47c0402cd3fb6c5d3ea9"><div class="ttname"><a href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a></div><div class="ttdeci">#define BEV_UNLOCK(b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00491">bufferevent-internal.h:491</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_a88f0d4c8ca08d3c2c19f0569a315ce0f"><div class="ttname"><a href="structbufferevent__openssl.html#a88f0d4c8ca08d3c2c19f0569a315ce0f">bufferevent_openssl::errors</a></div><div class="ttdeci">ev_uint32_t errors[NUM_ERRORS]</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00312">bufferevent_openssl.c:312</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_aa9d8bf6a2afe4c2bdc657641d33fa697"><div class="ttname"><a href="structbufferevent__openssl.html#aa9d8bf6a2afe4c2bdc657641d33fa697">bufferevent_openssl::n_errors</a></div><div class="ttdeci">unsigned n_errors</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00323">bufferevent_openssl.c:323</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00312">bufferevent_openssl::errors</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00323">bufferevent_openssl::n_errors</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="aa2fad44f416410a9120589324f0c0a84" name="aa2fad44f416410a9120589324f0c0a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2fad44f416410a9120589324f0c0a84">&#9670;&nbsp;</a></span>bufferevent_openssl_filter_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct bufferevent * bufferevent_openssl_filter_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>underlying</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SSL *&#160;</td>
          <td class="paramname"><em>ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum bufferevent_ssl_state&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01414">1414</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1419</span>{</div>
<div class="line"><span class="lineno"> 1420</span>    BIO *bio;</div>
<div class="line"><span class="lineno"> 1421</span>    <span class="keyword">struct </span>bufferevent *bev;</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>    <span class="keywordflow">if</span> (!underlying)</div>
<div class="line"><span class="lineno"> 1424</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 1425</span>    <span class="keywordflow">if</span> (!(bio = <a class="code hl_function" href="bufferevent__openssl_8c.html#a936a1143c36bc8ad1f8fe3fbef5bad58">BIO_new_bufferevent</a>(underlying)))</div>
<div class="line"><span class="lineno"> 1426</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 1427</span> </div>
<div class="line"><span class="lineno"> 1428</span>    SSL_set_bio(ssl, bio, bio);</div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span>    bev = <a class="code hl_function" href="bufferevent__openssl_8c.html#a97fe2cc9b8b2c0729db913b5d37ade65">bufferevent_openssl_new_impl</a>(</div>
<div class="line"><span class="lineno"> 1431</span>        base, underlying, -1, ssl, state, options);</div>
<div class="line"><span class="lineno"> 1432</span>    <span class="keywordflow">return</span> bev;</div>
<div class="line"><span class="lineno"> 1433</span> </div>
<div class="line"><span class="lineno"> 1434</span>err:</div>
<div class="line"><span class="lineno"> 1435</span>    <span class="keywordflow">if</span> (options &amp; BEV_OPT_CLOSE_ON_FREE)</div>
<div class="line"><span class="lineno"> 1436</span>        SSL_free(ssl);</div>
<div class="line"><span class="lineno"> 1437</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1438</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a97fe2cc9b8b2c0729db913b5d37ade65"><div class="ttname"><a href="bufferevent__openssl_8c.html#a97fe2cc9b8b2c0729db913b5d37ade65">bufferevent_openssl_new_impl</a></div><div class="ttdeci">static struct bufferevent * bufferevent_openssl_new_impl(struct event_base *base, struct bufferevent *underlying, evutil_socket_t fd, SSL *ssl, enum bufferevent_ssl_state state, int options)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl.c:1343</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00253">BIO_new_bufferevent()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>.</p>

</div>
</div>
<a id="af8c8fbfc0b037c9f0d05a8a8e5c9f9d2" name="af8c8fbfc0b037c9f0d05a8a8e5c9f9d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8c8fbfc0b037c9f0d05a8a8e5c9f9d2">&#9670;&nbsp;</a></span>bufferevent_openssl_get_allow_dirty_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_openssl_get_allow_dirty_shutdown </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01488">1488</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1489</span>{</div>
<div class="line"><span class="lineno"> 1490</span>    <span class="keywordtype">int</span> allow_dirty_shutdown = -1;</div>
<div class="line"><span class="lineno"> 1491</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl;</div>
<div class="line"><span class="lineno"> 1492</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1493</span>    bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1494</span>    <span class="keywordflow">if</span> (bev_ssl)</div>
<div class="line"><span class="lineno"> 1495</span>        <a class="code hl_variable" href="structbufferevent__openssl.html#ac1de2452f2f4eb0fccdd69ccace1865a">allow_dirty_shutdown</a> = bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#ac1de2452f2f4eb0fccdd69ccace1865a">allow_dirty_shutdown</a>;</div>
<div class="line"><span class="lineno"> 1496</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1497</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="structbufferevent__openssl.html#ac1de2452f2f4eb0fccdd69ccace1865a">allow_dirty_shutdown</a>;</div>
<div class="line"><span class="lineno"> 1498</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00321">bufferevent_openssl::allow_dirty_shutdown</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="aeec6761c2b512b14ff3fda59636f3e80" name="aeec6761c2b512b14ff3fda59636f3e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeec6761c2b512b14ff3fda59636f3e80">&#9670;&nbsp;</a></span>bufferevent_openssl_get_ssl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SSL * bufferevent_openssl_get_ssl </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01334">1334</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1335</span>{</div>
<div class="line"><span class="lineno"> 1336</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(bufev);</div>
<div class="line"><span class="lineno"> 1337</span>    <span class="keywordflow">if</span> (!bev_ssl)</div>
<div class="line"><span class="lineno"> 1338</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1339</span>    <span class="keywordflow">return</span> bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>;</div>
<div class="line"><span class="lineno"> 1340</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="a97fe2cc9b8b2c0729db913b5d37ade65" name="a97fe2cc9b8b2c0729db913b5d37ade65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97fe2cc9b8b2c0729db913b5d37ade65">&#9670;&nbsp;</a></span>bufferevent_openssl_new_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct bufferevent * bufferevent_openssl_new_impl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>underlying</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SSL *&#160;</td>
          <td class="paramname"><em>ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum bufferevent_ssl_state&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01343">1343</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1349</span>{</div>
<div class="line"><span class="lineno"> 1350</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = NULL;</div>
<div class="line"><span class="lineno"> 1351</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bev_p = NULL;</div>
<div class="line"><span class="lineno"> 1352</span>    <span class="keywordtype">int</span> tmp_options = <a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a> &amp; ~BEV_OPT_THREADSAFE;</div>
<div class="line"><span class="lineno"> 1353</span> </div>
<div class="line"><span class="lineno"> 1354</span>    <span class="comment">/* Only one can be set. */</span></div>
<div class="line"><span class="lineno"> 1355</span>    <span class="keywordflow">if</span> (underlying != NULL &amp;&amp; fd &gt;= 0)</div>
<div class="line"><span class="lineno"> 1356</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>    <span class="keywordflow">if</span> (!(bev_ssl = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a>))))</div>
<div class="line"><span class="lineno"> 1359</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>    bev_p = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>;</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent-internal_8h.html#a8b5e762d9a4b44fef29e9c542b77caba">bufferevent_init_common_</a>(bev_p, base,</div>
<div class="line"><span class="lineno"> 1364</span>        &amp;<a class="code hl_variable" href="bufferevent__openssl_8c.html#a6301a9dade80c3b7cc424aa8c5655180">bufferevent_ops_openssl</a>, tmp_options) &lt; 0)</div>
<div class="line"><span class="lineno"> 1365</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>    <span class="comment">/* Don&#39;t explode if we decide to realloc a chunk we&#39;re writing from in</span></div>
<div class="line"><span class="lineno"> 1368</span><span class="comment">     * the output buffer. */</span></div>
<div class="line"><span class="lineno"> 1369</span>    SSL_set_mode(ssl, SSL_MODE_ACCEPT_MOVING_WRITE_BUFFER);</div>
<div class="line"><span class="lineno"> 1370</span> </div>
<div class="line"><span class="lineno"> 1371</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a> = underlying;</div>
<div class="line"><span class="lineno"> 1372</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a> = ssl;</div>
<div class="line"><span class="lineno"> 1373</span> </div>
<div class="line"><span class="lineno"> 1374</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#ac6c14a6c06789112e2d92ad0c1824911">outbuf_cb</a> = <a class="code hl_function" href="libevent_2buffer_8c.html#a7f74a931a40fed1f64496cce05e4f140">evbuffer_add_cb</a>(bev_p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.output,</div>
<div class="line"><span class="lineno"> 1375</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#ae56b8cc3a01e4511d014afe0f5262e16">be_openssl_outbuf_cb</a>, bev_ssl);</div>
<div class="line"><span class="lineno"> 1376</span> </div>
<div class="line"><span class="lineno"> 1377</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a> &amp; BEV_OPT_THREADSAFE)</div>
<div class="line"><span class="lineno"> 1378</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a8bb3257da4de66812dd5c646468e4491">bufferevent_enable_locking_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>, NULL);</div>
<div class="line"><span class="lineno"> 1379</span> </div>
<div class="line"><span class="lineno"> 1380</span>    <span class="keywordflow">if</span> (underlying) {</div>
<div class="line"><span class="lineno"> 1381</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#aa0731dd27ca5e702c0a6fffe579511b2">bufferevent_init_generic_timeout_cbs_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno"> 1382</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#afcc12755372ba0aad29f5618cf7e60e9">bufferevent_incref_</a>(underlying);</div>
<div class="line"><span class="lineno"> 1383</span>    }</div>
<div class="line"><span class="lineno"> 1384</span> </div>
<div class="line"><span class="lineno"> 1385</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a94b092c8a7a895b2b12223894c6aa7b5">old_state</a> = state;</div>
<div class="line"><span class="lineno"> 1386</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a14c1346edd32371b363cbd213ccddbcf">last_write</a> = -1;</div>
<div class="line"><span class="lineno"> 1387</span> </div>
<div class="line"><span class="lineno"> 1388</span>    <a class="code hl_function" href="bufferevent__openssl_8c.html#a72777deb9555efcfda525da0077f2f4a">init_bio_counts</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1389</span> </div>
<div class="line"><span class="lineno"> 1390</span>    fd = <a class="code hl_function" href="bufferevent__openssl_8c.html#afc691f6f779104f33501d76e6e27edb1">be_openssl_auto_fd</a>(bev_ssl, fd);</div>
<div class="line"><span class="lineno"> 1391</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#a41982b3451840eda4655d9743fcf9a51">be_openssl_set_fd</a>(bev_ssl, state, fd))</div>
<div class="line"><span class="lineno"> 1392</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 1393</span> </div>
<div class="line"><span class="lineno"> 1394</span>    <span class="keywordflow">if</span> (underlying) {</div>
<div class="line"><span class="lineno"> 1395</span>        <a class="code hl_function" href="bufferevent_8c.html#a74e3835e99f8eb73bb1cd7afa7427049">bufferevent_setwatermark</a>(underlying, EV_READ, 0, 0);</div>
<div class="line"><span class="lineno"> 1396</span>        <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(underlying, EV_READ|EV_WRITE);</div>
<div class="line"><span class="lineno"> 1397</span>        <span class="keywordflow">if</span> (state == BUFFEREVENT_SSL_OPEN)</div>
<div class="line"><span class="lineno"> 1398</span>            <a class="code hl_function" href="bufferevent-internal_8h.html#af9df7487d8b5a00fecd7b190eb47ec67">bufferevent_suspend_read_</a>(underlying,</div>
<div class="line"><span class="lineno"> 1399</span>                <a class="code hl_define" href="bufferevent-internal_8h.html#ab43a7947e11f1e810a9d5653ea503de0">BEV_SUSPEND_FILT_READ</a>);</div>
<div class="line"><span class="lineno"> 1400</span>    }</div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="line"><span class="lineno"> 1402</span>    <span class="keywordflow">return</span> &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno"> 1403</span>err:</div>
<div class="line"><span class="lineno"> 1404</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a> &amp; BEV_OPT_CLOSE_ON_FREE)</div>
<div class="line"><span class="lineno"> 1405</span>        SSL_free(ssl);</div>
<div class="line"><span class="lineno"> 1406</span>    <span class="keywordflow">if</span> (bev_ssl) {</div>
<div class="line"><span class="lineno"> 1407</span>        bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a> = NULL;</div>
<div class="line"><span class="lineno"> 1408</span>        <a class="code hl_function" href="bufferevent_8c.html#a474a4cef8fd80bea09a636b5f3055bec">bufferevent_free</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno"> 1409</span>    }</div>
<div class="line"><span class="lineno"> 1410</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1411</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a8b5e762d9a4b44fef29e9c542b77caba"><div class="ttname"><a href="bufferevent-internal_8h.html#a8b5e762d9a4b44fef29e9c542b77caba">bufferevent_init_common_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_init_common_(struct bufferevent_private *, struct event_base *, const struct bufferevent_ops *, enum bufferevent_options options)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00309">bufferevent.c:309</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_a8bb3257da4de66812dd5c646468e4491"><div class="ttname"><a href="bufferevent-internal_8h.html#a8bb3257da4de66812dd5c646468e4491">bufferevent_enable_locking_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_enable_locking_(struct bufferevent *bufev, void *lock)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00829">bufferevent.c:829</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_aa0731dd27ca5e702c0a6fffe579511b2"><div class="ttname"><a href="bufferevent-internal_8h.html#aa0731dd27ca5e702c0a6fffe579511b2">bufferevent_init_generic_timeout_cbs_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void bufferevent_init_generic_timeout_cbs_(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00961">bufferevent.c:961</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_af9df7487d8b5a00fecd7b190eb47ec67"><div class="ttname"><a href="bufferevent-internal_8h.html#af9df7487d8b5a00fecd7b190eb47ec67">bufferevent_suspend_read_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void bufferevent_suspend_read_(struct bufferevent *bufev, bufferevent_suspend_flags what)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00067">bufferevent.c:67</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_afcc12755372ba0aad29f5618cf7e60e9"><div class="ttname"><a href="bufferevent-internal_8h.html#afcc12755372ba0aad29f5618cf7e60e9">bufferevent_incref_</a></div><div class="ttdeci">#define bufferevent_incref_(bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00369">bufferevent-internal.h:369</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a1b9a3412e8c8e122c745b33d46b9643e"><div class="ttname"><a href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a></div><div class="ttdeci">int bufferevent_enable(struct bufferevent *bufev, short event)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00482">bufferevent.c:482</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a74e3835e99f8eb73bb1cd7afa7427049"><div class="ttname"><a href="bufferevent_8c.html#a74e3835e99f8eb73bb1cd7afa7427049">bufferevent_setwatermark</a></div><div class="ttdeci">void bufferevent_setwatermark(struct bufferevent *bufev, short events, size_t lowmark, size_t highmark)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00594">bufferevent.c:594</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a6301a9dade80c3b7cc424aa8c5655180"><div class="ttname"><a href="bufferevent__openssl_8c.html#a6301a9dade80c3b7cc424aa8c5655180">bufferevent_ops_openssl</a></div><div class="ttdeci">const struct bufferevent_ops bufferevent_ops_openssl</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00340">bufferevent_openssl.c:340</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a72777deb9555efcfda525da0077f2f4a"><div class="ttname"><a href="bufferevent__openssl_8c.html#a72777deb9555efcfda525da0077f2f4a">init_bio_counts</a></div><div class="ttdeci">static void init_bio_counts(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00551">bufferevent_openssl.c:551</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ae56b8cc3a01e4511d014afe0f5262e16"><div class="ttname"><a href="bufferevent__openssl_8c.html#ae56b8cc3a01e4511d014afe0f5262e16">be_openssl_outbuf_cb</a></div><div class="ttdeci">static void be_openssl_outbuf_cb(struct evbuffer *buf, const struct evbuffer_cb_info *cbinfo, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01136">bufferevent_openssl.c:1136</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_afc691f6f779104f33501d76e6e27edb1"><div class="ttname"><a href="bufferevent__openssl_8c.html#afc691f6f779104f33501d76e6e27edb1">be_openssl_auto_fd</a></div><div class="ttdeci">static evutil_socket_t be_openssl_auto_fd(struct bufferevent_openssl *bev_ssl, evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00971">bufferevent_openssl.c:971</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a7f74a931a40fed1f64496cce05e4f140"><div class="ttname"><a href="libevent_2buffer_8c.html#a7f74a931a40fed1f64496cce05e4f140">evbuffer_add_cb</a></div><div class="ttdeci">struct evbuffer_cb_entry * evbuffer_add_cb(struct evbuffer *buffer, evbuffer_cb_func cb, void *cbarg)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l03334">buffer.c:3334</a></div></div>
<div class="ttc" id="amm-internal_8h_html_a0c64a2a6527ed776255e0e4e380593dc"><div class="ttname"><a href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a></div><div class="ttdeci">#define mm_calloc(count, size)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00076">mm-internal.h:76</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_a14c1346edd32371b363cbd213ccddbcf"><div class="ttname"><a href="structbufferevent__openssl.html#a14c1346edd32371b363cbd213ccddbcf">bufferevent_openssl::last_write</a></div><div class="ttdeci">ev_ssize_t last_write</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00309">bufferevent_openssl.c:309</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_ac6c14a6c06789112e2d92ad0c1824911"><div class="ttname"><a href="structbufferevent__openssl.html#ac6c14a6c06789112e2d92ad0c1824911">bufferevent_openssl::outbuf_cb</a></div><div class="ttdeci">struct evbuffer_cb_entry * outbuf_cb</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00301">bufferevent_openssl.c:301</a></div></div>
<div class="ttc" id="astructbufferevent__private_html"><div class="ttname"><a href="structbufferevent__private.html">bufferevent_private</a></div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00154">bufferevent-internal.h:154</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00971">be_openssl_auto_fd()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01136">be_openssl_outbuf_cb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01267">be_openssl_set_fd()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00075">BEV_SUSPEND_FILT_READ</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00829">bufferevent_enable_locking_()</a>, <a class="el" href="bufferevent_8c_source.html#l00806">bufferevent_free()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00369">bufferevent_incref_</a>, <a class="el" href="bufferevent_8c_source.html#l00309">bufferevent_init_common_()</a>, <a class="el" href="bufferevent_8c_source.html#l00961">bufferevent_init_generic_timeout_cbs_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00340">bufferevent_ops_openssl</a>, <a class="el" href="bufferevent_8c_source.html#l00594">bufferevent_setwatermark()</a>, <a class="el" href="bufferevent_8c_source.html#l00067">bufferevent_suspend_read_()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l03334">evbuffer_add_cb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00551">init_bio_counts()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00309">bufferevent_openssl::last_write</a>, <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00328">bufferevent_openssl::old_state</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00301">bufferevent_openssl::outbuf_cb</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01414">bufferevent_openssl_filter_new()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01441">bufferevent_openssl_socket_new()</a>.</p>

</div>
</div>
<a id="a7960dbc9132954fb599da050f14b8176" name="a7960dbc9132954fb599da050f14b8176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7960dbc9132954fb599da050f14b8176">&#9670;&nbsp;</a></span>bufferevent_openssl_set_allow_dirty_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_openssl_set_allow_dirty_shutdown </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>allow_dirty_shutdown</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01501">1501</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1503</span>{</div>
<div class="line"><span class="lineno"> 1504</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl;</div>
<div class="line"><span class="lineno"> 1505</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1506</span>    bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1507</span>    <span class="keywordflow">if</span> (bev_ssl)</div>
<div class="line"><span class="lineno"> 1508</span>        bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#ac1de2452f2f4eb0fccdd69ccace1865a">allow_dirty_shutdown</a> = !!<a class="code hl_variable" href="structbufferevent__openssl.html#ac1de2452f2f4eb0fccdd69ccace1865a">allow_dirty_shutdown</a>;</div>
<div class="line"><span class="lineno"> 1509</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1510</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00321">bufferevent_openssl::allow_dirty_shutdown</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="af27a7476f66abeb20e6130f14353b3e6" name="af27a7476f66abeb20e6130f14353b3e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af27a7476f66abeb20e6130f14353b3e6">&#9670;&nbsp;</a></span>bufferevent_openssl_socket_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct bufferevent * bufferevent_openssl_socket_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SSL *&#160;</td>
          <td class="paramname"><em>ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum bufferevent_ssl_state&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01441">1441</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1446</span>{</div>
<div class="line"><span class="lineno"> 1447</span>    <span class="comment">/* Does the SSL already have an fd? */</span></div>
<div class="line"><span class="lineno"> 1448</span>    BIO *bio = SSL_get_wbio(ssl);</div>
<div class="line"><span class="lineno"> 1449</span>    <span class="keywordtype">long</span> have_fd = -1;</div>
<div class="line"><span class="lineno"> 1450</span> </div>
<div class="line"><span class="lineno"> 1451</span>    <span class="keywordflow">if</span> (bio)</div>
<div class="line"><span class="lineno"> 1452</span>        have_fd = BIO_get_fd(bio, NULL);</div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>    <span class="keywordflow">if</span> (have_fd &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1455</span>        <span class="comment">/* The SSL is already configured with an fd. */</span></div>
<div class="line"><span class="lineno"> 1456</span>        <span class="keywordflow">if</span> (fd &lt; 0) {</div>
<div class="line"><span class="lineno"> 1457</span>            <span class="comment">/* We should learn the fd from the SSL. */</span></div>
<div class="line"><span class="lineno"> 1458</span>            fd = (evutil_socket_t) have_fd;</div>
<div class="line"><span class="lineno"> 1459</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (have_fd == (<span class="keywordtype">long</span>)fd) {</div>
<div class="line"><span class="lineno"> 1460</span>            <span class="comment">/* We already know the fd from the SSL; do nothing */</span></div>
<div class="line"><span class="lineno"> 1461</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1462</span>            <span class="comment">/* We specified an fd different from that of the SSL.</span></div>
<div class="line"><span class="lineno"> 1463</span><span class="comment">               This is probably an error on our part.  Fail. */</span></div>
<div class="line"><span class="lineno"> 1464</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno"> 1465</span>        }</div>
<div class="line"><span class="lineno"> 1466</span>        BIO_set_close(bio, 0);</div>
<div class="line"><span class="lineno"> 1467</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1468</span>        <span class="comment">/* The SSL isn&#39;t configured with a BIO with an fd. */</span></div>
<div class="line"><span class="lineno"> 1469</span>        <span class="keywordflow">if</span> (fd &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1470</span>            <span class="comment">/* ... and we have an fd we want to use. */</span></div>
<div class="line"><span class="lineno"> 1471</span>            bio = BIO_new_socket((<span class="keywordtype">int</span>)fd, 0);</div>
<div class="line"><span class="lineno"> 1472</span>            SSL_set_bio(ssl, bio, bio);</div>
<div class="line"><span class="lineno"> 1473</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1474</span>            <span class="comment">/* Leave the fd unset. */</span></div>
<div class="line"><span class="lineno"> 1475</span>        }</div>
<div class="line"><span class="lineno"> 1476</span>    }</div>
<div class="line"><span class="lineno"> 1477</span> </div>
<div class="line"><span class="lineno"> 1478</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent__openssl_8c.html#a97fe2cc9b8b2c0729db913b5d37ade65">bufferevent_openssl_new_impl</a>(</div>
<div class="line"><span class="lineno"> 1479</span>        base, NULL, fd, ssl, state, options);</div>
<div class="line"><span class="lineno"> 1480</span> </div>
<div class="line"><span class="lineno"> 1481</span>err:</div>
<div class="line"><span class="lineno"> 1482</span>    <span class="keywordflow">if</span> (options &amp; BEV_OPT_CLOSE_ON_FREE)</div>
<div class="line"><span class="lineno"> 1483</span>        SSL_free(ssl);</div>
<div class="line"><span class="lineno"> 1484</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1485</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>.</p>

</div>
</div>
<a id="a2e0a58477aaf15fc619d352788d19830" name="a2e0a58477aaf15fc619d352788d19830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e0a58477aaf15fc619d352788d19830">&#9670;&nbsp;</a></span>bufferevent_ssl_renegotiate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_ssl_renegotiate </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01120">1120</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1121</span>{</div>
<div class="line"><span class="lineno"> 1122</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_ssl = <a class="code hl_function" href="bufferevent__openssl_8c.html#a3a30f0a419da6d01e62169c097cfe380">upcast</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno"> 1123</span>    <span class="keywordflow">if</span> (!bev_ssl)</div>
<div class="line"><span class="lineno"> 1124</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1125</span>    <span class="keywordflow">if</span> (SSL_renegotiate(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>) &lt; 0)</div>
<div class="line"><span class="lineno"> 1126</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1127</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a800c0653e879ef59ffbd77e856dd592f">state</a> = BUFFEREVENT_SSL_CONNECTING;</div>
<div class="line"><span class="lineno"> 1128</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#ac9b54452257546f8e493af35e6f19747">set_handshake_callbacks</a>(bev_ssl, <a class="code hl_function" href="bufferevent__openssl_8c.html#afc691f6f779104f33501d76e6e27edb1">be_openssl_auto_fd</a>(bev_ssl, -1)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1129</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1130</span>    <span class="keywordflow">if</span> (!bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>)</div>
<div class="line"><span class="lineno"> 1131</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent__openssl_8c.html#a4d7eab3c66da1a8bcec446bd024f4019">do_handshake</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1132</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1133</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00971">be_openssl_auto_fd()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00326">bufferevent_openssl::state</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00355">upcast()</a>.</p>

</div>
</div>
<a id="af0541f68588a18043d02d36487022f9d" name="af0541f68588a18043d02d36487022f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0541f68588a18043d02d36487022f9d">&#9670;&nbsp;</a></span>bytes_to_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bytes_to_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00739">739</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  740</span>{</div>
<div class="line"><span class="lineno">  741</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *input = bev-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.input;</div>
<div class="line"><span class="lineno">  742</span>    <span class="keyword">struct </span>event_watermark *wm = &amp;bev-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.wm_read;</div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordtype">int</span> result = <a class="code hl_define" href="bufferevent__openssl_8c.html#afe7e0ba10e59f3cc5cb3b0500febf57f">READ_DEFAULT</a>;</div>
<div class="line"><span class="lineno">  744</span>    ev_ssize_t limit;</div>
<div class="line"><span class="lineno">  745</span>    <span class="comment">/* XXX 99% of this is generic code that nearly all bufferevents will</span></div>
<div class="line"><span class="lineno">  746</span><span class="comment">     * want. */</span></div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>    <span class="keywordflow">if</span> (bev-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a>) {</div>
<div class="line"><span class="lineno">  749</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  750</span>    }</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>    <span class="keywordflow">if</span> (! (bev-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.enabled &amp; EV_READ)) {</div>
<div class="line"><span class="lineno">  753</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  754</span>    }</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>    <span class="keywordflow">if</span> (bev-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a>) {</div>
<div class="line"><span class="lineno">  757</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  758</span>    }</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    <span class="keywordflow">if</span> (wm-&gt;high) {</div>
<div class="line"><span class="lineno">  761</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(input) &gt;= wm-&gt;high) {</div>
<div class="line"><span class="lineno">  762</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  763</span>        }</div>
<div class="line"><span class="lineno">  764</span> </div>
<div class="line"><span class="lineno">  765</span>        result = wm-&gt;high - <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(input);</div>
<div class="line"><span class="lineno">  766</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  767</span>        result = <a class="code hl_define" href="bufferevent__openssl_8c.html#afe7e0ba10e59f3cc5cb3b0500febf57f">READ_DEFAULT</a>;</div>
<div class="line"><span class="lineno">  768</span>    }</div>
<div class="line"><span class="lineno">  769</span> </div>
<div class="line"><span class="lineno">  770</span>    <span class="comment">/* Respect the rate limit */</span></div>
<div class="line"><span class="lineno">  771</span>    limit = <a class="code hl_function" href="bufferevent-internal_8h.html#a5f1754d3222ab3b8da5d7ae1d1d4c3ae">bufferevent_get_read_max_</a>(&amp;bev-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordflow">if</span> (result &gt; limit) {</div>
<div class="line"><span class="lineno">  773</span>        result = limit;</div>
<div class="line"><span class="lineno">  774</span>    }</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  777</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a5f1754d3222ab3b8da5d7ae1d1d4c3ae"><div class="ttname"><a href="bufferevent-internal_8h.html#a5f1754d3222ab3b8da5d7ae1d1d4c3ae">bufferevent_get_read_max_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL ev_ssize_t bufferevent_get_read_max_(struct bufferevent_private *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__ratelim_8c_source.html#l00261">bufferevent_ratelim.c:261</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_afe7e0ba10e59f3cc5cb3b0500febf57f"><div class="ttname"><a href="bufferevent__openssl_8c.html#afe7e0ba10e59f3cc5cb3b0500febf57f">READ_DEFAULT</a></div><div class="ttdeci">#define READ_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00734">bufferevent_openssl.c:734</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_a247c808361e7f246c177da7f9b555a95"><div class="ttname"><a href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">bufferevent_openssl::write_blocked_on_read</a></div><div class="ttdeci">unsigned write_blocked_on_read</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00319">bufferevent_openssl.c:319</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a666a020bf0b6d0fc0a20715dbc0d502e"><div class="ttname"><a href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">bufferevent_private::read_suspended</a></div><div class="ttdeci">bufferevent_suspend_flags read_suspended</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00182">bufferevent-internal.h:182</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00261">bufferevent_get_read_max_()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00734">READ_DEFAULT</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00182">bufferevent_private::read_suspended</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00319">bufferevent_openssl::write_blocked_on_read</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00785">consider_reading()</a>.</p>

</div>
</div>
<a id="a28222bf85d354acd63ee51851515c2df" name="a28222bf85d354acd63ee51851515c2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28222bf85d354acd63ee51851515c2df">&#9670;&nbsp;</a></span>clear_rbow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int clear_rbow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00469">469</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  470</span>{</div>
<div class="line"><span class="lineno">  471</span>    <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  473</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">read_blocked_on_write</a> = 0;</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordflow">if</span> (!(bev-&gt;enabled &amp; EV_WRITE))</div>
<div class="line"><span class="lineno">  475</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a50075648e731f3bae2bb5f6e58691ff4">stop_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  476</span>    <span class="keywordflow">if</span> (bev-&gt;enabled &amp; EV_READ)</div>
<div class="line"><span class="lineno">  477</span>        r = <a class="code hl_function" href="bufferevent__openssl_8c.html#a8e347c8c3e78a502d9481a55337ddabd">start_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  479</span>}</div>
<div class="ttc" id="astructbufferevent__openssl_html_af403a7c8f98712cc7984c1597abc314b"><div class="ttname"><a href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">bufferevent_openssl::read_blocked_on_write</a></div><div class="ttdeci">unsigned read_blocked_on_write</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00317">bufferevent_openssl.c:317</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00317">bufferevent_openssl::read_blocked_on_write</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00383">start_reading()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00437">stop_writing()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00584">do_read()</a>.</p>

</div>
</div>
<a id="ac0f1cf121563cfda037294d49c535765" name="ac0f1cf121563cfda037294d49c535765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f1cf121563cfda037294d49c535765">&#9670;&nbsp;</a></span>clear_wbor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int clear_wbor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00483">483</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  484</span>{</div>
<div class="line"><span class="lineno">  485</span>    <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  487</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a> = 0;</div>
<div class="line"><span class="lineno">  488</span>    <span class="keywordflow">if</span> (!(bev-&gt;enabled &amp; EV_READ))</div>
<div class="line"><span class="lineno">  489</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a00f1cb114cd7bc7b79e96fef0d951c19">stop_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">if</span> (bev-&gt;enabled &amp; EV_WRITE)</div>
<div class="line"><span class="lineno">  491</span>        r = <a class="code hl_function" href="bufferevent__openssl_8c.html#a312378eec8388eb749e22b437fc49146">start_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  493</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00404">start_writing()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00423">stop_reading()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00319">bufferevent_openssl::write_blocked_on_read</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00654">do_write()</a>.</p>

</div>
</div>
<a id="ae7595311464f4601af667e8552948a92" name="ae7595311464f4601af667e8552948a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7595311464f4601af667e8552948a92">&#9670;&nbsp;</a></span>conn_closed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void conn_closed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00496">496</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  497</span>{</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordtype">int</span> <span class="keyword">event</span> = BEV_EVENT_ERROR;</div>
<div class="line"><span class="lineno">  499</span>    <span class="keywordtype">int</span> dirty_shutdown = 0;</div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> err;</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordflow">switch</span> (errcode) {</div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">case</span> SSL_ERROR_ZERO_RETURN:</div>
<div class="line"><span class="lineno">  504</span>        <span class="comment">/* Possibly a clean shutdown. */</span></div>
<div class="line"><span class="lineno">  505</span>        <span class="keywordflow">if</span> (SSL_get_shutdown(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>) &amp; SSL_RECEIVED_SHUTDOWN)</div>
<div class="line"><span class="lineno">  506</span>            <span class="keyword">event</span> = BEV_EVENT_EOF;</div>
<div class="line"><span class="lineno">  507</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  508</span>            dirty_shutdown = 1;</div>
<div class="line"><span class="lineno">  509</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  510</span>    <span class="keywordflow">case</span> SSL_ERROR_SYSCALL:</div>
<div class="line"><span class="lineno">  511</span>        <span class="comment">/* IO error; possibly a dirty shutdown. */</span></div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">if</span> ((ret == 0 || ret == -1) &amp;&amp; ERR_peek_error() == 0)</div>
<div class="line"><span class="lineno">  513</span>            dirty_shutdown = 1;</div>
<div class="line"><span class="lineno">  514</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a446e999811ad80878513161520ebde27">put_error</a>(bev_ssl, errcode);</div>
<div class="line"><span class="lineno">  515</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">case</span> SSL_ERROR_SSL:</div>
<div class="line"><span class="lineno">  517</span>        <span class="comment">/* Protocol error. */</span></div>
<div class="line"><span class="lineno">  518</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a446e999811ad80878513161520ebde27">put_error</a>(bev_ssl, errcode);</div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordflow">case</span> SSL_ERROR_WANT_X509_LOOKUP:</div>
<div class="line"><span class="lineno">  521</span>        <span class="comment">/* XXXX handle this. */</span></div>
<div class="line"><span class="lineno">  522</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a446e999811ad80878513161520ebde27">put_error</a>(bev_ssl, errcode);</div>
<div class="line"><span class="lineno">  523</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordflow">case</span> SSL_ERROR_NONE:</div>
<div class="line"><span class="lineno">  525</span>    <span class="keywordflow">case</span> SSL_ERROR_WANT_READ:</div>
<div class="line"><span class="lineno">  526</span>    <span class="keywordflow">case</span> SSL_ERROR_WANT_WRITE:</div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">case</span> SSL_ERROR_WANT_CONNECT:</div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">case</span> SSL_ERROR_WANT_ACCEPT:</div>
<div class="line"><span class="lineno">  529</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  530</span>        <span class="comment">/* should be impossible; treat as normal error. */</span></div>
<div class="line"><span class="lineno">  531</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;BUG: Unexpected OpenSSL error code %d&quot;</span>, errcode);</div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  533</span>    }</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">while</span> ((err = ERR_get_error())) {</div>
<div class="line"><span class="lineno">  536</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a446e999811ad80878513161520ebde27">put_error</a>(bev_ssl, err);</div>
<div class="line"><span class="lineno">  537</span>    }</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">if</span> (dirty_shutdown &amp;&amp; bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#ac1de2452f2f4eb0fccdd69ccace1865a">allow_dirty_shutdown</a>)</div>
<div class="line"><span class="lineno">  540</span>        <span class="keyword">event</span> = BEV_EVENT_EOF;</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>    <a class="code hl_function" href="bufferevent__openssl_8c.html#a00f1cb114cd7bc7b79e96fef0d951c19">stop_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  543</span>    <a class="code hl_function" href="bufferevent__openssl_8c.html#a50075648e731f3bae2bb5f6e58691ff4">stop_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>    <span class="comment">/* when is BEV_EVENT_{READING|WRITING} */</span></div>
<div class="line"><span class="lineno">  546</span>    <span class="keyword">event</span> = when | event;</div>
<div class="line"><span class="lineno">  547</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a43b7bd7739cbc72cf461e1dd76d9c2d7">bufferevent_run_eventcb_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>, event, 0);</div>
<div class="line"><span class="lineno">  548</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a446e999811ad80878513161520ebde27"><div class="ttname"><a href="bufferevent__openssl_8c.html#a446e999811ad80878513161520ebde27">put_error</a></div><div class="ttdeci">static void put_error(struct bufferevent_openssl *bev_ssl, unsigned long err)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00367">bufferevent_openssl.c:367</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00321">bufferevent_openssl::allow_dirty_shutdown</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00285">bufferevent_run_eventcb_()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00367">put_error()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00423">stop_reading()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00437">stop_writing()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00584">do_read()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00654">do_write()</a>.</p>

</div>
</div>
<a id="aa259edb960f26d0cf4a5986e35f5e081" name="aa259edb960f26d0cf4a5986e35f5e081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa259edb960f26d0cf4a5986e35f5e081">&#9670;&nbsp;</a></span>consider_reading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void consider_reading </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00785">785</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  786</span>{</div>
<div class="line"><span class="lineno">  787</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno">  788</span>    <span class="keywordtype">int</span> n_to_read;</div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordtype">int</span> all_result_flags = 0;</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>    <span class="keywordflow">while</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a>) {</div>
<div class="line"><span class="lineno">  792</span>        r = <a class="code hl_function" href="bufferevent__openssl_8c.html#a2e2b4d6569c141151a412412cc16bd3f">do_write</a>(bev_ssl, <a class="code hl_define" href="bufferevent__openssl_8c.html#abfb5cffe1b3dff799bd554325b4addc8">WRITE_FRAME</a>);</div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordflow">if</span> (r &amp; (<a class="code hl_define" href="bufferevent__openssl_8c.html#aec7b15cfc881fc9f2ead8e44da987fcb">OP_BLOCKED</a>|<a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a>))</div>
<div class="line"><span class="lineno">  794</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  795</span>    }</div>
<div class="line"><span class="lineno">  796</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a>)</div>
<div class="line"><span class="lineno">  797</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>    n_to_read = <a class="code hl_function" href="bufferevent__openssl_8c.html#af0541f68588a18043d02d36487022f9d">bytes_to_read</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>    <span class="keywordflow">while</span> (n_to_read) {</div>
<div class="line"><span class="lineno">  802</span>        r = <a class="code hl_function" href="bufferevent__openssl_8c.html#a5b221ffc1d2861641ddc0ba68cd4790b">do_read</a>(bev_ssl, n_to_read);</div>
<div class="line"><span class="lineno">  803</span>        all_result_flags |= r;</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>        <span class="keywordflow">if</span> (r &amp; (<a class="code hl_define" href="bufferevent__openssl_8c.html#aec7b15cfc881fc9f2ead8e44da987fcb">OP_BLOCKED</a>|<a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a>))</div>
<div class="line"><span class="lineno">  806</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a>)</div>
<div class="line"><span class="lineno">  809</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>        <span class="comment">/* Read all pending data.  This won&#39;t hit the network</span></div>
<div class="line"><span class="lineno">  812</span><span class="comment">         * again, and will (most importantly) put us in a state</span></div>
<div class="line"><span class="lineno">  813</span><span class="comment">         * where we don&#39;t need to read anything else until the</span></div>
<div class="line"><span class="lineno">  814</span><span class="comment">         * socket is readable again.  It&#39;ll potentially make us</span></div>
<div class="line"><span class="lineno">  815</span><span class="comment">         * overrun our read high-watermark (somewhat</span></div>
<div class="line"><span class="lineno">  816</span><span class="comment">         * regrettable).  The damage to the rate-limit has</span></div>
<div class="line"><span class="lineno">  817</span><span class="comment">         * already been done, since OpenSSL went and read a</span></div>
<div class="line"><span class="lineno">  818</span><span class="comment">         * whole SSL record anyway. */</span></div>
<div class="line"><span class="lineno">  819</span>        n_to_read = SSL_pending(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>);</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>        <span class="comment">/* XXX This if statement is actually a bad bug, added to avoid</span></div>
<div class="line"><span class="lineno">  822</span><span class="comment">         * XXX a worse bug.</span></div>
<div class="line"><span class="lineno">  823</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  824</span><span class="comment">         * The bad bug: It can potentially cause resource unfairness</span></div>
<div class="line"><span class="lineno">  825</span><span class="comment">         * by reading too much data from the underlying bufferevent;</span></div>
<div class="line"><span class="lineno">  826</span><span class="comment">         * it can potentially cause read looping if the underlying</span></div>
<div class="line"><span class="lineno">  827</span><span class="comment">         * bufferevent is a bufferevent_pair and deferred callbacks</span></div>
<div class="line"><span class="lineno">  828</span><span class="comment">         * aren&#39;t used.</span></div>
<div class="line"><span class="lineno">  829</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  830</span><span class="comment">         * The worse bug: If we didn&#39;t do this, then we would</span></div>
<div class="line"><span class="lineno">  831</span><span class="comment">         * potentially not read any more from bev_ssl-&gt;underlying</span></div>
<div class="line"><span class="lineno">  832</span><span class="comment">         * until more data arrived there, which could lead to us</span></div>
<div class="line"><span class="lineno">  833</span><span class="comment">         * waiting forever.</span></div>
<div class="line"><span class="lineno">  834</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  835</span>        <span class="keywordflow">if</span> (!n_to_read &amp;&amp; bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>)</div>
<div class="line"><span class="lineno">  836</span>            n_to_read = <a class="code hl_function" href="bufferevent__openssl_8c.html#af0541f68588a18043d02d36487022f9d">bytes_to_read</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  837</span>    }</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>    <span class="keywordflow">if</span> (all_result_flags &amp; <a class="code hl_define" href="bufferevent__openssl_8c.html#ad3ef7acb2fff3e898c367fb921be2183">OP_MADE_PROGRESS</a>) {</div>
<div class="line"><span class="lineno">  840</span>        <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a29d70dfec74981bb29a6a66d18c219ab">bufferevent_trigger_nolock_</a>(bev, EV_READ, 0);</div>
<div class="line"><span class="lineno">  843</span>    }</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">if</span> (!bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno">  846</span>        <span class="comment">/* Should be redundant, but let&#39;s avoid busy-looping */</span></div>
<div class="line"><span class="lineno">  847</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a> ||</div>
<div class="line"><span class="lineno">  848</span>            !(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.enabled &amp; EV_READ)) {</div>
<div class="line"><span class="lineno">  849</span>            <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.ev_read);</div>
<div class="line"><span class="lineno">  850</span>        }</div>
<div class="line"><span class="lineno">  851</span>    }</div>
<div class="line"><span class="lineno">  852</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a29d70dfec74981bb29a6a66d18c219ab"><div class="ttname"><a href="bufferevent-internal_8h.html#a29d70dfec74981bb29a6a66d18c219ab">bufferevent_trigger_nolock_</a></div><div class="ttdeci">static void bufferevent_trigger_nolock_(struct bufferevent *bufev, short iotype, int options)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00407">bufferevent-internal.h:407</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a14dd75ff57ffdd8b78ffe508ee75cd55"><div class="ttname"><a href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a></div><div class="ttdeci">#define OP_ERR</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00579">bufferevent_openssl.c:579</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a2e2b4d6569c141151a412412cc16bd3f"><div class="ttname"><a href="bufferevent__openssl_8c.html#a2e2b4d6569c141151a412412cc16bd3f">do_write</a></div><div class="ttdeci">static int do_write(struct bufferevent_openssl *bev_ssl, int atmost)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00654">bufferevent_openssl.c:654</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a5b221ffc1d2861641ddc0ba68cd4790b"><div class="ttname"><a href="bufferevent__openssl_8c.html#a5b221ffc1d2861641ddc0ba68cd4790b">do_read</a></div><div class="ttdeci">static int do_read(struct bufferevent_openssl *bev_ssl, int n_to_read)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00584">bufferevent_openssl.c:584</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_abfb5cffe1b3dff799bd554325b4addc8"><div class="ttname"><a href="bufferevent__openssl_8c.html#abfb5cffe1b3dff799bd554325b4addc8">WRITE_FRAME</a></div><div class="ttdeci">#define WRITE_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00732">bufferevent_openssl.c:732</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ad3ef7acb2fff3e898c367fb921be2183"><div class="ttname"><a href="bufferevent__openssl_8c.html#ad3ef7acb2fff3e898c367fb921be2183">OP_MADE_PROGRESS</a></div><div class="ttdeci">#define OP_MADE_PROGRESS</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00577">bufferevent_openssl.c:577</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_aec7b15cfc881fc9f2ead8e44da987fcb"><div class="ttname"><a href="bufferevent__openssl_8c.html#aec7b15cfc881fc9f2ead8e44da987fcb">OP_BLOCKED</a></div><div class="ttdeci">#define OP_BLOCKED</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00578">bufferevent_openssl.c:578</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_af0541f68588a18043d02d36487022f9d"><div class="ttname"><a href="bufferevent__openssl_8c.html#af0541f68588a18043d02d36487022f9d">bytes_to_read</a></div><div class="ttdeci">static int bytes_to_read(struct bufferevent_openssl *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00739">bufferevent_openssl.c:739</a></div></div>
<div class="ttc" id="aevent_8c_html_a4d01ab982328facb6ce4b584390b86ab"><div class="ttname"><a href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a></div><div class="ttdeci">int event_del(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02787">event.c:2787</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00407">bufferevent_trigger_nolock_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00739">bytes_to_read()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00584">do_read()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00654">do_write()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00578">OP_BLOCKED</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00579">OP_ERR</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00577">OP_MADE_PROGRESS</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00182">bufferevent_private::read_suspended</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00319">bufferevent_openssl::write_blocked_on_read</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00732">WRITE_FRAME</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01157">be_openssl_enable()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00904">be_openssl_readcb()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00943">be_openssl_readeventcb()</a>.</p>

</div>
</div>
<a id="a416b016f5b55e4fe1c0e829a719fa6ee" name="a416b016f5b55e4fe1c0e829a719fa6ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a416b016f5b55e4fe1c0e829a719fa6ee">&#9670;&nbsp;</a></span>consider_writing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void consider_writing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00855">855</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  856</span>{</div>
<div class="line"><span class="lineno">  857</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno">  858</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *output = bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.output;</div>
<div class="line"><span class="lineno">  859</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *target = NULL;</div>
<div class="line"><span class="lineno">  860</span>    <span class="keyword">struct </span>event_watermark *wm = NULL;</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>    <span class="keywordflow">while</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">read_blocked_on_write</a>) {</div>
<div class="line"><span class="lineno">  863</span>        r = <a class="code hl_function" href="bufferevent__openssl_8c.html#a5b221ffc1d2861641ddc0ba68cd4790b">do_read</a>(bev_ssl, 1024); <span class="comment">/* XXXX 1024 is a hack */</span></div>
<div class="line"><span class="lineno">  864</span>        <span class="keywordflow">if</span> (r &amp; <a class="code hl_define" href="bufferevent__openssl_8c.html#ad3ef7acb2fff3e898c367fb921be2183">OP_MADE_PROGRESS</a>) {</div>
<div class="line"><span class="lineno">  865</span>            <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>            <a class="code hl_function" href="bufferevent-internal_8h.html#a29d70dfec74981bb29a6a66d18c219ab">bufferevent_trigger_nolock_</a>(bev, EV_READ, 0);</div>
<div class="line"><span class="lineno">  868</span>        }</div>
<div class="line"><span class="lineno">  869</span>        <span class="keywordflow">if</span> (r &amp; (<a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a>|<a class="code hl_define" href="bufferevent__openssl_8c.html#aec7b15cfc881fc9f2ead8e44da987fcb">OP_BLOCKED</a>))</div>
<div class="line"><span class="lineno">  870</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  871</span>    }</div>
<div class="line"><span class="lineno">  872</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">read_blocked_on_write</a>)</div>
<div class="line"><span class="lineno">  873</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno">  875</span>        target = bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>-&gt;output;</div>
<div class="line"><span class="lineno">  876</span>        wm = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>-&gt;wm_write;</div>
<div class="line"><span class="lineno">  877</span>    }</div>
<div class="line"><span class="lineno">  878</span>    <span class="keywordflow">while</span> ((bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.enabled &amp; EV_WRITE) &amp;&amp;</div>
<div class="line"><span class="lineno">  879</span>        (! bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">write_suspended</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  880</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(output) &amp;&amp;</div>
<div class="line"><span class="lineno">  881</span>        (!target || (! wm-&gt;high || <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(target) &lt; wm-&gt;high))) {</div>
<div class="line"><span class="lineno">  882</span>        <span class="keywordtype">int</span> n_to_write;</div>
<div class="line"><span class="lineno">  883</span>        <span class="keywordflow">if</span> (wm &amp;&amp; wm-&gt;high)</div>
<div class="line"><span class="lineno">  884</span>            n_to_write = wm-&gt;high - <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(target);</div>
<div class="line"><span class="lineno">  885</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  886</span>            n_to_write = <a class="code hl_define" href="bufferevent__openssl_8c.html#abfb5cffe1b3dff799bd554325b4addc8">WRITE_FRAME</a>;</div>
<div class="line"><span class="lineno">  887</span>        r = <a class="code hl_function" href="bufferevent__openssl_8c.html#a2e2b4d6569c141151a412412cc16bd3f">do_write</a>(bev_ssl, n_to_write);</div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">if</span> (r &amp; (<a class="code hl_define" href="bufferevent__openssl_8c.html#aec7b15cfc881fc9f2ead8e44da987fcb">OP_BLOCKED</a>|<a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a>))</div>
<div class="line"><span class="lineno">  889</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  890</span>    }</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">if</span> (!bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno">  893</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(output) == 0) {</div>
<div class="line"><span class="lineno">  894</span>            <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.ev_write);</div>
<div class="line"><span class="lineno">  895</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">write_suspended</a> ||</div>
<div class="line"><span class="lineno">  896</span>            !(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.enabled &amp; EV_WRITE)) {</div>
<div class="line"><span class="lineno">  897</span>            <span class="comment">/* Should be redundant, but let&#39;s avoid busy-looping */</span></div>
<div class="line"><span class="lineno">  898</span>            <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.ev_write);</div>
<div class="line"><span class="lineno">  899</span>        }</div>
<div class="line"><span class="lineno">  900</span>    }</div>
<div class="line"><span class="lineno">  901</span>}</div>
<div class="ttc" id="astructbufferevent__private_html_a0d39c067a6092f2db779aa22f22ddd8b"><div class="ttname"><a href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">bufferevent_private::write_suspended</a></div><div class="ttdeci">bufferevent_suspend_flags write_suspended</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00187">bufferevent-internal.h:187</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00407">bufferevent_trigger_nolock_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00584">do_read()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00654">do_write()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00578">OP_BLOCKED</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00579">OP_ERR</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00577">OP_MADE_PROGRESS</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00317">bufferevent_openssl::read_blocked_on_write</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00732">WRITE_FRAME</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00187">bufferevent_private::write_suspended</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01157">be_openssl_enable()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01136">be_openssl_outbuf_cb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00911">be_openssl_writecb()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00957">be_openssl_writeeventcb()</a>.</p>

</div>
</div>
<a id="ac4b40c0a40fe06b06b0770ac4b0ad231" name="ac4b40c0a40fe06b06b0770ac4b0ad231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b40c0a40fe06b06b0770ac4b0ad231">&#9670;&nbsp;</a></span>decrement_buckets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void decrement_buckets </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00562">562</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  563</span>{</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> num_w = BIO_number_written(SSL_get_wbio(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>));</div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> num_r = BIO_number_read(SSL_get_rbio(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>));</div>
<div class="line"><span class="lineno">  566</span>    <span class="comment">/* These next two subtractions can wrap around. That&#39;s okay. */</span></div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> w = num_w - bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af54f81ac3befad67a1634d5b299a7681">counts</a>.<a class="code hl_variable" href="structbio__data__counts.html#a3250c11583c4c01da64c53f20ad409ff">n_written</a>;</div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> r = num_r - bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af54f81ac3befad67a1634d5b299a7681">counts</a>.<a class="code hl_variable" href="structbio__data__counts.html#a610cbd876ef2901c7c53fb6dbdff56ad">n_read</a>;</div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordflow">if</span> (w)</div>
<div class="line"><span class="lineno">  570</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#ae123eda5e347c327e96ca05bcdcce81f">bufferevent_decrement_write_buckets_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>, w);</div>
<div class="line"><span class="lineno">  571</span>    <span class="keywordflow">if</span> (r)</div>
<div class="line"><span class="lineno">  572</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#ae177cedb697bb41598e3d4b98555bcbb">bufferevent_decrement_read_buckets_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>, r);</div>
<div class="line"><span class="lineno">  573</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af54f81ac3befad67a1634d5b299a7681">counts</a>.<a class="code hl_variable" href="structbio__data__counts.html#a3250c11583c4c01da64c53f20ad409ff">n_written</a> = num_w;</div>
<div class="line"><span class="lineno">  574</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af54f81ac3befad67a1634d5b299a7681">counts</a>.<a class="code hl_variable" href="structbio__data__counts.html#a610cbd876ef2901c7c53fb6dbdff56ad">n_read</a> = num_r;</div>
<div class="line"><span class="lineno">  575</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_ae123eda5e347c327e96ca05bcdcce81f"><div class="ttname"><a href="bufferevent-internal_8h.html#ae123eda5e347c327e96ca05bcdcce81f">bufferevent_decrement_write_buckets_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_decrement_write_buckets_(struct bufferevent_private *bev, ev_ssize_t bytes)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__ratelim_8c_source.html#l00311">bufferevent_ratelim.c:311</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_ae177cedb697bb41598e3d4b98555bcbb"><div class="ttname"><a href="bufferevent-internal_8h.html#ae177cedb697bb41598e3d4b98555bcbb">bufferevent_decrement_read_buckets_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_decrement_read_buckets_(struct bufferevent_private *bev, ev_ssize_t bytes)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__ratelim_8c_source.html#l00273">bufferevent_ratelim.c:273</a></div></div>
<div class="ttc" id="astructbio__data__counts_html_a3250c11583c4c01da64c53f20ad409ff"><div class="ttname"><a href="structbio__data__counts.html#a3250c11583c4c01da64c53f20ad409ff">bio_data_counts::n_written</a></div><div class="ttdeci">unsigned long n_written</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00282">bufferevent_openssl.c:282</a></div></div>
<div class="ttc" id="astructbio__data__counts_html_a610cbd876ef2901c7c53fb6dbdff56ad"><div class="ttname"><a href="structbio__data__counts.html#a610cbd876ef2901c7c53fb6dbdff56ad">bio_data_counts::n_read</a></div><div class="ttdeci">unsigned long n_read</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00283">bufferevent_openssl.c:283</a></div></div>
<div class="ttc" id="astructbufferevent__openssl_html_af54f81ac3befad67a1634d5b299a7681"><div class="ttname"><a href="structbufferevent__openssl.html#af54f81ac3befad67a1634d5b299a7681">bufferevent_openssl::counts</a></div><div class="ttdeci">struct bio_data_counts counts</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00305">bufferevent_openssl.c:305</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00273">bufferevent_decrement_read_buckets_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00311">bufferevent_decrement_write_buckets_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00305">bufferevent_openssl::counts</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00283">bio_data_counts::n_read</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00282">bio_data_counts::n_written</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00584">do_read()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00654">do_write()</a>.</p>

</div>
</div>
<a id="a4d7eab3c66da1a8bcec446bd024f4019" name="a4d7eab3c66da1a8bcec446bd024f4019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d7eab3c66da1a8bcec446bd024f4019">&#9670;&nbsp;</a></span>do_handshake()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_handshake </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01019">1019</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1020</span>{</div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="line"><span class="lineno"> 1023</span>    <span class="keywordflow">switch</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a800c0653e879ef59ffbd77e856dd592f">state</a>) {</div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1025</span>    <span class="keywordflow">case</span> BUFFEREVENT_SSL_OPEN:</div>
<div class="line"><span class="lineno"> 1026</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(0);</div>
<div class="line"><span class="lineno"> 1027</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1028</span>    <span class="keywordflow">case</span> BUFFEREVENT_SSL_CONNECTING:</div>
<div class="line"><span class="lineno"> 1029</span>    <span class="keywordflow">case</span> BUFFEREVENT_SSL_ACCEPTING:</div>
<div class="line"><span class="lineno"> 1030</span>        ERR_clear_error();</div>
<div class="line"><span class="lineno"> 1031</span>        r = SSL_do_handshake(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>);</div>
<div class="line"><span class="lineno"> 1032</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1033</span>    }</div>
<div class="line"><span class="lineno"> 1034</span>    <a class="code hl_function" href="bufferevent__openssl_8c.html#ac4b40c0a40fe06b06b0770ac4b0ad231">decrement_buckets</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>    <span class="keywordflow">if</span> (r==1) {</div>
<div class="line"><span class="lineno"> 1037</span>        evutil_socket_t fd = <a class="code hl_function" href="event_8c.html#aee0c9c3fc7c997e4d4b77bdcdf321ee6">event_get_fd</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.ev_read);</div>
<div class="line"><span class="lineno"> 1038</span>        <span class="comment">/* We&#39;re done! */</span></div>
<div class="line"><span class="lineno"> 1039</span>        bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a800c0653e879ef59ffbd77e856dd592f">state</a> = BUFFEREVENT_SSL_OPEN;</div>
<div class="line"><span class="lineno"> 1040</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#af4975f42b111af70d7f8a7938f73f451">set_open_callbacks</a>(bev_ssl, fd); <span class="comment">/* XXXX handle failure */</span></div>
<div class="line"><span class="lineno"> 1041</span>        <span class="comment">/* Call do_read and do_write as needed */</span></div>
<div class="line"><span class="lineno"> 1042</span>        <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>, bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>.enabled);</div>
<div class="line"><span class="lineno"> 1043</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a43b7bd7739cbc72cf461e1dd76d9c2d7">bufferevent_run_eventcb_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>,</div>
<div class="line"><span class="lineno"> 1044</span>            BEV_EVENT_CONNECTED, 0);</div>
<div class="line"><span class="lineno"> 1045</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1046</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1047</span>        <span class="keywordtype">int</span> err = SSL_get_error(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>, r);</div>
<div class="line"><span class="lineno"> 1048</span>        <a class="code hl_define" href="bufferevent__openssl_8c.html#a8edc8c2c3d131f8bfffbad1d0ead09b3">print_err</a>(err);</div>
<div class="line"><span class="lineno"> 1049</span>        <span class="keywordflow">switch</span> (err) {</div>
<div class="line"><span class="lineno"> 1050</span>        <span class="keywordflow">case</span> SSL_ERROR_WANT_WRITE:</div>
<div class="line"><span class="lineno"> 1051</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#a00f1cb114cd7bc7b79e96fef0d951c19">stop_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1052</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent__openssl_8c.html#a312378eec8388eb749e22b437fc49146">start_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1053</span>        <span class="keywordflow">case</span> SSL_ERROR_WANT_READ:</div>
<div class="line"><span class="lineno"> 1054</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#a50075648e731f3bae2bb5f6e58691ff4">stop_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1055</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent__openssl_8c.html#a8e347c8c3e78a502d9481a55337ddabd">start_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1056</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1057</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#ae7595311464f4601af667e8552948a92">conn_closed</a>(bev_ssl, BEV_EVENT_READING, err, r);</div>
<div class="line"><span class="lineno"> 1058</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1059</span>        }</div>
<div class="line"><span class="lineno"> 1060</span>    }</div>
<div class="line"><span class="lineno"> 1061</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a8edc8c2c3d131f8bfffbad1d0ead09b3"><div class="ttname"><a href="bufferevent__openssl_8c.html#a8edc8c2c3d131f8bfffbad1d0ead09b3">print_err</a></div><div class="ttdeci">#define print_err(v)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00105">bufferevent_openssl.c:105</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ac4b40c0a40fe06b06b0770ac4b0ad231"><div class="ttname"><a href="bufferevent__openssl_8c.html#ac4b40c0a40fe06b06b0770ac4b0ad231">decrement_buckets</a></div><div class="ttdeci">static void decrement_buckets(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00562">bufferevent_openssl.c:562</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ae7595311464f4601af667e8552948a92"><div class="ttname"><a href="bufferevent__openssl_8c.html#ae7595311464f4601af667e8552948a92">conn_closed</a></div><div class="ttdeci">static void conn_closed(struct bufferevent_openssl *bev_ssl, int when, int errcode, int ret)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00496">bufferevent_openssl.c:496</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00285">bufferevent_run_eventcb_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00496">conn_closed()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00562">decrement_buckets()</a>, <a class="el" href="event_8c_source.html#l02442">event_get_fd()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00105">print_err</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00383">start_reading()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00404">start_writing()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00326">bufferevent_openssl::state</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00423">stop_reading()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00437">stop_writing()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01064">be_openssl_handshakecb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01071">be_openssl_handshakeeventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01120">bufferevent_ssl_renegotiate()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>.</p>

</div>
</div>
<a id="a5b221ffc1d2861641ddc0ba68cd4790b" name="a5b221ffc1d2861641ddc0ba68cd4790b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b221ffc1d2861641ddc0ba68cd4790b">&#9670;&nbsp;</a></span>do_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_to_read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00584">584</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  584</span>                                                            {</div>
<div class="line"><span class="lineno">  585</span>    <span class="comment">/* Requires lock */</span></div>
<div class="line"><span class="lineno">  586</span>    <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  587</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *input = bev-&gt;input;</div>
<div class="line"><span class="lineno">  588</span>    <span class="keywordtype">int</span> r, n, i, n_used = 0, atmost;</div>
<div class="line"><span class="lineno">  589</span>    <span class="keyword">struct </span>evbuffer_iovec space[2];</div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a>)</div>
<div class="line"><span class="lineno">  593</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>    atmost = <a class="code hl_function" href="bufferevent-internal_8h.html#a5f1754d3222ab3b8da5d7ae1d1d4c3ae">bufferevent_get_read_max_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordflow">if</span> (n_to_read &gt; atmost)</div>
<div class="line"><span class="lineno">  597</span>        n_to_read = atmost;</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    n = <a class="code hl_function" href="libevent_2buffer_8c.html#ae7de48b30ac1112dd7d421fa23ddf529">evbuffer_reserve_space</a>(input, n_to_read, space, 2);</div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">if</span> (n &lt; 0)</div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a>;</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    <span class="keywordflow">for</span> (i=0; i&lt;n; ++i) {</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a>)</div>
<div class="line"><span class="lineno">  605</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  606</span>        ERR_clear_error();</div>
<div class="line"><span class="lineno">  607</span>        r = SSL_read(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>, space[i].iov_base, space[i].iov_len);</div>
<div class="line"><span class="lineno">  608</span>        <span class="keywordflow">if</span> (r&gt;0) {</div>
<div class="line"><span class="lineno">  609</span>            result |= <a class="code hl_define" href="bufferevent__openssl_8c.html#ad3ef7acb2fff3e898c367fb921be2183">OP_MADE_PROGRESS</a>;</div>
<div class="line"><span class="lineno">  610</span>            <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">read_blocked_on_write</a>)</div>
<div class="line"><span class="lineno">  611</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#a28222bf85d354acd63ee51851515c2df">clear_rbow</a>(bev_ssl) &lt; 0)</div>
<div class="line"><span class="lineno">  612</span>                    <span class="keywordflow">return</span> <a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a> | result;</div>
<div class="line"><span class="lineno">  613</span>            ++n_used;</div>
<div class="line"><span class="lineno">  614</span>            space[i].iov_len = r;</div>
<div class="line"><span class="lineno">  615</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#ac4b40c0a40fe06b06b0770ac4b0ad231">decrement_buckets</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  616</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  617</span>            <span class="keywordtype">int</span> err = SSL_get_error(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>, r);</div>
<div class="line"><span class="lineno">  618</span>            <a class="code hl_define" href="bufferevent__openssl_8c.html#a8edc8c2c3d131f8bfffbad1d0ead09b3">print_err</a>(err);</div>
<div class="line"><span class="lineno">  619</span>            <span class="keywordflow">switch</span> (err) {</div>
<div class="line"><span class="lineno">  620</span>            <span class="keywordflow">case</span> SSL_ERROR_WANT_READ:</div>
<div class="line"><span class="lineno">  621</span>                <span class="comment">/* Can&#39;t read until underlying has more data. */</span></div>
<div class="line"><span class="lineno">  622</span>                <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">read_blocked_on_write</a>)</div>
<div class="line"><span class="lineno">  623</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#a28222bf85d354acd63ee51851515c2df">clear_rbow</a>(bev_ssl) &lt; 0)</div>
<div class="line"><span class="lineno">  624</span>                        <span class="keywordflow">return</span> <a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a> | result;</div>
<div class="line"><span class="lineno">  625</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  626</span>            <span class="keywordflow">case</span> SSL_ERROR_WANT_WRITE:</div>
<div class="line"><span class="lineno">  627</span>                <span class="comment">/* This read operation requires a write, and the</span></div>
<div class="line"><span class="lineno">  628</span><span class="comment">                 * underlying is full */</span></div>
<div class="line"><span class="lineno">  629</span>                <span class="keywordflow">if</span> (!bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">read_blocked_on_write</a>)</div>
<div class="line"><span class="lineno">  630</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#ab7113227b6669a408d55beffe85c5e1c">set_rbow</a>(bev_ssl) &lt; 0)</div>
<div class="line"><span class="lineno">  631</span>                        <span class="keywordflow">return</span> <a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a> | result;</div>
<div class="line"><span class="lineno">  632</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  634</span>                <a class="code hl_function" href="bufferevent__openssl_8c.html#ae7595311464f4601af667e8552948a92">conn_closed</a>(bev_ssl, BEV_EVENT_READING, err, r);</div>
<div class="line"><span class="lineno">  635</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  636</span>            }</div>
<div class="line"><span class="lineno">  637</span>            result |= <a class="code hl_define" href="bufferevent__openssl_8c.html#aec7b15cfc881fc9f2ead8e44da987fcb">OP_BLOCKED</a>;</div>
<div class="line"><span class="lineno">  638</span>            <span class="keywordflow">break</span>; <span class="comment">/* out of the loop */</span></div>
<div class="line"><span class="lineno">  639</span>        }</div>
<div class="line"><span class="lineno">  640</span>    }</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordflow">if</span> (n_used) {</div>
<div class="line"><span class="lineno">  643</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a7a13a10fd1eb75cccf0ca29a05c5ba8a">evbuffer_commit_space</a>(input, space, n_used);</div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>)</div>
<div class="line"><span class="lineno">  645</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#ab98e768f6bac7bc9ccfc5740414db30c">BEV_RESET_GENERIC_READ_TIMEOUT</a>(bev);</div>
<div class="line"><span class="lineno">  646</span>    }</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  649</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a28222bf85d354acd63ee51851515c2df"><div class="ttname"><a href="bufferevent__openssl_8c.html#a28222bf85d354acd63ee51851515c2df">clear_rbow</a></div><div class="ttdeci">static int clear_rbow(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00469">bufferevent_openssl.c:469</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ab7113227b6669a408d55beffe85c5e1c"><div class="ttname"><a href="bufferevent__openssl_8c.html#ab7113227b6669a408d55beffe85c5e1c">set_rbow</a></div><div class="ttdeci">static int set_rbow(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00451">bufferevent_openssl.c:451</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a7a13a10fd1eb75cccf0ca29a05c5ba8a"><div class="ttname"><a href="libevent_2buffer_8c.html#a7a13a10fd1eb75cccf0ca29a05c5ba8a">evbuffer_commit_space</a></div><div class="ttdeci">int evbuffer_commit_space(struct evbuffer *buf, struct evbuffer_iovec *vec, int n_vecs)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00724">buffer.c:724</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_ae7de48b30ac1112dd7d421fa23ddf529"><div class="ttname"><a href="libevent_2buffer_8c.html#ae7de48b30ac1112dd7d421fa23ddf529">evbuffer_reserve_space</a></div><div class="ttdeci">int evbuffer_reserve_space(struct evbuffer *buf, ev_ssize_t size, struct evbuffer_iovec *vec, int n_vecs)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00671">buffer.c:671</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00458">BEV_RESET_GENERIC_READ_TIMEOUT</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00261">bufferevent_get_read_max_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00469">clear_rbow()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00496">conn_closed()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00562">decrement_buckets()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00724">evbuffer_commit_space()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00671">evbuffer_reserve_space()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00578">OP_BLOCKED</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00579">OP_ERR</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00577">OP_MADE_PROGRESS</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00105">print_err</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00317">bufferevent_openssl::read_blocked_on_write</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00182">bufferevent_private::read_suspended</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00451">set_rbow()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00785">consider_reading()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00855">consider_writing()</a>.</p>

</div>
</div>
<a id="a2e2b4d6569c141151a412412cc16bd3f" name="a2e2b4d6569c141151a412412cc16bd3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e2b4d6569c141151a412412cc16bd3f">&#9670;&nbsp;</a></span>do_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atmost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00654">654</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  655</span>{</div>
<div class="line"><span class="lineno">  656</span>    <span class="keywordtype">int</span> i, r, n, n_written = 0;</div>
<div class="line"><span class="lineno">  657</span>    <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  658</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *output = bev-&gt;output;</div>
<div class="line"><span class="lineno">  659</span>    <span class="keyword">struct </span>evbuffer_iovec space[8];</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a14c1346edd32371b363cbd213ccddbcf">last_write</a> &gt; 0)</div>
<div class="line"><span class="lineno">  663</span>        atmost = bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a14c1346edd32371b363cbd213ccddbcf">last_write</a>;</div>
<div class="line"><span class="lineno">  664</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  665</span>        atmost = <a class="code hl_function" href="bufferevent-internal_8h.html#aa80619b1453a9aebcd9f5906419c96f8">bufferevent_get_write_max_</a>(&amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>);</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    n = <a class="code hl_function" href="libevent_2buffer_8c.html#a280bc4f4750607f02cad494c45bc5769">evbuffer_peek</a>(output, atmost, NULL, space, 8);</div>
<div class="line"><span class="lineno">  668</span>    <span class="keywordflow">if</span> (n &lt; 0)</div>
<div class="line"><span class="lineno">  669</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a> | result;</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordflow">if</span> (n &gt; 8)</div>
<div class="line"><span class="lineno">  672</span>        n = 8;</div>
<div class="line"><span class="lineno">  673</span>    <span class="keywordflow">for</span> (i=0; i &lt; n; ++i) {</div>
<div class="line"><span class="lineno">  674</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">write_suspended</a>)</div>
<div class="line"><span class="lineno">  675</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>        <span class="comment">/* SSL_write will (reasonably) return 0 if we tell it to</span></div>
<div class="line"><span class="lineno">  678</span><span class="comment">           send 0 data.  Skip this case so we don&#39;t interpret the</span></div>
<div class="line"><span class="lineno">  679</span><span class="comment">           result as an error */</span></div>
<div class="line"><span class="lineno">  680</span>        <span class="keywordflow">if</span> (space[i].iov_len == 0)</div>
<div class="line"><span class="lineno">  681</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>        ERR_clear_error();</div>
<div class="line"><span class="lineno">  684</span>        r = SSL_write(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>, space[i].iov_base,</div>
<div class="line"><span class="lineno">  685</span>            space[i].iov_len);</div>
<div class="line"><span class="lineno">  686</span>        <span class="keywordflow">if</span> (r &gt; 0) {</div>
<div class="line"><span class="lineno">  687</span>            result |= <a class="code hl_define" href="bufferevent__openssl_8c.html#ad3ef7acb2fff3e898c367fb921be2183">OP_MADE_PROGRESS</a>;</div>
<div class="line"><span class="lineno">  688</span>            <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a>)</div>
<div class="line"><span class="lineno">  689</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#ac0f1cf121563cfda037294d49c535765">clear_wbor</a>(bev_ssl) &lt; 0)</div>
<div class="line"><span class="lineno">  690</span>                    <span class="keywordflow">return</span> <a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a> | result;</div>
<div class="line"><span class="lineno">  691</span>            n_written += r;</div>
<div class="line"><span class="lineno">  692</span>            bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a14c1346edd32371b363cbd213ccddbcf">last_write</a> = -1;</div>
<div class="line"><span class="lineno">  693</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#ac4b40c0a40fe06b06b0770ac4b0ad231">decrement_buckets</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  694</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  695</span>            <span class="keywordtype">int</span> err = SSL_get_error(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>, r);</div>
<div class="line"><span class="lineno">  696</span>            <a class="code hl_define" href="bufferevent__openssl_8c.html#a8edc8c2c3d131f8bfffbad1d0ead09b3">print_err</a>(err);</div>
<div class="line"><span class="lineno">  697</span>            <span class="keywordflow">switch</span> (err) {</div>
<div class="line"><span class="lineno">  698</span>            <span class="keywordflow">case</span> SSL_ERROR_WANT_WRITE:</div>
<div class="line"><span class="lineno">  699</span>                <span class="comment">/* Can&#39;t read until underlying has more data. */</span></div>
<div class="line"><span class="lineno">  700</span>                <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a>)</div>
<div class="line"><span class="lineno">  701</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#ac0f1cf121563cfda037294d49c535765">clear_wbor</a>(bev_ssl) &lt; 0)</div>
<div class="line"><span class="lineno">  702</span>                        <span class="keywordflow">return</span> <a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a> | result;</div>
<div class="line"><span class="lineno">  703</span>                bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a14c1346edd32371b363cbd213ccddbcf">last_write</a> = space[i].iov_len;</div>
<div class="line"><span class="lineno">  704</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  705</span>            <span class="keywordflow">case</span> SSL_ERROR_WANT_READ:</div>
<div class="line"><span class="lineno">  706</span>                <span class="comment">/* This read operation requires a write, and the</span></div>
<div class="line"><span class="lineno">  707</span><span class="comment">                 * underlying is full */</span></div>
<div class="line"><span class="lineno">  708</span>                <span class="keywordflow">if</span> (!bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a>)</div>
<div class="line"><span class="lineno">  709</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent__openssl_8c.html#adec699b8583e27257e146954d4d62a52">set_wbor</a>(bev_ssl) &lt; 0)</div>
<div class="line"><span class="lineno">  710</span>                        <span class="keywordflow">return</span> <a class="code hl_define" href="bufferevent__openssl_8c.html#a14dd75ff57ffdd8b78ffe508ee75cd55">OP_ERR</a> | result;</div>
<div class="line"><span class="lineno">  711</span>                bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a14c1346edd32371b363cbd213ccddbcf">last_write</a> = space[i].iov_len;</div>
<div class="line"><span class="lineno">  712</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  713</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  714</span>                <a class="code hl_function" href="bufferevent__openssl_8c.html#ae7595311464f4601af667e8552948a92">conn_closed</a>(bev_ssl, BEV_EVENT_WRITING, err, r);</div>
<div class="line"><span class="lineno">  715</span>                bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a14c1346edd32371b363cbd213ccddbcf">last_write</a> = -1;</div>
<div class="line"><span class="lineno">  716</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  717</span>            }</div>
<div class="line"><span class="lineno">  718</span>            result |= <a class="code hl_define" href="bufferevent__openssl_8c.html#aec7b15cfc881fc9f2ead8e44da987fcb">OP_BLOCKED</a>;</div>
<div class="line"><span class="lineno">  719</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  720</span>        }</div>
<div class="line"><span class="lineno">  721</span>    }</div>
<div class="line"><span class="lineno">  722</span>    <span class="keywordflow">if</span> (n_written) {</div>
<div class="line"><span class="lineno">  723</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a>(output, n_written);</div>
<div class="line"><span class="lineno">  724</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>)</div>
<div class="line"><span class="lineno">  725</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#a9778ac69ff24595e9385856a67f41b01">BEV_RESET_GENERIC_WRITE_TIMEOUT</a>(bev);</div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a29d70dfec74981bb29a6a66d18c219ab">bufferevent_trigger_nolock_</a>(bev, EV_WRITE, BEV_OPT_DEFER_CALLBACKS);</div>
<div class="line"><span class="lineno">  728</span>    }</div>
<div class="line"><span class="lineno">  729</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  730</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_aa80619b1453a9aebcd9f5906419c96f8"><div class="ttname"><a href="bufferevent-internal_8h.html#aa80619b1453a9aebcd9f5906419c96f8">bufferevent_get_write_max_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL ev_ssize_t bufferevent_get_write_max_(struct bufferevent_private *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__ratelim_8c_source.html#l00267">bufferevent_ratelim.c:267</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ac0f1cf121563cfda037294d49c535765"><div class="ttname"><a href="bufferevent__openssl_8c.html#ac0f1cf121563cfda037294d49c535765">clear_wbor</a></div><div class="ttdeci">static int clear_wbor(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00483">bufferevent_openssl.c:483</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_adec699b8583e27257e146954d4d62a52"><div class="ttname"><a href="bufferevent__openssl_8c.html#adec699b8583e27257e146954d4d62a52">set_wbor</a></div><div class="ttdeci">static int set_wbor(struct bufferevent_openssl *bev_ssl)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00460">bufferevent_openssl.c:460</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a280bc4f4750607f02cad494c45bc5769"><div class="ttname"><a href="libevent_2buffer_8c.html#a280bc4f4750607f02cad494c45bc5769">evbuffer_peek</a></div><div class="ttdeci">int evbuffer_peek(struct evbuffer *buffer, ev_ssize_t len, struct evbuffer_ptr *start_at, struct evbuffer_iovec *vec, int n_vec)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l02785">buffer.c:2785</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a5c24f3bfbc941d693bf59b5d77d2c37f"><div class="ttname"><a href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a></div><div class="ttdeci">int evbuffer_drain(struct evbuffer *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01101">buffer.c:1101</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00465">BEV_RESET_GENERIC_WRITE_TIMEOUT</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00267">bufferevent_get_write_max_()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00407">bufferevent_trigger_nolock_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00483">clear_wbor()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00496">conn_closed()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00562">decrement_buckets()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01101">evbuffer_drain()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l02785">evbuffer_peek()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00309">bufferevent_openssl::last_write</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00578">OP_BLOCKED</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00579">OP_ERR</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00577">OP_MADE_PROGRESS</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00105">print_err</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00460">set_wbor()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00319">bufferevent_openssl::write_blocked_on_read</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00187">bufferevent_private::write_suspended</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00785">consider_reading()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00855">consider_writing()</a>.</p>

</div>
</div>
<a id="a72777deb9555efcfda525da0077f2f4a" name="a72777deb9555efcfda525da0077f2f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72777deb9555efcfda525da0077f2f4a">&#9670;&nbsp;</a></span>init_bio_counts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_bio_counts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00551">551</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  552</span>{</div>
<div class="line"><span class="lineno">  553</span>    BIO *rbio, *wbio;</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>    wbio = SSL_get_wbio(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>);</div>
<div class="line"><span class="lineno">  556</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af54f81ac3befad67a1634d5b299a7681">counts</a>.<a class="code hl_variable" href="structbio__data__counts.html#a3250c11583c4c01da64c53f20ad409ff">n_written</a> = wbio ? BIO_number_written(wbio) : 0;</div>
<div class="line"><span class="lineno">  557</span>    rbio = SSL_get_rbio(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a294aac290cde76e848117f4959913c58">ssl</a>);</div>
<div class="line"><span class="lineno">  558</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af54f81ac3befad67a1634d5b299a7681">counts</a>.<a class="code hl_variable" href="structbio__data__counts.html#a610cbd876ef2901c7c53fb6dbdff56ad">n_read</a> = rbio ? BIO_number_read(rbio) : 0;</div>
<div class="line"><span class="lineno">  559</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00305">bufferevent_openssl::counts</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00283">bio_data_counts::n_read</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00282">bio_data_counts::n_written</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00297">bufferevent_openssl::ssl</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>.</p>

</div>
</div>
<a id="a446e999811ad80878513161520ebde27" name="a446e999811ad80878513161520ebde27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446e999811ad80878513161520ebde27">&#9670;&nbsp;</a></span>put_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void put_error </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00367">367</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  368</span>{</div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#aa9d8bf6a2afe4c2bdc657641d33fa697">n_errors</a> == <a class="code hl_define" href="bufferevent__openssl_8c.html#a8d76228545c2552584055a1e1d1787f3">NUM_ERRORS</a>)</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  371</span>    <span class="comment">/* The error type according to openssl is &quot;unsigned long&quot;, but</span></div>
<div class="line"><span class="lineno">  372</span><span class="comment">       openssl never uses more than 32 bits of it.  It _can&#39;t_ use more</span></div>
<div class="line"><span class="lineno">  373</span><span class="comment">       than 32 bits of it, since it needs to report errors on systems</span></div>
<div class="line"><span class="lineno">  374</span><span class="comment">       where long is only 32 bits.</span></div>
<div class="line"><span class="lineno">  375</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  376</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a88f0d4c8ca08d3c2c19f0569a315ce0f">errors</a>[bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#aa9d8bf6a2afe4c2bdc657641d33fa697">n_errors</a>++] = (ev_uint32_t) err;</div>
<div class="line"><span class="lineno">  377</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a8d76228545c2552584055a1e1d1787f3"><div class="ttname"><a href="bufferevent__openssl_8c.html#a8d76228545c2552584055a1e1d1787f3">NUM_ERRORS</a></div><div class="ttdeci">#define NUM_ERRORS</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00311">bufferevent_openssl.c:311</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00312">bufferevent_openssl::errors</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00323">bufferevent_openssl::n_errors</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00311">NUM_ERRORS</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00496">conn_closed()</a>.</p>

</div>
</div>
<a id="ac9b54452257546f8e493af35e6f19747" name="ac9b54452257546f8e493af35e6f19747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9b54452257546f8e493af35e6f19747">&#9670;&nbsp;</a></span>set_handshake_callbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_handshake_callbacks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l01084">1084</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1085</span>{</div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno"> 1087</span>        <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>,</div>
<div class="line"><span class="lineno"> 1088</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#a46d6ad9b57b74d13b1a211eeb34ff85b">be_openssl_handshakecb</a>, <a class="code hl_function" href="bufferevent__openssl_8c.html#a46d6ad9b57b74d13b1a211eeb34ff85b">be_openssl_handshakecb</a>,</div>
<div class="line"><span class="lineno"> 1089</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#aab7ccac02fb5065efde0fae75730226c">be_openssl_eventcb</a>,</div>
<div class="line"><span class="lineno"> 1090</span>            bev_ssl);</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>        <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno"> 1093</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>, fd))</div>
<div class="line"><span class="lineno"> 1096</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent__openssl_8c.html#a4d7eab3c66da1a8bcec446bd024f4019">do_handshake</a>(bev_ssl);</div>
<div class="line"><span class="lineno"> 1099</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1100</span>        <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a>(&amp;bev-&gt;ev_read)) {</div>
<div class="line"><span class="lineno"> 1103</span>            <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;bev-&gt;ev_read);</div>
<div class="line"><span class="lineno"> 1104</span>            <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;bev-&gt;ev_write);</div>
<div class="line"><span class="lineno"> 1105</span>        }</div>
<div class="line"><span class="lineno"> 1106</span> </div>
<div class="line"><span class="lineno"> 1107</span>        <a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(&amp;bev-&gt;ev_read, bev-&gt;ev_base, fd,</div>
<div class="line"><span class="lineno"> 1108</span>            EV_READ|EV_PERSIST|EV_FINALIZE,</div>
<div class="line"><span class="lineno"> 1109</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#a3e9fc1690781dba87b5e9ed77cfe19e5">be_openssl_handshakeeventcb</a>, bev_ssl);</div>
<div class="line"><span class="lineno"> 1110</span>        <a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(&amp;bev-&gt;ev_write, bev-&gt;ev_base, fd,</div>
<div class="line"><span class="lineno"> 1111</span>            EV_WRITE|EV_PERSIST|EV_FINALIZE,</div>
<div class="line"><span class="lineno"> 1112</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#a3e9fc1690781dba87b5e9ed77cfe19e5">be_openssl_handshakeeventcb</a>, bev_ssl);</div>
<div class="line"><span class="lineno"> 1113</span>        <span class="keywordflow">if</span> (fd &gt;= 0)</div>
<div class="line"><span class="lineno"> 1114</span>            <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(bev, bev-&gt;enabled);</div>
<div class="line"><span class="lineno"> 1115</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1116</span>    }</div>
<div class="line"><span class="lineno"> 1117</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a5923a441822ab477b13b6be4807174f4"><div class="ttname"><a href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a></div><div class="ttdeci">int bufferevent_setfd(struct bufferevent *bev, evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00865">bufferevent.c:865</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a3e9fc1690781dba87b5e9ed77cfe19e5"><div class="ttname"><a href="bufferevent__openssl_8c.html#a3e9fc1690781dba87b5e9ed77cfe19e5">be_openssl_handshakeeventcb</a></div><div class="ttdeci">static void be_openssl_handshakeeventcb(evutil_socket_t fd, short what, void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01071">bufferevent_openssl.c:1071</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a46d6ad9b57b74d13b1a211eeb34ff85b"><div class="ttname"><a href="bufferevent__openssl_8c.html#a46d6ad9b57b74d13b1a211eeb34ff85b">be_openssl_handshakecb</a></div><div class="ttdeci">static void be_openssl_handshakecb(struct bufferevent *bev_base, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01064">bufferevent_openssl.c:1064</a></div></div>
<div class="ttc" id="aevent_8c_html_a22f3c79257a48df9020b7ca21ee0a012"><div class="ttname"><a href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a></div><div class="ttdeci">int event_assign(struct event *ev, struct event_base *base, evutil_socket_t fd, short events, void(*callback)(evutil_socket_t, short, void *), void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02113">event.c:2113</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00918">be_openssl_eventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01064">be_openssl_handshakecb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01071">be_openssl_handshakeeventcb()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="bufferevent_8c_source.html#l00865">bufferevent_setfd()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, <a class="el" href="event_8c_source.html#l02113">event_assign()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="event_8c_source.html#l02410">event_initialized()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01267">be_openssl_set_fd()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01120">bufferevent_ssl_renegotiate()</a>.</p>

</div>
</div>
<a id="af4975f42b111af70d7f8a7938f73f451" name="af4975f42b111af70d7f8a7938f73f451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4975f42b111af70d7f8a7938f73f451">&#9670;&nbsp;</a></span>set_open_callbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_open_callbacks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00983">983</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  984</span>{</div>
<div class="line"><span class="lineno">  985</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno">  986</span>        <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>,</div>
<div class="line"><span class="lineno">  987</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#acdf91e18578b7fe0755a2f6fc1402956">be_openssl_readcb</a>, <a class="code hl_function" href="bufferevent__openssl_8c.html#ae89ab26cf88effe214bf26fb66fe9db9">be_openssl_writecb</a>, <a class="code hl_function" href="bufferevent__openssl_8c.html#aab7ccac02fb5065efde0fae75730226c">be_openssl_eventcb</a>,</div>
<div class="line"><span class="lineno">  988</span>            bev_ssl);</div>
<div class="line"><span class="lineno">  989</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  990</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  991</span>        <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  992</span>        <span class="keywordtype">int</span> rpending=0, wpending=0, r1=0, r2=0;</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a>(&amp;bev-&gt;ev_read)) {</div>
<div class="line"><span class="lineno">  995</span>            rpending = <a class="code hl_function" href="event_8c.html#a864a500f29d40018203a5d63eebd834e">event_pending</a>(&amp;bev-&gt;ev_read, EV_READ, NULL);</div>
<div class="line"><span class="lineno">  996</span>            wpending = <a class="code hl_function" href="event_8c.html#a864a500f29d40018203a5d63eebd834e">event_pending</a>(&amp;bev-&gt;ev_write, EV_WRITE, NULL);</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span>            <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;bev-&gt;ev_read);</div>
<div class="line"><span class="lineno">  999</span>            <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;bev-&gt;ev_write);</div>
<div class="line"><span class="lineno"> 1000</span>        }</div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>        <a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(&amp;bev-&gt;ev_read, bev-&gt;ev_base, fd,</div>
<div class="line"><span class="lineno"> 1003</span>            EV_READ|EV_PERSIST|EV_FINALIZE,</div>
<div class="line"><span class="lineno"> 1004</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#a5b762f2f172ea123a992bb113a9d58b6">be_openssl_readeventcb</a>, bev_ssl);</div>
<div class="line"><span class="lineno"> 1005</span>        <a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(&amp;bev-&gt;ev_write, bev-&gt;ev_base, fd,</div>
<div class="line"><span class="lineno"> 1006</span>            EV_WRITE|EV_PERSIST|EV_FINALIZE,</div>
<div class="line"><span class="lineno"> 1007</span>            <a class="code hl_function" href="bufferevent__openssl_8c.html#a9f40ce09243ad7b71ef7a465b635fad1">be_openssl_writeeventcb</a>, bev_ssl);</div>
<div class="line"><span class="lineno"> 1008</span> </div>
<div class="line"><span class="lineno"> 1009</span>        <span class="keywordflow">if</span> (rpending)</div>
<div class="line"><span class="lineno"> 1010</span>            r1 = <a class="code hl_function" href="bufferevent-internal_8h.html#a8ca14f4fea358ac3f898830a30ea641c">bufferevent_add_event_</a>(&amp;bev-&gt;ev_read, &amp;bev-&gt;timeout_read);</div>
<div class="line"><span class="lineno"> 1011</span>        <span class="keywordflow">if</span> (wpending)</div>
<div class="line"><span class="lineno"> 1012</span>            r2 = <a class="code hl_function" href="bufferevent-internal_8h.html#a8ca14f4fea358ac3f898830a30ea641c">bufferevent_add_event_</a>(&amp;bev-&gt;ev_write, &amp;bev-&gt;timeout_write);</div>
<div class="line"><span class="lineno"> 1013</span> </div>
<div class="line"><span class="lineno"> 1014</span>        <span class="keywordflow">return</span> (r1&lt;0 || r2&lt;0) ? -1 : 0;</div>
<div class="line"><span class="lineno"> 1015</span>    }</div>
<div class="line"><span class="lineno"> 1016</span>}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a5b762f2f172ea123a992bb113a9d58b6"><div class="ttname"><a href="bufferevent__openssl_8c.html#a5b762f2f172ea123a992bb113a9d58b6">be_openssl_readeventcb</a></div><div class="ttdeci">static void be_openssl_readeventcb(evutil_socket_t fd, short what, void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00943">bufferevent_openssl.c:943</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a9f40ce09243ad7b71ef7a465b635fad1"><div class="ttname"><a href="bufferevent__openssl_8c.html#a9f40ce09243ad7b71ef7a465b635fad1">be_openssl_writeeventcb</a></div><div class="ttdeci">static void be_openssl_writeeventcb(evutil_socket_t fd, short what, void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00957">bufferevent_openssl.c:957</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_acdf91e18578b7fe0755a2f6fc1402956"><div class="ttname"><a href="bufferevent__openssl_8c.html#acdf91e18578b7fe0755a2f6fc1402956">be_openssl_readcb</a></div><div class="ttdeci">static void be_openssl_readcb(struct bufferevent *bev_base, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00904">bufferevent_openssl.c:904</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ae89ab26cf88effe214bf26fb66fe9db9"><div class="ttname"><a href="bufferevent__openssl_8c.html#ae89ab26cf88effe214bf26fb66fe9db9">be_openssl_writecb</a></div><div class="ttdeci">static void be_openssl_writecb(struct bufferevent *bev_base, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l00911">bufferevent_openssl.c:911</a></div></div>
<div class="ttc" id="aevent_8c_html_a864a500f29d40018203a5d63eebd834e"><div class="ttname"><a href="event_8c.html#a864a500f29d40018203a5d63eebd834e">event_pending</a></div><div class="ttdeci">int event_pending(const struct event *ev, short event, struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02375">event.c:2375</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00918">be_openssl_eventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00904">be_openssl_readcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00943">be_openssl_readeventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00911">be_openssl_writecb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00957">be_openssl_writeeventcb()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent_8c_source.html#l01016">bufferevent_add_event_()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="event_8c_source.html#l02113">event_assign()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="event_8c_source.html#l02410">event_initialized()</a>, <a class="el" href="event_8c_source.html#l02375">event_pending()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01267">be_openssl_set_fd()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>.</p>

</div>
</div>
<a id="ab7113227b6669a408d55beffe85c5e1c" name="ab7113227b6669a408d55beffe85c5e1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7113227b6669a408d55beffe85c5e1c">&#9670;&nbsp;</a></span>set_rbow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_rbow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00451">451</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  452</span>{</div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">if</span> (!bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>)</div>
<div class="line"><span class="lineno">  454</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a00f1cb114cd7bc7b79e96fef0d951c19">stop_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  455</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">read_blocked_on_write</a> = 1;</div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent__openssl_8c.html#a312378eec8388eb749e22b437fc49146">start_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  457</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00317">bufferevent_openssl::read_blocked_on_write</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00404">start_writing()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00423">stop_reading()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00584">do_read()</a>.</p>

</div>
</div>
<a id="adec699b8583e27257e146954d4d62a52" name="adec699b8583e27257e146954d4d62a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adec699b8583e27257e146954d4d62a52">&#9670;&nbsp;</a></span>set_wbor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_wbor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00460">460</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  461</span>{</div>
<div class="line"><span class="lineno">  462</span>    <span class="keywordflow">if</span> (!bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>)</div>
<div class="line"><span class="lineno">  463</span>        <a class="code hl_function" href="bufferevent__openssl_8c.html#a50075648e731f3bae2bb5f6e58691ff4">stop_writing</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  464</span>    bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a> = 1;</div>
<div class="line"><span class="lineno">  465</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent__openssl_8c.html#a8e347c8c3e78a502d9481a55337ddabd">start_reading</a>(bev_ssl);</div>
<div class="line"><span class="lineno">  466</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent__openssl_8c_source.html#l00383">start_reading()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00437">stop_writing()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00319">bufferevent_openssl::write_blocked_on_read</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00654">do_write()</a>.</p>

</div>
</div>
<a id="a8e347c8c3e78a502d9481a55337ddabd" name="a8e347c8c3e78a502d9481a55337ddabd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e347c8c3e78a502d9481a55337ddabd">&#9670;&nbsp;</a></span>start_reading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int start_reading </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00383">383</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  384</span>{</div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno">  386</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a5754c572785bd31ec8f41c39681dc29f">bufferevent_unsuspend_read_</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>,</div>
<div class="line"><span class="lineno">  387</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#ab43a7947e11f1e810a9d5653ea503de0">BEV_SUSPEND_FILT_READ</a>);</div>
<div class="line"><span class="lineno">  388</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  389</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  390</span>        <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno">  392</span>        r = <a class="code hl_function" href="bufferevent-internal_8h.html#a8ca14f4fea358ac3f898830a30ea641c">bufferevent_add_event_</a>(&amp;bev-&gt;ev_read, &amp;bev-&gt;timeout_read);</div>
<div class="line"><span class="lineno">  393</span>        <span class="keywordflow">if</span> (r == 0 &amp;&amp; bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">read_blocked_on_write</a>)</div>
<div class="line"><span class="lineno">  394</span>            r = <a class="code hl_function" href="bufferevent-internal_8h.html#a8ca14f4fea358ac3f898830a30ea641c">bufferevent_add_event_</a>(&amp;bev-&gt;ev_write,</div>
<div class="line"><span class="lineno">  395</span>                &amp;bev-&gt;timeout_write);</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  397</span>    }</div>
<div class="line"><span class="lineno">  398</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00075">BEV_SUSPEND_FILT_READ</a>, <a class="el" href="bufferevent_8c_source.html#l01016">bufferevent_add_event_()</a>, <a class="el" href="bufferevent_8c_source.html#l00078">bufferevent_unsuspend_read_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00317">bufferevent_openssl::read_blocked_on_write</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01157">be_openssl_enable()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00469">clear_rbow()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00460">set_wbor()</a>.</p>

</div>
</div>
<a id="a312378eec8388eb749e22b437fc49146" name="a312378eec8388eb749e22b437fc49146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a312378eec8388eb749e22b437fc49146">&#9670;&nbsp;</a></span>start_writing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int start_writing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00404">404</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  405</span>{</div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a>) {</div>
<div class="line"><span class="lineno">  409</span>            <a class="code hl_function" href="bufferevent-internal_8h.html#a5754c572785bd31ec8f41c39681dc29f">bufferevent_unsuspend_read_</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>,</div>
<div class="line"><span class="lineno">  410</span>                <a class="code hl_define" href="bufferevent-internal_8h.html#ab43a7947e11f1e810a9d5653ea503de0">BEV_SUSPEND_FILT_READ</a>);</div>
<div class="line"><span class="lineno">  411</span>        }</div>
<div class="line"><span class="lineno">  412</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  413</span>        <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  414</span>        r = <a class="code hl_function" href="bufferevent-internal_8h.html#a8ca14f4fea358ac3f898830a30ea641c">bufferevent_add_event_</a>(&amp;bev-&gt;ev_write, &amp;bev-&gt;timeout_write);</div>
<div class="line"><span class="lineno">  415</span>        <span class="keywordflow">if</span> (!r &amp;&amp; bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a>)</div>
<div class="line"><span class="lineno">  416</span>            r = <a class="code hl_function" href="bufferevent-internal_8h.html#a8ca14f4fea358ac3f898830a30ea641c">bufferevent_add_event_</a>(&amp;bev-&gt;ev_read,</div>
<div class="line"><span class="lineno">  417</span>                &amp;bev-&gt;timeout_read);</div>
<div class="line"><span class="lineno">  418</span>    }</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  420</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00075">BEV_SUSPEND_FILT_READ</a>, <a class="el" href="bufferevent_8c_source.html#l01016">bufferevent_add_event_()</a>, <a class="el" href="bufferevent_8c_source.html#l00078">bufferevent_unsuspend_read_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00319">bufferevent_openssl::write_blocked_on_read</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01157">be_openssl_enable()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00483">clear_wbor()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00451">set_rbow()</a>.</p>

</div>
</div>
<a id="a00f1cb114cd7bc7b79e96fef0d951c19" name="a00f1cb114cd7bc7b79e96fef0d951c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f1cb114cd7bc7b79e96fef0d951c19">&#9670;&nbsp;</a></span>stop_reading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void stop_reading </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00423">423</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  424</span>{</div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a247c808361e7f246c177da7f9b555a95">write_blocked_on_read</a>)</div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno">  428</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#af9df7487d8b5a00fecd7b190eb47ec67">bufferevent_suspend_read_</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>,</div>
<div class="line"><span class="lineno">  429</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#ab43a7947e11f1e810a9d5653ea503de0">BEV_SUSPEND_FILT_READ</a>);</div>
<div class="line"><span class="lineno">  430</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  431</span>        <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  432</span>        <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;bev-&gt;ev_read);</div>
<div class="line"><span class="lineno">  433</span>    }</div>
<div class="line"><span class="lineno">  434</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00075">BEV_SUSPEND_FILT_READ</a>, <a class="el" href="bufferevent_8c_source.html#l00067">bufferevent_suspend_read_()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00319">bufferevent_openssl::write_blocked_on_read</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01182">be_openssl_disable()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00483">clear_wbor()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00496">conn_closed()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00451">set_rbow()</a>.</p>

</div>
</div>
<a id="a50075648e731f3bae2bb5f6e58691ff4" name="a50075648e731f3bae2bb5f6e58691ff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50075648e731f3bae2bb5f6e58691ff4">&#9670;&nbsp;</a></span>stop_writing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void stop_writing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> *&#160;</td>
          <td class="paramname"><em>bev_ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00437">437</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  438</span>{</div>
<div class="line"><span class="lineno">  439</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#af403a7c8f98712cc7984c1597abc314b">read_blocked_on_write</a>)</div>
<div class="line"><span class="lineno">  440</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  441</span>    <span class="keywordflow">if</span> (bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>) {</div>
<div class="line"><span class="lineno">  442</span>        <a class="code hl_function" href="bufferevent-internal_8h.html#a5754c572785bd31ec8f41c39681dc29f">bufferevent_unsuspend_read_</a>(bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a2c3728f5b11a3919989bf312c9ef86d8">underlying</a>,</div>
<div class="line"><span class="lineno">  443</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#ab43a7947e11f1e810a9d5653ea503de0">BEV_SUSPEND_FILT_READ</a>);</div>
<div class="line"><span class="lineno">  444</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  445</span>        <span class="keyword">struct </span>bufferevent *bev = &amp;bev_ssl-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  446</span>        <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;bev-&gt;ev_write);</div>
<div class="line"><span class="lineno">  447</span>    }</div>
<div class="line"><span class="lineno">  448</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00075">BEV_SUSPEND_FILT_READ</a>, <a class="el" href="bufferevent_8c_source.html#l00078">bufferevent_unsuspend_read_()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00317">bufferevent_openssl::read_blocked_on_write</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00295">bufferevent_openssl::underlying</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01182">be_openssl_disable()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00469">clear_rbow()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00496">conn_closed()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00460">set_wbor()</a>.</p>

</div>
</div>
<a id="a3a30f0a419da6d01e62169c097cfe380" name="a3a30f0a419da6d01e62169c097cfe380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a30f0a419da6d01e62169c097cfe380">&#9670;&nbsp;</a></span>upcast()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbufferevent__openssl.html">bufferevent_openssl</a> * upcast </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00355">355</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  356</span>{</div>
<div class="line"><span class="lineno">  357</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a> *bev_o;</div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="bufferevent-internal_8h.html#a9bfaa58ebbd134eb8aad773ec0a5e758">BEV_IS_OPENSSL</a>(<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>))</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  360</span>    bev_o = (<span class="keywordtype">void</span>*)( ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>) -</div>
<div class="line"><span class="lineno">  361</span>             evutil_offsetof(<span class="keyword">struct</span> <a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a>, <a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>));</div>
<div class="line"><span class="lineno">  362</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_define" href="bufferevent-internal_8h.html#a9bfaa58ebbd134eb8aad773ec0a5e758">BEV_IS_OPENSSL</a>(&amp;bev_o-&gt;<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>.<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>));</div>
<div class="line"><span class="lineno">  363</span>    <span class="keywordflow">return</span> bev_o;</div>
<div class="line"><span class="lineno">  364</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a9bfaa58ebbd134eb8aad773ec0a5e758"><div class="ttname"><a href="bufferevent-internal_8h.html#a9bfaa58ebbd134eb8aad773ec0a5e758">BEV_IS_OPENSSL</a></div><div class="ttdeci">#define BEV_IS_OPENSSL(bevp)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00313">bufferevent-internal.h:313</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00292">bufferevent_openssl::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00313">BEV_IS_OPENSSL</a>, and <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01247">be_openssl_adj_timeouts()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01299">be_openssl_ctrl()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01229">be_openssl_destruct()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01182">be_openssl_disable()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01157">be_openssl_enable()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01201">be_openssl_unlink()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01513">bufferevent_get_openssl_error()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01488">bufferevent_openssl_get_allow_dirty_shutdown()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01334">bufferevent_openssl_get_ssl()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01501">bufferevent_openssl_set_allow_dirty_shutdown()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01120">bufferevent_ssl_renegotiate()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6301a9dade80c3b7cc424aa8c5655180" name="a6301a9dade80c3b7cc424aa8c5655180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6301a9dade80c3b7cc424aa8c5655180">&#9670;&nbsp;</a></span>bufferevent_ops_openssl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structbufferevent__ops.html">bufferevent_ops</a> bufferevent_ops_openssl</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="stringliteral">&quot;ssl&quot;</span>,</div>
<div class="line">    evutil_offsetof(<span class="keyword">struct</span> <a class="code hl_struct" href="structbufferevent__openssl.html">bufferevent_openssl</a>, bev.<a class="code hl_variable" href="structbufferevent__openssl.html#a35666e3cfc51eeeff2dd120af136b1c6">bev</a>),</div>
<div class="line">    <a class="code hl_function" href="bufferevent__openssl_8c.html#ae92bc593e4e0bfa376592af3168911d4">be_openssl_enable</a>,</div>
<div class="line">    <a class="code hl_function" href="bufferevent__openssl_8c.html#a627272d784662f3847df480d8c1ad55c">be_openssl_disable</a>,</div>
<div class="line">    <a class="code hl_function" href="bufferevent__openssl_8c.html#adac5bce7bae057d033878e6e3dce7d0b">be_openssl_unlink</a>,</div>
<div class="line">    <a class="code hl_function" href="bufferevent__openssl_8c.html#a89acab0a794bec46c0bedfa9b21211c4">be_openssl_destruct</a>,</div>
<div class="line">    <a class="code hl_function" href="bufferevent__openssl_8c.html#ad683ed6b055ce480ae913d0c8bc84aad">be_openssl_adj_timeouts</a>,</div>
<div class="line">    <a class="code hl_function" href="bufferevent__openssl_8c.html#a3ca71bae3d5e10b424b440ca392c5da8">be_openssl_flush</a>,</div>
<div class="line">    <a class="code hl_function" href="bufferevent__openssl_8c.html#ab4ad909df29f64b3b798448d5e67d29a">be_openssl_ctrl</a>,</div>
<div class="line">}</div>
<div class="ttc" id="abufferevent__openssl_8c_html_a3ca71bae3d5e10b424b440ca392c5da8"><div class="ttname"><a href="bufferevent__openssl_8c.html#a3ca71bae3d5e10b424b440ca392c5da8">be_openssl_flush</a></div><div class="ttdeci">static int be_openssl_flush(struct bufferevent *bufev, short iotype, enum bufferevent_flush_mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01259">bufferevent_openssl.c:1259</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a627272d784662f3847df480d8c1ad55c"><div class="ttname"><a href="bufferevent__openssl_8c.html#a627272d784662f3847df480d8c1ad55c">be_openssl_disable</a></div><div class="ttdeci">static int be_openssl_disable(struct bufferevent *, short)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01182">bufferevent_openssl.c:1182</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_a89acab0a794bec46c0bedfa9b21211c4"><div class="ttname"><a href="bufferevent__openssl_8c.html#a89acab0a794bec46c0bedfa9b21211c4">be_openssl_destruct</a></div><div class="ttdeci">static void be_openssl_destruct(struct bufferevent *)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01229">bufferevent_openssl.c:1229</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ab4ad909df29f64b3b798448d5e67d29a"><div class="ttname"><a href="bufferevent__openssl_8c.html#ab4ad909df29f64b3b798448d5e67d29a">be_openssl_ctrl</a></div><div class="ttdeci">static int be_openssl_ctrl(struct bufferevent *, enum bufferevent_ctrl_op, union bufferevent_ctrl_data *)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01299">bufferevent_openssl.c:1299</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ad683ed6b055ce480ae913d0c8bc84aad"><div class="ttname"><a href="bufferevent__openssl_8c.html#ad683ed6b055ce480ae913d0c8bc84aad">be_openssl_adj_timeouts</a></div><div class="ttdeci">static int be_openssl_adj_timeouts(struct bufferevent *)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01247">bufferevent_openssl.c:1247</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_adac5bce7bae057d033878e6e3dce7d0b"><div class="ttname"><a href="bufferevent__openssl_8c.html#adac5bce7bae057d033878e6e3dce7d0b">be_openssl_unlink</a></div><div class="ttdeci">static void be_openssl_unlink(struct bufferevent *)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01201">bufferevent_openssl.c:1201</a></div></div>
<div class="ttc" id="abufferevent__openssl_8c_html_ae92bc593e4e0bfa376592af3168911d4"><div class="ttname"><a href="bufferevent__openssl_8c.html#ae92bc593e4e0bfa376592af3168911d4">be_openssl_enable</a></div><div class="ttdeci">static int be_openssl_enable(struct bufferevent *, short)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__openssl_8c_source.html#l01157">bufferevent_openssl.c:1157</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00340">340</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>.</p>

</div>
</div>
<a id="a7d130018e25d91ce286e7949d462fe5d" name="a7d130018e25d91ce286e7949d462fe5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d130018e25d91ce286e7949d462fe5d">&#9670;&nbsp;</a></span>methods_bufferevent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BIO_METHOD* methods_bufferevent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent__openssl_8c_source.html#l00230">230</a> of file <a class="el" href="bufferevent__openssl_8c_source.html">bufferevent_openssl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00234">BIO_s_bufferevent()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
