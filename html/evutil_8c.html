<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/libevent/evutil.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_97979c17d049e8002d2e089c4964ead4.html">libevent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">evutil.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;event2/event-config.h&quot;</code><br />
<code>#include &quot;evconfig-private.h&quot;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;net/if.h&gt;</code><br />
<code>#include &quot;event2/util.h&quot;</code><br />
<code>#include &quot;<a class="el" href="util-internal_8h_source.html">util-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log-internal_8h_source.html">log-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mm-internal_8h_source.html">mm-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="evthread-internal_8h_source.html">evthread-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="strlcpy-internal_8h_source.html">strlcpy-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ipv6-internal_8h_source.html">ipv6-internal.h</a>&quot;</code><br />
</div>
<p><a href="evutil_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5822efc5253afcbe880cf05f44d74731"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a5822efc5253afcbe880cf05f44d74731">N_TO_READ</a>(x)&#160;&#160;&#160;(x)</td></tr>
<tr class="separator:a5822efc5253afcbe880cf05f44d74731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588357de2986fdf4c1380190f7ae9f37"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a588357de2986fdf4c1380190f7ae9f37">ERR</a>(e)&#160;&#160;&#160;e</td></tr>
<tr class="separator:a588357de2986fdf4c1380190f7ae9f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f10c85d48e7484c3f21626a8637b65"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#af7f10c85d48e7484c3f21626a8637b65">EVUTIL_AI_LIBEVENT_ALLOCATED</a>&#160;&#160;&#160;0x80000000</td></tr>
<tr class="separator:af7f10c85d48e7484c3f21626a8637b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf8771ff17174ba58a8831431d65b78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#aabf8771ff17174ba58a8831431d65b78">USE_INTERNAL_NTOP</a></td></tr>
<tr class="separator:aabf8771ff17174ba58a8831431d65b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af509a9a1a27e4b5ecf63fd24d6fc672b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#af509a9a1a27e4b5ecf63fd24d6fc672b">USE_INTERNAL_PTON</a></td></tr>
<tr class="separator:af509a9a1a27e4b5ecf63fd24d6fc672b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6de6be4486442bfb315c526621035d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a9a6de6be4486442bfb315c526621035d">IMPL_CTYPE_FN</a>(name)</td></tr>
<tr class="separator:a9a6de6be4486442bfb315c526621035d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209dce8af326b28029ea52822b3b5cb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a209dce8af326b28029ea52822b3b5cb1">SOCKET_TYPE_MASK</a>&#160;&#160;&#160;(~(<a class="el" href="util-internal_8h.html#a31e248693a7fed9ed20b85685e273626">EVUTIL_SOCK_NONBLOCK</a>|<a class="el" href="util-internal_8h.html#afba2af36c0dae01fb8dd73ec5c928125">EVUTIL_SOCK_CLOEXEC</a>))</td></tr>
<tr class="separator:a209dce8af326b28029ea52822b3b5cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab01dd7ebbb1c93969108e97c6352502"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#aab01dd7ebbb1c93969108e97c6352502">LOCAL_SOCKETPAIR_AF</a>&#160;&#160;&#160;AF_UNIX</td></tr>
<tr class="separator:aab01dd7ebbb1c93969108e97c6352502"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa0800e3d8c772ebcef7ba1fbc844a199"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#aa0800e3d8c772ebcef7ba1fbc844a199">evutil_open_closeonexec_</a> (const char *pathname, int flags, unsigned mode)</td></tr>
<tr class="separator:aa0800e3d8c772ebcef7ba1fbc844a199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b0e5317b86441eda78024ff185b65e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a6b0e5317b86441eda78024ff185b65e3">evutil_read_file_</a> (const char *filename, char **content_out, size_t *len_out, int is_binary)</td></tr>
<tr class="separator:a6b0e5317b86441eda78024ff185b65e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651b1a620ccb53ce617e29545736e4d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a651b1a620ccb53ce617e29545736e4d0">evutil_socketpair</a> (int family, int type, int protocol, evutil_socket_t fd[2])</td></tr>
<tr class="separator:a651b1a620ccb53ce617e29545736e4d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005f9041025d09831b487f478cf019b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a005f9041025d09831b487f478cf019b3">evutil_ersatz_socketpair_</a> (int family, int type, int protocol, evutil_socket_t fd[2])</td></tr>
<tr class="separator:a005f9041025d09831b487f478cf019b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f8c44ffaf711ad5f37fdc285b2c72b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a03f8c44ffaf711ad5f37fdc285b2c72b">evutil_make_socket_nonblocking</a> (evutil_socket_t fd)</td></tr>
<tr class="separator:a03f8c44ffaf711ad5f37fdc285b2c72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3920bebac41cf9438435aac390853006"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a3920bebac41cf9438435aac390853006">evutil_fast_socket_nonblocking</a> (evutil_socket_t fd)</td></tr>
<tr class="separator:a3920bebac41cf9438435aac390853006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050bec12aefa132d8e94e712332f38d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a050bec12aefa132d8e94e712332f38d9">evutil_make_listen_socket_reuseable</a> (evutil_socket_t sock)</td></tr>
<tr class="separator:a050bec12aefa132d8e94e712332f38d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1173947efc4bc84073229ae202c1bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a1e1173947efc4bc84073229ae202c1bb">evutil_make_listen_socket_reuseable_port</a> (evutil_socket_t sock)</td></tr>
<tr class="separator:a1e1173947efc4bc84073229ae202c1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9954a6c383abca79675641196d7b0396"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a9954a6c383abca79675641196d7b0396">evutil_make_listen_socket_ipv6only</a> (evutil_socket_t sock)</td></tr>
<tr class="separator:a9954a6c383abca79675641196d7b0396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2632e1d8bf78893724ef26e822ea2af4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a2632e1d8bf78893724ef26e822ea2af4">evutil_make_tcp_listen_socket_deferred</a> (evutil_socket_t sock)</td></tr>
<tr class="separator:a2632e1d8bf78893724ef26e822ea2af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18af866d9a76d7538ed700473b8c3039"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a18af866d9a76d7538ed700473b8c3039">evutil_make_socket_closeonexec</a> (evutil_socket_t fd)</td></tr>
<tr class="separator:a18af866d9a76d7538ed700473b8c3039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9034da760c901d74cddf3880065bb91"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ab9034da760c901d74cddf3880065bb91">evutil_fast_socket_closeonexec</a> (evutil_socket_t fd)</td></tr>
<tr class="separator:ab9034da760c901d74cddf3880065bb91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3950f08bc7b4ab52d519eabe7edd1889"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a> (evutil_socket_t sock)</td></tr>
<tr class="separator:a3950f08bc7b4ab52d519eabe7edd1889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87762fbc9974b211df3babfacd99df19"><td class="memItemLeft" align="right" valign="top">ev_int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a87762fbc9974b211df3babfacd99df19">evutil_strtoll</a> (const char *s, char **endptr, int base)</td></tr>
<tr class="separator:a87762fbc9974b211df3babfacd99df19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda6977c1e11b450f7dfeb211ab04a3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#abda6977c1e11b450f7dfeb211ab04a3a">evutil_socket_connect_</a> (evutil_socket_t *fd_ptr, const struct sockaddr *sa, int socklen)</td></tr>
<tr class="separator:abda6977c1e11b450f7dfeb211ab04a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741cc0a8fafdd90beaae0ccd141d7d02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a741cc0a8fafdd90beaae0ccd141d7d02">evutil_socket_finished_connecting_</a> (evutil_socket_t fd)</td></tr>
<tr class="separator:a741cc0a8fafdd90beaae0ccd141d7d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55be9baa7ed24963e25ab726eb2c774"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#af55be9baa7ed24963e25ab726eb2c774">evutil_v4addr_is_localhost</a> (ev_uint32_t addr)</td></tr>
<tr class="separator:af55be9baa7ed24963e25ab726eb2c774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9afe85f7145b828ac0f420bfe2e719"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a2c9afe85f7145b828ac0f420bfe2e719">evutil_v4addr_is_linklocal</a> (ev_uint32_t addr)</td></tr>
<tr class="separator:a2c9afe85f7145b828ac0f420bfe2e719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58134b6341cfa23647a1cf716989342c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a58134b6341cfa23647a1cf716989342c">evutil_v4addr_is_classd</a> (ev_uint32_t addr)</td></tr>
<tr class="separator:a58134b6341cfa23647a1cf716989342c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28a490a4c6d40c09a0daf2ae3e8e442"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ab28a490a4c6d40c09a0daf2ae3e8e442">evutil_v4addr_is_local_</a> (const struct in_addr *in)</td></tr>
<tr class="separator:ab28a490a4c6d40c09a0daf2ae3e8e442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1cbcf1a7094b8d9f39de4037d8c368"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#abd1cbcf1a7094b8d9f39de4037d8c368">evutil_v6addr_is_local_</a> (const struct <a class="el" href="structin6__addr.html">in6_addr</a> *in)</td></tr>
<tr class="separator:abd1cbcf1a7094b8d9f39de4037d8c368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956bc77fcd8db3c81de9ac28f9a4562e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a956bc77fcd8db3c81de9ac28f9a4562e">evutil_found_ifaddr</a> (const struct sockaddr *sa)</td></tr>
<tr class="separator:a956bc77fcd8db3c81de9ac28f9a4562e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00781c535c8305980b43aaf75f04623"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ad00781c535c8305980b43aaf75f04623">evutil_check_ifaddrs</a> (void)</td></tr>
<tr class="separator:ad00781c535c8305980b43aaf75f04623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2155bfd97cb687cd84727d17fb0112"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a2d2155bfd97cb687cd84727d17fb0112">evutil_check_interfaces</a> (void)</td></tr>
<tr class="separator:a2d2155bfd97cb687cd84727d17fb0112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0010ca18f6715fc9d29b8bf3e8fe9e2"><td class="memItemLeft" align="right" valign="top">struct evutil_addrinfo *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#af0010ca18f6715fc9d29b8bf3e8fe9e2">evutil_new_addrinfo_</a> (struct sockaddr *sa, ev_socklen_t socklen, const struct evutil_addrinfo *hints)</td></tr>
<tr class="separator:af0010ca18f6715fc9d29b8bf3e8fe9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16b9ef43c938efc62749ee134f384c26"><td class="memItemLeft" align="right" valign="top">struct evutil_addrinfo *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a16b9ef43c938efc62749ee134f384c26">evutil_addrinfo_append_</a> (struct evutil_addrinfo *first, struct evutil_addrinfo *<a class="el" href="utils_8h.html#a1e9f308382ce3db95bfb40206ab84a6e">append</a>)</td></tr>
<tr class="separator:a16b9ef43c938efc62749ee134f384c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd045fb4850e0a88d93331ab206770eb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#abd045fb4850e0a88d93331ab206770eb">parse_numeric_servname</a> (const char *servname)</td></tr>
<tr class="separator:abd045fb4850e0a88d93331ab206770eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0168df3e9f6d17e13d1ff8b6f3670ec6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a0168df3e9f6d17e13d1ff8b6f3670ec6">evutil_parse_servname</a> (const char *servname, const char *protocol, const struct evutil_addrinfo *hints)</td></tr>
<tr class="separator:a0168df3e9f6d17e13d1ff8b6f3670ec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b2e43793f1244de8d5c7e9de005d04"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a55b2e43793f1244de8d5c7e9de005d04">evutil_unparse_protoname</a> (int proto)</td></tr>
<tr class="separator:a55b2e43793f1244de8d5c7e9de005d04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae564f11ea75df2a67083b06694b4d580"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ae564f11ea75df2a67083b06694b4d580">evutil_getaddrinfo_infer_protocols</a> (struct evutil_addrinfo *hints)</td></tr>
<tr class="separator:ae564f11ea75df2a67083b06694b4d580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfba61ec5363ad716291db4be47a39cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#acfba61ec5363ad716291db4be47a39cd">evutil_getaddrinfo_common_</a> (const char *nodename, const char *servname, struct evutil_addrinfo *hints, struct evutil_addrinfo **res, int *portnum)</td></tr>
<tr class="separator:acfba61ec5363ad716291db4be47a39cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cbb4dfbe5ff41d77b84883113a9be0d"><td class="memItemLeft" align="right" valign="top">static struct evutil_addrinfo *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a8cbb4dfbe5ff41d77b84883113a9be0d">addrinfo_from_hostent</a> (const struct hostent *ent, int port, const struct evutil_addrinfo *hints)</td></tr>
<tr class="separator:a8cbb4dfbe5ff41d77b84883113a9be0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab015092ef6e0a1ca0d0565a2be404842"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ab015092ef6e0a1ca0d0565a2be404842">evutil_adjust_hints_for_addrconfig_</a> (struct evutil_addrinfo *hints)</td></tr>
<tr class="separator:ab015092ef6e0a1ca0d0565a2be404842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72dd0e3c31f03a1de0fd297b1b2691b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#af72dd0e3c31f03a1de0fd297b1b2691b">evutil_getaddrinfo</a> (const char *nodename, const char *servname, const struct evutil_addrinfo *hints_in, struct evutil_addrinfo **res)</td></tr>
<tr class="separator:af72dd0e3c31f03a1de0fd297b1b2691b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43029540a4878bc49b343e7b0573ef3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ad43029540a4878bc49b343e7b0573ef3">evutil_freeaddrinfo</a> (struct evutil_addrinfo *ai)</td></tr>
<tr class="separator:ad43029540a4878bc49b343e7b0573ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5af70064bd3e087f2730bdc4f7c68d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ac5af70064bd3e087f2730bdc4f7c68d9">evutil_set_evdns_getaddrinfo_fn_</a> (<a class="el" href="util-internal_8h.html#a6291901ccbcb671e145c4adff037b714">evdns_getaddrinfo_fn</a> fn)</td></tr>
<tr class="separator:ac5af70064bd3e087f2730bdc4f7c68d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca1628c9c517f1170febcf50f0365ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#aeca1628c9c517f1170febcf50f0365ff">evutil_set_evdns_getaddrinfo_cancel_fn_</a> (<a class="el" href="util-internal_8h.html#ad42dfed608dd057527d5ba212d5415b8">evdns_getaddrinfo_cancel_fn</a> fn)</td></tr>
<tr class="separator:aeca1628c9c517f1170febcf50f0365ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56969fcdaa8e8e74b48bd6aa8dfb3a5d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevdns__getaddrinfo__request.html">evdns_getaddrinfo_request</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a56969fcdaa8e8e74b48bd6aa8dfb3a5d">evutil_getaddrinfo_async_</a> (struct <a class="el" href="structevdns__base.html">evdns_base</a> *dns_base, const char *nodename, const char *servname, const struct evutil_addrinfo *hints_in, void(*cb)(int, struct evutil_addrinfo *, void *), void *arg)</td></tr>
<tr class="separator:a56969fcdaa8e8e74b48bd6aa8dfb3a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd93b5e7dab37f662d9823ab9d2d026e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#acd93b5e7dab37f662d9823ab9d2d026e">evutil_getaddrinfo_cancel_async_</a> (struct <a class="el" href="structevdns__getaddrinfo__request.html">evdns_getaddrinfo_request</a> *data)</td></tr>
<tr class="separator:acd93b5e7dab37f662d9823ab9d2d026e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9306b087339e6ae10a690a6cb2f3dcc"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#aa9306b087339e6ae10a690a6cb2f3dcc">evutil_gai_strerror</a> (int err)</td></tr>
<tr class="separator:aa9306b087339e6ae10a690a6cb2f3dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8246998aefa3eaca8a88a759e1bfb01a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a8246998aefa3eaca8a88a759e1bfb01a">evutil_global_setup_locks_</a> (const int enable_locks)</td></tr>
<tr class="separator:a8246998aefa3eaca8a88a759e1bfb01a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f04dffac535e580810a7690af65265"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#aa2f04dffac535e580810a7690af65265">evutil_free_sock_err_globals</a> (void)</td></tr>
<tr class="separator:aa2f04dffac535e580810a7690af65265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55dc7427a539b8c710acf6eb117364e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a> (char *buf, size_t buflen, const char *format,...)</td></tr>
<tr class="separator:a55dc7427a539b8c710acf6eb117364e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80bb0d174aa64218ce077b0c79df3e0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a80bb0d174aa64218ce077b0c79df3e0f">evutil_vsnprintf</a> (char *buf, size_t buflen, const char *format, va_list ap)</td></tr>
<tr class="separator:a80bb0d174aa64218ce077b0c79df3e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d5949933b19e6c7245ea1129898dca"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ac6d5949933b19e6c7245ea1129898dca">evutil_inet_ntop</a> (int af, const void *src, char *dst, size_t len)</td></tr>
<tr class="separator:ac6d5949933b19e6c7245ea1129898dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1fe41a24b3ad48f26f8890785bbe0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a9c1fe41a24b3ad48f26f8890785bbe0c">evutil_inet_pton_scope</a> (int af, const char *src, void *dst, unsigned *indexp)</td></tr>
<tr class="separator:a9c1fe41a24b3ad48f26f8890785bbe0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1457e5a0b461a99ca9d6d5c19e9dd65f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a> (int af, const char *src, void *dst)</td></tr>
<tr class="separator:a1457e5a0b461a99ca9d6d5c19e9dd65f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae3aa0bf8f1193558141eecd471bac21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#aae3aa0bf8f1193558141eecd471bac21">evutil_parse_sockaddr_port</a> (const char *ip_as_string, struct sockaddr *out, int *outlen)</td></tr>
<tr class="separator:aae3aa0bf8f1193558141eecd471bac21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dd3d5274e4b17a1e6f1b093d6bf72d3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a4dd3d5274e4b17a1e6f1b093d6bf72d3">evutil_format_sockaddr_port_</a> (const struct sockaddr *sa, char *out, size_t outlen)</td></tr>
<tr class="separator:a4dd3d5274e4b17a1e6f1b093d6bf72d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2397b592e9965630a1bf78a6a688859"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ae2397b592e9965630a1bf78a6a688859">evutil_sockaddr_cmp</a> (const struct sockaddr *sa1, const struct sockaddr *sa2, int include_port)</td></tr>
<tr class="separator:ae2397b592e9965630a1bf78a6a688859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a64c0df26697fbbab61bd3cb36f5760"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a0a64c0df26697fbbab61bd3cb36f5760">EVUTIL_TOLOWER_</a> (char c)</td></tr>
<tr class="separator:a0a64c0df26697fbbab61bd3cb36f5760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dce50d7aae2f91d90632cd3f2714cd8"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a4dce50d7aae2f91d90632cd3f2714cd8">EVUTIL_TOUPPER_</a> (char c)</td></tr>
<tr class="separator:a4dce50d7aae2f91d90632cd3f2714cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37aa2a5fce2eabe8d3fe878e6a8c75b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a37aa2a5fce2eabe8d3fe878e6a8c75b2">evutil_ascii_strcasecmp</a> (const char *s1, const char *s2)</td></tr>
<tr class="separator:a37aa2a5fce2eabe8d3fe878e6a8c75b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2050dff3ba61d6e68bfcd6652b1f4e5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a2050dff3ba61d6e68bfcd6652b1f4e5d">evutil_ascii_strncasecmp</a> (const char *s1, const char *s2, size_t n)</td></tr>
<tr class="separator:a2050dff3ba61d6e68bfcd6652b1f4e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbbe34990531ffb2560076fa58392515"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#adbbe34990531ffb2560076fa58392515">evutil_rtrim_lws_</a> (char *str)</td></tr>
<tr class="separator:adbbe34990531ffb2560076fa58392515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ed6a7c34adf3617143c9a2fec5d2ce"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ab1ed6a7c34adf3617143c9a2fec5d2ce">evutil_issetugid</a> (void)</td></tr>
<tr class="separator:ab1ed6a7c34adf3617143c9a2fec5d2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a32ccf29cf07d78b1f8267863fadd7"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a09a32ccf29cf07d78b1f8267863fadd7">evutil_getenv_</a> (const char *varname)</td></tr>
<tr class="separator:a09a32ccf29cf07d78b1f8267863fadd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c72e4f95fd183833a046f276a4b302"><td class="memItemLeft" align="right" valign="top">ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a26c72e4f95fd183833a046f276a4b302">evutil_weakrand_seed_</a> (struct <a class="el" href="structevutil__weakrand__state.html">evutil_weakrand_state</a> *state, ev_uint32_t seed)</td></tr>
<tr class="separator:a26c72e4f95fd183833a046f276a4b302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad548b4031a22783101eb61e6c4de17"><td class="memItemLeft" align="right" valign="top">ev_int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a1ad548b4031a22783101eb61e6c4de17">evutil_weakrand_</a> (struct <a class="el" href="structevutil__weakrand__state.html">evutil_weakrand_state</a> *state)</td></tr>
<tr class="separator:a1ad548b4031a22783101eb61e6c4de17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87a811277a59cecf75dce798c303b702"><td class="memItemLeft" align="right" valign="top">ev_int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a87a811277a59cecf75dce798c303b702">evutil_weakrand_range_</a> (struct <a class="el" href="structevutil__weakrand__state.html">evutil_weakrand_state</a> *state, ev_int32_t top)</td></tr>
<tr class="separator:a87a811277a59cecf75dce798c303b702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72470db438c34c82b841b9145527ecf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a72470db438c34c82b841b9145527ecf9">evutil_memclear_</a> (void *mem, size_t len)</td></tr>
<tr class="separator:a72470db438c34c82b841b9145527ecf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5599123419713c83549921e73dc6e87b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a5599123419713c83549921e73dc6e87b">evutil_sockaddr_is_loopback_</a> (const struct sockaddr *addr)</td></tr>
<tr class="separator:a5599123419713c83549921e73dc6e87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827202c521ceb4cb31d96fee212d7e38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a827202c521ceb4cb31d96fee212d7e38">evutil_hex_char_to_int_</a> (char c)</td></tr>
<tr class="separator:a827202c521ceb4cb31d96fee212d7e38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62afa81f2bbca524ef24c24f8c0bbfdb"><td class="memItemLeft" align="right" valign="top">evutil_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a62afa81f2bbca524ef24c24f8c0bbfdb">evutil_socket_</a> (int domain, int type, int protocol)</td></tr>
<tr class="separator:a62afa81f2bbca524ef24c24f8c0bbfdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a193ba5b993f89f73b67a88a33fdb6bda"><td class="memItemLeft" align="right" valign="top">evutil_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a193ba5b993f89f73b67a88a33fdb6bda">evutil_accept4_</a> (evutil_socket_t sockfd, struct sockaddr *addr, ev_socklen_t *addrlen, int flags)</td></tr>
<tr class="separator:a193ba5b993f89f73b67a88a33fdb6bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9621ec3160c76f8f6dd67c8007ef4dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ac9621ec3160c76f8f6dd67c8007ef4dc">evutil_make_internal_pipe_</a> (evutil_socket_t fd[2])</td></tr>
<tr class="separator:ac9621ec3160c76f8f6dd67c8007ef4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a180e4a5d182158d6395de687f654ebc5"><td class="memItemLeft" align="right" valign="top">evutil_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a180e4a5d182158d6395de687f654ebc5">evutil_eventfd_</a> (unsigned initval, int flags)</td></tr>
<tr class="separator:a180e4a5d182158d6395de687f654ebc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2882c6a8797ce8940db82d3ebe073293"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a2882c6a8797ce8940db82d3ebe073293">evutil_free_globals_</a> (void)</td></tr>
<tr class="separator:a2882c6a8797ce8940db82d3ebe073293"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad64c7b8bb0ae6212ecb9b6082831c538"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ad64c7b8bb0ae6212ecb9b6082831c538">have_checked_interfaces</a></td></tr>
<tr class="separator:ad64c7b8bb0ae6212ecb9b6082831c538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d0bc5553f56008b1cbef60d3dfdda6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ae9d0bc5553f56008b1cbef60d3dfdda6">had_ipv4_address</a></td></tr>
<tr class="separator:ae9d0bc5553f56008b1cbef60d3dfdda6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac1995c81b8f70139a18a34d675a1648"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#aac1995c81b8f70139a18a34d675a1648">had_ipv6_address</a></td></tr>
<tr class="separator:aac1995c81b8f70139a18a34d675a1648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6c7933eaff49642b7bdbf657ac650a4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="util-internal_8h.html#a6291901ccbcb671e145c4adff037b714">evdns_getaddrinfo_fn</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#af6c7933eaff49642b7bdbf657ac650a4">evdns_getaddrinfo_impl</a> = NULL</td></tr>
<tr class="separator:af6c7933eaff49642b7bdbf657ac650a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad58a10b183f1788e7c7b7c17d2802edb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="util-internal_8h.html#ad42dfed608dd057527d5ba212d5415b8">evdns_getaddrinfo_cancel_fn</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ad58a10b183f1788e7c7b7c17d2802edb">evdns_getaddrinfo_cancel_impl</a> = NULL</td></tr>
<tr class="separator:ad58a10b183f1788e7c7b7c17d2802edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45808362f9f09670208e517986f539f7"><td class="memItemLeft" align="right" valign="top">static const ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a45808362f9f09670208e517986f539f7">EVUTIL_ISALPHA_TABLE</a> [8]</td></tr>
<tr class="separator:a45808362f9f09670208e517986f539f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408971f7ea0769fca7614daf170967c2"><td class="memItemLeft" align="right" valign="top">static const ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a408971f7ea0769fca7614daf170967c2">EVUTIL_ISALNUM_TABLE</a> [8]</td></tr>
<tr class="separator:a408971f7ea0769fca7614daf170967c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c221050650399b67da04a3dce44b759"><td class="memItemLeft" align="right" valign="top">static const ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a0c221050650399b67da04a3dce44b759">EVUTIL_ISSPACE_TABLE</a> [8] = { 0x3e00, 0x1, 0, 0, 0, 0, 0, 0 }</td></tr>
<tr class="separator:a0c221050650399b67da04a3dce44b759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42f04fd3165b0b5391f1bfedde44ff1"><td class="memItemLeft" align="right" valign="top">static const ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ac42f04fd3165b0b5391f1bfedde44ff1">EVUTIL_ISXDIGIT_TABLE</a> [8]</td></tr>
<tr class="separator:ac42f04fd3165b0b5391f1bfedde44ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8dc243bf362220918602b0f2e29bc78"><td class="memItemLeft" align="right" valign="top">static const ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ab8dc243bf362220918602b0f2e29bc78">EVUTIL_ISDIGIT_TABLE</a> [8] = { 0, 0x3ff0000, 0, 0, 0, 0, 0, 0 }</td></tr>
<tr class="separator:ab8dc243bf362220918602b0f2e29bc78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b5bc4f82c3cc7f41645c0b346e0b97"><td class="memItemLeft" align="right" valign="top">static const ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a06b5bc4f82c3cc7f41645c0b346e0b97">EVUTIL_ISPRINT_TABLE</a> [8]</td></tr>
<tr class="separator:a06b5bc4f82c3cc7f41645c0b346e0b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99770142b3805c764483beb6840cd803"><td class="memItemLeft" align="right" valign="top">static const ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a99770142b3805c764483beb6840cd803">EVUTIL_ISUPPER_TABLE</a> [8] = { 0, 0, 0x7fffffe, 0, 0, 0, 0, 0 }</td></tr>
<tr class="separator:a99770142b3805c764483beb6840cd803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade70d207689fcb4a2c71139df8cdb1b0"><td class="memItemLeft" align="right" valign="top">static const ev_uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#ade70d207689fcb4a2c71139df8cdb1b0">EVUTIL_ISLOWER_TABLE</a> [8] = { 0, 0, 0, 0x7fffffe, 0, 0, 0, 0 }</td></tr>
<tr class="separator:ade70d207689fcb4a2c71139df8cdb1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8521f6e862b0f258b3527b57544cac02"><td class="memItemLeft" align="right" valign="top">static const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a8521f6e862b0f258b3527b57544cac02">EVUTIL_TOUPPER_TABLE</a> [256]</td></tr>
<tr class="separator:a8521f6e862b0f258b3527b57544cac02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc54797b5987a665f1bee19b1437cb42"><td class="memItemLeft" align="right" valign="top">static const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#abc54797b5987a665f1bee19b1437cb42">EVUTIL_TOLOWER_TABLE</a> [256]</td></tr>
<tr class="separator:abc54797b5987a665f1bee19b1437cb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f42d4352c0105a24061c33b9751d376"><td class="memItemLeft" align="right" valign="top">void *(*volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evutil_8c.html#a4f42d4352c0105a24061c33b9751d376">evutil_memset_volatile_</a> )(void *, int, size_t) = memset</td></tr>
<tr class="separator:a4f42d4352c0105a24061c33b9751d376"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a588357de2986fdf4c1380190f7ae9f37" name="a588357de2986fdf4c1380190f7ae9f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a588357de2986fdf4c1380190f7ae9f37">&#9670;&nbsp;</a></span>ERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e</td><td>)</td>
          <td>&#160;&#160;&#160;e</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af7f10c85d48e7484c3f21626a8637b65" name="af7f10c85d48e7484c3f21626a8637b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f10c85d48e7484c3f21626a8637b65">&#9670;&nbsp;</a></span>EVUTIL_AI_LIBEVENT_ALLOCATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVUTIL_AI_LIBEVENT_ALLOCATED&#160;&#160;&#160;0x80000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00824">824</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="a9a6de6be4486442bfb315c526621035d" name="a9a6de6be4486442bfb315c526621035d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a6de6be4486442bfb315c526621035d">&#9670;&nbsp;</a></span>IMPL_CTYPE_FN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMPL_CTYPE_FN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordtype">int</span> EVUTIL_##name##_(<span class="keywordtype">char</span> c) {                  \</div>
<div class="line">        ev_uint8_t u = c;                   \</div>
<div class="line">        return !!(EVUTIL_##name##_TABLE[(u &gt;&gt; 5) &amp; 7] &amp; (1U &lt;&lt; (u &amp; 31))); \</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02369">2369</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="aab01dd7ebbb1c93969108e97c6352502" name="aab01dd7ebbb1c93969108e97c6352502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab01dd7ebbb1c93969108e97c6352502">&#9670;&nbsp;</a></span>LOCAL_SOCKETPAIR_AF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCAL_SOCKETPAIR_AF&#160;&#160;&#160;AF_UNIX</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5822efc5253afcbe880cf05f44d74731" name="a5822efc5253afcbe880cf05f44d74731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5822efc5253afcbe880cf05f44d74731">&#9670;&nbsp;</a></span>N_TO_READ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define N_TO_READ</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(x)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a209dce8af326b28029ea52822b3b5cb1" name="a209dce8af326b28029ea52822b3b5cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209dce8af326b28029ea52822b3b5cb1">&#9670;&nbsp;</a></span>SOCKET_TYPE_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_TYPE_MASK&#160;&#160;&#160;(~(<a class="el" href="util-internal_8h.html#a31e248693a7fed9ed20b85685e273626">EVUTIL_SOCK_NONBLOCK</a>|<a class="el" href="util-internal_8h.html#afba2af36c0dae01fb8dd73ec5c928125">EVUTIL_SOCK_CLOEXEC</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aabf8771ff17174ba58a8831431d65b78" name="aabf8771ff17174ba58a8831431d65b78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabf8771ff17174ba58a8831431d65b78">&#9670;&nbsp;</a></span>USE_INTERNAL_NTOP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USE_INTERNAL_NTOP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01892">1892</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="af509a9a1a27e4b5ecf63fd24d6fc672b" name="af509a9a1a27e4b5ecf63fd24d6fc672b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af509a9a1a27e4b5ecf63fd24d6fc672b">&#9670;&nbsp;</a></span>USE_INTERNAL_PTON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USE_INTERNAL_PTON</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01893">1893</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8cbb4dfbe5ff41d77b84883113a9be0d" name="a8cbb4dfbe5ff41d77b84883113a9be0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cbb4dfbe5ff41d77b84883113a9be0d">&#9670;&nbsp;</a></span>addrinfo_from_hostent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct evutil_addrinfo * addrinfo_from_hostent </td>
          <td>(</td>
          <td class="paramtype">const struct hostent *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>hints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01173">1173</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1175</span>{</div>
<div class="line"><span class="lineno"> 1176</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1177</span>    <span class="keyword">struct </span>sockaddr_in sin;</div>
<div class="line"><span class="lineno"> 1178</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> sin6;</div>
<div class="line"><span class="lineno"> 1179</span>    <span class="keyword">struct </span>sockaddr *sa;</div>
<div class="line"><span class="lineno"> 1180</span>    <span class="keywordtype">int</span> socklen;</div>
<div class="line"><span class="lineno"> 1181</span>    <span class="keyword">struct </span>evutil_addrinfo *res=NULL, *ai;</div>
<div class="line"><span class="lineno"> 1182</span>    <span class="keywordtype">void</span> *addrp;</div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span>    <span class="keywordflow">if</span> (ent-&gt;h_addrtype == PF_INET) {</div>
<div class="line"><span class="lineno"> 1185</span>        memset(&amp;sin, 0, <span class="keyword">sizeof</span>(sin));</div>
<div class="line"><span class="lineno"> 1186</span>        sin.sin_family = AF_INET;</div>
<div class="line"><span class="lineno"> 1187</span>        sin.sin_port = htons(port);</div>
<div class="line"><span class="lineno"> 1188</span>        sa = (<span class="keyword">struct </span>sockaddr *)&amp;sin;</div>
<div class="line"><span class="lineno"> 1189</span>        socklen = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>sockaddr_in);</div>
<div class="line"><span class="lineno"> 1190</span>        addrp = &amp;sin.sin_addr;</div>
<div class="line"><span class="lineno"> 1191</span>        <span class="keywordflow">if</span> (ent-&gt;h_length != <span class="keyword">sizeof</span>(sin.sin_addr)) {</div>
<div class="line"><span class="lineno"> 1192</span>            <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;Weird h_length from gethostbyname&quot;</span>);</div>
<div class="line"><span class="lineno"> 1193</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1194</span>        }</div>
<div class="line"><span class="lineno"> 1195</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ent-&gt;h_addrtype == <a class="code hl_define" href="ipv6-internal_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a>) {</div>
<div class="line"><span class="lineno"> 1196</span>        memset(&amp;sin6, 0, <span class="keyword">sizeof</span>(sin6));</div>
<div class="line"><span class="lineno"> 1197</span>        sin6.sin6_family = <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>;</div>
<div class="line"><span class="lineno"> 1198</span>        sin6.sin6_port = htons(port);</div>
<div class="line"><span class="lineno"> 1199</span>        sa = (<span class="keyword">struct </span>sockaddr *)&amp;sin6;</div>
<div class="line"><span class="lineno"> 1200</span>        socklen = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a>);</div>
<div class="line"><span class="lineno"> 1201</span>        addrp = &amp;sin6.sin6_addr;</div>
<div class="line"><span class="lineno"> 1202</span>        <span class="keywordflow">if</span> (ent-&gt;h_length != <span class="keyword">sizeof</span>(sin6.sin6_addr)) {</div>
<div class="line"><span class="lineno"> 1203</span>            <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;Weird h_length from gethostbyname&quot;</span>);</div>
<div class="line"><span class="lineno"> 1204</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1205</span>        }</div>
<div class="line"><span class="lineno"> 1206</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1207</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1208</span> </div>
<div class="line"><span class="lineno"> 1209</span>    <span class="keywordflow">for</span> (i = 0; ent-&gt;h_addr_list[i]; ++i) {</div>
<div class="line"><span class="lineno"> 1210</span>        memcpy(addrp, ent-&gt;h_addr_list[i], ent-&gt;h_length);</div>
<div class="line"><span class="lineno"> 1211</span>        ai = <a class="code hl_function" href="evutil_8c.html#af0010ca18f6715fc9d29b8bf3e8fe9e2">evutil_new_addrinfo_</a>(sa, socklen, hints);</div>
<div class="line"><span class="lineno"> 1212</span>        <span class="keywordflow">if</span> (!ai) {</div>
<div class="line"><span class="lineno"> 1213</span>            <a class="code hl_function" href="evutil_8c.html#ad43029540a4878bc49b343e7b0573ef3">evutil_freeaddrinfo</a>(res);</div>
<div class="line"><span class="lineno"> 1214</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1215</span>        }</div>
<div class="line"><span class="lineno"> 1216</span>        res = <a class="code hl_function" href="evutil_8c.html#a16b9ef43c938efc62749ee134f384c26">evutil_addrinfo_append_</a>(res, ai);</div>
<div class="line"><span class="lineno"> 1217</span>    }</div>
<div class="line"><span class="lineno"> 1218</span> </div>
<div class="line"><span class="lineno"> 1219</span>    <span class="keywordflow">if</span> (res &amp;&amp; ((hints-&gt;ai_flags &amp; EVUTIL_AI_CANONNAME) &amp;&amp; ent-&gt;h_name)) {</div>
<div class="line"><span class="lineno"> 1220</span>        res-&gt;ai_canonname = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(ent-&gt;h_name);</div>
<div class="line"><span class="lineno"> 1221</span>        <span class="keywordflow">if</span> (res-&gt;ai_canonname == NULL) {</div>
<div class="line"><span class="lineno"> 1222</span>            <a class="code hl_function" href="evutil_8c.html#ad43029540a4878bc49b343e7b0573ef3">evutil_freeaddrinfo</a>(res);</div>
<div class="line"><span class="lineno"> 1223</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1224</span>        }</div>
<div class="line"><span class="lineno"> 1225</span>    }</div>
<div class="line"><span class="lineno"> 1226</span> </div>
<div class="line"><span class="lineno"> 1227</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno"> 1228</span>}</div>
<div class="ttc" id="aevutil_8c_html_a16b9ef43c938efc62749ee134f384c26"><div class="ttname"><a href="evutil_8c.html#a16b9ef43c938efc62749ee134f384c26">evutil_addrinfo_append_</a></div><div class="ttdeci">struct evutil_addrinfo * evutil_addrinfo_append_(struct evutil_addrinfo *first, struct evutil_addrinfo *append)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00877">evutil.c:877</a></div></div>
<div class="ttc" id="aevutil_8c_html_ad43029540a4878bc49b343e7b0573ef3"><div class="ttname"><a href="evutil_8c.html#ad43029540a4878bc49b343e7b0573ef3">evutil_freeaddrinfo</a></div><div class="ttdeci">void evutil_freeaddrinfo(struct evutil_addrinfo *ai)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01576">evutil.c:1576</a></div></div>
<div class="ttc" id="aevutil_8c_html_af0010ca18f6715fc9d29b8bf3e8fe9e2"><div class="ttname"><a href="evutil_8c.html#af0010ca18f6715fc9d29b8bf3e8fe9e2">evutil_new_addrinfo_</a></div><div class="ttdeci">struct evutil_addrinfo * evutil_new_addrinfo_(struct sockaddr *sa, ev_socklen_t socklen, const struct evutil_addrinfo *hints)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00832">evutil.c:832</a></div></div>
<div class="ttc" id="aipv6-internal_8h_html_a323f2649198fc7e64b19881869265618"><div class="ttname"><a href="ipv6-internal_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a></div><div class="ttdeci">#define PF_INET6</div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00076">ipv6-internal.h:76</a></div></div>
<div class="ttc" id="aipv6-internal_8h_html_aa03706b2738b9a58d4985dfbe99e1bac"><div class="ttname"><a href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a></div><div class="ttdeci">#define AF_INET6</div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00073">ipv6-internal.h:73</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a0e3973f226e9585030596534e23cd95f"><div class="ttname"><a href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warnx(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="amm-internal_8h_html_a140c2a3e08063dc43326c240f6d6a9fd"><div class="ttname"><a href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a></div><div class="ttdeci">#define mm_strdup(s)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00077">mm-internal.h:77</a></div></div>
<div class="ttc" id="astructsockaddr__in6_html"><div class="ttname"><a href="structsockaddr__in6.html">sockaddr_in6</a></div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00063">ipv6-internal.h:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="evutil_8c_source.html#l00877">evutil_addrinfo_append_()</a>, <a class="el" href="evutil_8c_source.html#l01576">evutil_freeaddrinfo()</a>, <a class="el" href="evutil_8c_source.html#l00832">evutil_new_addrinfo_()</a>, <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>, <a class="el" href="ipv6-internal_8h_source.html#l00076">PF_INET6</a>, <a class="el" href="ipv6-internal_8h_source.html#l00068">sockaddr_in6::sin6_addr</a>, <a class="el" href="ipv6-internal_8h_source.html#l00066">sockaddr_in6::sin6_family</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00067">sockaddr_in6::sin6_port</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01385">evutil_getaddrinfo()</a>.</p>

</div>
</div>
<a id="a193ba5b993f89f73b67a88a33fdb6bda" name="a193ba5b993f89f73b67a88a33fdb6bda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a193ba5b993f89f73b67a88a33fdb6bda">&#9670;&nbsp;</a></span>evutil_accept4_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evutil_socket_t evutil_accept4_ </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_socklen_t *&#160;</td>
          <td class="paramname"><em>addrlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02633">2633</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2635</span>{</div>
<div class="line"><span class="lineno"> 2636</span>    evutil_socket_t result;</div>
<div class="line"><span class="lineno"> 2637</span><span class="preprocessor">#if defined(EVENT__HAVE_ACCEPT4) &amp;&amp; defined(SOCK_CLOEXEC) &amp;&amp; defined(SOCK_NONBLOCK)</span></div>
<div class="line"><span class="lineno"> 2638</span>    result = accept4(sockfd, addr, addrlen, flags);</div>
<div class="line"><span class="lineno"> 2639</span>    <span class="keywordflow">if</span> (result &gt;= 0 || (errno != EINVAL &amp;&amp; errno != ENOSYS)) {</div>
<div class="line"><span class="lineno"> 2640</span>        <span class="comment">/* A nonnegative result means that we succeeded, so return.</span></div>
<div class="line"><span class="lineno"> 2641</span><span class="comment">         * Failing with EINVAL means that an option wasn&#39;t supported,</span></div>
<div class="line"><span class="lineno"> 2642</span><span class="comment">         * and failing with ENOSYS means that the syscall wasn&#39;t</span></div>
<div class="line"><span class="lineno"> 2643</span><span class="comment">         * there: in those cases we want to fall back.  Otherwise, we</span></div>
<div class="line"><span class="lineno"> 2644</span><span class="comment">         * got a real error, and we should return. */</span></div>
<div class="line"><span class="lineno"> 2645</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2646</span>    }</div>
<div class="line"><span class="lineno"> 2647</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2648</span>    result = accept(sockfd, addr, addrlen);</div>
<div class="line"><span class="lineno"> 2649</span>    <span class="keywordflow">if</span> (result &lt; 0)</div>
<div class="line"><span class="lineno"> 2650</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2651</span> </div>
<div class="line"><span class="lineno"> 2652</span>    <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="util-internal_8h.html#afba2af36c0dae01fb8dd73ec5c928125">EVUTIL_SOCK_CLOEXEC</a>) {</div>
<div class="line"><span class="lineno"> 2653</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#ab9034da760c901d74cddf3880065bb91">evutil_fast_socket_closeonexec</a>(result) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2654</span>            <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(result);</div>
<div class="line"><span class="lineno"> 2655</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2656</span>        }</div>
<div class="line"><span class="lineno"> 2657</span>    }</div>
<div class="line"><span class="lineno"> 2658</span>    <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="util-internal_8h.html#a31e248693a7fed9ed20b85685e273626">EVUTIL_SOCK_NONBLOCK</a>) {</div>
<div class="line"><span class="lineno"> 2659</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a3920bebac41cf9438435aac390853006">evutil_fast_socket_nonblocking</a>(result) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2660</span>            <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(result);</div>
<div class="line"><span class="lineno"> 2661</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2662</span>        }</div>
<div class="line"><span class="lineno"> 2663</span>    }</div>
<div class="line"><span class="lineno"> 2664</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2665</span>}</div>
<div class="ttc" id="aevutil_8c_html_a3920bebac41cf9438435aac390853006"><div class="ttname"><a href="evutil_8c.html#a3920bebac41cf9438435aac390853006">evutil_fast_socket_nonblocking</a></div><div class="ttdeci">static int evutil_fast_socket_nonblocking(evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00351">evutil.c:351</a></div></div>
<div class="ttc" id="aevutil_8c_html_a3950f08bc7b4ab52d519eabe7edd1889"><div class="ttname"><a href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a></div><div class="ttdeci">int evutil_closesocket(evutil_socket_t sock)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00454">evutil.c:454</a></div></div>
<div class="ttc" id="aevutil_8c_html_ab9034da760c901d74cddf3880065bb91"><div class="ttname"><a href="evutil_8c.html#ab9034da760c901d74cddf3880065bb91">evutil_fast_socket_closeonexec</a></div><div class="ttdeci">static int evutil_fast_socket_closeonexec(evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00442">evutil.c:442</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a31e248693a7fed9ed20b85685e273626"><div class="ttname"><a href="util-internal_8h.html#a31e248693a7fed9ed20b85685e273626">EVUTIL_SOCK_NONBLOCK</a></div><div class="ttdeci">#define EVUTIL_SOCK_NONBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00516">util-internal.h:516</a></div></div>
<div class="ttc" id="autil-internal_8h_html_afba2af36c0dae01fb8dd73ec5c928125"><div class="ttname"><a href="util-internal_8h.html#afba2af36c0dae01fb8dd73ec5c928125">EVUTIL_SOCK_CLOEXEC</a></div><div class="ttdeci">#define EVUTIL_SOCK_CLOEXEC</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00521">util-internal.h:521</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="evutil_8c_source.html#l00442">evutil_fast_socket_closeonexec()</a>, <a class="el" href="evutil_8c_source.html#l00351">evutil_fast_socket_nonblocking()</a>, <a class="el" href="util-internal_8h_source.html#l00521">EVUTIL_SOCK_CLOEXEC</a>, and <a class="el" href="util-internal_8h_source.html#l00516">EVUTIL_SOCK_NONBLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="listener_8c_source.html#l00394">listener_read_cb()</a>.</p>

</div>
</div>
<a id="a16b9ef43c938efc62749ee134f384c26" name="a16b9ef43c938efc62749ee134f384c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16b9ef43c938efc62749ee134f384c26">&#9670;&nbsp;</a></span>evutil_addrinfo_append_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct evutil_addrinfo * evutil_addrinfo_append_ </td>
          <td>(</td>
          <td class="paramtype">struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>append</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00877">877</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  879</span>{</div>
<div class="line"><span class="lineno">  880</span>    <span class="keyword">struct </span>evutil_addrinfo *ai = first;</div>
<div class="line"><span class="lineno">  881</span>    <span class="keywordflow">if</span> (!ai)</div>
<div class="line"><span class="lineno">  882</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="utils_8c.html#a636737e510216359d1195e0f67ab85d5">append</a>;</div>
<div class="line"><span class="lineno">  883</span>    <span class="keywordflow">while</span> (ai-&gt;ai_next)</div>
<div class="line"><span class="lineno">  884</span>        ai = ai-&gt;ai_next;</div>
<div class="line"><span class="lineno">  885</span>    ai-&gt;ai_next = <a class="code hl_function" href="utils_8c.html#a636737e510216359d1195e0f67ab85d5">append</a>;</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>    <span class="keywordflow">return</span> first;</div>
<div class="line"><span class="lineno">  888</span>}</div>
<div class="ttc" id="autils_8c_html_a636737e510216359d1195e0f67ab85d5"><div class="ttname"><a href="utils_8c.html#a636737e510216359d1195e0f67ab85d5">append</a></div><div class="ttdeci">void append(char *s, char *t)</div><div class="ttdoc">Allows appending characters (char* t) to the end of a string (char* s).</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00491">utils.c:491</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_8c_source.html#l00491">append()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01173">addrinfo_from_hostent()</a>, <a class="el" href="evdns_8c_source.html#l04661">evdns_getaddrinfo_fromhosts()</a>, <a class="el" href="evdns_8c_source.html#l04458">evdns_getaddrinfo_gotresolve()</a>, and <a class="el" href="evutil_8c_source.html#l00993">evutil_getaddrinfo_common_()</a>.</p>

</div>
</div>
<a id="ab015092ef6e0a1ca0d0565a2be404842" name="ab015092ef6e0a1ca0d0565a2be404842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab015092ef6e0a1ca0d0565a2be404842">&#9670;&nbsp;</a></span>evutil_adjust_hints_for_addrconfig_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evutil_adjust_hints_for_addrconfig_ </td>
          <td>(</td>
          <td class="paramtype">struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>hints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01236">1236</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1237</span>{</div>
<div class="line"><span class="lineno"> 1238</span>    <span class="keywordflow">if</span> (!(hints-&gt;ai_flags &amp; EVUTIL_AI_ADDRCONFIG))</div>
<div class="line"><span class="lineno"> 1239</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1240</span>    <span class="keywordflow">if</span> (hints-&gt;ai_family != PF_UNSPEC)</div>
<div class="line"><span class="lineno"> 1241</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1242</span>    <a class="code hl_function" href="evutil_8c.html#a2d2155bfd97cb687cd84727d17fb0112">evutil_check_interfaces</a>();</div>
<div class="line"><span class="lineno"> 1243</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="evutil_8c.html#ae9d0bc5553f56008b1cbef60d3dfdda6">had_ipv4_address</a> &amp;&amp; !<a class="code hl_variable" href="evutil_8c.html#aac1995c81b8f70139a18a34d675a1648">had_ipv6_address</a>) {</div>
<div class="line"><span class="lineno"> 1244</span>        hints-&gt;ai_family = PF_INET;</div>
<div class="line"><span class="lineno"> 1245</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="evutil_8c.html#ae9d0bc5553f56008b1cbef60d3dfdda6">had_ipv4_address</a> &amp;&amp; <a class="code hl_variable" href="evutil_8c.html#aac1995c81b8f70139a18a34d675a1648">had_ipv6_address</a>) {</div>
<div class="line"><span class="lineno"> 1246</span>        hints-&gt;ai_family = <a class="code hl_define" href="ipv6-internal_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a>;</div>
<div class="line"><span class="lineno"> 1247</span>    }</div>
<div class="line"><span class="lineno"> 1248</span>}</div>
<div class="ttc" id="aevutil_8c_html_a2d2155bfd97cb687cd84727d17fb0112"><div class="ttname"><a href="evutil_8c.html#a2d2155bfd97cb687cd84727d17fb0112">evutil_check_interfaces</a></div><div class="ttdeci">static int evutil_check_interfaces(void)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00758">evutil.c:758</a></div></div>
<div class="ttc" id="aevutil_8c_html_aac1995c81b8f70139a18a34d675a1648"><div class="ttname"><a href="evutil_8c.html#aac1995c81b8f70139a18a34d675a1648">had_ipv6_address</a></div><div class="ttdeci">static int had_ipv6_address</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00612">evutil.c:612</a></div></div>
<div class="ttc" id="aevutil_8c_html_ae9d0bc5553f56008b1cbef60d3dfdda6"><div class="ttname"><a href="evutil_8c.html#ae9d0bc5553f56008b1cbef60d3dfdda6">had_ipv4_address</a></div><div class="ttdeci">static int had_ipv4_address</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00612">evutil.c:612</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00758">evutil_check_interfaces()</a>, <a class="el" href="evutil_8c_source.html#l00612">had_ipv4_address</a>, <a class="el" href="evutil_8c_source.html#l00612">had_ipv6_address</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00076">PF_INET6</a>.</p>

<p class="reference">Referenced by <a class="el" href="evdns_8c_source.html#l04701">evdns_getaddrinfo()</a>, and <a class="el" href="evutil_8c_source.html#l01385">evutil_getaddrinfo()</a>.</p>

</div>
</div>
<a id="a37aa2a5fce2eabe8d3fe878e6a8c75b2" name="a37aa2a5fce2eabe8d3fe878e6a8c75b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37aa2a5fce2eabe8d3fe878e6a8c75b2">&#9670;&nbsp;</a></span>evutil_ascii_strcasecmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_ascii_strcasecmp </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02392">2392</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2393</span>{</div>
<div class="line"><span class="lineno"> 2394</span>    <span class="keywordtype">char</span> c1, c2;</div>
<div class="line"><span class="lineno"> 2395</span>    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><span class="lineno"> 2396</span>        c1 = <a class="code hl_function" href="evutil_8c.html#a0a64c0df26697fbbab61bd3cb36f5760">EVUTIL_TOLOWER_</a>(*s1++);</div>
<div class="line"><span class="lineno"> 2397</span>        c2 = <a class="code hl_function" href="evutil_8c.html#a0a64c0df26697fbbab61bd3cb36f5760">EVUTIL_TOLOWER_</a>(*s2++);</div>
<div class="line"><span class="lineno"> 2398</span>        <span class="keywordflow">if</span> (c1 &lt; c2)</div>
<div class="line"><span class="lineno"> 2399</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2400</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c1 &gt; c2)</div>
<div class="line"><span class="lineno"> 2401</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2402</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c1 == 0)</div>
<div class="line"><span class="lineno"> 2403</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2404</span>    }</div>
<div class="line"><span class="lineno"> 2405</span>}</div>
<div class="ttc" id="aevutil_8c_html_a0a64c0df26697fbbab61bd3cb36f5760"><div class="ttname"><a href="evutil_8c.html#a0a64c0df26697fbbab61bd3cb36f5760">EVUTIL_TOLOWER_</a></div><div class="ttdeci">char EVUTIL_TOLOWER_(char c)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02383">evutil.c:2383</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02383">EVUTIL_TOLOWER_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03399">evhttp_find_alias()</a>, <a class="el" href="http_8c_source.html#l01899">evhttp_find_header()</a>, <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, <a class="el" href="http_8c_source.html#l02159">evhttp_get_body_length()</a>, <a class="el" href="http_8c_source.html#l00586">evhttp_have_expect()</a>, <a class="el" href="http_8c_source.html#l00468">evhttp_is_connection_close()</a>, <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>, <a class="el" href="http_8c_source.html#l01932">evhttp_remove_header()</a>, <a class="el" href="http_8c_source.html#l03830">evhttp_remove_server_alias()</a>, <a class="el" href="evdns_8c_source.html#l04643">find_hosts_entry()</a>, and <a class="el" href="evdns_8c_source.html#l01034">reply_parse()</a>.</p>

</div>
</div>
<a id="a2050dff3ba61d6e68bfcd6652b1f4e5d" name="a2050dff3ba61d6e68bfcd6652b1f4e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2050dff3ba61d6e68bfcd6652b1f4e5d">&#9670;&nbsp;</a></span>evutil_ascii_strncasecmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_ascii_strncasecmp </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02406">2406</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2407</span>{</div>
<div class="line"><span class="lineno"> 2408</span>    <span class="keywordtype">char</span> c1, c2;</div>
<div class="line"><span class="lineno"> 2409</span>    <span class="keywordflow">while</span> (n--) {</div>
<div class="line"><span class="lineno"> 2410</span>        c1 = <a class="code hl_function" href="evutil_8c.html#a0a64c0df26697fbbab61bd3cb36f5760">EVUTIL_TOLOWER_</a>(*s1++);</div>
<div class="line"><span class="lineno"> 2411</span>        c2 = <a class="code hl_function" href="evutil_8c.html#a0a64c0df26697fbbab61bd3cb36f5760">EVUTIL_TOLOWER_</a>(*s2++);</div>
<div class="line"><span class="lineno"> 2412</span>        <span class="keywordflow">if</span> (c1 &lt; c2)</div>
<div class="line"><span class="lineno"> 2413</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2414</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c1 &gt; c2)</div>
<div class="line"><span class="lineno"> 2415</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2416</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c1 == 0)</div>
<div class="line"><span class="lineno"> 2417</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2418</span>    }</div>
<div class="line"><span class="lineno"> 2419</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2420</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02383">EVUTIL_TOLOWER_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00492">evhttp_is_connection_keepalive()</a>.</p>

</div>
</div>
<a id="ad00781c535c8305980b43aaf75f04623" name="ad00781c535c8305980b43aaf75f04623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad00781c535c8305980b43aaf75f04623">&#9670;&nbsp;</a></span>evutil_check_ifaddrs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evutil_check_ifaddrs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00676">676</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  677</span>{</div>
<div class="line"><span class="lineno">  678</span><span class="preprocessor">#if defined(EVENT__HAVE_GETIFADDRS)</span></div>
<div class="line"><span class="lineno">  679</span>    <span class="comment">/* Most free Unixy systems provide getifaddrs, which gives us a linked list</span></div>
<div class="line"><span class="lineno">  680</span><span class="comment">     * of struct ifaddrs. */</span></div>
<div class="line"><span class="lineno">  681</span>    <span class="keyword">struct </span>ifaddrs *ifa = NULL;</div>
<div class="line"><span class="lineno">  682</span>    <span class="keyword">const</span> <span class="keyword">struct </span>ifaddrs *i;</div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">if</span> (getifaddrs(&amp;ifa) &lt; 0) {</div>
<div class="line"><span class="lineno">  684</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;Unable to call getifaddrs()&quot;</span>);</div>
<div class="line"><span class="lineno">  685</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  686</span>    }</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>    <span class="keywordflow">for</span> (i = ifa; i; i = i-&gt;ifa_next) {</div>
<div class="line"><span class="lineno">  689</span>        <span class="keywordflow">if</span> (!i-&gt;ifa_addr)</div>
<div class="line"><span class="lineno">  690</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  691</span>        <a class="code hl_function" href="evutil_8c.html#a956bc77fcd8db3c81de9ac28f9a4562e">evutil_found_ifaddr</a>(i-&gt;ifa_addr);</div>
<div class="line"><span class="lineno">  692</span>    }</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>    freeifaddrs(ifa);</div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  696</span><span class="preprocessor">#elif defined(_WIN32)</span></div>
<div class="line"><span class="lineno">  697</span>    <span class="comment">/* Windows XP began to provide GetAdaptersAddresses. Windows 2000 had a</span></div>
<div class="line"><span class="lineno">  698</span><span class="comment">       &quot;GetAdaptersInfo&quot;, but that&#39;s deprecated; let&#39;s just try</span></div>
<div class="line"><span class="lineno">  699</span><span class="comment">       GetAdaptersAddresses and fall back to connect+getsockname.</span></div>
<div class="line"><span class="lineno">  700</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  701</span>    HMODULE lib = evutil_load_windows_system_library_(TEXT(<span class="stringliteral">&quot;iphlpapi.dll&quot;</span>));</div>
<div class="line"><span class="lineno">  702</span>    GetAdaptersAddresses_fn_t fn;</div>
<div class="line"><span class="lineno">  703</span>    ULONG size, res;</div>
<div class="line"><span class="lineno">  704</span>    IP_ADAPTER_ADDRESSES *addresses = NULL, *address;</div>
<div class="line"><span class="lineno">  705</span>    <span class="keywordtype">int</span> result = -1;</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span><span class="preprocessor">#define FLAGS (GAA_FLAG_SKIP_ANYCAST | \</span></div>
<div class="line"><span class="lineno">  708</span><span class="preprocessor">               GAA_FLAG_SKIP_MULTICAST | \</span></div>
<div class="line"><span class="lineno">  709</span><span class="preprocessor">               GAA_FLAG_SKIP_DNS_SERVER)</span></div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>    <span class="keywordflow">if</span> (!lib)</div>
<div class="line"><span class="lineno">  712</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>    <span class="keywordflow">if</span> (!(fn = (GetAdaptersAddresses_fn_t) GetProcAddress(lib, <span class="stringliteral">&quot;GetAdaptersAddresses&quot;</span>)))</div>
<div class="line"><span class="lineno">  715</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>    <span class="comment">/* Guess how much space we need. */</span></div>
<div class="line"><span class="lineno">  718</span>    size = 15*1024;</div>
<div class="line"><span class="lineno">  719</span>    addresses = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(size);</div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordflow">if</span> (!addresses)</div>
<div class="line"><span class="lineno">  721</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  722</span>    res = fn(AF_UNSPEC, FLAGS, NULL, addresses, &amp;size);</div>
<div class="line"><span class="lineno">  723</span>    <span class="keywordflow">if</span> (res == ERROR_BUFFER_OVERFLOW) {</div>
<div class="line"><span class="lineno">  724</span>        <span class="comment">/* we didn&#39;t guess that we needed enough space; try again */</span></div>
<div class="line"><span class="lineno">  725</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(addresses);</div>
<div class="line"><span class="lineno">  726</span>        addresses = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>(size);</div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordflow">if</span> (!addresses)</div>
<div class="line"><span class="lineno">  728</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  729</span>        res = fn(AF_UNSPEC, FLAGS, NULL, addresses, &amp;size);</div>
<div class="line"><span class="lineno">  730</span>    }</div>
<div class="line"><span class="lineno">  731</span>    <span class="keywordflow">if</span> (res != NO_ERROR)</div>
<div class="line"><span class="lineno">  732</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">for</span> (address = addresses; address; address = address-&gt;Next) {</div>
<div class="line"><span class="lineno">  735</span>        IP_ADAPTER_UNICAST_ADDRESS *a;</div>
<div class="line"><span class="lineno">  736</span>        <span class="keywordflow">for</span> (a = address-&gt;FirstUnicastAddress; a; a = a-&gt;Next) {</div>
<div class="line"><span class="lineno">  737</span>            <span class="comment">/* Yes, it&#39;s a linked list inside a linked list */</span></div>
<div class="line"><span class="lineno">  738</span>            <span class="keyword">struct </span>sockaddr *sa = a-&gt;Address.lpSockaddr;</div>
<div class="line"><span class="lineno">  739</span>            <a class="code hl_function" href="evutil_8c.html#a956bc77fcd8db3c81de9ac28f9a4562e">evutil_found_ifaddr</a>(sa);</div>
<div class="line"><span class="lineno">  740</span>        }</div>
<div class="line"><span class="lineno">  741</span>    }</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>    result = 0;</div>
<div class="line"><span class="lineno">  744</span>done:</div>
<div class="line"><span class="lineno">  745</span>    <span class="keywordflow">if</span> (lib)</div>
<div class="line"><span class="lineno">  746</span>        FreeLibrary(lib);</div>
<div class="line"><span class="lineno">  747</span>    <span class="keywordflow">if</span> (addresses)</div>
<div class="line"><span class="lineno">  748</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(addresses);</div>
<div class="line"><span class="lineno">  749</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  750</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  751</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  752</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  753</span>}</div>
<div class="ttc" id="aevutil_8c_html_a956bc77fcd8db3c81de9ac28f9a4562e"><div class="ttname"><a href="evutil_8c.html#a956bc77fcd8db3c81de9ac28f9a4562e">evutil_found_ifaddr</a></div><div class="ttdeci">static void evutil_found_ifaddr(const struct sockaddr *sa)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00653">evutil.c:653</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a266362bd8989fd1dacd0e1fc25b904f3"><div class="ttname"><a href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warn(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="amm-internal_8h_html_a7c27fb60329839e84d16185cda4734d5"><div class="ttname"><a href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a></div><div class="ttdeci">#define mm_malloc(sz)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00075">mm-internal.h:75</a></div></div>
<div class="ttc" id="amm-internal_8h_html_af7d87798652aaa8398bb9c0504256f16"><div class="ttname"><a href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a></div><div class="ttdeci">#define mm_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00079">mm-internal.h:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="evutil_8c_source.html#l00653">evutil_found_ifaddr()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00758">evutil_check_interfaces()</a>.</p>

</div>
</div>
<a id="a2d2155bfd97cb687cd84727d17fb0112" name="a2d2155bfd97cb687cd84727d17fb0112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d2155bfd97cb687cd84727d17fb0112">&#9670;&nbsp;</a></span>evutil_check_interfaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evutil_check_interfaces </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00758">758</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  759</span>{</div>
<div class="line"><span class="lineno">  760</span>    evutil_socket_t fd = -1;</div>
<div class="line"><span class="lineno">  761</span>    <span class="keyword">struct </span>sockaddr_in sin, sin_out;</div>
<div class="line"><span class="lineno">  762</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> sin6, sin6_out;</div>
<div class="line"><span class="lineno">  763</span>    ev_socklen_t sin_out_len = <span class="keyword">sizeof</span>(sin_out);</div>
<div class="line"><span class="lineno">  764</span>    ev_socklen_t sin6_out_len = <span class="keyword">sizeof</span>(sin6_out);</div>
<div class="line"><span class="lineno">  765</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno">  766</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="evutil_8c.html#ad64c7b8bb0ae6212ecb9b6082831c538">have_checked_interfaces</a>)</div>
<div class="line"><span class="lineno">  767</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>    <span class="comment">/* From this point on we have done the ipv4/ipv6 interface check */</span></div>
<div class="line"><span class="lineno">  770</span>    <a class="code hl_variable" href="evutil_8c.html#ad64c7b8bb0ae6212ecb9b6082831c538">have_checked_interfaces</a> = 1;</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#ad00781c535c8305980b43aaf75f04623">evutil_check_ifaddrs</a>() == 0) {</div>
<div class="line"><span class="lineno">  773</span>        <span class="comment">/* Use a nice sane interface, if this system has one. */</span></div>
<div class="line"><span class="lineno">  774</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  775</span>    }</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>    <span class="comment">/* Ugh. There was no nice sane interface.  So to check whether we have</span></div>
<div class="line"><span class="lineno">  778</span><span class="comment">     * an interface open for a given protocol, will try to make a UDP</span></div>
<div class="line"><span class="lineno">  779</span><span class="comment">     * &#39;connection&#39; to a remote host on the internet.  We don&#39;t actually</span></div>
<div class="line"><span class="lineno">  780</span><span class="comment">     * use it, so the address doesn&#39;t matter, but we want to pick one that</span></div>
<div class="line"><span class="lineno">  781</span><span class="comment">     * keep us from using a host- or link-local interface. */</span></div>
<div class="line"><span class="lineno">  782</span>    memset(&amp;sin, 0, <span class="keyword">sizeof</span>(sin));</div>
<div class="line"><span class="lineno">  783</span>    sin.sin_family = AF_INET;</div>
<div class="line"><span class="lineno">  784</span>    sin.sin_port = htons(53);</div>
<div class="line"><span class="lineno">  785</span>    r = <a class="code hl_function" href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a>(AF_INET, <span class="stringliteral">&quot;18.244.0.188&quot;</span>, &amp;sin.sin_addr);</div>
<div class="line"><span class="lineno">  786</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(r);</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    memset(&amp;sin6, 0, <span class="keyword">sizeof</span>(sin6));</div>
<div class="line"><span class="lineno">  789</span>    sin6.sin6_family = <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>;</div>
<div class="line"><span class="lineno">  790</span>    sin6.sin6_port = htons(53);</div>
<div class="line"><span class="lineno">  791</span>    r = <a class="code hl_function" href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a>(<a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>, <span class="stringliteral">&quot;2001:4860:b002::68&quot;</span>, &amp;sin6.sin6_addr);</div>
<div class="line"><span class="lineno">  792</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(r);</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>    memset(&amp;sin_out, 0, <span class="keyword">sizeof</span>(sin_out));</div>
<div class="line"><span class="lineno">  795</span>    memset(&amp;sin6_out, 0, <span class="keyword">sizeof</span>(sin6_out));</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>    <span class="comment">/* XXX some errnos mean &#39;no address&#39;; some mean &#39;not enough sockets&#39;. */</span></div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">if</span> ((fd = socket(AF_INET, SOCK_DGRAM, IPPROTO_UDP)) &gt;= 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  799</span>        connect(fd, (<span class="keyword">struct</span> sockaddr*)&amp;sin, <span class="keyword">sizeof</span>(sin)) == 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  800</span>        getsockname(fd, (<span class="keyword">struct</span> sockaddr*)&amp;sin_out, &amp;sin_out_len) == 0) {</div>
<div class="line"><span class="lineno">  801</span>        <span class="comment">/* We might have an IPv4 interface. */</span></div>
<div class="line"><span class="lineno">  802</span>        <a class="code hl_function" href="evutil_8c.html#a956bc77fcd8db3c81de9ac28f9a4562e">evutil_found_ifaddr</a>((<span class="keyword">struct</span> sockaddr*) &amp;sin_out);</div>
<div class="line"><span class="lineno">  803</span>    }</div>
<div class="line"><span class="lineno">  804</span>    <span class="keywordflow">if</span> (fd &gt;= 0)</div>
<div class="line"><span class="lineno">  805</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(fd);</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>    <span class="keywordflow">if</span> ((fd = socket(<a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>, SOCK_DGRAM, IPPROTO_UDP)) &gt;= 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  808</span>        connect(fd, (<span class="keyword">struct</span> sockaddr*)&amp;sin6, <span class="keyword">sizeof</span>(sin6)) == 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  809</span>        getsockname(fd, (<span class="keyword">struct</span> sockaddr*)&amp;sin6_out, &amp;sin6_out_len) == 0) {</div>
<div class="line"><span class="lineno">  810</span>        <span class="comment">/* We might have an IPv6 interface. */</span></div>
<div class="line"><span class="lineno">  811</span>        <a class="code hl_function" href="evutil_8c.html#a956bc77fcd8db3c81de9ac28f9a4562e">evutil_found_ifaddr</a>((<span class="keyword">struct</span> sockaddr*) &amp;sin6_out);</div>
<div class="line"><span class="lineno">  812</span>    }</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>    <span class="keywordflow">if</span> (fd &gt;= 0)</div>
<div class="line"><span class="lineno">  815</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(fd);</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  818</span>}</div>
<div class="ttc" id="aevutil_8c_html_a1457e5a0b461a99ca9d6d5c19e9dd65f"><div class="ttname"><a href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a></div><div class="ttdeci">int evutil_inet_pton(int af, const char *src, void *dst)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02027">evutil.c:2027</a></div></div>
<div class="ttc" id="aevutil_8c_html_ad00781c535c8305980b43aaf75f04623"><div class="ttname"><a href="evutil_8c.html#ad00781c535c8305980b43aaf75f04623">evutil_check_ifaddrs</a></div><div class="ttdeci">static int evutil_check_ifaddrs(void)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00676">evutil.c:676</a></div></div>
<div class="ttc" id="aevutil_8c_html_ad64c7b8bb0ae6212ecb9b6082831c538"><div class="ttname"><a href="evutil_8c.html#ad64c7b8bb0ae6212ecb9b6082831c538">have_checked_interfaces</a></div><div class="ttdeci">static int have_checked_interfaces</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00612">evutil.c:612</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7365930d8b30f4c1ab3cef31a8622731"><div class="ttname"><a href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a></div><div class="ttdeci">#define EVUTIL_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00363">util-internal.h:363</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="evutil_8c_source.html#l00676">evutil_check_ifaddrs()</a>, <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="evutil_8c_source.html#l00653">evutil_found_ifaddr()</a>, <a class="el" href="evutil_8c_source.html#l02027">evutil_inet_pton()</a>, <a class="el" href="evutil_8c_source.html#l00612">have_checked_interfaces</a>, <a class="el" href="ipv6-internal_8h_source.html#l00068">sockaddr_in6::sin6_addr</a>, <a class="el" href="ipv6-internal_8h_source.html#l00066">sockaddr_in6::sin6_family</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00067">sockaddr_in6::sin6_port</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01236">evutil_adjust_hints_for_addrconfig_()</a>.</p>

</div>
</div>
<a id="a3950f08bc7b4ab52d519eabe7edd1889" name="a3950f08bc7b4ab52d519eabe7edd1889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3950f08bc7b4ab52d519eabe7edd1889">&#9670;&nbsp;</a></span>evutil_closesocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_closesocket </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00454">454</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  455</span>{</div>
<div class="line"><span class="lineno">  456</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordflow">return</span> close(sock);</div>
<div class="line"><span class="lineno">  458</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">return</span> closesocket(sock);</div>
<div class="line"><span class="lineno">  460</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  461</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00393">be_async_destruct()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01229">be_openssl_destruct()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="http_8c_source.html#l04392">create_bind_socket_nonblock()</a>, <a class="el" href="listener_8c_source.html#l00211">evconnlistener_new_bind()</a>, <a class="el" href="evdns_8c_source.html#l02413">evdns_base_clear_nameservers_and_suspend()</a>, <a class="el" href="evdns_8c_source.html#l02502">evdns_nameserver_add_impl_()</a>, <a class="el" href="evdns_8c_source.html#l04085">evdns_nameserver_free()</a>, <a class="el" href="listener_8c_source.html#l00281">event_listener_destroy()</a>, <a class="el" href="http_8c_source.html#l03559">evhttp_bind_socket_with_handle()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l04321">evhttp_get_request()</a>, <a class="el" href="signal_8c_source.html#l00415">evsig_dealloc_()</a>, <a class="el" href="evutil_8c_source.html#l02633">evutil_accept4_()</a>, <a class="el" href="evutil_8c_source.html#l00758">evutil_check_interfaces()</a>, <a class="el" href="evutil_8c_source.html#l00212">evutil_ersatz_socketpair_()</a>, <a class="el" href="evutil_8c_source.html#l02730">evutil_eventfd_()</a>, <a class="el" href="evutil_8c_source.html#l02672">evutil_make_internal_pipe_()</a>, <a class="el" href="evutil_8c_source.html#l02595">evutil_socket_()</a>, <a class="el" href="evutil_8c_source.html#l00543">evutil_socket_connect_()</a>, <a class="el" href="listener_8c_source.html#l00394">listener_read_cb()</a>, and <a class="el" href="evdns_8c_source.html#l02136">server_port_free()</a>.</p>

</div>
</div>
<a id="a005f9041025d09831b487f478cf019b3" name="a005f9041025d09831b487f478cf019b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005f9041025d09831b487f478cf019b3">&#9670;&nbsp;</a></span>evutil_ersatz_socketpair_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_ersatz_socketpair_ </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>family</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>[2]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00212">212</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>{</div>
<div class="line"><span class="lineno">  215</span>    <span class="comment">/* This code is originally from Tor.  Used with permission. */</span></div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <span class="comment">/* This socketpair does not work when localhost is down. So</span></div>
<div class="line"><span class="lineno">  218</span><span class="comment">     * it&#39;s really not the same thing at all. But it&#39;s close enough</span></div>
<div class="line"><span class="lineno">  219</span><span class="comment">     * for now, and really, when localhost is down sometimes, we</span></div>
<div class="line"><span class="lineno">  220</span><span class="comment">     * have other problems too.</span></div>
<div class="line"><span class="lineno">  221</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  222</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  223</span><span class="preprocessor">#define ERR(e) WSA##e</span></div>
<div class="line"><span class="lineno">  224</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  225</span><span class="preprocessor">#define ERR(e) e</span></div>
<div class="line"><span class="lineno">  226</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  227</span>    evutil_socket_t listener = -1;</div>
<div class="line"><span class="lineno">  228</span>    evutil_socket_t connector = -1;</div>
<div class="line"><span class="lineno">  229</span>    evutil_socket_t acceptor = -1;</div>
<div class="line"><span class="lineno">  230</span>    <span class="keyword">struct </span>sockaddr_in listen_addr;</div>
<div class="line"><span class="lineno">  231</span>    <span class="keyword">struct </span>sockaddr_in connect_addr;</div>
<div class="line"><span class="lineno">  232</span>    ev_socklen_t size;</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordtype">int</span> saved_errno = -1;</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordtype">int</span> family_test;</div>
<div class="line"><span class="lineno">  235</span>    </div>
<div class="line"><span class="lineno">  236</span>    family_test = family != AF_INET;</div>
<div class="line"><span class="lineno">  237</span><span class="preprocessor">#ifdef AF_UNIX</span></div>
<div class="line"><span class="lineno">  238</span>    family_test = family_test &amp;&amp; (family != AF_UNIX);</div>
<div class="line"><span class="lineno">  239</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">if</span> (protocol || family_test) {</div>
<div class="line"><span class="lineno">  241</span>        EVUTIL_SET_SOCKET_ERROR(<a class="code hl_define" href="evutil_8c.html#a588357de2986fdf4c1380190f7ae9f37">ERR</a>(EAFNOSUPPORT));</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  243</span>    }</div>
<div class="line"><span class="lineno">  244</span>    </div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">if</span> (!fd) {</div>
<div class="line"><span class="lineno">  246</span>        EVUTIL_SET_SOCKET_ERROR(<a class="code hl_define" href="evutil_8c.html#a588357de2986fdf4c1380190f7ae9f37">ERR</a>(EINVAL));</div>
<div class="line"><span class="lineno">  247</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  248</span>    }</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    listener = socket(AF_INET, type, 0);</div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">if</span> (listener &lt; 0)</div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  253</span>    memset(&amp;listen_addr, 0, <span class="keyword">sizeof</span>(listen_addr));</div>
<div class="line"><span class="lineno">  254</span>    listen_addr.sin_family = AF_INET;</div>
<div class="line"><span class="lineno">  255</span>    listen_addr.sin_addr.s_addr = htonl(INADDR_LOOPBACK);</div>
<div class="line"><span class="lineno">  256</span>    listen_addr.sin_port = 0;   <span class="comment">/* kernel chooses port.  */</span></div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">if</span> (bind(listener, (<span class="keyword">struct</span> sockaddr *) &amp;listen_addr, <span class="keyword">sizeof</span> (listen_addr))</div>
<div class="line"><span class="lineno">  258</span>        == -1)</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">goto</span> tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">if</span> (listen(listener, 1) == -1)</div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">goto</span> tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>    connector = socket(AF_INET, type, 0);</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">if</span> (connector &lt; 0)</div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">goto</span> tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    memset(&amp;connect_addr, 0, <span class="keyword">sizeof</span>(connect_addr));</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>    <span class="comment">/* We want to find out the port number to connect to.  */</span></div>
<div class="line"><span class="lineno">  270</span>    size = <span class="keyword">sizeof</span>(connect_addr);</div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">if</span> (getsockname(listener, (<span class="keyword">struct</span> sockaddr *) &amp;connect_addr, &amp;size) == -1)</div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">goto</span> tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">if</span> (size != <span class="keyword">sizeof</span> (connect_addr))</div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">goto</span> abort_tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">if</span> (connect(connector, (<span class="keyword">struct</span> sockaddr *) &amp;connect_addr,</div>
<div class="line"><span class="lineno">  276</span>                <span class="keyword">sizeof</span>(connect_addr)) == -1)</div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">goto</span> tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    size = <span class="keyword">sizeof</span>(listen_addr);</div>
<div class="line"><span class="lineno">  280</span>    acceptor = accept(listener, (<span class="keyword">struct</span> sockaddr *) &amp;listen_addr, &amp;size);</div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordflow">if</span> (acceptor &lt; 0)</div>
<div class="line"><span class="lineno">  282</span>        <span class="keywordflow">goto</span> tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordflow">if</span> (size != <span class="keyword">sizeof</span>(listen_addr))</div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordflow">goto</span> abort_tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  285</span>    <span class="comment">/* Now check we are talking to ourself by matching port and host on the</span></div>
<div class="line"><span class="lineno">  286</span><span class="comment">       two sockets.  */</span></div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordflow">if</span> (getsockname(connector, (<span class="keyword">struct</span> sockaddr *) &amp;connect_addr, &amp;size) == -1)</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">goto</span> tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">if</span> (size != <span class="keyword">sizeof</span> (connect_addr)</div>
<div class="line"><span class="lineno">  290</span>        || listen_addr.sin_family != connect_addr.sin_family</div>
<div class="line"><span class="lineno">  291</span>        || listen_addr.sin_addr.s_addr != connect_addr.sin_addr.s_addr</div>
<div class="line"><span class="lineno">  292</span>        || listen_addr.sin_port != connect_addr.sin_port)</div>
<div class="line"><span class="lineno">  293</span>        <span class="keywordflow">goto</span> abort_tidy_up_and_fail;</div>
<div class="line"><span class="lineno">  294</span>    <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(listener);</div>
<div class="line"><span class="lineno">  295</span>    fd[0] = connector;</div>
<div class="line"><span class="lineno">  296</span>    fd[1] = acceptor;</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span> abort_tidy_up_and_fail:</div>
<div class="line"><span class="lineno">  301</span>    saved_errno = <a class="code hl_define" href="evutil_8c.html#a588357de2986fdf4c1380190f7ae9f37">ERR</a>(ECONNABORTED);</div>
<div class="line"><span class="lineno">  302</span> tidy_up_and_fail:</div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">if</span> (saved_errno &lt; 0)</div>
<div class="line"><span class="lineno">  304</span>        saved_errno = EVUTIL_SOCKET_ERROR();</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">if</span> (listener != -1)</div>
<div class="line"><span class="lineno">  306</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(listener);</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">if</span> (connector != -1)</div>
<div class="line"><span class="lineno">  308</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(connector);</div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">if</span> (acceptor != -1)</div>
<div class="line"><span class="lineno">  310</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(acceptor);</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    EVUTIL_SET_SOCKET_ERROR(saved_errno);</div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  314</span><span class="preprocessor">#undef ERR</span></div>
<div class="line"><span class="lineno">  315</span>}</div>
<div class="ttc" id="aevutil_8c_html_a588357de2986fdf4c1380190f7ae9f37"><div class="ttname"><a href="evutil_8c.html#a588357de2986fdf4c1380190f7ae9f37">ERR</a></div><div class="ttdeci">#define ERR(e)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c.html#a588357de2986fdf4c1380190f7ae9f37">ERR</a>, and <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00202">evutil_socketpair()</a>.</p>

</div>
</div>
<a id="a180e4a5d182158d6395de687f654ebc5" name="a180e4a5d182158d6395de687f654ebc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a180e4a5d182158d6395de687f654ebc5">&#9670;&nbsp;</a></span>evutil_eventfd_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evutil_socket_t evutil_eventfd_ </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>initval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02730">2730</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2731</span>{</div>
<div class="line"><span class="lineno"> 2732</span><span class="preprocessor">#if defined(EVENT__HAVE_EVENTFD) &amp;&amp; defined(EVENT__HAVE_SYS_EVENTFD_H)</span></div>
<div class="line"><span class="lineno"> 2733</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 2734</span><span class="preprocessor">#if defined(EFD_CLOEXEC) &amp;&amp; defined(EFD_NONBLOCK)</span></div>
<div class="line"><span class="lineno"> 2735</span>    r = eventfd(initval, flags);</div>
<div class="line"><span class="lineno"> 2736</span>    <span class="keywordflow">if</span> (r &gt;= 0 || flags == 0)</div>
<div class="line"><span class="lineno"> 2737</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2738</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2739</span>    r = eventfd(initval, 0);</div>
<div class="line"><span class="lineno"> 2740</span>    <span class="keywordflow">if</span> (r &lt; 0)</div>
<div class="line"><span class="lineno"> 2741</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2742</span>    <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="util-internal_8h.html#a78dfde382f0d5a08939804dd36d1e5a6">EVUTIL_EFD_CLOEXEC</a>) {</div>
<div class="line"><span class="lineno"> 2743</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#ab9034da760c901d74cddf3880065bb91">evutil_fast_socket_closeonexec</a>(r) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2744</span>            <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(r);</div>
<div class="line"><span class="lineno"> 2745</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2746</span>        }</div>
<div class="line"><span class="lineno"> 2747</span>    }</div>
<div class="line"><span class="lineno"> 2748</span>    <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="util-internal_8h.html#a24ad825cdff36be478e01dfd4a33369e">EVUTIL_EFD_NONBLOCK</a>) {</div>
<div class="line"><span class="lineno"> 2749</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a3920bebac41cf9438435aac390853006">evutil_fast_socket_nonblocking</a>(r) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2750</span>            <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(r);</div>
<div class="line"><span class="lineno"> 2751</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2752</span>        }</div>
<div class="line"><span class="lineno"> 2753</span>    }</div>
<div class="line"><span class="lineno"> 2754</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2755</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2756</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2757</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2758</span>}</div>
<div class="ttc" id="autil-internal_8h_html_a24ad825cdff36be478e01dfd4a33369e"><div class="ttname"><a href="util-internal_8h.html#a24ad825cdff36be478e01dfd4a33369e">EVUTIL_EFD_NONBLOCK</a></div><div class="ttdeci">#define EVUTIL_EFD_NONBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00526">util-internal.h:526</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a78dfde382f0d5a08939804dd36d1e5a6"><div class="ttname"><a href="util-internal_8h.html#a78dfde382f0d5a08939804dd36d1e5a6">EVUTIL_EFD_CLOEXEC</a></div><div class="ttdeci">#define EVUTIL_EFD_CLOEXEC</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00531">util-internal.h:531</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="util-internal_8h_source.html#l00531">EVUTIL_EFD_CLOEXEC</a>, <a class="el" href="util-internal_8h_source.html#l00526">EVUTIL_EFD_NONBLOCK</a>, <a class="el" href="evutil_8c_source.html#l00442">evutil_fast_socket_closeonexec()</a>, and <a class="el" href="evutil_8c_source.html#l00351">evutil_fast_socket_nonblocking()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>.</p>

</div>
</div>
<a id="ab9034da760c901d74cddf3880065bb91" name="ab9034da760c901d74cddf3880065bb91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9034da760c901d74cddf3880065bb91">&#9670;&nbsp;</a></span>evutil_fast_socket_closeonexec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evutil_fast_socket_closeonexec </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00442">442</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  443</span>{</div>
<div class="line"><span class="lineno">  444</span><span class="preprocessor">#if !defined(_WIN32) &amp;&amp; defined(EVENT__HAVE_SETFD)</span></div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">if</span> (fcntl(fd, F_SETFD, FD_CLOEXEC) == -1) {</div>
<div class="line"><span class="lineno">  446</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;fcntl(%d, F_SETFD)&quot;</span>, fd);</div>
<div class="line"><span class="lineno">  447</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  448</span>    }</div>
<div class="line"><span class="lineno">  449</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  450</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  451</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02633">evutil_accept4_()</a>, <a class="el" href="evutil_8c_source.html#l02730">evutil_eventfd_()</a>, <a class="el" href="evutil_8c_source.html#l02672">evutil_make_internal_pipe_()</a>, and <a class="el" href="evutil_8c_source.html#l02595">evutil_socket_()</a>.</p>

</div>
</div>
<a id="a3920bebac41cf9438435aac390853006" name="a3920bebac41cf9438435aac390853006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3920bebac41cf9438435aac390853006">&#9670;&nbsp;</a></span>evutil_fast_socket_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evutil_fast_socket_nonblocking </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00351">351</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  352</span>{</div>
<div class="line"><span class="lineno">  353</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="evutil_8c.html#a03f8c44ffaf711ad5f37fdc285b2c72b">evutil_make_socket_nonblocking</a>(fd);</div>
<div class="line"><span class="lineno">  355</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (fcntl(fd, F_SETFL, O_NONBLOCK) == -1) {</div>
<div class="line"><span class="lineno">  357</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;fcntl(%d, F_SETFL)&quot;</span>, fd);</div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  359</span>    }</div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  361</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  362</span>}</div>
<div class="ttc" id="aevutil_8c_html_a03f8c44ffaf711ad5f37fdc285b2c72b"><div class="ttname"><a href="evutil_8c.html#a03f8c44ffaf711ad5f37fdc285b2c72b">evutil_make_socket_nonblocking</a></div><div class="ttdeci">int evutil_make_socket_nonblocking(evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00318">evutil.c:318</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, and <a class="el" href="evutil_8c_source.html#l00318">evutil_make_socket_nonblocking()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02633">evutil_accept4_()</a>, <a class="el" href="evutil_8c_source.html#l02730">evutil_eventfd_()</a>, <a class="el" href="evutil_8c_source.html#l02672">evutil_make_internal_pipe_()</a>, and <a class="el" href="evutil_8c_source.html#l02595">evutil_socket_()</a>.</p>

</div>
</div>
<a id="a4dd3d5274e4b17a1e6f1b093d6bf72d3" name="a4dd3d5274e4b17a1e6f1b093d6bf72d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dd3d5274e4b17a1e6f1b093d6bf72d3">&#9670;&nbsp;</a></span>evutil_format_sockaddr_port_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evutil_format_sockaddr_port_ </td>
          <td>(</td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Formats a sockaddr sa into a string buffer of size outlen stored in out. Returns a pointer to out. Always writes something into out, so it's safe to use the output of this function without checking it for NULL. </p>

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02246">2246</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2247</span>{</div>
<div class="line"><span class="lineno"> 2248</span>    <span class="keywordtype">char</span> b[128];</div>
<div class="line"><span class="lineno"> 2249</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *res=NULL;</div>
<div class="line"><span class="lineno"> 2250</span>    <span class="keywordtype">int</span> port;</div>
<div class="line"><span class="lineno"> 2251</span>    <span class="keywordflow">if</span> (sa-&gt;sa_family == AF_INET) {</div>
<div class="line"><span class="lineno"> 2252</span>        <span class="keyword">const</span> <span class="keyword">struct </span>sockaddr_in *sin = (<span class="keyword">const</span> <span class="keyword">struct </span>sockaddr_in*)sa;</div>
<div class="line"><span class="lineno"> 2253</span>        res = <a class="code hl_function" href="evutil_8c.html#ac6d5949933b19e6c7245ea1129898dca">evutil_inet_ntop</a>(AF_INET, &amp;sin-&gt;sin_addr,b,<span class="keyword">sizeof</span>(b));</div>
<div class="line"><span class="lineno"> 2254</span>        port = ntohs(sin-&gt;sin_port);</div>
<div class="line"><span class="lineno"> 2255</span>        <span class="keywordflow">if</span> (res) {</div>
<div class="line"><span class="lineno"> 2256</span>            <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(out, outlen, <span class="stringliteral">&quot;%s:%d&quot;</span>, b, port);</div>
<div class="line"><span class="lineno"> 2257</span>            <span class="keywordflow">return</span> out;</div>
<div class="line"><span class="lineno"> 2258</span>        }</div>
<div class="line"><span class="lineno"> 2259</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sa-&gt;sa_family == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>) {</div>
<div class="line"><span class="lineno"> 2260</span>        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> *sin6 = (<span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a>*)sa;</div>
<div class="line"><span class="lineno"> 2261</span>        res = <a class="code hl_function" href="evutil_8c.html#ac6d5949933b19e6c7245ea1129898dca">evutil_inet_ntop</a>(<a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>, &amp;sin6-&gt;<a class="code hl_variable" href="structsockaddr__in6.html#a219e7f3ecd6d7dcf8fc2465475be490f">sin6_addr</a>,b,<span class="keyword">sizeof</span>(b));</div>
<div class="line"><span class="lineno"> 2262</span>        port = ntohs(sin6-&gt;<a class="code hl_variable" href="structsockaddr__in6.html#a5d0f064b843a17247d9d39d22fc4103c">sin6_port</a>);</div>
<div class="line"><span class="lineno"> 2263</span>        <span class="keywordflow">if</span> (res) {</div>
<div class="line"><span class="lineno"> 2264</span>            <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(out, outlen, <span class="stringliteral">&quot;[%s]:%d&quot;</span>, b, port);</div>
<div class="line"><span class="lineno"> 2265</span>            <span class="keywordflow">return</span> out;</div>
<div class="line"><span class="lineno"> 2266</span>        }</div>
<div class="line"><span class="lineno"> 2267</span>    }</div>
<div class="line"><span class="lineno"> 2268</span> </div>
<div class="line"><span class="lineno"> 2269</span>    <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(out, outlen, <span class="stringliteral">&quot;&lt;addr with socktype %d&gt;&quot;</span>,</div>
<div class="line"><span class="lineno"> 2270</span>        (<span class="keywordtype">int</span>)sa-&gt;sa_family);</div>
<div class="line"><span class="lineno"> 2271</span>    <span class="keywordflow">return</span> out;</div>
<div class="line"><span class="lineno"> 2272</span>}</div>
<div class="ttc" id="aevutil_8c_html_a55dc7427a539b8c710acf6eb117364e1"><div class="ttname"><a href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a></div><div class="ttdeci">int evutil_snprintf(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01858">evutil.c:1858</a></div></div>
<div class="ttc" id="aevutil_8c_html_ac6d5949933b19e6c7245ea1129898dca"><div class="ttname"><a href="evutil_8c.html#ac6d5949933b19e6c7245ea1129898dca">evutil_inet_ntop</a></div><div class="ttdeci">const char * evutil_inet_ntop(int af, const void *src, char *dst, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01896">evutil.c:1896</a></div></div>
<div class="ttc" id="astructsockaddr__in6_html_a219e7f3ecd6d7dcf8fc2465475be490f"><div class="ttname"><a href="structsockaddr__in6.html#a219e7f3ecd6d7dcf8fc2465475be490f">sockaddr_in6::sin6_addr</a></div><div class="ttdeci">struct in6_addr sin6_addr</div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00068">ipv6-internal.h:68</a></div></div>
<div class="ttc" id="astructsockaddr__in6_html_a5d0f064b843a17247d9d39d22fc4103c"><div class="ttname"><a href="structsockaddr__in6.html#a5d0f064b843a17247d9d39d22fc4103c">sockaddr_in6::sin6_port</a></div><div class="ttdeci">ev_uint16_t sin6_port</div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00067">ipv6-internal.h:67</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="evutil_8c_source.html#l01896">evutil_inet_ntop()</a>, <a class="el" href="evutil_8c_source.html#l01858">evutil_snprintf()</a>, <a class="el" href="ipv6-internal_8h_source.html#l00068">sockaddr_in6::sin6_addr</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00067">sockaddr_in6::sin6_port</a>.</p>

<p class="reference">Referenced by <a class="el" href="evdns_8c_source.html#l02502">evdns_nameserver_add_impl_()</a>, <a class="el" href="evdns_8c_source.html#l00562">nameserver_failed()</a>, <a class="el" href="evdns_8c_source.html#l00506">nameserver_probe_failed()</a>, <a class="el" href="evdns_8c_source.html#l01386">nameserver_read()</a>, <a class="el" href="evdns_8c_source.html#l02332">nameserver_send_probe()</a>, <a class="el" href="evdns_8c_source.html#l00622">nameserver_up()</a>, <a class="el" href="evdns_8c_source.html#l01487">nameserver_write_waiting()</a>, and <a class="el" href="evdns_8c_source.html#l00885">reply_handle()</a>.</p>

</div>
</div>
<a id="a956bc77fcd8db3c81de9ac28f9a4562e" name="a956bc77fcd8db3c81de9ac28f9a4562e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956bc77fcd8db3c81de9ac28f9a4562e">&#9670;&nbsp;</a></span>evutil_found_ifaddr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evutil_found_ifaddr </td>
          <td>(</td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00653">653</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  654</span>{</div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">if</span> (sa-&gt;sa_family == AF_INET) {</div>
<div class="line"><span class="lineno">  656</span>        <span class="keyword">const</span> <span class="keyword">struct </span>sockaddr_in *sin = (<span class="keyword">struct </span>sockaddr_in *)sa;</div>
<div class="line"><span class="lineno">  657</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="evutil_8c.html#ab28a490a4c6d40c09a0daf2ae3e8e442">evutil_v4addr_is_local_</a>(&amp;sin-&gt;sin_addr)) {</div>
<div class="line"><span class="lineno">  658</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;Detected an IPv4 interface&quot;</span>));</div>
<div class="line"><span class="lineno">  659</span>            <a class="code hl_variable" href="evutil_8c.html#ae9d0bc5553f56008b1cbef60d3dfdda6">had_ipv4_address</a> = 1;</div>
<div class="line"><span class="lineno">  660</span>        }</div>
<div class="line"><span class="lineno">  661</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sa-&gt;sa_family == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>) {</div>
<div class="line"><span class="lineno">  662</span>        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> *sin6 = (<span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> *)sa;</div>
<div class="line"><span class="lineno">  663</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="evutil_8c.html#abd1cbcf1a7094b8d9f39de4037d8c368">evutil_v6addr_is_local_</a>(&amp;sin6-&gt;<a class="code hl_variable" href="structsockaddr__in6.html#a219e7f3ecd6d7dcf8fc2465475be490f">sin6_addr</a>)) {</div>
<div class="line"><span class="lineno">  664</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;Detected an IPv6 interface&quot;</span>));</div>
<div class="line"><span class="lineno">  665</span>            <a class="code hl_variable" href="evutil_8c.html#aac1995c81b8f70139a18a34d675a1648">had_ipv6_address</a> = 1;</div>
<div class="line"><span class="lineno">  666</span>        }</div>
<div class="line"><span class="lineno">  667</span>    }</div>
<div class="line"><span class="lineno">  668</span>}</div>
<div class="ttc" id="aevutil_8c_html_ab28a490a4c6d40c09a0daf2ae3e8e442"><div class="ttname"><a href="evutil_8c.html#ab28a490a4c6d40c09a0daf2ae3e8e442">evutil_v4addr_is_local_</a></div><div class="ttdeci">int evutil_v4addr_is_local_(const struct in_addr *in)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00629">evutil.c:629</a></div></div>
<div class="ttc" id="aevutil_8c_html_abd1cbcf1a7094b8d9f39de4037d8c368"><div class="ttname"><a href="evutil_8c.html#abd1cbcf1a7094b8d9f39de4037d8c368">evutil_v6addr_is_local_</a></div><div class="ttdeci">int evutil_v6addr_is_local_(const struct in6_addr *in)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00638">evutil.c:638</a></div></div>
<div class="ttc" id="alog-internal_8h_html_abca298e725a8bd7373647a064b4d1ff7"><div class="ttname"><a href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a></div><div class="ttdeci">#define event_debug(x)</div><div class="ttdef"><b>Definition:</b> <a href="log-internal_8h_source.html#l00079">log-internal.h:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="evutil_8c_source.html#l00629">evutil_v4addr_is_local_()</a>, <a class="el" href="evutil_8c_source.html#l00638">evutil_v6addr_is_local_()</a>, <a class="el" href="evutil_8c_source.html#l00612">had_ipv4_address</a>, <a class="el" href="evutil_8c_source.html#l00612">had_ipv6_address</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00068">sockaddr_in6::sin6_addr</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00676">evutil_check_ifaddrs()</a>, and <a class="el" href="evutil_8c_source.html#l00758">evutil_check_interfaces()</a>.</p>

</div>
</div>
<a id="a2882c6a8797ce8940db82d3ebe073293" name="a2882c6a8797ce8940db82d3ebe073293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2882c6a8797ce8940db82d3ebe073293">&#9670;&nbsp;</a></span>evutil_free_globals_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evutil_free_globals_ </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02761">2761</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2762</span>{</div>
<div class="line"><span class="lineno"> 2763</span>    <a class="code hl_function" href="evutil__rand_8c.html#a4516b7a53d39f11bacd3ea0c3b5a3414">evutil_free_secure_rng_globals_</a>();</div>
<div class="line"><span class="lineno"> 2764</span>    <a class="code hl_function" href="evutil_8c.html#aa2f04dffac535e580810a7690af65265">evutil_free_sock_err_globals</a>();</div>
<div class="line"><span class="lineno"> 2765</span>}</div>
<div class="ttc" id="aevutil_8c_html_aa2f04dffac535e580810a7690af65265"><div class="ttname"><a href="evutil_8c.html#aa2f04dffac535e580810a7690af65265">evutil_free_sock_err_globals</a></div><div class="ttdeci">static void evutil_free_sock_err_globals(void)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01851">evutil.c:1851</a></div></div>
<div class="ttc" id="aevutil__rand_8c_html_a4516b7a53d39f11bacd3ea0c3b5a3414"><div class="ttname"><a href="evutil__rand_8c.html#a4516b7a53d39f11bacd3ea0c3b5a3414">evutil_free_secure_rng_globals_</a></div><div class="ttdeci">void evutil_free_secure_rng_globals_(void)</div><div class="ttdef"><b>Definition:</b> <a href="evutil__rand_8c_source.html#l00203">evutil_rand.c:203</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil__rand_8c_source.html#l00203">evutil_free_secure_rng_globals_()</a>, and <a class="el" href="evutil_8c_source.html#l01851">evutil_free_sock_err_globals()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03918">event_free_evutil_globals()</a>.</p>

</div>
</div>
<a id="aa2f04dffac535e580810a7690af65265" name="aa2f04dffac535e580810a7690af65265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f04dffac535e580810a7690af65265">&#9670;&nbsp;</a></span>evutil_free_sock_err_globals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evutil_free_sock_err_globals </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01851">1851</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1852</span>{</div>
<div class="line"><span class="lineno"> 1853</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02761">evutil_free_globals_()</a>.</p>

</div>
</div>
<a id="ad43029540a4878bc49b343e7b0573ef3" name="ad43029540a4878bc49b343e7b0573ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad43029540a4878bc49b343e7b0573ef3">&#9670;&nbsp;</a></span>evutil_freeaddrinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evutil_freeaddrinfo </td>
          <td>(</td>
          <td class="paramtype">struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>ai</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01576">1576</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1577</span>{</div>
<div class="line"><span class="lineno"> 1578</span><span class="preprocessor">#ifdef EVENT__HAVE_GETADDRINFO</span></div>
<div class="line"><span class="lineno"> 1579</span>    <span class="keywordflow">if</span> (!(ai-&gt;ai_flags &amp; <a class="code hl_define" href="evutil_8c.html#af7f10c85d48e7484c3f21626a8637b65">EVUTIL_AI_LIBEVENT_ALLOCATED</a>)) {</div>
<div class="line"><span class="lineno"> 1580</span>        freeaddrinfo(ai);</div>
<div class="line"><span class="lineno"> 1581</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1582</span>    }</div>
<div class="line"><span class="lineno"> 1583</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1584</span>    <span class="keywordflow">while</span> (ai) {</div>
<div class="line"><span class="lineno"> 1585</span>        <span class="keyword">struct </span>evutil_addrinfo *next = ai-&gt;ai_next;</div>
<div class="line"><span class="lineno"> 1586</span>        <span class="keywordflow">if</span> (ai-&gt;ai_canonname)</div>
<div class="line"><span class="lineno"> 1587</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(ai-&gt;ai_canonname);</div>
<div class="line"><span class="lineno"> 1588</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(ai);</div>
<div class="line"><span class="lineno"> 1589</span>        ai = next;</div>
<div class="line"><span class="lineno"> 1590</span>    }</div>
<div class="line"><span class="lineno"> 1591</span>}</div>
<div class="ttc" id="aevutil_8c_html_af7f10c85d48e7484c3f21626a8637b65"><div class="ttname"><a href="evutil_8c.html#af7f10c85d48e7484c3f21626a8637b65">EVUTIL_AI_LIBEVENT_ALLOCATED</a></div><div class="ttdeci">#define EVUTIL_AI_LIBEVENT_ALLOCATED</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00824">evutil.c:824</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00824">EVUTIL_AI_LIBEVENT_ALLOCATED</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01173">addrinfo_from_hostent()</a>, <a class="el" href="http_8c_source.html#l04459">bind_socket()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00457">bufferevent_connect_getaddrinfo_cb()</a>, <a class="el" href="net_8c_source.html#l00743">dogecoin_get_peers_from_dns()</a>, <a class="el" href="evdns_8c_source.html#l04661">evdns_getaddrinfo_fromhosts()</a>, <a class="el" href="evdns_8c_source.html#l04458">evdns_getaddrinfo_gotresolve()</a>, <a class="el" href="evutil_8c_source.html#l01385">evutil_getaddrinfo()</a>, <a class="el" href="evutil_8c_source.html#l00993">evutil_getaddrinfo_common_()</a>, <a class="el" href="evutil_8c_source.html#l00832">evutil_new_addrinfo_()</a>, and <a class="el" href="evdns_8c_source.html#l04364">free_getaddrinfo_request()</a>.</p>

</div>
</div>
<a id="aa9306b087339e6ae10a690a6cb2f3dcc" name="aa9306b087339e6ae10a690a6cb2f3dcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9306b087339e6ae10a690a6cb2f3dcc">&#9670;&nbsp;</a></span>evutil_gai_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evutil_gai_strerror </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01639">1639</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1640</span>{</div>
<div class="line"><span class="lineno"> 1641</span>    <span class="comment">/* As a sneaky side-benefit, this case statement will get most</span></div>
<div class="line"><span class="lineno"> 1642</span><span class="comment">     * compilers to tell us if any of the error codes we defined</span></div>
<div class="line"><span class="lineno"> 1643</span><span class="comment">     * conflict with the platform&#39;s native error codes. */</span></div>
<div class="line"><span class="lineno"> 1644</span>    <span class="keywordflow">switch</span> (err) {</div>
<div class="line"><span class="lineno"> 1645</span>    <span class="keywordflow">case</span> EVUTIL_EAI_CANCEL:</div>
<div class="line"><span class="lineno"> 1646</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Request canceled&quot;</span>;</div>
<div class="line"><span class="lineno"> 1647</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 1648</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;No error&quot;</span>;</div>
<div class="line"><span class="lineno"> 1649</span> </div>
<div class="line"><span class="lineno"> 1650</span>    <span class="keywordflow">case</span> EVUTIL_EAI_ADDRFAMILY:</div>
<div class="line"><span class="lineno"> 1651</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;address family for nodename not supported&quot;</span>;</div>
<div class="line"><span class="lineno"> 1652</span>    <span class="keywordflow">case</span> EVUTIL_EAI_AGAIN:</div>
<div class="line"><span class="lineno"> 1653</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;temporary failure in name resolution&quot;</span>;</div>
<div class="line"><span class="lineno"> 1654</span>    <span class="keywordflow">case</span> EVUTIL_EAI_BADFLAGS:</div>
<div class="line"><span class="lineno"> 1655</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;invalid value for ai_flags&quot;</span>;</div>
<div class="line"><span class="lineno"> 1656</span>    <span class="keywordflow">case</span> EVUTIL_EAI_FAIL:</div>
<div class="line"><span class="lineno"> 1657</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;non-recoverable failure in name resolution&quot;</span>;</div>
<div class="line"><span class="lineno"> 1658</span>    <span class="keywordflow">case</span> EVUTIL_EAI_FAMILY:</div>
<div class="line"><span class="lineno"> 1659</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;ai_family not supported&quot;</span>;</div>
<div class="line"><span class="lineno"> 1660</span>    <span class="keywordflow">case</span> EVUTIL_EAI_MEMORY:</div>
<div class="line"><span class="lineno"> 1661</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;memory allocation failure&quot;</span>;</div>
<div class="line"><span class="lineno"> 1662</span>    <span class="keywordflow">case</span> EVUTIL_EAI_NODATA:</div>
<div class="line"><span class="lineno"> 1663</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;no address associated with nodename&quot;</span>;</div>
<div class="line"><span class="lineno"> 1664</span>    <span class="keywordflow">case</span> EVUTIL_EAI_NONAME:</div>
<div class="line"><span class="lineno"> 1665</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;nodename nor servname provided, or not known&quot;</span>;</div>
<div class="line"><span class="lineno"> 1666</span>    <span class="keywordflow">case</span> EVUTIL_EAI_SERVICE:</div>
<div class="line"><span class="lineno"> 1667</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;servname not supported for ai_socktype&quot;</span>;</div>
<div class="line"><span class="lineno"> 1668</span>    <span class="keywordflow">case</span> EVUTIL_EAI_SOCKTYPE:</div>
<div class="line"><span class="lineno"> 1669</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;ai_socktype not supported&quot;</span>;</div>
<div class="line"><span class="lineno"> 1670</span>    <span class="keywordflow">case</span> EVUTIL_EAI_SYSTEM:</div>
<div class="line"><span class="lineno"> 1671</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;system error&quot;</span>;</div>
<div class="line"><span class="lineno"> 1672</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1673</span><span class="preprocessor">#if defined(USE_NATIVE_GETADDRINFO) &amp;&amp; defined(_WIN32)</span></div>
<div class="line"><span class="lineno"> 1674</span>        <span class="keywordflow">return</span> gai_strerrorA(err);</div>
<div class="line"><span class="lineno"> 1675</span><span class="preprocessor">#elif defined(USE_NATIVE_GETADDRINFO)</span></div>
<div class="line"><span class="lineno"> 1676</span>        <span class="keywordflow">return</span> gai_strerror(err);</div>
<div class="line"><span class="lineno"> 1677</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1678</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown error code&quot;</span>;</div>
<div class="line"><span class="lineno"> 1679</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1680</span>    }</div>
<div class="line"><span class="lineno"> 1681</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04430">make_addrinfo()</a>.</p>

</div>
</div>
<a id="af72dd0e3c31f03a1de0fd297b1b2691b" name="af72dd0e3c31f03a1de0fd297b1b2691b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af72dd0e3c31f03a1de0fd297b1b2691b">&#9670;&nbsp;</a></span>evutil_getaddrinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_getaddrinfo </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>nodename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>servname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>hints_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evutil_addrinfo **&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01385">1385</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1387</span>{</div>
<div class="line"><span class="lineno"> 1388</span><span class="preprocessor">#ifdef USE_NATIVE_GETADDRINFO</span></div>
<div class="line"><span class="lineno"> 1389</span>    <span class="keyword">struct </span>evutil_addrinfo hints;</div>
<div class="line"><span class="lineno"> 1390</span>    <span class="keywordtype">int</span> portnum=-1, need_np_hack, err;</div>
<div class="line"><span class="lineno"> 1391</span> </div>
<div class="line"><span class="lineno"> 1392</span>    <span class="keywordflow">if</span> (hints_in) {</div>
<div class="line"><span class="lineno"> 1393</span>        memcpy(&amp;hints, hints_in, <span class="keyword">sizeof</span>(hints));</div>
<div class="line"><span class="lineno"> 1394</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1395</span>        memset(&amp;hints, 0, <span class="keyword">sizeof</span>(hints));</div>
<div class="line"><span class="lineno"> 1396</span>        hints.ai_family = PF_UNSPEC;</div>
<div class="line"><span class="lineno"> 1397</span>    }</div>
<div class="line"><span class="lineno"> 1398</span> </div>
<div class="line"><span class="lineno"> 1399</span><span class="preprocessor">#ifndef AI_ADDRCONFIG</span></div>
<div class="line"><span class="lineno"> 1400</span>    <span class="comment">/* Not every system has AI_ADDRCONFIG, so fake it. */</span></div>
<div class="line"><span class="lineno"> 1401</span>    <span class="keywordflow">if</span> (hints.ai_family == PF_UNSPEC &amp;&amp;</div>
<div class="line"><span class="lineno"> 1402</span>        (hints.ai_flags &amp; EVUTIL_AI_ADDRCONFIG)) {</div>
<div class="line"><span class="lineno"> 1403</span>        <a class="code hl_function" href="evutil_8c.html#ab015092ef6e0a1ca0d0565a2be404842">evutil_adjust_hints_for_addrconfig_</a>(&amp;hints);</div>
<div class="line"><span class="lineno"> 1404</span>    }</div>
<div class="line"><span class="lineno"> 1405</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span><span class="preprocessor">#ifndef AI_NUMERICSERV</span></div>
<div class="line"><span class="lineno"> 1408</span>    <span class="comment">/* Not every system has AI_NUMERICSERV, so fake it. */</span></div>
<div class="line"><span class="lineno"> 1409</span>    <span class="keywordflow">if</span> (hints.ai_flags &amp; EVUTIL_AI_NUMERICSERV) {</div>
<div class="line"><span class="lineno"> 1410</span>        <span class="keywordflow">if</span> (servname &amp;&amp; <a class="code hl_function" href="evutil_8c.html#abd045fb4850e0a88d93331ab206770eb">parse_numeric_servname</a>(servname)&lt;0)</div>
<div class="line"><span class="lineno"> 1411</span>            <span class="keywordflow">return</span> EVUTIL_EAI_NONAME;</div>
<div class="line"><span class="lineno"> 1412</span>    }</div>
<div class="line"><span class="lineno"> 1413</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>    <span class="comment">/* Enough operating systems handle enough common non-resolve</span></div>
<div class="line"><span class="lineno"> 1416</span><span class="comment">     * cases here weirdly enough that we are better off just</span></div>
<div class="line"><span class="lineno"> 1417</span><span class="comment">     * overriding them.  For example:</span></div>
<div class="line"><span class="lineno"> 1418</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 1419</span><span class="comment">     * - Windows doesn&#39;t like to infer the protocol from the</span></div>
<div class="line"><span class="lineno"> 1420</span><span class="comment">     *   socket type, or fill in socket or protocol types much at</span></div>
<div class="line"><span class="lineno"> 1421</span><span class="comment">     *   all.  It also seems to do its own broken implicit</span></div>
<div class="line"><span class="lineno"> 1422</span><span class="comment">     *   always-on version of AI_ADDRCONFIG that keeps it from</span></div>
<div class="line"><span class="lineno"> 1423</span><span class="comment">     *   ever resolving even a literal IPv6 address when</span></div>
<div class="line"><span class="lineno"> 1424</span><span class="comment">     *   ai_addrtype is PF_UNSPEC.</span></div>
<div class="line"><span class="lineno"> 1425</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1426</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 1427</span>    {</div>
<div class="line"><span class="lineno"> 1428</span>        <span class="keywordtype">int</span> tmp_port;</div>
<div class="line"><span class="lineno"> 1429</span>        err = <a class="code hl_function" href="evutil_8c.html#acfba61ec5363ad716291db4be47a39cd">evutil_getaddrinfo_common_</a>(nodename,servname,&amp;hints,</div>
<div class="line"><span class="lineno"> 1430</span>            res, &amp;tmp_port);</div>
<div class="line"><span class="lineno"> 1431</span>        <span class="keywordflow">if</span> (err == 0 ||</div>
<div class="line"><span class="lineno"> 1432</span>            err == EVUTIL_EAI_MEMORY ||</div>
<div class="line"><span class="lineno"> 1433</span>            err == EVUTIL_EAI_NONAME)</div>
<div class="line"><span class="lineno"> 1434</span>            <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno"> 1435</span>        <span class="comment">/* If we make it here, the system getaddrinfo can</span></div>
<div class="line"><span class="lineno"> 1436</span><span class="comment">         * have a crack at it. */</span></div>
<div class="line"><span class="lineno"> 1437</span>    }</div>
<div class="line"><span class="lineno"> 1438</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1439</span> </div>
<div class="line"><span class="lineno"> 1440</span>    <span class="comment">/* See documentation for need_numeric_port_hack above.*/</span></div>
<div class="line"><span class="lineno"> 1441</span>    need_np_hack = need_numeric_port_hack() &amp;&amp; servname &amp;&amp; !hints.ai_socktype</div>
<div class="line"><span class="lineno"> 1442</span>        &amp;&amp; ((portnum=<a class="code hl_function" href="evutil_8c.html#abd045fb4850e0a88d93331ab206770eb">parse_numeric_servname</a>(servname)) &gt;= 0);</div>
<div class="line"><span class="lineno"> 1443</span>    <span class="keywordflow">if</span> (need_np_hack) {</div>
<div class="line"><span class="lineno"> 1444</span>        <span class="keywordflow">if</span> (!nodename)</div>
<div class="line"><span class="lineno"> 1445</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="evutil_8c.html#acfba61ec5363ad716291db4be47a39cd">evutil_getaddrinfo_common_</a>(</div>
<div class="line"><span class="lineno"> 1446</span>                NULL,servname,&amp;hints, res, &amp;portnum);</div>
<div class="line"><span class="lineno"> 1447</span>        servname = NULL;</div>
<div class="line"><span class="lineno"> 1448</span>    }</div>
<div class="line"><span class="lineno"> 1449</span> </div>
<div class="line"><span class="lineno"> 1450</span>    <span class="keywordflow">if</span> (need_socktype_protocol_hack()) {</div>
<div class="line"><span class="lineno"> 1451</span>        <a class="code hl_function" href="evutil_8c.html#ae564f11ea75df2a67083b06694b4d580">evutil_getaddrinfo_infer_protocols</a>(&amp;hints);</div>
<div class="line"><span class="lineno"> 1452</span>    }</div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>    <span class="comment">/* Make sure that we didn&#39;t actually steal any AI_FLAGS values that</span></div>
<div class="line"><span class="lineno"> 1455</span><span class="comment">     * the system is using.  (This is a constant expression, and should ge</span></div>
<div class="line"><span class="lineno"> 1456</span><span class="comment">     * optimized out.)</span></div>
<div class="line"><span class="lineno"> 1457</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 1458</span><span class="comment">     * XXXX Turn this into a compile-time failure rather than a run-time</span></div>
<div class="line"><span class="lineno"> 1459</span><span class="comment">     * failure.</span></div>
<div class="line"><span class="lineno"> 1460</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1461</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((ALL_NONNATIVE_AI_FLAGS &amp; ALL_NATIVE_AI_FLAGS) == 0);</div>
<div class="line"><span class="lineno"> 1462</span> </div>
<div class="line"><span class="lineno"> 1463</span>    <span class="comment">/* Clear any flags that only libevent understands. */</span></div>
<div class="line"><span class="lineno"> 1464</span>    hints.ai_flags &amp;= ~ALL_NONNATIVE_AI_FLAGS;</div>
<div class="line"><span class="lineno"> 1465</span> </div>
<div class="line"><span class="lineno"> 1466</span>    err = getaddrinfo(nodename, servname, &amp;hints, res);</div>
<div class="line"><span class="lineno"> 1467</span>    <span class="keywordflow">if</span> (need_np_hack)</div>
<div class="line"><span class="lineno"> 1468</span>        apply_numeric_port_hack(portnum, res);</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>    <span class="keywordflow">if</span> (need_socktype_protocol_hack()) {</div>
<div class="line"><span class="lineno"> 1471</span>        <span class="keywordflow">if</span> (apply_socktype_protocol_hack(*res) &lt; 0) {</div>
<div class="line"><span class="lineno"> 1472</span>            <a class="code hl_function" href="evutil_8c.html#ad43029540a4878bc49b343e7b0573ef3">evutil_freeaddrinfo</a>(*res);</div>
<div class="line"><span class="lineno"> 1473</span>            *res = NULL;</div>
<div class="line"><span class="lineno"> 1474</span>            <span class="keywordflow">return</span> EVUTIL_EAI_MEMORY;</div>
<div class="line"><span class="lineno"> 1475</span>        }</div>
<div class="line"><span class="lineno"> 1476</span>    }</div>
<div class="line"><span class="lineno"> 1477</span>    <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno"> 1478</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1479</span>    <span class="keywordtype">int</span> port=0, err;</div>
<div class="line"><span class="lineno"> 1480</span>    <span class="keyword">struct </span>hostent *ent = NULL;</div>
<div class="line"><span class="lineno"> 1481</span>    <span class="keyword">struct </span>evutil_addrinfo hints;</div>
<div class="line"><span class="lineno"> 1482</span> </div>
<div class="line"><span class="lineno"> 1483</span>    <span class="keywordflow">if</span> (hints_in) {</div>
<div class="line"><span class="lineno"> 1484</span>        memcpy(&amp;hints, hints_in, <span class="keyword">sizeof</span>(hints));</div>
<div class="line"><span class="lineno"> 1485</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1486</span>        memset(&amp;hints, 0, <span class="keyword">sizeof</span>(hints));</div>
<div class="line"><span class="lineno"> 1487</span>        hints.ai_family = PF_UNSPEC;</div>
<div class="line"><span class="lineno"> 1488</span>    }</div>
<div class="line"><span class="lineno"> 1489</span> </div>
<div class="line"><span class="lineno"> 1490</span>    <a class="code hl_function" href="evutil_8c.html#ab015092ef6e0a1ca0d0565a2be404842">evutil_adjust_hints_for_addrconfig_</a>(&amp;hints);</div>
<div class="line"><span class="lineno"> 1491</span> </div>
<div class="line"><span class="lineno"> 1492</span>    err = <a class="code hl_function" href="evutil_8c.html#acfba61ec5363ad716291db4be47a39cd">evutil_getaddrinfo_common_</a>(nodename, servname, &amp;hints, res, &amp;port);</div>
<div class="line"><span class="lineno"> 1493</span>    <span class="keywordflow">if</span> (err != <a class="code hl_define" href="util-internal_8h.html#ab72da9ad510e09da46e3df08d36075b7">EVUTIL_EAI_NEED_RESOLVE</a>) {</div>
<div class="line"><span class="lineno"> 1494</span>        <span class="comment">/* We either succeeded or failed.  No need to continue */</span></div>
<div class="line"><span class="lineno"> 1495</span>        <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno"> 1496</span>    }</div>
<div class="line"><span class="lineno"> 1497</span> </div>
<div class="line"><span class="lineno"> 1498</span>    err = 0;</div>
<div class="line"><span class="lineno"> 1499</span>    <span class="comment">/* Use any of the various gethostbyname_r variants as available. */</span></div>
<div class="line"><span class="lineno"> 1500</span>    {</div>
<div class="line"><span class="lineno"> 1501</span><span class="preprocessor">#ifdef EVENT__HAVE_GETHOSTBYNAME_R_6_ARG</span></div>
<div class="line"><span class="lineno"> 1502</span>        <span class="comment">/* This one is what glibc provides. */</span></div>
<div class="line"><span class="lineno"> 1503</span>        <span class="keywordtype">char</span> buf[2048];</div>
<div class="line"><span class="lineno"> 1504</span>        <span class="keyword">struct </span>hostent hostent;</div>
<div class="line"><span class="lineno"> 1505</span>        <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1506</span>        r = gethostbyname_r(nodename, &amp;hostent, buf, <span class="keyword">sizeof</span>(buf), &amp;ent,</div>
<div class="line"><span class="lineno"> 1507</span>            &amp;err);</div>
<div class="line"><span class="lineno"> 1508</span><span class="preprocessor">#elif defined(EVENT__HAVE_GETHOSTBYNAME_R_5_ARG)</span></div>
<div class="line"><span class="lineno"> 1509</span>        <span class="keywordtype">char</span> buf[2048];</div>
<div class="line"><span class="lineno"> 1510</span>        <span class="keyword">struct </span>hostent hostent;</div>
<div class="line"><span class="lineno"> 1511</span>        ent = gethostbyname_r(nodename, &amp;hostent, buf, <span class="keyword">sizeof</span>(buf),</div>
<div class="line"><span class="lineno"> 1512</span>            &amp;err);</div>
<div class="line"><span class="lineno"> 1513</span><span class="preprocessor">#elif defined(EVENT__HAVE_GETHOSTBYNAME_R_3_ARG)</span></div>
<div class="line"><span class="lineno"> 1514</span>        <span class="keyword">struct </span>hostent_data data;</div>
<div class="line"><span class="lineno"> 1515</span>        <span class="keyword">struct </span>hostent hostent;</div>
<div class="line"><span class="lineno"> 1516</span>        memset(&amp;data, 0, <span class="keyword">sizeof</span>(data));</div>
<div class="line"><span class="lineno"> 1517</span>        err = gethostbyname_r(nodename, &amp;hostent, &amp;data);</div>
<div class="line"><span class="lineno"> 1518</span>        ent = err ? NULL : &amp;hostent;</div>
<div class="line"><span class="lineno"> 1519</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1520</span>        <span class="comment">/* fall back to gethostbyname. */</span></div>
<div class="line"><span class="lineno"> 1521</span>        <span class="comment">/* XXXX This needs a lock everywhere but Windows. */</span></div>
<div class="line"><span class="lineno"> 1522</span>        ent = gethostbyname(nodename);</div>
<div class="line"><span class="lineno"> 1523</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 1524</span>        err = WSAGetLastError();</div>
<div class="line"><span class="lineno"> 1525</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1526</span>        err = h_errno;</div>
<div class="line"><span class="lineno"> 1527</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1528</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1529</span> </div>
<div class="line"><span class="lineno"> 1530</span>        <span class="comment">/* Now we have either ent or err set. */</span></div>
<div class="line"><span class="lineno"> 1531</span>        <span class="keywordflow">if</span> (!ent) {</div>
<div class="line"><span class="lineno"> 1532</span>            <span class="comment">/* XXX is this right for windows ? */</span></div>
<div class="line"><span class="lineno"> 1533</span>            <span class="keywordflow">switch</span> (err) {</div>
<div class="line"><span class="lineno"> 1534</span>            <span class="keywordflow">case</span> TRY_AGAIN:</div>
<div class="line"><span class="lineno"> 1535</span>                <span class="keywordflow">return</span> EVUTIL_EAI_AGAIN;</div>
<div class="line"><span class="lineno"> 1536</span>            <span class="keywordflow">case</span> NO_RECOVERY:</div>
<div class="line"><span class="lineno"> 1537</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1538</span>                <span class="keywordflow">return</span> EVUTIL_EAI_FAIL;</div>
<div class="line"><span class="lineno"> 1539</span>            <span class="keywordflow">case</span> HOST_NOT_FOUND:</div>
<div class="line"><span class="lineno"> 1540</span>                <span class="keywordflow">return</span> EVUTIL_EAI_NONAME;</div>
<div class="line"><span class="lineno"> 1541</span>            <span class="keywordflow">case</span> NO_ADDRESS:</div>
<div class="line"><span class="lineno"> 1542</span><span class="preprocessor">#if NO_DATA != NO_ADDRESS</span></div>
<div class="line"><span class="lineno"> 1543</span>            <span class="keywordflow">case</span> NO_DATA:</div>
<div class="line"><span class="lineno"> 1544</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1545</span>                <span class="keywordflow">return</span> EVUTIL_EAI_NODATA;</div>
<div class="line"><span class="lineno"> 1546</span>            }</div>
<div class="line"><span class="lineno"> 1547</span>        }</div>
<div class="line"><span class="lineno"> 1548</span> </div>
<div class="line"><span class="lineno"> 1549</span>        <span class="keywordflow">if</span> (ent-&gt;h_addrtype != hints.ai_family &amp;&amp;</div>
<div class="line"><span class="lineno"> 1550</span>            hints.ai_family != PF_UNSPEC) {</div>
<div class="line"><span class="lineno"> 1551</span>            <span class="comment">/* This wasn&#39;t the type we were hoping for.  Too bad</span></div>
<div class="line"><span class="lineno"> 1552</span><span class="comment">             * we never had a chance to ask gethostbyname for what</span></div>
<div class="line"><span class="lineno"> 1553</span><span class="comment">             * we wanted. */</span></div>
<div class="line"><span class="lineno"> 1554</span>            <span class="keywordflow">return</span> EVUTIL_EAI_NONAME;</div>
<div class="line"><span class="lineno"> 1555</span>        }</div>
<div class="line"><span class="lineno"> 1556</span> </div>
<div class="line"><span class="lineno"> 1557</span>        <span class="comment">/* Make sure we got _some_ answers. */</span></div>
<div class="line"><span class="lineno"> 1558</span>        <span class="keywordflow">if</span> (ent-&gt;h_length == 0)</div>
<div class="line"><span class="lineno"> 1559</span>            <span class="keywordflow">return</span> EVUTIL_EAI_NODATA;</div>
<div class="line"><span class="lineno"> 1560</span> </div>
<div class="line"><span class="lineno"> 1561</span>        <span class="comment">/* If we got an address type we don&#39;t know how to make a</span></div>
<div class="line"><span class="lineno"> 1562</span><span class="comment">           sockaddr for, give up. */</span></div>
<div class="line"><span class="lineno"> 1563</span>        <span class="keywordflow">if</span> (ent-&gt;h_addrtype != PF_INET &amp;&amp; ent-&gt;h_addrtype != <a class="code hl_define" href="ipv6-internal_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a>)</div>
<div class="line"><span class="lineno"> 1564</span>            <span class="keywordflow">return</span> EVUTIL_EAI_FAMILY;</div>
<div class="line"><span class="lineno"> 1565</span> </div>
<div class="line"><span class="lineno"> 1566</span>        *res = <a class="code hl_function" href="evutil_8c.html#a8cbb4dfbe5ff41d77b84883113a9be0d">addrinfo_from_hostent</a>(ent, port, &amp;hints);</div>
<div class="line"><span class="lineno"> 1567</span>        <span class="keywordflow">if</span> (! *res)</div>
<div class="line"><span class="lineno"> 1568</span>            <span class="keywordflow">return</span> EVUTIL_EAI_MEMORY;</div>
<div class="line"><span class="lineno"> 1569</span>    }</div>
<div class="line"><span class="lineno"> 1570</span> </div>
<div class="line"><span class="lineno"> 1571</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1572</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1573</span>}</div>
<div class="ttc" id="aevutil_8c_html_a8cbb4dfbe5ff41d77b84883113a9be0d"><div class="ttname"><a href="evutil_8c.html#a8cbb4dfbe5ff41d77b84883113a9be0d">addrinfo_from_hostent</a></div><div class="ttdeci">static struct evutil_addrinfo * addrinfo_from_hostent(const struct hostent *ent, int port, const struct evutil_addrinfo *hints)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01173">evutil.c:1173</a></div></div>
<div class="ttc" id="aevutil_8c_html_ab015092ef6e0a1ca0d0565a2be404842"><div class="ttname"><a href="evutil_8c.html#ab015092ef6e0a1ca0d0565a2be404842">evutil_adjust_hints_for_addrconfig_</a></div><div class="ttdeci">void evutil_adjust_hints_for_addrconfig_(struct evutil_addrinfo *hints)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01236">evutil.c:1236</a></div></div>
<div class="ttc" id="aevutil_8c_html_abd045fb4850e0a88d93331ab206770eb"><div class="ttname"><a href="evutil_8c.html#abd045fb4850e0a88d93331ab206770eb">parse_numeric_servname</a></div><div class="ttdeci">static int parse_numeric_servname(const char *servname)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00891">evutil.c:891</a></div></div>
<div class="ttc" id="aevutil_8c_html_acfba61ec5363ad716291db4be47a39cd"><div class="ttname"><a href="evutil_8c.html#acfba61ec5363ad716291db4be47a39cd">evutil_getaddrinfo_common_</a></div><div class="ttdeci">int evutil_getaddrinfo_common_(const char *nodename, const char *servname, struct evutil_addrinfo *hints, struct evutil_addrinfo **res, int *portnum)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00993">evutil.c:993</a></div></div>
<div class="ttc" id="aevutil_8c_html_ae564f11ea75df2a67083b06694b4d580"><div class="ttname"><a href="evutil_8c.html#ae564f11ea75df2a67083b06694b4d580">evutil_getaddrinfo_infer_protocols</a></div><div class="ttdeci">static void evutil_getaddrinfo_infer_protocols(struct evutil_addrinfo *hints)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00952">evutil.c:952</a></div></div>
<div class="ttc" id="autil-internal_8h_html_ab72da9ad510e09da46e3df08d36075b7"><div class="ttname"><a href="util-internal_8h.html#ab72da9ad510e09da46e3df08d36075b7">EVUTIL_EAI_NEED_RESOLVE</a></div><div class="ttdeci">#define EVUTIL_EAI_NEED_RESOLVE</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00398">util-internal.h:398</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l01173">addrinfo_from_hostent()</a>, <a class="el" href="evutil_8c_source.html#l01236">evutil_adjust_hints_for_addrconfig_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="util-internal_8h_source.html#l00398">EVUTIL_EAI_NEED_RESOLVE</a>, <a class="el" href="evutil_8c_source.html#l01576">evutil_freeaddrinfo()</a>, <a class="el" href="evutil_8c_source.html#l00993">evutil_getaddrinfo_common_()</a>, <a class="el" href="evutil_8c_source.html#l00952">evutil_getaddrinfo_infer_protocols()</a>, <a class="el" href="evutil_8c_source.html#l00891">parse_numeric_servname()</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00076">PF_INET6</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00743">dogecoin_get_peers_from_dns()</a>, <a class="el" href="evdns_8c_source.html#l04701">evdns_getaddrinfo()</a>, <a class="el" href="evutil_8c_source.html#l01613">evutil_getaddrinfo_async_()</a>, and <a class="el" href="http_8c_source.html#l04430">make_addrinfo()</a>.</p>

</div>
</div>
<a id="a56969fcdaa8e8e74b48bd6aa8dfb3a5d" name="a56969fcdaa8e8e74b48bd6aa8dfb3a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56969fcdaa8e8e74b48bd6aa8dfb3a5d">&#9670;&nbsp;</a></span>evutil_getaddrinfo_async_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevdns__getaddrinfo__request.html">evdns_getaddrinfo_request</a> * evutil_getaddrinfo_async_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevdns__base.html">evdns_base</a> *&#160;</td>
          <td class="paramname"><em>dns_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>nodename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>servname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>hints_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(int, struct evutil_addrinfo *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01613">1613</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1618</span>{</div>
<div class="line"><span class="lineno"> 1619</span>    <span class="keywordflow">if</span> (dns_base &amp;&amp; <a class="code hl_variable" href="evutil_8c.html#af6c7933eaff49642b7bdbf657ac650a4">evdns_getaddrinfo_impl</a>) {</div>
<div class="line"><span class="lineno"> 1620</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="evutil_8c.html#af6c7933eaff49642b7bdbf657ac650a4">evdns_getaddrinfo_impl</a>(</div>
<div class="line"><span class="lineno"> 1621</span>            dns_base, nodename, servname, hints_in, cb, arg);</div>
<div class="line"><span class="lineno"> 1622</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1623</span>        <span class="keyword">struct </span>evutil_addrinfo *ai=NULL;</div>
<div class="line"><span class="lineno"> 1624</span>        <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno"> 1625</span>        err = <a class="code hl_function" href="evutil_8c.html#af72dd0e3c31f03a1de0fd297b1b2691b">evutil_getaddrinfo</a>(nodename, servname, hints_in, &amp;ai);</div>
<div class="line"><span class="lineno"> 1626</span>        cb(err, ai, arg);</div>
<div class="line"><span class="lineno"> 1627</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1628</span>    }</div>
<div class="line"><span class="lineno"> 1629</span>}</div>
<div class="ttc" id="aevutil_8c_html_af6c7933eaff49642b7bdbf657ac650a4"><div class="ttname"><a href="evutil_8c.html#af6c7933eaff49642b7bdbf657ac650a4">evdns_getaddrinfo_impl</a></div><div class="ttdeci">static evdns_getaddrinfo_fn evdns_getaddrinfo_impl</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01593">evutil.c:1593</a></div></div>
<div class="ttc" id="aevutil_8c_html_af72dd0e3c31f03a1de0fd297b1b2691b"><div class="ttname"><a href="evutil_8c.html#af72dd0e3c31f03a1de0fd297b1b2691b">evutil_getaddrinfo</a></div><div class="ttdeci">int evutil_getaddrinfo(const char *nodename, const char *servname, const struct evutil_addrinfo *hints_in, struct evutil_addrinfo **res)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01385">evutil.c:1385</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l01593">evdns_getaddrinfo_impl</a>, and <a class="el" href="evutil_8c_source.html#l01385">evutil_getaddrinfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00494">bufferevent_socket_connect_hostname()</a>.</p>

</div>
</div>
<a id="acd93b5e7dab37f662d9823ab9d2d026e" name="acd93b5e7dab37f662d9823ab9d2d026e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd93b5e7dab37f662d9823ab9d2d026e">&#9670;&nbsp;</a></span>evutil_getaddrinfo_cancel_async_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evutil_getaddrinfo_cancel_async_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevdns__getaddrinfo__request.html">evdns_getaddrinfo_request</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01631">1631</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1632</span>{</div>
<div class="line"><span class="lineno"> 1633</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="evutil_8c.html#ad58a10b183f1788e7c7b7c17d2802edb">evdns_getaddrinfo_cancel_impl</a> &amp;&amp; data) {</div>
<div class="line"><span class="lineno"> 1634</span>        <a class="code hl_variable" href="evutil_8c.html#ad58a10b183f1788e7c7b7c17d2802edb">evdns_getaddrinfo_cancel_impl</a>(data);</div>
<div class="line"><span class="lineno"> 1635</span>    }</div>
<div class="line"><span class="lineno"> 1636</span>}</div>
<div class="ttc" id="aevutil_8c_html_ad58a10b183f1788e7c7b7c17d2802edb"><div class="ttname"><a href="evutil_8c.html#ad58a10b183f1788e7c7b7c17d2802edb">evdns_getaddrinfo_cancel_impl</a></div><div class="ttdeci">static evdns_getaddrinfo_cancel_fn evdns_getaddrinfo_cancel_impl</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01594">evutil.c:1594</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l01594">evdns_getaddrinfo_cancel_impl</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00596">be_socket_destruct()</a>, and <a class="el" href="bufferevent__sock_8c_source.html#l00619">be_socket_setfd()</a>.</p>

</div>
</div>
<a id="acfba61ec5363ad716291db4be47a39cd" name="acfba61ec5363ad716291db4be47a39cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfba61ec5363ad716291db4be47a39cd">&#9670;&nbsp;</a></span>evutil_getaddrinfo_common_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_getaddrinfo_common_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>nodename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>servname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>hints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct evutil_addrinfo **&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>portnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Implements the part of looking up hosts by name that's common to both the blocking and nonblocking resolver:</p><ul>
<li>Adjust 'hints' to have a reasonable socktype and protocol.</li>
<li>Look up the port based on 'servname', and store it in *portnum,</li>
<li>Handle the nodename==NULL case</li>
<li>Handle some invalid arguments cases.</li>
<li>Handle the cases where nodename is an IPv4 or IPv6 address.</li>
</ul>
<p >If we need the resolver to look up the hostname, we return EVUTIL_EAI_NEED_RESOLVE. Otherwise, we can completely implement getaddrinfo: we return 0 or an appropriate EVUTIL_EAI_* error, and set *res as getaddrinfo would. </p>

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00993">993</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  995</span>{</div>
<div class="line"><span class="lineno">  996</span>    <span class="keywordtype">int</span> port = 0;</div>
<div class="line"><span class="lineno">  997</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> if_index;</div>
<div class="line"><span class="lineno">  998</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *pname;</div>
<div class="line"><span class="lineno">  999</span> </div>
<div class="line"><span class="lineno"> 1000</span>    <span class="keywordflow">if</span> (nodename == NULL &amp;&amp; servname == NULL)</div>
<div class="line"><span class="lineno"> 1001</span>        <span class="keywordflow">return</span> EVUTIL_EAI_NONAME;</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>    <span class="comment">/* We only understand 3 families */</span></div>
<div class="line"><span class="lineno"> 1004</span>    <span class="keywordflow">if</span> (hints-&gt;ai_family != PF_UNSPEC &amp;&amp; hints-&gt;ai_family != PF_INET &amp;&amp;</div>
<div class="line"><span class="lineno"> 1005</span>        hints-&gt;ai_family != <a class="code hl_define" href="ipv6-internal_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a>)</div>
<div class="line"><span class="lineno"> 1006</span>        <span class="keywordflow">return</span> EVUTIL_EAI_FAMILY;</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>    <a class="code hl_function" href="evutil_8c.html#ae564f11ea75df2a67083b06694b4d580">evutil_getaddrinfo_infer_protocols</a>(hints);</div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span>    <span class="comment">/* Look up the port number and protocol, if possible. */</span></div>
<div class="line"><span class="lineno"> 1011</span>    pname = <a class="code hl_function" href="evutil_8c.html#a55b2e43793f1244de8d5c7e9de005d04">evutil_unparse_protoname</a>(hints-&gt;ai_protocol);</div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keywordflow">if</span> (servname) {</div>
<div class="line"><span class="lineno"> 1013</span>        <span class="comment">/* XXXX We could look at the protocol we got back from</span></div>
<div class="line"><span class="lineno"> 1014</span><span class="comment">         * getservbyname, but it doesn&#39;t seem too useful. */</span></div>
<div class="line"><span class="lineno"> 1015</span>        port = <a class="code hl_function" href="evutil_8c.html#a0168df3e9f6d17e13d1ff8b6f3670ec6">evutil_parse_servname</a>(servname, pname, hints);</div>
<div class="line"><span class="lineno"> 1016</span>        <span class="keywordflow">if</span> (port &lt; 0) {</div>
<div class="line"><span class="lineno"> 1017</span>            <span class="keywordflow">return</span> EVUTIL_EAI_NONAME;</div>
<div class="line"><span class="lineno"> 1018</span>        }</div>
<div class="line"><span class="lineno"> 1019</span>    }</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    <span class="comment">/* If we have no node name, then we&#39;re supposed to bind to &#39;any&#39; and</span></div>
<div class="line"><span class="lineno"> 1022</span><span class="comment">     * connect to localhost. */</span></div>
<div class="line"><span class="lineno"> 1023</span>    <span class="keywordflow">if</span> (nodename == NULL) {</div>
<div class="line"><span class="lineno"> 1024</span>        <span class="keyword">struct </span>evutil_addrinfo *res4=NULL, *res6=NULL;</div>
<div class="line"><span class="lineno"> 1025</span>        <span class="keywordflow">if</span> (hints-&gt;ai_family != PF_INET) { <span class="comment">/* INET6 or UNSPEC. */</span></div>
<div class="line"><span class="lineno"> 1026</span>            <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> sin6;</div>
<div class="line"><span class="lineno"> 1027</span>            memset(&amp;sin6, 0, <span class="keyword">sizeof</span>(sin6));</div>
<div class="line"><span class="lineno"> 1028</span>            sin6.sin6_family = <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>;</div>
<div class="line"><span class="lineno"> 1029</span>            sin6.sin6_port = htons(port);</div>
<div class="line"><span class="lineno"> 1030</span>            <span class="keywordflow">if</span> (hints-&gt;ai_flags &amp; EVUTIL_AI_PASSIVE) {</div>
<div class="line"><span class="lineno"> 1031</span>                <span class="comment">/* Bind to :: */</span></div>
<div class="line"><span class="lineno"> 1032</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1033</span>                <span class="comment">/* connect to ::1 */</span></div>
<div class="line"><span class="lineno"> 1034</span>                sin6.sin6_addr.s6_addr[15] = 1;</div>
<div class="line"><span class="lineno"> 1035</span>            }</div>
<div class="line"><span class="lineno"> 1036</span>            res6 = <a class="code hl_function" href="evutil_8c.html#af0010ca18f6715fc9d29b8bf3e8fe9e2">evutil_new_addrinfo_</a>((<span class="keyword">struct</span> sockaddr*)&amp;sin6,</div>
<div class="line"><span class="lineno"> 1037</span>                <span class="keyword">sizeof</span>(sin6), hints);</div>
<div class="line"><span class="lineno"> 1038</span>            <span class="keywordflow">if</span> (!res6)</div>
<div class="line"><span class="lineno"> 1039</span>                <span class="keywordflow">return</span> EVUTIL_EAI_MEMORY;</div>
<div class="line"><span class="lineno"> 1040</span>        }</div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>        <span class="keywordflow">if</span> (hints-&gt;ai_family != <a class="code hl_define" href="ipv6-internal_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a>) { <span class="comment">/* INET or UNSPEC */</span></div>
<div class="line"><span class="lineno"> 1043</span>            <span class="keyword">struct </span>sockaddr_in sin;</div>
<div class="line"><span class="lineno"> 1044</span>            memset(&amp;sin, 0, <span class="keyword">sizeof</span>(sin));</div>
<div class="line"><span class="lineno"> 1045</span>            sin.sin_family = AF_INET;</div>
<div class="line"><span class="lineno"> 1046</span>            sin.sin_port = htons(port);</div>
<div class="line"><span class="lineno"> 1047</span>            <span class="keywordflow">if</span> (hints-&gt;ai_flags &amp; EVUTIL_AI_PASSIVE) {</div>
<div class="line"><span class="lineno"> 1048</span>                <span class="comment">/* Bind to 0.0.0.0 */</span></div>
<div class="line"><span class="lineno"> 1049</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1050</span>                <span class="comment">/* connect to 127.0.0.1 */</span></div>
<div class="line"><span class="lineno"> 1051</span>                sin.sin_addr.s_addr = htonl(0x7f000001);</div>
<div class="line"><span class="lineno"> 1052</span>            }</div>
<div class="line"><span class="lineno"> 1053</span>            res4 = <a class="code hl_function" href="evutil_8c.html#af0010ca18f6715fc9d29b8bf3e8fe9e2">evutil_new_addrinfo_</a>((<span class="keyword">struct</span> sockaddr*)&amp;sin,</div>
<div class="line"><span class="lineno"> 1054</span>                <span class="keyword">sizeof</span>(sin), hints);</div>
<div class="line"><span class="lineno"> 1055</span>            <span class="keywordflow">if</span> (!res4) {</div>
<div class="line"><span class="lineno"> 1056</span>                <span class="keywordflow">if</span> (res6)</div>
<div class="line"><span class="lineno"> 1057</span>                    <a class="code hl_function" href="evutil_8c.html#ad43029540a4878bc49b343e7b0573ef3">evutil_freeaddrinfo</a>(res6);</div>
<div class="line"><span class="lineno"> 1058</span>                <span class="keywordflow">return</span> EVUTIL_EAI_MEMORY;</div>
<div class="line"><span class="lineno"> 1059</span>            }</div>
<div class="line"><span class="lineno"> 1060</span>        }</div>
<div class="line"><span class="lineno"> 1061</span>        *res = <a class="code hl_function" href="evutil_8c.html#a16b9ef43c938efc62749ee134f384c26">evutil_addrinfo_append_</a>(res4, res6);</div>
<div class="line"><span class="lineno"> 1062</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1063</span>    }</div>
<div class="line"><span class="lineno"> 1064</span> </div>
<div class="line"><span class="lineno"> 1065</span>    <span class="comment">/* If we can, we should try to parse the hostname without resolving</span></div>
<div class="line"><span class="lineno"> 1066</span><span class="comment">     * it. */</span></div>
<div class="line"><span class="lineno"> 1067</span>    <span class="comment">/* Try ipv6. */</span></div>
<div class="line"><span class="lineno"> 1068</span>    <span class="keywordflow">if</span> (hints-&gt;ai_family == <a class="code hl_define" href="ipv6-internal_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a> || hints-&gt;ai_family == PF_UNSPEC) {</div>
<div class="line"><span class="lineno"> 1069</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> sin6;</div>
<div class="line"><span class="lineno"> 1070</span>        memset(&amp;sin6, 0, <span class="keyword">sizeof</span>(sin6));</div>
<div class="line"><span class="lineno"> 1071</span>        <span class="keywordflow">if</span> (1 == <a class="code hl_function" href="evutil_8c.html#a9c1fe41a24b3ad48f26f8890785bbe0c">evutil_inet_pton_scope</a>(</div>
<div class="line"><span class="lineno"> 1072</span>            <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>, nodename, &amp;sin6.sin6_addr, &amp;if_index)) {</div>
<div class="line"><span class="lineno"> 1073</span>            <span class="comment">/* Got an ipv6 address. */</span></div>
<div class="line"><span class="lineno"> 1074</span>            sin6.sin6_family = <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>;</div>
<div class="line"><span class="lineno"> 1075</span>            sin6.sin6_port = htons(port);</div>
<div class="line"><span class="lineno"> 1076</span>            sin6.sin6_scope_id = if_index;</div>
<div class="line"><span class="lineno"> 1077</span>            *res = <a class="code hl_function" href="evutil_8c.html#af0010ca18f6715fc9d29b8bf3e8fe9e2">evutil_new_addrinfo_</a>((<span class="keyword">struct</span> sockaddr*)&amp;sin6,</div>
<div class="line"><span class="lineno"> 1078</span>                <span class="keyword">sizeof</span>(sin6), hints);</div>
<div class="line"><span class="lineno"> 1079</span>            <span class="keywordflow">if</span> (!*res)</div>
<div class="line"><span class="lineno"> 1080</span>                <span class="keywordflow">return</span> EVUTIL_EAI_MEMORY;</div>
<div class="line"><span class="lineno"> 1081</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1082</span>        }</div>
<div class="line"><span class="lineno"> 1083</span>    }</div>
<div class="line"><span class="lineno"> 1084</span> </div>
<div class="line"><span class="lineno"> 1085</span>    <span class="comment">/* Try ipv4. */</span></div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordflow">if</span> (hints-&gt;ai_family == PF_INET || hints-&gt;ai_family == PF_UNSPEC) {</div>
<div class="line"><span class="lineno"> 1087</span>        <span class="keyword">struct </span>sockaddr_in sin;</div>
<div class="line"><span class="lineno"> 1088</span>        memset(&amp;sin, 0, <span class="keyword">sizeof</span>(sin));</div>
<div class="line"><span class="lineno"> 1089</span>        <span class="keywordflow">if</span> (1==<a class="code hl_function" href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a>(AF_INET, nodename, &amp;sin.sin_addr)) {</div>
<div class="line"><span class="lineno"> 1090</span>            <span class="comment">/* Got an ipv4 address. */</span></div>
<div class="line"><span class="lineno"> 1091</span>            sin.sin_family = AF_INET;</div>
<div class="line"><span class="lineno"> 1092</span>            sin.sin_port = htons(port);</div>
<div class="line"><span class="lineno"> 1093</span>            *res = <a class="code hl_function" href="evutil_8c.html#af0010ca18f6715fc9d29b8bf3e8fe9e2">evutil_new_addrinfo_</a>((<span class="keyword">struct</span> sockaddr*)&amp;sin,</div>
<div class="line"><span class="lineno"> 1094</span>                <span class="keyword">sizeof</span>(sin), hints);</div>
<div class="line"><span class="lineno"> 1095</span>            <span class="keywordflow">if</span> (!*res)</div>
<div class="line"><span class="lineno"> 1096</span>                <span class="keywordflow">return</span> EVUTIL_EAI_MEMORY;</div>
<div class="line"><span class="lineno"> 1097</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1098</span>        }</div>
<div class="line"><span class="lineno"> 1099</span>    }</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>    <span class="comment">/* If we have reached this point, we definitely need to do a DNS</span></div>
<div class="line"><span class="lineno"> 1103</span><span class="comment">     * lookup. */</span></div>
<div class="line"><span class="lineno"> 1104</span>    <span class="keywordflow">if</span> ((hints-&gt;ai_flags &amp; EVUTIL_AI_NUMERICHOST)) {</div>
<div class="line"><span class="lineno"> 1105</span>        <span class="comment">/* If we&#39;re not allowed to do one, then say so. */</span></div>
<div class="line"><span class="lineno"> 1106</span>        <span class="keywordflow">return</span> EVUTIL_EAI_NONAME;</div>
<div class="line"><span class="lineno"> 1107</span>    }</div>
<div class="line"><span class="lineno"> 1108</span>    *portnum = port;</div>
<div class="line"><span class="lineno"> 1109</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="util-internal_8h.html#ab72da9ad510e09da46e3df08d36075b7">EVUTIL_EAI_NEED_RESOLVE</a>;</div>
<div class="line"><span class="lineno"> 1110</span>}</div>
<div class="ttc" id="aevutil_8c_html_a0168df3e9f6d17e13d1ff8b6f3670ec6"><div class="ttname"><a href="evutil_8c.html#a0168df3e9f6d17e13d1ff8b6f3670ec6">evutil_parse_servname</a></div><div class="ttdeci">static int evutil_parse_servname(const char *servname, const char *protocol, const struct evutil_addrinfo *hints)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00906">evutil.c:906</a></div></div>
<div class="ttc" id="aevutil_8c_html_a55b2e43793f1244de8d5c7e9de005d04"><div class="ttname"><a href="evutil_8c.html#a55b2e43793f1244de8d5c7e9de005d04">evutil_unparse_protoname</a></div><div class="ttdeci">static const char * evutil_unparse_protoname(int proto)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00926">evutil.c:926</a></div></div>
<div class="ttc" id="aevutil_8c_html_a9c1fe41a24b3ad48f26f8890785bbe0c"><div class="ttname"><a href="evutil_8c.html#a9c1fe41a24b3ad48f26f8890785bbe0c">evutil_inet_pton_scope</a></div><div class="ttdeci">int evutil_inet_pton_scope(int af, const char *src, void *dst, unsigned *indexp)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01992">evutil.c:1992</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="evutil_8c_source.html#l00877">evutil_addrinfo_append_()</a>, <a class="el" href="util-internal_8h_source.html#l00398">EVUTIL_EAI_NEED_RESOLVE</a>, <a class="el" href="evutil_8c_source.html#l01576">evutil_freeaddrinfo()</a>, <a class="el" href="evutil_8c_source.html#l00952">evutil_getaddrinfo_infer_protocols()</a>, <a class="el" href="evutil_8c_source.html#l02027">evutil_inet_pton()</a>, <a class="el" href="evutil_8c_source.html#l01992">evutil_inet_pton_scope()</a>, <a class="el" href="evutil_8c_source.html#l00832">evutil_new_addrinfo_()</a>, <a class="el" href="evutil_8c_source.html#l00906">evutil_parse_servname()</a>, <a class="el" href="evutil_8c_source.html#l00926">evutil_unparse_protoname()</a>, <a class="el" href="ipv6-internal_8h_source.html#l00076">PF_INET6</a>, <a class="el" href="ipv6-internal_8h_source.html#l00054">in6_addr::s6_addr</a>, <a class="el" href="ipv6-internal_8h_source.html#l00068">sockaddr_in6::sin6_addr</a>, <a class="el" href="ipv6-internal_8h_source.html#l00066">sockaddr_in6::sin6_family</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00067">sockaddr_in6::sin6_port</a>.</p>

<p class="reference">Referenced by <a class="el" href="evdns_8c_source.html#l04701">evdns_getaddrinfo()</a>, and <a class="el" href="evutil_8c_source.html#l01385">evutil_getaddrinfo()</a>.</p>

</div>
</div>
<a id="ae564f11ea75df2a67083b06694b4d580" name="ae564f11ea75df2a67083b06694b4d580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae564f11ea75df2a67083b06694b4d580">&#9670;&nbsp;</a></span>evutil_getaddrinfo_infer_protocols()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evutil_getaddrinfo_infer_protocols </td>
          <td>(</td>
          <td class="paramtype">struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>hints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00952">952</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  953</span>{</div>
<div class="line"><span class="lineno">  954</span>    <span class="comment">/* If we can guess the protocol from the socktype, do so. */</span></div>
<div class="line"><span class="lineno">  955</span>    <span class="keywordflow">if</span> (!hints-&gt;ai_protocol &amp;&amp; hints-&gt;ai_socktype) {</div>
<div class="line"><span class="lineno">  956</span>        <span class="keywordflow">if</span> (hints-&gt;ai_socktype == SOCK_DGRAM)</div>
<div class="line"><span class="lineno">  957</span>            hints-&gt;ai_protocol = IPPROTO_UDP;</div>
<div class="line"><span class="lineno">  958</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hints-&gt;ai_socktype == SOCK_STREAM)</div>
<div class="line"><span class="lineno">  959</span>            hints-&gt;ai_protocol = IPPROTO_TCP;</div>
<div class="line"><span class="lineno">  960</span>    }</div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span>    <span class="comment">/* Set the socktype if it isn&#39;t set. */</span></div>
<div class="line"><span class="lineno">  963</span>    <span class="keywordflow">if</span> (!hints-&gt;ai_socktype &amp;&amp; hints-&gt;ai_protocol) {</div>
<div class="line"><span class="lineno">  964</span>        <span class="keywordflow">if</span> (hints-&gt;ai_protocol == IPPROTO_UDP)</div>
<div class="line"><span class="lineno">  965</span>            hints-&gt;ai_socktype = SOCK_DGRAM;</div>
<div class="line"><span class="lineno">  966</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hints-&gt;ai_protocol == IPPROTO_TCP)</div>
<div class="line"><span class="lineno">  967</span>            hints-&gt;ai_socktype = SOCK_STREAM;</div>
<div class="line"><span class="lineno">  968</span><span class="preprocessor">#ifdef IPPROTO_SCTP</span></div>
<div class="line"><span class="lineno">  969</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hints-&gt;ai_protocol == IPPROTO_SCTP)</div>
<div class="line"><span class="lineno">  970</span>            hints-&gt;ai_socktype = SOCK_STREAM;</div>
<div class="line"><span class="lineno">  971</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  972</span>    }</div>
<div class="line"><span class="lineno">  973</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01385">evutil_getaddrinfo()</a>, and <a class="el" href="evutil_8c_source.html#l00993">evutil_getaddrinfo_common_()</a>.</p>

</div>
</div>
<a id="a09a32ccf29cf07d78b1f8267863fadd7" name="a09a32ccf29cf07d78b1f8267863fadd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a32ccf29cf07d78b1f8267863fadd7">&#9670;&nbsp;</a></span>evutil_getenv_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evutil_getenv_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>varname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02463">2463</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2464</span>{</div>
<div class="line"><span class="lineno"> 2465</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#ab1ed6a7c34adf3617143c9a2fec5d2ce">evutil_issetugid</a>())</div>
<div class="line"><span class="lineno"> 2466</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 2467</span> </div>
<div class="line"><span class="lineno"> 2468</span>    <span class="keywordflow">return</span> getenv(varname);</div>
<div class="line"><span class="lineno"> 2469</span>}</div>
<div class="ttc" id="aevutil_8c_html_ab1ed6a7c34adf3617143c9a2fec5d2ce"><div class="ttname"><a href="evutil_8c.html#ab1ed6a7c34adf3617143c9a2fec5d2ce">evutil_issetugid</a></div><div class="ttdeci">static int evutil_issetugid(void)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02444">evutil.c:2444</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02444">evutil_issetugid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, and <a class="el" href="event_8c_source.html#l00550">event_is_method_disabled()</a>.</p>

</div>
</div>
<a id="a8246998aefa3eaca8a88a759e1bfb01a" name="a8246998aefa3eaca8a88a759e1bfb01a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8246998aefa3eaca8a88a759e1bfb01a">&#9670;&nbsp;</a></span>evutil_global_setup_locks_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_global_setup_locks_ </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>enable_locks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01844">1844</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1845</span>{</div>
<div class="line"><span class="lineno"> 1846</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1847</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03940">event_global_setup_locks_()</a>.</p>

</div>
</div>
<a id="a827202c521ceb4cb31d96fee212d7e38" name="a827202c521ceb4cb31d96fee212d7e38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a827202c521ceb4cb31d96fee212d7e38">&#9670;&nbsp;</a></span>evutil_hex_char_to_int_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_hex_char_to_int_ </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02547">2547</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2548</span>{</div>
<div class="line"><span class="lineno"> 2549</span>    <span class="keywordflow">switch</span>(c)</div>
<div class="line"><span class="lineno"> 2550</span>    {</div>
<div class="line"><span class="lineno"> 2551</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>: <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2552</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>: <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2553</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>: <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 2554</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>: <span class="keywordflow">return</span> 3;</div>
<div class="line"><span class="lineno"> 2555</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>: <span class="keywordflow">return</span> 4;</div>
<div class="line"><span class="lineno"> 2556</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>: <span class="keywordflow">return</span> 5;</div>
<div class="line"><span class="lineno"> 2557</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>: <span class="keywordflow">return</span> 6;</div>
<div class="line"><span class="lineno"> 2558</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>: <span class="keywordflow">return</span> 7;</div>
<div class="line"><span class="lineno"> 2559</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>: <span class="keywordflow">return</span> 8;</div>
<div class="line"><span class="lineno"> 2560</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>: <span class="keywordflow">return</span> 9;</div>
<div class="line"><span class="lineno"> 2561</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: <span class="keywordflow">return</span> 10;</div>
<div class="line"><span class="lineno"> 2562</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: <span class="keywordflow">return</span> 11;</div>
<div class="line"><span class="lineno"> 2563</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>: <span class="keywordflow">return</span> 12;</div>
<div class="line"><span class="lineno"> 2564</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>: <span class="keywordflow">return</span> 13;</div>
<div class="line"><span class="lineno"> 2565</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>: <span class="keywordflow">return</span> 14;</div>
<div class="line"><span class="lineno"> 2566</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>: <span class="keywordflow">return</span> 15;</div>
<div class="line"><span class="lineno"> 2567</span>    }</div>
<div class="line"><span class="lineno"> 2568</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2569</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6d5949933b19e6c7245ea1129898dca" name="ac6d5949933b19e6c7245ea1129898dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d5949933b19e6c7245ea1129898dca">&#9670;&nbsp;</a></span>evutil_inet_ntop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * evutil_inet_ntop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>af</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01896">1896</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1897</span>{</div>
<div class="line"><span class="lineno"> 1898</span><span class="preprocessor">#if defined(EVENT__HAVE_INET_NTOP) &amp;&amp; !defined(USE_INTERNAL_NTOP)</span></div>
<div class="line"><span class="lineno"> 1899</span>    <span class="keywordflow">return</span> inet_ntop(af, src, dst, len);</div>
<div class="line"><span class="lineno"> 1900</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1901</span>    <span class="keywordflow">if</span> (af == AF_INET) {</div>
<div class="line"><span class="lineno"> 1902</span>        <span class="keyword">const</span> <span class="keyword">struct </span>in_addr *in = src;</div>
<div class="line"><span class="lineno"> 1903</span>        <span class="keyword">const</span> ev_uint32_t a = ntohl(in-&gt;s_addr);</div>
<div class="line"><span class="lineno"> 1904</span>        <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1905</span>        r = <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(dst, len, <span class="stringliteral">&quot;%d.%d.%d.%d&quot;</span>,</div>
<div class="line"><span class="lineno"> 1906</span>            (<span class="keywordtype">int</span>)(ev_uint8_t)((a&gt;&gt;24)&amp;0xff),</div>
<div class="line"><span class="lineno"> 1907</span>            (<span class="keywordtype">int</span>)(ev_uint8_t)((a&gt;&gt;16)&amp;0xff),</div>
<div class="line"><span class="lineno"> 1908</span>            (<span class="keywordtype">int</span>)(ev_uint8_t)((a&gt;&gt;8 )&amp;0xff),</div>
<div class="line"><span class="lineno"> 1909</span>            (<span class="keywordtype">int</span>)(ev_uint8_t)((a    )&amp;0xff));</div>
<div class="line"><span class="lineno"> 1910</span>        <span class="keywordflow">if</span> (r&lt;0||(<span class="keywordtype">size_t</span>)r&gt;=len)</div>
<div class="line"><span class="lineno"> 1911</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1912</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1913</span>            <span class="keywordflow">return</span> dst;</div>
<div class="line"><span class="lineno"> 1914</span><span class="preprocessor">#ifdef AF_INET6</span></div>
<div class="line"><span class="lineno"> 1915</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (af == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>) {</div>
<div class="line"><span class="lineno"> 1916</span>        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structin6__addr.html">in6_addr</a> *addr = src;</div>
<div class="line"><span class="lineno"> 1917</span>        <span class="keywordtype">char</span> buf[64], *cp;</div>
<div class="line"><span class="lineno"> 1918</span>        <span class="keywordtype">int</span> longestGapLen = 0, longestGapPos = -1, i,</div>
<div class="line"><span class="lineno"> 1919</span>            curGapPos = -1, curGapLen = 0;</div>
<div class="line"><span class="lineno"> 1920</span>        ev_uint16_t words[8];</div>
<div class="line"><span class="lineno"> 1921</span>        <span class="keywordflow">for</span> (i = 0; i &lt; 8; ++i) {</div>
<div class="line"><span class="lineno"> 1922</span>            words[i] =</div>
<div class="line"><span class="lineno"> 1923</span>                (((ev_uint16_t)addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[2*i])&lt;&lt;8) + addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[2*i+1];</div>
<div class="line"><span class="lineno"> 1924</span>        }</div>
<div class="line"><span class="lineno"> 1925</span>        <span class="keywordflow">if</span> (words[0] == 0 &amp;&amp; words[1] == 0 &amp;&amp; words[2] == 0 &amp;&amp; words[3] == 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1926</span>            words[4] == 0 &amp;&amp; ((words[5] == 0 &amp;&amp; words[6] &amp;&amp; words[7]) ||</div>
<div class="line"><span class="lineno"> 1927</span>            (words[5] == 0xffff))) {</div>
<div class="line"><span class="lineno"> 1928</span>            <span class="comment">/* This is an IPv4 address. */</span></div>
<div class="line"><span class="lineno"> 1929</span>            <span class="keywordflow">if</span> (words[5] == 0) {</div>
<div class="line"><span class="lineno"> 1930</span>                <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;::%d.%d.%d.%d&quot;</span>,</div>
<div class="line"><span class="lineno"> 1931</span>                    addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[12], addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[13],</div>
<div class="line"><span class="lineno"> 1932</span>                    addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[14], addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[15]);</div>
<div class="line"><span class="lineno"> 1933</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1934</span>                <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;::%x:%d.%d.%d.%d&quot;</span>, words[5],</div>
<div class="line"><span class="lineno"> 1935</span>                    addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[12], addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[13],</div>
<div class="line"><span class="lineno"> 1936</span>                    addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[14], addr-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[15]);</div>
<div class="line"><span class="lineno"> 1937</span>            }</div>
<div class="line"><span class="lineno"> 1938</span>            <span class="keywordflow">if</span> (strlen(buf) &gt; len)</div>
<div class="line"><span class="lineno"> 1939</span>                <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1940</span>            <a class="code hl_define" href="strlcpy-internal_8h.html#a61ae5a0c7536d81d0fb52661f75254cb">strlcpy</a>(dst, buf, len);</div>
<div class="line"><span class="lineno"> 1941</span>            <span class="keywordflow">return</span> dst;</div>
<div class="line"><span class="lineno"> 1942</span>        }</div>
<div class="line"><span class="lineno"> 1943</span>        i = 0;</div>
<div class="line"><span class="lineno"> 1944</span>        <span class="keywordflow">while</span> (i &lt; 8) {</div>
<div class="line"><span class="lineno"> 1945</span>            <span class="keywordflow">if</span> (words[i] == 0) {</div>
<div class="line"><span class="lineno"> 1946</span>                curGapPos = i++;</div>
<div class="line"><span class="lineno"> 1947</span>                curGapLen = 1;</div>
<div class="line"><span class="lineno"> 1948</span>                <span class="keywordflow">while</span> (i&lt;8 &amp;&amp; words[i] == 0) {</div>
<div class="line"><span class="lineno"> 1949</span>                    ++i; ++curGapLen;</div>
<div class="line"><span class="lineno"> 1950</span>                }</div>
<div class="line"><span class="lineno"> 1951</span>                <span class="keywordflow">if</span> (curGapLen &gt; longestGapLen) {</div>
<div class="line"><span class="lineno"> 1952</span>                    longestGapPos = curGapPos;</div>
<div class="line"><span class="lineno"> 1953</span>                    longestGapLen = curGapLen;</div>
<div class="line"><span class="lineno"> 1954</span>                }</div>
<div class="line"><span class="lineno"> 1955</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1956</span>                ++i;</div>
<div class="line"><span class="lineno"> 1957</span>            }</div>
<div class="line"><span class="lineno"> 1958</span>        }</div>
<div class="line"><span class="lineno"> 1959</span>        <span class="keywordflow">if</span> (longestGapLen&lt;=1)</div>
<div class="line"><span class="lineno"> 1960</span>            longestGapPos = -1;</div>
<div class="line"><span class="lineno"> 1961</span> </div>
<div class="line"><span class="lineno"> 1962</span>        cp = buf;</div>
<div class="line"><span class="lineno"> 1963</span>        <span class="keywordflow">for</span> (i = 0; i &lt; 8; ++i) {</div>
<div class="line"><span class="lineno"> 1964</span>            <span class="keywordflow">if</span> (words[i] == 0 &amp;&amp; longestGapPos == i) {</div>
<div class="line"><span class="lineno"> 1965</span>                <span class="keywordflow">if</span> (i == 0)</div>
<div class="line"><span class="lineno"> 1966</span>                    *cp++ = <span class="charliteral">&#39;:&#39;</span>;</div>
<div class="line"><span class="lineno"> 1967</span>                *cp++ = <span class="charliteral">&#39;:&#39;</span>;</div>
<div class="line"><span class="lineno"> 1968</span>                <span class="keywordflow">while</span> (i &lt; 8 &amp;&amp; words[i] == 0)</div>
<div class="line"><span class="lineno"> 1969</span>                    ++i;</div>
<div class="line"><span class="lineno"> 1970</span>                --i; <span class="comment">/* to compensate for loop increment. */</span></div>
<div class="line"><span class="lineno"> 1971</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1972</span>                <a class="code hl_function" href="evutil_8c.html#a55dc7427a539b8c710acf6eb117364e1">evutil_snprintf</a>(cp,</div>
<div class="line"><span class="lineno"> 1973</span>                                <span class="keyword">sizeof</span>(buf)-(cp-buf), <span class="stringliteral">&quot;%x&quot;</span>, (<span class="keywordtype">unsigned</span>)words[i]);</div>
<div class="line"><span class="lineno"> 1974</span>                cp += strlen(cp);</div>
<div class="line"><span class="lineno"> 1975</span>                <span class="keywordflow">if</span> (i != 7)</div>
<div class="line"><span class="lineno"> 1976</span>                    *cp++ = <span class="charliteral">&#39;:&#39;</span>;</div>
<div class="line"><span class="lineno"> 1977</span>            }</div>
<div class="line"><span class="lineno"> 1978</span>        }</div>
<div class="line"><span class="lineno"> 1979</span>        *cp = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1980</span>        <span class="keywordflow">if</span> (strlen(buf) &gt; len)</div>
<div class="line"><span class="lineno"> 1981</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1982</span>        <a class="code hl_define" href="strlcpy-internal_8h.html#a61ae5a0c7536d81d0fb52661f75254cb">strlcpy</a>(dst, buf, len);</div>
<div class="line"><span class="lineno"> 1983</span>        <span class="keywordflow">return</span> dst;</div>
<div class="line"><span class="lineno"> 1984</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1985</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1986</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1987</span>    }</div>
<div class="line"><span class="lineno"> 1988</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1989</span>}</div>
<div class="ttc" id="astrlcpy-internal_8h_html_a61ae5a0c7536d81d0fb52661f75254cb"><div class="ttname"><a href="strlcpy-internal_8h.html#a61ae5a0c7536d81d0fb52661f75254cb">strlcpy</a></div><div class="ttdeci">#define strlcpy</div><div class="ttdef"><b>Definition:</b> <a href="strlcpy-internal_8h_source.html#l00016">strlcpy-internal.h:16</a></div></div>
<div class="ttc" id="astructin6__addr_html"><div class="ttname"><a href="structin6__addr.html">in6_addr</a></div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00053">ipv6-internal.h:53</a></div></div>
<div class="ttc" id="astructin6__addr_html_a2ed86705470b8114fc3c7d93b7af6f5a"><div class="ttname"><a href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">in6_addr::s6_addr</a></div><div class="ttdeci">ev_uint8_t s6_addr[16]</div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00054">ipv6-internal.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="evutil_8c_source.html#l01858">evutil_snprintf()</a>, <a class="el" href="ipv6-internal_8h_source.html#l00054">in6_addr::s6_addr</a>, and <a class="el" href="strlcpy-internal_8h_source.html#l00016">strlcpy</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00873">broadcast_handshake_done()</a>, <a class="el" href="net_8c_source.html#l00743">dogecoin_get_peers_from_dns()</a>, and <a class="el" href="evutil_8c_source.html#l02246">evutil_format_sockaddr_port_()</a>.</p>

</div>
</div>
<a id="a1457e5a0b461a99ca9d6d5c19e9dd65f" name="a1457e5a0b461a99ca9d6d5c19e9dd65f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1457e5a0b461a99ca9d6d5c19e9dd65f">&#9670;&nbsp;</a></span>evutil_inet_pton()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_inet_pton </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>af</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02027">2027</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2028</span>{</div>
<div class="line"><span class="lineno"> 2029</span><span class="preprocessor">#if defined(EVENT__HAVE_INET_PTON) &amp;&amp; !defined(USE_INTERNAL_PTON)</span></div>
<div class="line"><span class="lineno"> 2030</span>    <span class="keywordflow">return</span> inet_pton(af, src, dst);</div>
<div class="line"><span class="lineno"> 2031</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2032</span>    <span class="keywordflow">if</span> (af == AF_INET) {</div>
<div class="line"><span class="lineno"> 2033</span>        <span class="keywordtype">unsigned</span> a,b,c,d;</div>
<div class="line"><span class="lineno"> 2034</span>        <span class="keywordtype">char</span> more;</div>
<div class="line"><span class="lineno"> 2035</span>        <span class="keyword">struct </span>in_addr *addr = dst;</div>
<div class="line"><span class="lineno"> 2036</span>        <span class="keywordflow">if</span> (sscanf(src, <span class="stringliteral">&quot;%u.%u.%u.%u%c&quot;</span>, &amp;a,&amp;b,&amp;c,&amp;d,&amp;more) != 4)</div>
<div class="line"><span class="lineno"> 2037</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2038</span>        <span class="keywordflow">if</span> (a &gt; 255) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2039</span>        <span class="keywordflow">if</span> (b &gt; 255) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2040</span>        <span class="keywordflow">if</span> (c &gt; 255) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2041</span>        <span class="keywordflow">if</span> (d &gt; 255) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2042</span>        addr-&gt;s_addr = htonl((a&lt;&lt;24) | (b&lt;&lt;16) | (c&lt;&lt;8) | d);</div>
<div class="line"><span class="lineno"> 2043</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2044</span><span class="preprocessor">#ifdef AF_INET6</span></div>
<div class="line"><span class="lineno"> 2045</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (af == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>) {</div>
<div class="line"><span class="lineno"> 2046</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structin6__addr.html">in6_addr</a> *out = dst;</div>
<div class="line"><span class="lineno"> 2047</span>        ev_uint16_t words[8];</div>
<div class="line"><span class="lineno"> 2048</span>        <span class="keywordtype">int</span> gapPos = -1, i, setWords=0;</div>
<div class="line"><span class="lineno"> 2049</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *dot = strchr(src, <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><span class="lineno"> 2050</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *eow; <span class="comment">/* end of words. */</span></div>
<div class="line"><span class="lineno"> 2051</span>        <span class="keywordflow">if</span> (dot == src)</div>
<div class="line"><span class="lineno"> 2052</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2053</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!dot)</div>
<div class="line"><span class="lineno"> 2054</span>            eow = src+strlen(src);</div>
<div class="line"><span class="lineno"> 2055</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2056</span>            <span class="keywordtype">unsigned</span> byte1,byte2,byte3,byte4;</div>
<div class="line"><span class="lineno"> 2057</span>            <span class="keywordtype">char</span> more;</div>
<div class="line"><span class="lineno"> 2058</span>            <span class="keywordflow">for</span> (eow = dot-1; eow &gt;= src &amp;&amp; <a class="code hl_function" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_</a>(*eow); --eow)</div>
<div class="line"><span class="lineno"> 2059</span>                ;</div>
<div class="line"><span class="lineno"> 2060</span>            ++eow;</div>
<div class="line"><span class="lineno"> 2061</span> </div>
<div class="line"><span class="lineno"> 2062</span>            <span class="comment">/* We use &quot;scanf&quot; because some platform inet_aton()s are too lax</span></div>
<div class="line"><span class="lineno"> 2063</span><span class="comment">             * about IPv4 addresses of the form &quot;1.2.3&quot; */</span></div>
<div class="line"><span class="lineno"> 2064</span>            <span class="keywordflow">if</span> (sscanf(eow, <span class="stringliteral">&quot;%u.%u.%u.%u%c&quot;</span>,</div>
<div class="line"><span class="lineno"> 2065</span>                       &amp;byte1,&amp;byte2,&amp;byte3,&amp;byte4,&amp;more) != 4)</div>
<div class="line"><span class="lineno"> 2066</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2067</span> </div>
<div class="line"><span class="lineno"> 2068</span>            <span class="keywordflow">if</span> (byte1 &gt; 255 ||</div>
<div class="line"><span class="lineno"> 2069</span>                byte2 &gt; 255 ||</div>
<div class="line"><span class="lineno"> 2070</span>                byte3 &gt; 255 ||</div>
<div class="line"><span class="lineno"> 2071</span>                byte4 &gt; 255)</div>
<div class="line"><span class="lineno"> 2072</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2073</span> </div>
<div class="line"><span class="lineno"> 2074</span>            words[6] = (byte1&lt;&lt;8) | byte2;</div>
<div class="line"><span class="lineno"> 2075</span>            words[7] = (byte3&lt;&lt;8) | byte4;</div>
<div class="line"><span class="lineno"> 2076</span>            setWords += 2;</div>
<div class="line"><span class="lineno"> 2077</span>        }</div>
<div class="line"><span class="lineno"> 2078</span> </div>
<div class="line"><span class="lineno"> 2079</span>        i = 0;</div>
<div class="line"><span class="lineno"> 2080</span>        <span class="keywordflow">while</span> (src &lt; eow) {</div>
<div class="line"><span class="lineno"> 2081</span>            <span class="keywordflow">if</span> (i &gt; 7)</div>
<div class="line"><span class="lineno"> 2082</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2083</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(*src)) {</div>
<div class="line"><span class="lineno"> 2084</span>                <span class="keywordtype">char</span> *next;</div>
<div class="line"><span class="lineno"> 2085</span>                <span class="keywordtype">long</span> r = strtol(src, &amp;next, 16);</div>
<div class="line"><span class="lineno"> 2086</span>                <span class="keywordflow">if</span> (next &gt; 4+src)</div>
<div class="line"><span class="lineno"> 2087</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2088</span>                <span class="keywordflow">if</span> (next == src)</div>
<div class="line"><span class="lineno"> 2089</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2090</span>                <span class="keywordflow">if</span> (r&lt;0 || r&gt;65536)</div>
<div class="line"><span class="lineno"> 2091</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2092</span> </div>
<div class="line"><span class="lineno"> 2093</span>                words[i++] = (ev_uint16_t)r;</div>
<div class="line"><span class="lineno"> 2094</span>                setWords++;</div>
<div class="line"><span class="lineno"> 2095</span>                src = next;</div>
<div class="line"><span class="lineno"> 2096</span>                <span class="keywordflow">if</span> (*src != <span class="charliteral">&#39;:&#39;</span> &amp;&amp; src != eow)</div>
<div class="line"><span class="lineno"> 2097</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2098</span>                ++src;</div>
<div class="line"><span class="lineno"> 2099</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*src == <span class="charliteral">&#39;:&#39;</span> &amp;&amp; i &gt; 0 &amp;&amp; gapPos==-1) {</div>
<div class="line"><span class="lineno"> 2100</span>                gapPos = i;</div>
<div class="line"><span class="lineno"> 2101</span>                ++src;</div>
<div class="line"><span class="lineno"> 2102</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*src == <span class="charliteral">&#39;:&#39;</span> &amp;&amp; i == 0 &amp;&amp; src[1] == <span class="charliteral">&#39;:&#39;</span> &amp;&amp; gapPos==-1) {</div>
<div class="line"><span class="lineno"> 2103</span>                gapPos = i;</div>
<div class="line"><span class="lineno"> 2104</span>                src += 2;</div>
<div class="line"><span class="lineno"> 2105</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2106</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2107</span>            }</div>
<div class="line"><span class="lineno"> 2108</span>        }</div>
<div class="line"><span class="lineno"> 2109</span> </div>
<div class="line"><span class="lineno"> 2110</span>        <span class="keywordflow">if</span> (setWords &gt; 8 ||</div>
<div class="line"><span class="lineno"> 2111</span>            (setWords == 8 &amp;&amp; gapPos != -1) ||</div>
<div class="line"><span class="lineno"> 2112</span>            (setWords &lt; 8 &amp;&amp; gapPos == -1))</div>
<div class="line"><span class="lineno"> 2113</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2114</span> </div>
<div class="line"><span class="lineno"> 2115</span>        <span class="keywordflow">if</span> (gapPos &gt;= 0) {</div>
<div class="line"><span class="lineno"> 2116</span>            <span class="keywordtype">int</span> nToMove = setWords - (dot ? 2 : 0) - gapPos;</div>
<div class="line"><span class="lineno"> 2117</span>            <span class="keywordtype">int</span> gapLen = 8 - setWords;</div>
<div class="line"><span class="lineno"> 2118</span>            <span class="comment">/* assert(nToMove &gt;= 0); */</span></div>
<div class="line"><span class="lineno"> 2119</span>            <span class="keywordflow">if</span> (nToMove &lt; 0)</div>
<div class="line"><span class="lineno"> 2120</span>                <span class="keywordflow">return</span> -1; <span class="comment">/* should be impossible */</span></div>
<div class="line"><span class="lineno"> 2121</span>            memmove(&amp;words[gapPos+gapLen], &amp;words[gapPos],</div>
<div class="line"><span class="lineno"> 2122</span>                    <span class="keyword">sizeof</span>(ev_uint16_t)*nToMove);</div>
<div class="line"><span class="lineno"> 2123</span>            memset(&amp;words[gapPos], 0, <span class="keyword">sizeof</span>(ev_uint16_t)*gapLen);</div>
<div class="line"><span class="lineno"> 2124</span>        }</div>
<div class="line"><span class="lineno"> 2125</span>        <span class="keywordflow">for</span> (i = 0; i &lt; 8; ++i) {</div>
<div class="line"><span class="lineno"> 2126</span>            out-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[2*i  ] = words[i] &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 2127</span>            out-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>[2*i+1] = words[i] &amp; 0xff;</div>
<div class="line"><span class="lineno"> 2128</span>        }</div>
<div class="line"><span class="lineno"> 2129</span> </div>
<div class="line"><span class="lineno"> 2130</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2131</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2132</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2133</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2134</span>    }</div>
<div class="line"><span class="lineno"> 2135</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2136</span>}</div>
<div class="ttc" id="autil-internal_8h_html_a0cd6582ec749a8fd4dc00bc7f3a3bbff"><div class="ttname"><a href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int EVUTIL_ISXDIGIT_(char c)</div></div>
<div class="ttc" id="autil-internal_8h_html_a0fb29ac45a7bd8df683d79f26f36967c"><div class="ttname"><a href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int EVUTIL_ISDIGIT_(char c)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_()</a>, <a class="el" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_()</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00054">in6_addr::s6_addr</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04583">bracket_addr_ok()</a>, <a class="el" href="evutil_8c_source.html#l00758">evutil_check_interfaces()</a>, <a class="el" href="evutil_8c_source.html#l00993">evutil_getaddrinfo_common_()</a>, <a class="el" href="evutil_8c_source.html#l01992">evutil_inet_pton_scope()</a>, and <a class="el" href="evutil_8c_source.html#l02139">evutil_parse_sockaddr_port()</a>.</p>

</div>
</div>
<a id="a9c1fe41a24b3ad48f26f8890785bbe0c" name="a9c1fe41a24b3ad48f26f8890785bbe0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c1fe41a24b3ad48f26f8890785bbe0c">&#9670;&nbsp;</a></span>evutil_inet_pton_scope()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_inet_pton_scope </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>af</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>indexp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01992">1992</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1993</span>{</div>
<div class="line"><span class="lineno"> 1994</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1995</span>    <span class="keywordtype">unsigned</span> if_index;</div>
<div class="line"><span class="lineno"> 1996</span>    <span class="keywordtype">char</span> *check, *cp, *tmp_src;</div>
<div class="line"><span class="lineno"> 1997</span> </div>
<div class="line"><span class="lineno"> 1998</span>    *indexp = 0; <span class="comment">/* Reasonable default */</span></div>
<div class="line"><span class="lineno"> 1999</span> </div>
<div class="line"><span class="lineno"> 2000</span>    <span class="comment">/* Bail out if not IPv6 */</span></div>
<div class="line"><span class="lineno"> 2001</span>    <span class="keywordflow">if</span> (af != <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>)</div>
<div class="line"><span class="lineno"> 2002</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a>(af, src, dst);</div>
<div class="line"><span class="lineno"> 2003</span> </div>
<div class="line"><span class="lineno"> 2004</span>    cp = strchr(src, <span class="charliteral">&#39;%&#39;</span>);</div>
<div class="line"><span class="lineno"> 2005</span> </div>
<div class="line"><span class="lineno"> 2006</span>    <span class="comment">/* Bail out if no zone ID */</span></div>
<div class="line"><span class="lineno"> 2007</span>    <span class="keywordflow">if</span> (cp == NULL)</div>
<div class="line"><span class="lineno"> 2008</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a>(af, src, dst);</div>
<div class="line"><span class="lineno"> 2009</span> </div>
<div class="line"><span class="lineno"> 2010</span>    if_index = if_nametoindex(cp + 1);</div>
<div class="line"><span class="lineno"> 2011</span>    <span class="keywordflow">if</span> (if_index == 0) {</div>
<div class="line"><span class="lineno"> 2012</span>        <span class="comment">/* Could be numeric */</span></div>
<div class="line"><span class="lineno"> 2013</span>        if_index = strtoul(cp + 1, &amp;check, 10);</div>
<div class="line"><span class="lineno"> 2014</span>        <span class="keywordflow">if</span> (check[0] != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno"> 2015</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2016</span>    }</div>
<div class="line"><span class="lineno"> 2017</span>    *indexp = if_index;</div>
<div class="line"><span class="lineno"> 2018</span>    tmp_src = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(src);</div>
<div class="line"><span class="lineno"> 2019</span>    cp = strchr(tmp_src, <span class="charliteral">&#39;%&#39;</span>);</div>
<div class="line"><span class="lineno"> 2020</span>    *cp = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 2021</span>    r = <a class="code hl_function" href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a>(af, tmp_src, dst);</div>
<div class="line"><span class="lineno"> 2022</span>    free(tmp_src);</div>
<div class="line"><span class="lineno"> 2023</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2024</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="evutil_8c_source.html#l02027">evutil_inet_pton()</a>, and <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00993">evutil_getaddrinfo_common_()</a>, and <a class="el" href="evutil_8c_source.html#l02139">evutil_parse_sockaddr_port()</a>.</p>

</div>
</div>
<a id="ab1ed6a7c34adf3617143c9a2fec5d2ce" name="ab1ed6a7c34adf3617143c9a2fec5d2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ed6a7c34adf3617143c9a2fec5d2ce">&#9670;&nbsp;</a></span>evutil_issetugid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evutil_issetugid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02444">2444</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2445</span>{</div>
<div class="line"><span class="lineno"> 2446</span><span class="preprocessor">#ifdef EVENT__HAVE_ISSETUGID</span></div>
<div class="line"><span class="lineno"> 2447</span>    <span class="keywordflow">return</span> issetugid();</div>
<div class="line"><span class="lineno"> 2448</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2449</span> </div>
<div class="line"><span class="lineno"> 2450</span><span class="preprocessor">#ifdef EVENT__HAVE_GETEUID</span></div>
<div class="line"><span class="lineno"> 2451</span>    <span class="keywordflow">if</span> (getuid() != geteuid())</div>
<div class="line"><span class="lineno"> 2452</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2453</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2454</span><span class="preprocessor">#ifdef EVENT__HAVE_GETEGID</span></div>
<div class="line"><span class="lineno"> 2455</span>    <span class="keywordflow">if</span> (getgid() != getegid())</div>
<div class="line"><span class="lineno"> 2456</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2457</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2458</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2459</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2460</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02463">evutil_getenv_()</a>.</p>

</div>
</div>
<a id="ac9621ec3160c76f8f6dd67c8007ef4dc" name="ac9621ec3160c76f8f6dd67c8007ef4dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9621ec3160c76f8f6dd67c8007ef4dc">&#9670;&nbsp;</a></span>evutil_make_internal_pipe_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_make_internal_pipe_ </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>[2]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02672">2672</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2673</span>{</div>
<div class="line"><span class="lineno"> 2674</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2675</span><span class="comment">      Making the second socket nonblocking is a bit subtle, given that we</span></div>
<div class="line"><span class="lineno"> 2676</span><span class="comment">      ignore any EAGAIN returns when writing to it, and you don&#39;t usally</span></div>
<div class="line"><span class="lineno"> 2677</span><span class="comment">      do that for a nonblocking socket. But if the kernel gives us EAGAIN,</span></div>
<div class="line"><span class="lineno"> 2678</span><span class="comment">      then there&#39;s no need to add any more data to the buffer, since</span></div>
<div class="line"><span class="lineno"> 2679</span><span class="comment">      the main thread is already either about to wake up and drain it,</span></div>
<div class="line"><span class="lineno"> 2680</span><span class="comment">      or woken up and in the process of draining it.</span></div>
<div class="line"><span class="lineno"> 2681</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 2682</span> </div>
<div class="line"><span class="lineno"> 2683</span><span class="preprocessor">#if defined(EVENT__HAVE_PIPE2)</span></div>
<div class="line"><span class="lineno"> 2684</span>    <span class="keywordflow">if</span> (pipe2(fd, O_NONBLOCK|O_CLOEXEC) == 0)</div>
<div class="line"><span class="lineno"> 2685</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2686</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2687</span><span class="preprocessor">#if defined(EVENT__HAVE_PIPE)</span></div>
<div class="line"><span class="lineno"> 2688</span>    <span class="keywordflow">if</span> (pipe(fd) == 0) {</div>
<div class="line"><span class="lineno"> 2689</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a3920bebac41cf9438435aac390853006">evutil_fast_socket_nonblocking</a>(fd[0]) &lt; 0 ||</div>
<div class="line"><span class="lineno"> 2690</span>            <a class="code hl_function" href="evutil_8c.html#a3920bebac41cf9438435aac390853006">evutil_fast_socket_nonblocking</a>(fd[1]) &lt; 0 ||</div>
<div class="line"><span class="lineno"> 2691</span>            <a class="code hl_function" href="evutil_8c.html#ab9034da760c901d74cddf3880065bb91">evutil_fast_socket_closeonexec</a>(fd[0]) &lt; 0 ||</div>
<div class="line"><span class="lineno"> 2692</span>            <a class="code hl_function" href="evutil_8c.html#ab9034da760c901d74cddf3880065bb91">evutil_fast_socket_closeonexec</a>(fd[1]) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2693</span>            close(fd[0]);</div>
<div class="line"><span class="lineno"> 2694</span>            close(fd[1]);</div>
<div class="line"><span class="lineno"> 2695</span>            fd[0] = fd[1] = -1;</div>
<div class="line"><span class="lineno"> 2696</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2697</span>        }</div>
<div class="line"><span class="lineno"> 2698</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2699</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2700</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: pipe&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 2701</span>    }</div>
<div class="line"><span class="lineno"> 2702</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2703</span> </div>
<div class="line"><span class="lineno"> 2704</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 2705</span><span class="preprocessor">#define LOCAL_SOCKETPAIR_AF AF_INET</span></div>
<div class="line"><span class="lineno"> 2706</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2707</span><span class="preprocessor">#define LOCAL_SOCKETPAIR_AF AF_UNIX</span></div>
<div class="line"><span class="lineno"> 2708</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2709</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a651b1a620ccb53ce617e29545736e4d0">evutil_socketpair</a>(<a class="code hl_define" href="evutil_8c.html#aab01dd7ebbb1c93969108e97c6352502">LOCAL_SOCKETPAIR_AF</a>, SOCK_STREAM, 0, fd) == 0) {</div>
<div class="line"><span class="lineno"> 2710</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a3920bebac41cf9438435aac390853006">evutil_fast_socket_nonblocking</a>(fd[0]) &lt; 0 ||</div>
<div class="line"><span class="lineno"> 2711</span>            <a class="code hl_function" href="evutil_8c.html#a3920bebac41cf9438435aac390853006">evutil_fast_socket_nonblocking</a>(fd[1]) &lt; 0 ||</div>
<div class="line"><span class="lineno"> 2712</span>            <a class="code hl_function" href="evutil_8c.html#ab9034da760c901d74cddf3880065bb91">evutil_fast_socket_closeonexec</a>(fd[0]) &lt; 0 ||</div>
<div class="line"><span class="lineno"> 2713</span>            <a class="code hl_function" href="evutil_8c.html#ab9034da760c901d74cddf3880065bb91">evutil_fast_socket_closeonexec</a>(fd[1]) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2714</span>            <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(fd[0]);</div>
<div class="line"><span class="lineno"> 2715</span>            <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(fd[1]);</div>
<div class="line"><span class="lineno"> 2716</span>            fd[0] = fd[1] = -1;</div>
<div class="line"><span class="lineno"> 2717</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2718</span>        }</div>
<div class="line"><span class="lineno"> 2719</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2720</span>    }</div>
<div class="line"><span class="lineno"> 2721</span>    fd[0] = fd[1] = -1;</div>
<div class="line"><span class="lineno"> 2722</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2723</span>}</div>
<div class="ttc" id="aevutil_8c_html_a651b1a620ccb53ce617e29545736e4d0"><div class="ttname"><a href="evutil_8c.html#a651b1a620ccb53ce617e29545736e4d0">evutil_socketpair</a></div><div class="ttdeci">int evutil_socketpair(int family, int type, int protocol, evutil_socket_t fd[2])</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00202">evutil.c:202</a></div></div>
<div class="ttc" id="aevutil_8c_html_aab01dd7ebbb1c93969108e97c6352502"><div class="ttname"><a href="evutil_8c.html#aab01dd7ebbb1c93969108e97c6352502">LOCAL_SOCKETPAIR_AF</a></div><div class="ttdeci">#define LOCAL_SOCKETPAIR_AF</div></div>
<div class="ttc" id="autil-internal_8h_html_a7d6e1cf1a8d53f38471e9e9db3faf740"><div class="ttname"><a href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a></div><div class="ttdeci">#define __func__</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00086">util-internal.h:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="evutil_8c_source.html#l00442">evutil_fast_socket_closeonexec()</a>, <a class="el" href="evutil_8c_source.html#l00351">evutil_fast_socket_nonblocking()</a>, <a class="el" href="evutil_8c_source.html#l00202">evutil_socketpair()</a>, and <a class="el" href="evutil_8c.html#aab01dd7ebbb1c93969108e97c6352502">LOCAL_SOCKETPAIR_AF</a>.</p>

<p class="reference">Referenced by <a class="el" href="signal_8c_source.html#l00176">evsig_init_()</a>, and <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>.</p>

</div>
</div>
<a id="a9954a6c383abca79675641196d7b0396" name="a9954a6c383abca79675641196d7b0396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9954a6c383abca79675641196d7b0396">&#9670;&nbsp;</a></span>evutil_make_listen_socket_ipv6only()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_make_listen_socket_ipv6only </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00394">394</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  395</span>{</div>
<div class="line"><span class="lineno">  396</span><span class="preprocessor">#if defined(IPV6_V6ONLY)</span></div>
<div class="line"><span class="lineno">  397</span>    <span class="keywordtype">int</span> one = 1;</div>
<div class="line"><span class="lineno">  398</span>    <span class="keywordflow">return</span> setsockopt(sock, IPPROTO_IPV6, IPV6_V6ONLY, (<span class="keywordtype">void</span>*) &amp;one,</div>
<div class="line"><span class="lineno">  399</span>        (ev_socklen_t)<span class="keyword">sizeof</span>(one));</div>
<div class="line"><span class="lineno">  400</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  402</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="listener_8c_source.html#l00211">evconnlistener_new_bind()</a>.</p>

</div>
</div>
<a id="a050bec12aefa132d8e94e712332f38d9" name="a050bec12aefa132d8e94e712332f38d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a050bec12aefa132d8e94e712332f38d9">&#9670;&nbsp;</a></span>evutil_make_listen_socket_reuseable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_make_listen_socket_reuseable </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00365">365</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  366</span>{</div>
<div class="line"><span class="lineno">  367</span><span class="preprocessor">#if defined(SO_REUSEADDR) &amp;&amp; !defined(_WIN32)</span></div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordtype">int</span> one = 1;</div>
<div class="line"><span class="lineno">  369</span>    <span class="comment">/* REUSEADDR on Unix means, &quot;don&#39;t hang on to this address after the</span></div>
<div class="line"><span class="lineno">  370</span><span class="comment">     * listener is closed.&quot;  On Windows, though, it means &quot;don&#39;t keep other</span></div>
<div class="line"><span class="lineno">  371</span><span class="comment">     * processes from binding to this address while we&#39;re using it. */</span></div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">return</span> setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, (<span class="keywordtype">void</span>*) &amp;one,</div>
<div class="line"><span class="lineno">  373</span>        (ev_socklen_t)<span class="keyword">sizeof</span>(one));</div>
<div class="line"><span class="lineno">  374</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  376</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  377</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04392">create_bind_socket_nonblock()</a>, and <a class="el" href="listener_8c_source.html#l00211">evconnlistener_new_bind()</a>.</p>

</div>
</div>
<a id="a1e1173947efc4bc84073229ae202c1bb" name="a1e1173947efc4bc84073229ae202c1bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e1173947efc4bc84073229ae202c1bb">&#9670;&nbsp;</a></span>evutil_make_listen_socket_reuseable_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_make_listen_socket_reuseable_port </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00380">380</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  381</span>{</div>
<div class="line"><span class="lineno">  382</span><span class="preprocessor">#if defined __linux__ &amp;&amp; defined(SO_REUSEPORT)</span></div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordtype">int</span> one = 1;</div>
<div class="line"><span class="lineno">  384</span>    <span class="comment">/* REUSEPORT on Linux 3.9+ means, &quot;Multiple servers (processes or</span></div>
<div class="line"><span class="lineno">  385</span><span class="comment">     * threads) can bind to the same port if they each set the option. */</span></div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">return</span> setsockopt(sock, SOL_SOCKET, SO_REUSEPORT, (<span class="keywordtype">void</span>*) &amp;one,</div>
<div class="line"><span class="lineno">  387</span>        (ev_socklen_t)<span class="keyword">sizeof</span>(one));</div>
<div class="line"><span class="lineno">  388</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  390</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  391</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="listener_8c_source.html#l00211">evconnlistener_new_bind()</a>.</p>

</div>
</div>
<a id="a18af866d9a76d7538ed700473b8c3039" name="a18af866d9a76d7538ed700473b8c3039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18af866d9a76d7538ed700473b8c3039">&#9670;&nbsp;</a></span>evutil_make_socket_closeonexec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_make_socket_closeonexec </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00419">419</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  420</span>{</div>
<div class="line"><span class="lineno">  421</span><span class="preprocessor">#if !defined(_WIN32) &amp;&amp; defined(EVENT__HAVE_SETFD)</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordtype">int</span> flags;</div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">if</span> ((flags = fcntl(fd, F_GETFD, NULL)) &lt; 0) {</div>
<div class="line"><span class="lineno">  424</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;fcntl(%d, F_GETFD)&quot;</span>, fd);</div>
<div class="line"><span class="lineno">  425</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  426</span>    }</div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">if</span> (!(flags &amp; FD_CLOEXEC)) {</div>
<div class="line"><span class="lineno">  428</span>        <span class="keywordflow">if</span> (fcntl(fd, F_SETFD, flags | FD_CLOEXEC) == -1) {</div>
<div class="line"><span class="lineno">  429</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;fcntl(%d, F_SETFD)&quot;</span>, fd);</div>
<div class="line"><span class="lineno">  430</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  431</span>        }</div>
<div class="line"><span class="lineno">  432</span>    }</div>
<div class="line"><span class="lineno">  433</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  435</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>.</p>

</div>
</div>
<a id="a03f8c44ffaf711ad5f37fdc285b2c72b" name="a03f8c44ffaf711ad5f37fdc285b2c72b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03f8c44ffaf711ad5f37fdc285b2c72b">&#9670;&nbsp;</a></span>evutil_make_socket_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_make_socket_nonblocking </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00318">318</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  319</span>{</div>
<div class="line"><span class="lineno">  320</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  321</span>    {</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nonblocking = 1;</div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">if</span> (ioctlsocket(fd, FIONBIO, &amp;nonblocking) == SOCKET_ERROR) {</div>
<div class="line"><span class="lineno">  324</span>            <a class="code hl_function" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn</a>(fd, <span class="stringliteral">&quot;fcntl(%d, F_GETFL)&quot;</span>, (<span class="keywordtype">int</span>)fd);</div>
<div class="line"><span class="lineno">  325</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  326</span>        }</div>
<div class="line"><span class="lineno">  327</span>    }</div>
<div class="line"><span class="lineno">  328</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  329</span>    {</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordtype">int</span> flags;</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">if</span> ((flags = fcntl(fd, F_GETFL, NULL)) &lt; 0) {</div>
<div class="line"><span class="lineno">  332</span>            <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;fcntl(%d, F_GETFL)&quot;</span>, fd);</div>
<div class="line"><span class="lineno">  333</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  334</span>        }</div>
<div class="line"><span class="lineno">  335</span>        <span class="keywordflow">if</span> (!(flags &amp; O_NONBLOCK)) {</div>
<div class="line"><span class="lineno">  336</span>            <span class="keywordflow">if</span> (fcntl(fd, F_SETFL, flags | O_NONBLOCK) == -1) {</div>
<div class="line"><span class="lineno">  337</span>                <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;fcntl(%d, F_SETFL)&quot;</span>, fd);</div>
<div class="line"><span class="lineno">  338</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  339</span>            }</div>
<div class="line"><span class="lineno">  340</span>        }</div>
<div class="line"><span class="lineno">  341</span>    }</div>
<div class="line"><span class="lineno">  342</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  343</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  344</span>}</div>
<div class="ttc" id="alog-internal_8h_html_a5f53113b969e2ebd8c6ea0fac36004d2"><div class="ttname"><a href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_sock_warn(evutil_socket_t sock, const char *fmt,...) EV_CHECK_FMT(2</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn()</a>, and <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00351">evutil_fast_socket_nonblocking()</a>, and <a class="el" href="evutil_8c_source.html#l00543">evutil_socket_connect_()</a>.</p>

</div>
</div>
<a id="a2632e1d8bf78893724ef26e822ea2af4" name="a2632e1d8bf78893724ef26e822ea2af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2632e1d8bf78893724ef26e822ea2af4">&#9670;&nbsp;</a></span>evutil_make_tcp_listen_socket_deferred()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_make_tcp_listen_socket_deferred </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00405">405</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  406</span>{</div>
<div class="line"><span class="lineno">  407</span><span class="preprocessor">#if defined(EVENT__HAVE_NETINET_TCP_H) &amp;&amp; defined(TCP_DEFER_ACCEPT)</span></div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordtype">int</span> one = 1;</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <span class="comment">/* TCP_DEFER_ACCEPT tells the kernel to call defer accept() only after data</span></div>
<div class="line"><span class="lineno">  411</span><span class="comment">     * has arrived and ready to read */</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordflow">return</span> setsockopt(sock, IPPROTO_TCP, TCP_DEFER_ACCEPT, &amp;one,</div>
<div class="line"><span class="lineno">  413</span>        (ev_socklen_t)<span class="keyword">sizeof</span>(one)); </div>
<div class="line"><span class="lineno">  414</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  416</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="listener_8c_source.html#l00211">evconnlistener_new_bind()</a>.</p>

</div>
</div>
<a id="a72470db438c34c82b841b9145527ecf9" name="a72470db438c34c82b841b9145527ecf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72470db438c34c82b841b9145527ecf9">&#9670;&nbsp;</a></span>evutil_memclear_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evutil_memclear_ </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02526">2526</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2527</span>{</div>
<div class="line"><span class="lineno"> 2528</span>    <a class="code hl_variable" href="evutil_8c.html#a4f42d4352c0105a24061c33b9751d376">evutil_memset_volatile_</a>(mem, 0, len);</div>
<div class="line"><span class="lineno"> 2529</span>}</div>
<div class="ttc" id="aevutil_8c_html_a4f42d4352c0105a24061c33b9751d376"><div class="ttname"><a href="evutil_8c.html#a4f42d4352c0105a24061c33b9751d376">evutil_memset_volatile_</a></div><div class="ttdeci">void *(*volatile evutil_memset_volatile_)(void *, int, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02523">evutil.c:2523</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02523">evutil_memset_volatile_</a>.</p>

<p class="reference">Referenced by <a class="el" href="arc4random_8c_source.html#l00293">arc4_seed_urandom_helper_()</a>.</p>

</div>
</div>
<a id="af0010ca18f6715fc9d29b8bf3e8fe9e2" name="af0010ca18f6715fc9d29b8bf3e8fe9e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0010ca18f6715fc9d29b8bf3e8fe9e2">&#9670;&nbsp;</a></span>evutil_new_addrinfo_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct evutil_addrinfo * evutil_new_addrinfo_ </td>
          <td>(</td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_socklen_t&#160;</td>
          <td class="paramname"><em>socklen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>hints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00832">832</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  834</span>{</div>
<div class="line"><span class="lineno">  835</span>    <span class="keyword">struct </span>evutil_addrinfo *res;</div>
<div class="line"><span class="lineno">  836</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(hints);</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>    <span class="keywordflow">if</span> (hints-&gt;ai_socktype == 0 &amp;&amp; hints-&gt;ai_protocol == 0) {</div>
<div class="line"><span class="lineno">  839</span>        <span class="comment">/* Indecisive user! Give them a UDP and a TCP. */</span></div>
<div class="line"><span class="lineno">  840</span>        <span class="keyword">struct </span>evutil_addrinfo *r1, *r2;</div>
<div class="line"><span class="lineno">  841</span>        <span class="keyword">struct </span>evutil_addrinfo tmp;</div>
<div class="line"><span class="lineno">  842</span>        memcpy(&amp;tmp, hints, <span class="keyword">sizeof</span>(tmp));</div>
<div class="line"><span class="lineno">  843</span>        tmp.ai_socktype = SOCK_STREAM; tmp.ai_protocol = IPPROTO_TCP;</div>
<div class="line"><span class="lineno">  844</span>        r1 = <a class="code hl_function" href="evutil_8c.html#af0010ca18f6715fc9d29b8bf3e8fe9e2">evutil_new_addrinfo_</a>(sa, socklen, &amp;tmp);</div>
<div class="line"><span class="lineno">  845</span>        <span class="keywordflow">if</span> (!r1)</div>
<div class="line"><span class="lineno">  846</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  847</span>        tmp.ai_socktype = SOCK_DGRAM; tmp.ai_protocol = IPPROTO_UDP;</div>
<div class="line"><span class="lineno">  848</span>        r2 = <a class="code hl_function" href="evutil_8c.html#af0010ca18f6715fc9d29b8bf3e8fe9e2">evutil_new_addrinfo_</a>(sa, socklen, &amp;tmp);</div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">if</span> (!r2) {</div>
<div class="line"><span class="lineno">  850</span>            <a class="code hl_function" href="evutil_8c.html#ad43029540a4878bc49b343e7b0573ef3">evutil_freeaddrinfo</a>(r1);</div>
<div class="line"><span class="lineno">  851</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  852</span>        }</div>
<div class="line"><span class="lineno">  853</span>        r1-&gt;ai_next = r2;</div>
<div class="line"><span class="lineno">  854</span>        <span class="keywordflow">return</span> r1;</div>
<div class="line"><span class="lineno">  855</span>    }</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>    <span class="comment">/* We&#39;re going to allocate extra space to hold the sockaddr. */</span></div>
<div class="line"><span class="lineno">  858</span>    res = <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1,<span class="keyword">sizeof</span>(<span class="keyword">struct</span> evutil_addrinfo)+socklen);</div>
<div class="line"><span class="lineno">  859</span>    <span class="keywordflow">if</span> (!res)</div>
<div class="line"><span class="lineno">  860</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  861</span>    res-&gt;ai_addr = (<span class="keyword">struct </span>sockaddr*)</div>
<div class="line"><span class="lineno">  862</span>        (((<span class="keywordtype">char</span>*)res) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span>evutil_addrinfo));</div>
<div class="line"><span class="lineno">  863</span>    memcpy(res-&gt;ai_addr, sa, socklen);</div>
<div class="line"><span class="lineno">  864</span>    res-&gt;ai_addrlen = socklen;</div>
<div class="line"><span class="lineno">  865</span>    res-&gt;ai_family = sa-&gt;sa_family; <span class="comment">/* Same or not? XXX */</span></div>
<div class="line"><span class="lineno">  866</span>    res-&gt;ai_flags = <a class="code hl_define" href="evutil_8c.html#af7f10c85d48e7484c3f21626a8637b65">EVUTIL_AI_LIBEVENT_ALLOCATED</a>;</div>
<div class="line"><span class="lineno">  867</span>    res-&gt;ai_socktype = hints-&gt;ai_socktype;</div>
<div class="line"><span class="lineno">  868</span>    res-&gt;ai_protocol = hints-&gt;ai_protocol;</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  871</span>}</div>
<div class="ttc" id="amm-internal_8h_html_a0c64a2a6527ed776255e0e4e380593dc"><div class="ttname"><a href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a></div><div class="ttdeci">#define mm_calloc(count, size)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00076">mm-internal.h:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00824">EVUTIL_AI_LIBEVENT_ALLOCATED</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="evutil_8c_source.html#l01576">evutil_freeaddrinfo()</a>, <a class="el" href="evutil_8c_source.html#l00832">evutil_new_addrinfo_()</a>, and <a class="el" href="mm-internal_8h_source.html#l00076">mm_calloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01173">addrinfo_from_hostent()</a>, <a class="el" href="evdns_8c_source.html#l04661">evdns_getaddrinfo_fromhosts()</a>, <a class="el" href="evdns_8c_source.html#l04458">evdns_getaddrinfo_gotresolve()</a>, <a class="el" href="evutil_8c_source.html#l00993">evutil_getaddrinfo_common_()</a>, and <a class="el" href="evutil_8c_source.html#l00832">evutil_new_addrinfo_()</a>.</p>

</div>
</div>
<a id="aa0800e3d8c772ebcef7ba1fbc844a199" name="aa0800e3d8c772ebcef7ba1fbc844a199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0800e3d8c772ebcef7ba1fbc844a199">&#9670;&nbsp;</a></span>evutil_open_closeonexec_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_open_closeonexec_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00110">110</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>{</div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordtype">int</span> fd;</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span><span class="preprocessor">#ifdef O_CLOEXEC</span></div>
<div class="line"><span class="lineno">  115</span>    fd = open(pathname, flags|O_CLOEXEC, (mode_t)mode);</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">if</span> (fd &gt;= 0 || errno == EINVAL)</div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">return</span> fd;</div>
<div class="line"><span class="lineno">  118</span>    <span class="comment">/* If we got an EINVAL, fall through and try without O_CLOEXEC */</span></div>
<div class="line"><span class="lineno">  119</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  120</span>    fd = open(pathname, flags, (mode_t)mode);</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span><span class="preprocessor">#if defined(FD_CLOEXEC)</span></div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">if</span> (fcntl(fd, F_SETFD, FD_CLOEXEC) &lt; 0) {</div>
<div class="line"><span class="lineno">  126</span>        close(fd);</div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  128</span>    }</div>
<div class="line"><span class="lineno">  129</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">return</span> fd;</div>
<div class="line"><span class="lineno">  132</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="arc4random_8c_source.html#l00293">arc4_seed_urandom_helper_()</a>, and <a class="el" href="evutil_8c_source.html#l00145">evutil_read_file_()</a>.</p>

</div>
</div>
<a id="a0168df3e9f6d17e13d1ff8b6f3670ec6" name="a0168df3e9f6d17e13d1ff8b6f3670ec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0168df3e9f6d17e13d1ff8b6f3670ec6">&#9670;&nbsp;</a></span>evutil_parse_servname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evutil_parse_servname </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>servname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct evutil_addrinfo *&#160;</td>
          <td class="paramname"><em>hints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Parse a service name in 'servname', which can be a decimal port. Return the port number, or -1 on error. </p>

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00906">906</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  908</span>{</div>
<div class="line"><span class="lineno">  909</span>    <span class="keywordtype">int</span> n = <a class="code hl_function" href="evutil_8c.html#abd045fb4850e0a88d93331ab206770eb">parse_numeric_servname</a>(servname);</div>
<div class="line"><span class="lineno">  910</span>    <span class="keywordflow">if</span> (n&gt;=0)</div>
<div class="line"><span class="lineno">  911</span>        <span class="keywordflow">return</span> n;</div>
<div class="line"><span class="lineno">  912</span><span class="preprocessor">#if defined(EVENT__HAVE_GETSERVBYNAME) || defined(_WIN32)</span></div>
<div class="line"><span class="lineno">  913</span>    <span class="keywordflow">if</span> (!(hints-&gt;ai_flags &amp; EVUTIL_AI_NUMERICSERV)) {</div>
<div class="line"><span class="lineno">  914</span>        <span class="keyword">struct </span>servent *ent = getservbyname(servname, protocol);</div>
<div class="line"><span class="lineno">  915</span>        <span class="keywordflow">if</span> (ent) {</div>
<div class="line"><span class="lineno">  916</span>            <span class="keywordflow">return</span> ntohs(ent-&gt;s_port);</div>
<div class="line"><span class="lineno">  917</span>        }</div>
<div class="line"><span class="lineno">  918</span>    }</div>
<div class="line"><span class="lineno">  919</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  920</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  921</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00891">parse_numeric_servname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00993">evutil_getaddrinfo_common_()</a>.</p>

</div>
</div>
<a id="aae3aa0bf8f1193558141eecd471bac21" name="aae3aa0bf8f1193558141eecd471bac21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae3aa0bf8f1193558141eecd471bac21">&#9670;&nbsp;</a></span>evutil_parse_sockaddr_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_parse_sockaddr_port </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ip_as_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>outlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02139">2139</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2140</span>{</div>
<div class="line"><span class="lineno"> 2141</span>    <span class="keywordtype">int</span> port;</div>
<div class="line"><span class="lineno"> 2142</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> if_index;</div>
<div class="line"><span class="lineno"> 2143</span>    <span class="keywordtype">char</span> buf[128];</div>
<div class="line"><span class="lineno"> 2144</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *cp, *addr_part, *port_part;</div>
<div class="line"><span class="lineno"> 2145</span>    <span class="keywordtype">int</span> is_ipv6;</div>
<div class="line"><span class="lineno"> 2146</span>    <span class="comment">/* recognized formats are:</span></div>
<div class="line"><span class="lineno"> 2147</span><span class="comment">     * [ipv6]:port</span></div>
<div class="line"><span class="lineno"> 2148</span><span class="comment">     * ipv6</span></div>
<div class="line"><span class="lineno"> 2149</span><span class="comment">     * [ipv6]</span></div>
<div class="line"><span class="lineno"> 2150</span><span class="comment">     * ipv4:port</span></div>
<div class="line"><span class="lineno"> 2151</span><span class="comment">     * ipv4</span></div>
<div class="line"><span class="lineno"> 2152</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2153</span> </div>
<div class="line"><span class="lineno"> 2154</span>    cp = strchr(ip_as_string, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 2155</span>    <span class="keywordflow">if</span> (*ip_as_string == <span class="charliteral">&#39;[&#39;</span>) {</div>
<div class="line"><span class="lineno"> 2156</span>        <span class="keywordtype">size_t</span> len;</div>
<div class="line"><span class="lineno"> 2157</span>        <span class="keywordflow">if</span> (!(cp = strchr(ip_as_string, <span class="charliteral">&#39;]&#39;</span>))) {</div>
<div class="line"><span class="lineno"> 2158</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2159</span>        }</div>
<div class="line"><span class="lineno"> 2160</span>        len = ( cp-(ip_as_string + 1) );</div>
<div class="line"><span class="lineno"> 2161</span>        <span class="keywordflow">if</span> (len &gt; <span class="keyword">sizeof</span>(buf)-1) {</div>
<div class="line"><span class="lineno"> 2162</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2163</span>        }</div>
<div class="line"><span class="lineno"> 2164</span>        memcpy(buf, ip_as_string+1, len);</div>
<div class="line"><span class="lineno"> 2165</span>        buf[len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 2166</span>        addr_part = buf;</div>
<div class="line"><span class="lineno"> 2167</span>        <span class="keywordflow">if</span> (cp[1] == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno"> 2168</span>            port_part = cp+2;</div>
<div class="line"><span class="lineno"> 2169</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2170</span>            port_part = NULL;</div>
<div class="line"><span class="lineno"> 2171</span>        is_ipv6 = 1;</div>
<div class="line"><span class="lineno"> 2172</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cp &amp;&amp; strchr(cp+1, <span class="charliteral">&#39;:&#39;</span>)) {</div>
<div class="line"><span class="lineno"> 2173</span>        is_ipv6 = 1;</div>
<div class="line"><span class="lineno"> 2174</span>        addr_part = ip_as_string;</div>
<div class="line"><span class="lineno"> 2175</span>        port_part = NULL;</div>
<div class="line"><span class="lineno"> 2176</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cp) {</div>
<div class="line"><span class="lineno"> 2177</span>        is_ipv6 = 0;</div>
<div class="line"><span class="lineno"> 2178</span>        <span class="keywordflow">if</span> (cp - ip_as_string &gt; (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(buf)-1) {</div>
<div class="line"><span class="lineno"> 2179</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2180</span>        }</div>
<div class="line"><span class="lineno"> 2181</span>        memcpy(buf, ip_as_string, cp-ip_as_string);</div>
<div class="line"><span class="lineno"> 2182</span>        buf[cp-ip_as_string] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 2183</span>        addr_part = buf;</div>
<div class="line"><span class="lineno"> 2184</span>        port_part = cp+1;</div>
<div class="line"><span class="lineno"> 2185</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2186</span>        addr_part = ip_as_string;</div>
<div class="line"><span class="lineno"> 2187</span>        port_part = NULL;</div>
<div class="line"><span class="lineno"> 2188</span>        is_ipv6 = 0;</div>
<div class="line"><span class="lineno"> 2189</span>    }</div>
<div class="line"><span class="lineno"> 2190</span> </div>
<div class="line"><span class="lineno"> 2191</span>    <span class="keywordflow">if</span> (port_part == NULL) {</div>
<div class="line"><span class="lineno"> 2192</span>        port = 0;</div>
<div class="line"><span class="lineno"> 2193</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2194</span>        port = atoi(port_part);</div>
<div class="line"><span class="lineno"> 2195</span>        <span class="keywordflow">if</span> (port &lt;= 0 || port &gt; 65535) {</div>
<div class="line"><span class="lineno"> 2196</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2197</span>        }</div>
<div class="line"><span class="lineno"> 2198</span>    }</div>
<div class="line"><span class="lineno"> 2199</span> </div>
<div class="line"><span class="lineno"> 2200</span>    <span class="keywordflow">if</span> (!addr_part)</div>
<div class="line"><span class="lineno"> 2201</span>        <span class="keywordflow">return</span> -1; <span class="comment">/* Should be impossible. */</span></div>
<div class="line"><span class="lineno"> 2202</span><span class="preprocessor">#ifdef AF_INET6</span></div>
<div class="line"><span class="lineno"> 2203</span>    <span class="keywordflow">if</span> (is_ipv6)</div>
<div class="line"><span class="lineno"> 2204</span>    {</div>
<div class="line"><span class="lineno"> 2205</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> sin6;</div>
<div class="line"><span class="lineno"> 2206</span>        memset(&amp;sin6, 0, <span class="keyword">sizeof</span>(sin6));</div>
<div class="line"><span class="lineno"> 2207</span><span class="preprocessor">#ifdef EVENT__HAVE_STRUCT_SOCKADDR_IN6_SIN6_LEN</span></div>
<div class="line"><span class="lineno"> 2208</span>        sin6.sin6_len = <span class="keyword">sizeof</span>(sin6);</div>
<div class="line"><span class="lineno"> 2209</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2210</span>        sin6.sin6_family = <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>;</div>
<div class="line"><span class="lineno"> 2211</span>        sin6.sin6_port = htons(port);</div>
<div class="line"><span class="lineno"> 2212</span>        <span class="keywordflow">if</span> (1 != <a class="code hl_function" href="evutil_8c.html#a9c1fe41a24b3ad48f26f8890785bbe0c">evutil_inet_pton_scope</a>(</div>
<div class="line"><span class="lineno"> 2213</span>            <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>, addr_part, &amp;sin6.sin6_addr, &amp;if_index)) {</div>
<div class="line"><span class="lineno"> 2214</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2215</span>        }</div>
<div class="line"><span class="lineno"> 2216</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(sin6) &gt; *outlen)</div>
<div class="line"><span class="lineno"> 2217</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2218</span>        sin6.sin6_scope_id = if_index;</div>
<div class="line"><span class="lineno"> 2219</span>        memset(out, 0, *outlen);</div>
<div class="line"><span class="lineno"> 2220</span>        memcpy(out, &amp;sin6, <span class="keyword">sizeof</span>(sin6));</div>
<div class="line"><span class="lineno"> 2221</span>        *outlen = <span class="keyword">sizeof</span>(sin6);</div>
<div class="line"><span class="lineno"> 2222</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2223</span>    }</div>
<div class="line"><span class="lineno"> 2224</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2225</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2226</span>    {</div>
<div class="line"><span class="lineno"> 2227</span>        <span class="keyword">struct </span>sockaddr_in sin;</div>
<div class="line"><span class="lineno"> 2228</span>        memset(&amp;sin, 0, <span class="keyword">sizeof</span>(sin));</div>
<div class="line"><span class="lineno"> 2229</span><span class="preprocessor">#ifdef EVENT__HAVE_STRUCT_SOCKADDR_IN_SIN_LEN</span></div>
<div class="line"><span class="lineno"> 2230</span>        sin.sin_len = <span class="keyword">sizeof</span>(sin);</div>
<div class="line"><span class="lineno"> 2231</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2232</span>        sin.sin_family = AF_INET;</div>
<div class="line"><span class="lineno"> 2233</span>        sin.sin_port = htons(port);</div>
<div class="line"><span class="lineno"> 2234</span>        <span class="keywordflow">if</span> (1 != <a class="code hl_function" href="evutil_8c.html#a1457e5a0b461a99ca9d6d5c19e9dd65f">evutil_inet_pton</a>(AF_INET, addr_part, &amp;sin.sin_addr))</div>
<div class="line"><span class="lineno"> 2235</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2236</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(sin) &gt; *outlen)</div>
<div class="line"><span class="lineno"> 2237</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2238</span>        memset(out, 0, *outlen);</div>
<div class="line"><span class="lineno"> 2239</span>        memcpy(out, &amp;sin, <span class="keyword">sizeof</span>(sin));</div>
<div class="line"><span class="lineno"> 2240</span>        *outlen = <span class="keyword">sizeof</span>(sin);</div>
<div class="line"><span class="lineno"> 2241</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2242</span>    }</div>
<div class="line"><span class="lineno"> 2243</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="evutil_8c_source.html#l02027">evutil_inet_pton()</a>, <a class="el" href="evutil_8c_source.html#l01992">evutil_inet_pton_scope()</a>, <a class="el" href="ipv6-internal_8h_source.html#l00068">sockaddr_in6::sin6_addr</a>, <a class="el" href="ipv6-internal_8h_source.html#l00066">sockaddr_in6::sin6_family</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00067">sockaddr_in6::sin6_port</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00317">dogecoin_node_set_ipport()</a>, <a class="el" href="evdns_8c_source.html#l02647">evdns_base_nameserver_ip_add()</a>, <a class="el" href="evdns_8c_source.html#l04193">evdns_base_parse_hosts_line()</a>, and <a class="el" href="evdns_8c_source.html#l03485">evdns_base_set_option_impl()</a>.</p>

</div>
</div>
<a id="a6b0e5317b86441eda78024ff185b65e3" name="a6b0e5317b86441eda78024ff185b65e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b0e5317b86441eda78024ff185b65e3">&#9670;&nbsp;</a></span>evutil_read_file_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_read_file_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>content_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>len_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Read the contents of 'filename' into a newly allocated NUL-terminated string. Set *content_out to hold this string, and *len_out to hold its length (not including the appended NUL). If 'is_binary', open the file in binary mode.</p>
<p >Returns 0 on success, -1 if the open fails, and -2 for all other failures.</p>
<p >Used internally only; may go away in a future version. </p>

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00145">145</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  147</span>{</div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordtype">int</span> fd, r;</div>
<div class="line"><span class="lineno">  149</span>    <span class="keyword">struct </span>stat st;</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordtype">char</span> *mem;</div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordtype">size_t</span> read_so_far=0;</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordtype">int</span> mode = O_RDONLY;</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(content_out);</div>
<div class="line"><span class="lineno">  155</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(len_out);</div>
<div class="line"><span class="lineno">  156</span>    *content_out = NULL;</div>
<div class="line"><span class="lineno">  157</span>    *len_out = 0;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span><span class="preprocessor">#ifdef O_BINARY</span></div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">if</span> (is_binary)</div>
<div class="line"><span class="lineno">  161</span>        mode |= O_BINARY;</div>
<div class="line"><span class="lineno">  162</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    fd = <a class="code hl_function" href="evutil_8c.html#aa0800e3d8c772ebcef7ba1fbc844a199">evutil_open_closeonexec_</a>(filename, mode, 0);</div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">if</span> (fstat(fd, &amp;st) || st.st_size &lt; 0 ||</div>
<div class="line"><span class="lineno">  168</span>        st.st_size &gt; EV_SSIZE_MAX-1 ) {</div>
<div class="line"><span class="lineno">  169</span>        close(fd);</div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno">  171</span>    }</div>
<div class="line"><span class="lineno">  172</span>    mem = <a class="code hl_define" href="mm-internal_8h.html#a7c27fb60329839e84d16185cda4734d5">mm_malloc</a>((<span class="keywordtype">size_t</span>)st.st_size + 1);</div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">if</span> (!mem) {</div>
<div class="line"><span class="lineno">  174</span>        close(fd);</div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno">  176</span>    }</div>
<div class="line"><span class="lineno">  177</span>    read_so_far = 0;</div>
<div class="line"><span class="lineno">  178</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  179</span><span class="preprocessor">#define N_TO_READ(x) ((x) &gt; INT_MAX) ? INT_MAX : ((int)(x))</span></div>
<div class="line"><span class="lineno">  180</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  181</span><span class="preprocessor">#define N_TO_READ(x) (x)</span></div>
<div class="line"><span class="lineno">  182</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">while</span> ((r = read(fd, mem+read_so_far, <a class="code hl_define" href="evutil_8c.html#a5822efc5253afcbe880cf05f44d74731">N_TO_READ</a>(st.st_size - read_so_far))) &gt; 0) {</div>
<div class="line"><span class="lineno">  184</span>        read_so_far += r;</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">if</span> (read_so_far &gt;= (<span class="keywordtype">size_t</span>)st.st_size)</div>
<div class="line"><span class="lineno">  186</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  187</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(read_so_far &lt; (<span class="keywordtype">size_t</span>)st.st_size);</div>
<div class="line"><span class="lineno">  188</span>    }</div>
<div class="line"><span class="lineno">  189</span>    close(fd);</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">if</span> (r &lt; 0) {</div>
<div class="line"><span class="lineno">  191</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(mem);</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno">  193</span>    }</div>
<div class="line"><span class="lineno">  194</span>    mem[read_so_far] = 0;</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    *len_out = read_so_far;</div>
<div class="line"><span class="lineno">  197</span>    *content_out = mem;</div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  199</span>}</div>
<div class="ttc" id="aevutil_8c_html_a5822efc5253afcbe880cf05f44d74731"><div class="ttname"><a href="evutil_8c.html#a5822efc5253afcbe880cf05f44d74731">N_TO_READ</a></div><div class="ttdeci">#define N_TO_READ(x)</div></div>
<div class="ttc" id="aevutil_8c_html_aa0800e3d8c772ebcef7ba1fbc844a199"><div class="ttname"><a href="evutil_8c.html#aa0800e3d8c772ebcef7ba1fbc844a199">evutil_open_closeonexec_</a></div><div class="ttdeci">int evutil_open_closeonexec_(const char *pathname, int flags, unsigned mode)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00110">evutil.c:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="evutil_8c_source.html#l00110">evutil_open_closeonexec_()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="mm-internal_8h_source.html#l00075">mm_malloc</a>, and <a class="el" href="evutil_8c.html#a5822efc5253afcbe880cf05f44d74731">N_TO_READ</a>.</p>

<p class="reference">Referenced by <a class="el" href="evdns_8c_source.html#l04247">evdns_base_load_hosts_impl()</a>, and <a class="el" href="evdns_8c_source.html#l03663">evdns_base_resolv_conf_parse_impl()</a>.</p>

</div>
</div>
<a id="adbbe34990531ffb2560076fa58392515" name="adbbe34990531ffb2560076fa58392515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbbe34990531ffb2560076fa58392515">&#9670;&nbsp;</a></span>evutil_rtrim_lws_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evutil_rtrim_lws_ </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Remove all trailing horizontal whitespace (space or tab) from the end of a string </p>

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02423">2423</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2424</span>{</div>
<div class="line"><span class="lineno"> 2425</span>    <span class="keywordtype">char</span> *cp;</div>
<div class="line"><span class="lineno"> 2426</span> </div>
<div class="line"><span class="lineno"> 2427</span>    <span class="keywordflow">if</span> (str == NULL)</div>
<div class="line"><span class="lineno"> 2428</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2429</span> </div>
<div class="line"><span class="lineno"> 2430</span>    <span class="keywordflow">if</span> ((cp = strchr(str, <span class="charliteral">&#39;\0&#39;</span>)) == NULL || (cp == str))</div>
<div class="line"><span class="lineno"> 2431</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2432</span> </div>
<div class="line"><span class="lineno"> 2433</span>    --cp;</div>
<div class="line"><span class="lineno"> 2434</span> </div>
<div class="line"><span class="lineno"> 2435</span>    <span class="keywordflow">while</span> (*cp == <span class="charliteral">&#39; &#39;</span> || *cp == <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><span class="lineno"> 2436</span>        *cp = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 2437</span>        <span class="keywordflow">if</span> (cp == str)</div>
<div class="line"><span class="lineno"> 2438</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2439</span>        --cp;</div>
<div class="line"><span class="lineno"> 2440</span>    }</div>
<div class="line"><span class="lineno"> 2441</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02066">evhttp_append_to_last_header()</a>, and <a class="el" href="http_8c_source.html#l02096">evhttp_parse_headers_()</a>.</p>

</div>
</div>
<a id="aeca1628c9c517f1170febcf50f0365ff" name="aeca1628c9c517f1170febcf50f0365ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeca1628c9c517f1170febcf50f0365ff">&#9670;&nbsp;</a></span>evutil_set_evdns_getaddrinfo_cancel_fn_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evutil_set_evdns_getaddrinfo_cancel_fn_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="util-internal_8h.html#ad42dfed608dd057527d5ba212d5415b8">evdns_getaddrinfo_cancel_fn</a>&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01603">1603</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1604</span>{</div>
<div class="line"><span class="lineno"> 1605</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="evutil_8c.html#ad58a10b183f1788e7c7b7c17d2802edb">evdns_getaddrinfo_cancel_impl</a>)</div>
<div class="line"><span class="lineno"> 1606</span>        <a class="code hl_variable" href="evutil_8c.html#ad58a10b183f1788e7c7b7c17d2802edb">evdns_getaddrinfo_cancel_impl</a> = fn;</div>
<div class="line"><span class="lineno"> 1607</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l01594">evdns_getaddrinfo_cancel_impl</a>.</p>

<p class="reference">Referenced by <a class="el" href="evdns_8c_source.html#l03963">evdns_base_new()</a>.</p>

</div>
</div>
<a id="ac5af70064bd3e087f2730bdc4f7c68d9" name="ac5af70064bd3e087f2730bdc4f7c68d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5af70064bd3e087f2730bdc4f7c68d9">&#9670;&nbsp;</a></span>evutil_set_evdns_getaddrinfo_fn_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evutil_set_evdns_getaddrinfo_fn_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="util-internal_8h.html#a6291901ccbcb671e145c4adff037b714">evdns_getaddrinfo_fn</a>&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01597">1597</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1598</span>{</div>
<div class="line"><span class="lineno"> 1599</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="evutil_8c.html#af6c7933eaff49642b7bdbf657ac650a4">evdns_getaddrinfo_impl</a>)</div>
<div class="line"><span class="lineno"> 1600</span>        <a class="code hl_variable" href="evutil_8c.html#af6c7933eaff49642b7bdbf657ac650a4">evdns_getaddrinfo_impl</a> = fn;</div>
<div class="line"><span class="lineno"> 1601</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l01593">evdns_getaddrinfo_impl</a>.</p>

<p class="reference">Referenced by <a class="el" href="evdns_8c_source.html#l03963">evdns_base_new()</a>.</p>

</div>
</div>
<a id="a55dc7427a539b8c710acf6eb117364e1" name="a55dc7427a539b8c710acf6eb117364e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55dc7427a539b8c710acf6eb117364e1">&#9670;&nbsp;</a></span>evutil_snprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_snprintf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01858">1858</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1859</span>{</div>
<div class="line"><span class="lineno"> 1860</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1861</span>    va_list ap;</div>
<div class="line"><span class="lineno"> 1862</span>    va_start(ap, format);</div>
<div class="line"><span class="lineno"> 1863</span>    r = <a class="code hl_function" href="evutil_8c.html#a80bb0d174aa64218ce077b0c79df3e0f">evutil_vsnprintf</a>(buf, buflen, format, ap);</div>
<div class="line"><span class="lineno"> 1864</span>    va_end(ap);</div>
<div class="line"><span class="lineno"> 1865</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1866</span>}</div>
<div class="ttc" id="aevutil_8c_html_a80bb0d174aa64218ce077b0c79df3e0f"><div class="ttname"><a href="evutil_8c.html#a80bb0d174aa64218ce077b0c79df3e0f">evutil_vsnprintf</a></div><div class="ttdeci">int evutil_vsnprintf(char *buf, size_t buflen, const char *format, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l01869">evutil.c:1869</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l01869">evutil_vsnprintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00494">bufferevent_socket_connect_hostname()</a>, <a class="el" href="evdns_8c_source.html#l02987">evdns_base_resolve_reverse()</a>, <a class="el" href="evdns_8c_source.html#l03638">evdns_get_default_hosts_filename()</a>, <a class="el" href="evdns_8c_source.html#l01866">evdns_server_request_add_ptr_reply()</a>, <a class="el" href="event_8c_source.html#l00550">event_is_method_disabled()</a>, <a class="el" href="log_8c_source.html#l00187">event_logv_()</a>, <a class="el" href="http_8c_source.html#l00438">evhttp_make_header_request()</a>, <a class="el" href="http_8c_source.html#l00514">evhttp_maybe_add_content_length_header()</a>, <a class="el" href="evutil__time_8c_source.html#l00184">evutil_date_rfc1123()</a>, <a class="el" href="evutil_8c_source.html#l02246">evutil_format_sockaddr_port_()</a>, <a class="el" href="evutil_8c_source.html#l01896">evutil_inet_ntop()</a>, <a class="el" href="http_8c_source.html#l00128">fake_getnameinfo()</a>, <a class="el" href="http_8c_source.html#l04430">make_addrinfo()</a>, and <a class="el" href="evdns_8c_source.html#l00885">reply_handle()</a>.</p>

</div>
</div>
<a id="ae2397b592e9965630a1bf78a6a688859" name="ae2397b592e9965630a1bf78a6a688859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2397b592e9965630a1bf78a6a688859">&#9670;&nbsp;</a></span>evutil_sockaddr_cmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_sockaddr_cmp </td>
          <td>(</td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>include_port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02275">2275</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2277</span>{</div>
<div class="line"><span class="lineno"> 2278</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 2279</span>    <span class="keywordflow">if</span> (0 != (r = (sa1-&gt;sa_family - sa2-&gt;sa_family)))</div>
<div class="line"><span class="lineno"> 2280</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2281</span> </div>
<div class="line"><span class="lineno"> 2282</span>    <span class="keywordflow">if</span> (sa1-&gt;sa_family == AF_INET) {</div>
<div class="line"><span class="lineno"> 2283</span>        <span class="keyword">const</span> <span class="keyword">struct </span>sockaddr_in *sin1, *sin2;</div>
<div class="line"><span class="lineno"> 2284</span>        sin1 = (<span class="keyword">const</span> <span class="keyword">struct </span>sockaddr_in *)sa1;</div>
<div class="line"><span class="lineno"> 2285</span>        sin2 = (<span class="keyword">const</span> <span class="keyword">struct </span>sockaddr_in *)sa2;</div>
<div class="line"><span class="lineno"> 2286</span>        <span class="keywordflow">if</span> (sin1-&gt;sin_addr.s_addr &lt; sin2-&gt;sin_addr.s_addr)</div>
<div class="line"><span class="lineno"> 2287</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2288</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sin1-&gt;sin_addr.s_addr &gt; sin2-&gt;sin_addr.s_addr)</div>
<div class="line"><span class="lineno"> 2289</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2290</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (include_port &amp;&amp;</div>
<div class="line"><span class="lineno"> 2291</span>            (r = ((<span class="keywordtype">int</span>)sin1-&gt;sin_port - (<span class="keywordtype">int</span>)sin2-&gt;sin_port)))</div>
<div class="line"><span class="lineno"> 2292</span>            <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2293</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2294</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2295</span>    }</div>
<div class="line"><span class="lineno"> 2296</span><span class="preprocessor">#ifdef AF_INET6</span></div>
<div class="line"><span class="lineno"> 2297</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sa1-&gt;sa_family == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>) {</div>
<div class="line"><span class="lineno"> 2298</span>        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> *sin1, *sin2;</div>
<div class="line"><span class="lineno"> 2299</span>        sin1 = (<span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> *)sa1;</div>
<div class="line"><span class="lineno"> 2300</span>        sin2 = (<span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> *)sa2;</div>
<div class="line"><span class="lineno"> 2301</span>        <span class="keywordflow">if</span> ((r = memcmp(sin1-&gt;<a class="code hl_variable" href="structsockaddr__in6.html#a219e7f3ecd6d7dcf8fc2465475be490f">sin6_addr</a>.<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>, sin2-&gt;<a class="code hl_variable" href="structsockaddr__in6.html#a219e7f3ecd6d7dcf8fc2465475be490f">sin6_addr</a>.<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>, 16)))</div>
<div class="line"><span class="lineno"> 2302</span>            <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2303</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (include_port &amp;&amp;</div>
<div class="line"><span class="lineno"> 2304</span>            (r = ((<span class="keywordtype">int</span>)sin1-&gt;<a class="code hl_variable" href="structsockaddr__in6.html#a5d0f064b843a17247d9d39d22fc4103c">sin6_port</a> - (int)sin2-&gt;<a class="code hl_variable" href="structsockaddr__in6.html#a5d0f064b843a17247d9d39d22fc4103c">sin6_port</a>)))</div>
<div class="line"><span class="lineno"> 2305</span>            <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2306</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2307</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2308</span>    }</div>
<div class="line"><span class="lineno"> 2309</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2310</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2311</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="ipv6-internal_8h_source.html#l00054">in6_addr::s6_addr</a>, <a class="el" href="ipv6-internal_8h_source.html#l00068">sockaddr_in6::sin6_addr</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00067">sockaddr_in6::sin6_port</a>.</p>

<p class="reference">Referenced by <a class="el" href="evdns_8c_source.html#l02502">evdns_nameserver_add_impl_()</a>, and <a class="el" href="evdns_8c_source.html#l01386">nameserver_read()</a>.</p>

</div>
</div>
<a id="a5599123419713c83549921e73dc6e87b" name="a5599123419713c83549921e73dc6e87b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5599123419713c83549921e73dc6e87b">&#9670;&nbsp;</a></span>evutil_sockaddr_is_loopback_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_sockaddr_is_loopback_ </td>
          <td>(</td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return true iff sa is a looback address. (That is, it is 127.0.0.1/8, or ::1). </p>

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02532">2532</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2533</span>{</div>
<div class="line"><span class="lineno"> 2534</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> LOOPBACK_S6[16] =</div>
<div class="line"><span class="lineno"> 2535</span>        <span class="stringliteral">&quot;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\1&quot;</span>;</div>
<div class="line"><span class="lineno"> 2536</span>    <span class="keywordflow">if</span> (addr-&gt;sa_family == AF_INET) {</div>
<div class="line"><span class="lineno"> 2537</span>        <span class="keyword">struct </span>sockaddr_in *sin = (<span class="keyword">struct </span>sockaddr_in *)addr;</div>
<div class="line"><span class="lineno"> 2538</span>        <span class="keywordflow">return</span> (ntohl(sin-&gt;sin_addr.s_addr) &amp; 0xff000000) == 0x7f000000;</div>
<div class="line"><span class="lineno"> 2539</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addr-&gt;sa_family == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>) {</div>
<div class="line"><span class="lineno"> 2540</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> *sin6 = (<span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a> *)addr;</div>
<div class="line"><span class="lineno"> 2541</span>        <span class="keywordflow">return</span> !memcmp(sin6-&gt;<a class="code hl_variable" href="structsockaddr__in6.html#a219e7f3ecd6d7dcf8fc2465475be490f">sin6_addr</a>.<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>, LOOPBACK_S6, 16);</div>
<div class="line"><span class="lineno"> 2542</span>    }</div>
<div class="line"><span class="lineno"> 2543</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2544</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="ipv6-internal_8h_source.html#l00054">in6_addr::s6_addr</a>, and <a class="el" href="ipv6-internal_8h_source.html#l00068">sockaddr_in6::sin6_addr</a>.</p>

<p class="reference">Referenced by <a class="el" href="evdns_8c_source.html#l02502">evdns_nameserver_add_impl_()</a>.</p>

</div>
</div>
<a id="a62afa81f2bbca524ef24c24f8c0bbfdb" name="a62afa81f2bbca524ef24c24f8c0bbfdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62afa81f2bbca524ef24c24f8c0bbfdb">&#9670;&nbsp;</a></span>evutil_socket_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evutil_socket_t evutil_socket_ </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>protocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02595">2595</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2596</span>{</div>
<div class="line"><span class="lineno"> 2597</span>    evutil_socket_t r;</div>
<div class="line"><span class="lineno"> 2598</span><span class="preprocessor">#if defined(SOCK_NONBLOCK) &amp;&amp; defined(SOCK_CLOEXEC)</span></div>
<div class="line"><span class="lineno"> 2599</span>    r = socket(domain, type, protocol);</div>
<div class="line"><span class="lineno"> 2600</span>    <span class="keywordflow">if</span> (r &gt;= 0)</div>
<div class="line"><span class="lineno"> 2601</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2602</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((type &amp; (SOCK_NONBLOCK|SOCK_CLOEXEC)) == 0)</div>
<div class="line"><span class="lineno"> 2603</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2604</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2605</span><span class="preprocessor">#define SOCKET_TYPE_MASK (~(EVUTIL_SOCK_NONBLOCK|EVUTIL_SOCK_CLOEXEC))</span></div>
<div class="line"><span class="lineno"> 2606</span>    r = socket(domain, type &amp; <a class="code hl_define" href="evutil_8c.html#a209dce8af326b28029ea52822b3b5cb1">SOCKET_TYPE_MASK</a>, protocol);</div>
<div class="line"><span class="lineno"> 2607</span>    <span class="keywordflow">if</span> (r &lt; 0)</div>
<div class="line"><span class="lineno"> 2608</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2609</span>    <span class="keywordflow">if</span> (type &amp; <a class="code hl_define" href="util-internal_8h.html#a31e248693a7fed9ed20b85685e273626">EVUTIL_SOCK_NONBLOCK</a>) {</div>
<div class="line"><span class="lineno"> 2610</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a3920bebac41cf9438435aac390853006">evutil_fast_socket_nonblocking</a>(r) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2611</span>            <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(r);</div>
<div class="line"><span class="lineno"> 2612</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2613</span>        }</div>
<div class="line"><span class="lineno"> 2614</span>    }</div>
<div class="line"><span class="lineno"> 2615</span>    <span class="keywordflow">if</span> (type &amp; <a class="code hl_define" href="util-internal_8h.html#afba2af36c0dae01fb8dd73ec5c928125">EVUTIL_SOCK_CLOEXEC</a>) {</div>
<div class="line"><span class="lineno"> 2616</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#ab9034da760c901d74cddf3880065bb91">evutil_fast_socket_closeonexec</a>(r) &lt; 0) {</div>
<div class="line"><span class="lineno"> 2617</span>            <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(r);</div>
<div class="line"><span class="lineno"> 2618</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2619</span>        }</div>
<div class="line"><span class="lineno"> 2620</span>    }</div>
<div class="line"><span class="lineno"> 2621</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 2622</span>}</div>
<div class="ttc" id="aevutil_8c_html_a209dce8af326b28029ea52822b3b5cb1"><div class="ttname"><a href="evutil_8c.html#a209dce8af326b28029ea52822b3b5cb1">SOCKET_TYPE_MASK</a></div><div class="ttdeci">#define SOCKET_TYPE_MASK</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="evutil_8c_source.html#l00442">evutil_fast_socket_closeonexec()</a>, <a class="el" href="evutil_8c_source.html#l00351">evutil_fast_socket_nonblocking()</a>, <a class="el" href="util-internal_8h_source.html#l00521">EVUTIL_SOCK_CLOEXEC</a>, <a class="el" href="util-internal_8h_source.html#l00516">EVUTIL_SOCK_NONBLOCK</a>, and <a class="el" href="evutil_8c.html#a209dce8af326b28029ea52822b3b5cb1">SOCKET_TYPE_MASK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="http_8c_source.html#l04392">create_bind_socket_nonblock()</a>, <a class="el" href="listener_8c_source.html#l00211">evconnlistener_new_bind()</a>, and <a class="el" href="evdns_8c_source.html#l02502">evdns_nameserver_add_impl_()</a>.</p>

</div>
</div>
<a id="abda6977c1e11b450f7dfeb211ab04a3a" name="abda6977c1e11b450f7dfeb211ab04a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda6977c1e11b450f7dfeb211ab04a3a">&#9670;&nbsp;</a></span>evutil_socket_connect_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_socket_connect_ </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t *&#160;</td>
          <td class="paramname"><em>fd_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socklen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00543">543</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  544</span>{</div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordtype">int</span> made_fd = 0;</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">if</span> (*fd_ptr &lt; 0) {</div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordflow">if</span> ((*fd_ptr = socket(sa-&gt;sa_family, SOCK_STREAM, 0)) &lt; 0)</div>
<div class="line"><span class="lineno">  549</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno">  550</span>        made_fd = 1;</div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evutil_8c.html#a03f8c44ffaf711ad5f37fdc285b2c72b">evutil_make_socket_nonblocking</a>(*fd_ptr) &lt; 0) {</div>
<div class="line"><span class="lineno">  552</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno">  553</span>        }</div>
<div class="line"><span class="lineno">  554</span>    }</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">if</span> (connect(*fd_ptr, sa, socklen) &lt; 0) {</div>
<div class="line"><span class="lineno">  557</span>        <span class="keywordtype">int</span> e = evutil_socket_geterror(*fd_ptr);</div>
<div class="line"><span class="lineno">  558</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a3ba89b48660f21d7b21c8fac852f1e2f">EVUTIL_ERR_CONNECT_RETRIABLE</a>(e))</div>
<div class="line"><span class="lineno">  559</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a6b87f80bfa1903242c19636f30b5118e">EVUTIL_ERR_CONNECT_REFUSED</a>(e))</div>
<div class="line"><span class="lineno">  561</span>            <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno">  562</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno">  563</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  565</span>    }</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>err:</div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordflow">if</span> (made_fd) {</div>
<div class="line"><span class="lineno">  569</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(*fd_ptr);</div>
<div class="line"><span class="lineno">  570</span>        *fd_ptr = -1;</div>
<div class="line"><span class="lineno">  571</span>    }</div>
<div class="line"><span class="lineno">  572</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  573</span>}</div>
<div class="ttc" id="autil-internal_8h_html_a3ba89b48660f21d7b21c8fac852f1e2f"><div class="ttname"><a href="util-internal_8h.html#a3ba89b48660f21d7b21c8fac852f1e2f">EVUTIL_ERR_CONNECT_RETRIABLE</a></div><div class="ttdeci">#define EVUTIL_ERR_CONNECT_RETRIABLE(e)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00122">util-internal.h:122</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a6b87f80bfa1903242c19636f30b5118e"><div class="ttname"><a href="util-internal_8h.html#a6b87f80bfa1903242c19636f30b5118e">EVUTIL_ERR_CONNECT_REFUSED</a></div><div class="ttdeci">#define EVUTIL_ERR_CONNECT_REFUSED(e)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00129">util-internal.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="util-internal_8h_source.html#l00129">EVUTIL_ERR_CONNECT_REFUSED</a>, <a class="el" href="util-internal_8h_source.html#l00122">EVUTIL_ERR_CONNECT_RETRIABLE</a>, and <a class="el" href="evutil_8c_source.html#l00318">evutil_make_socket_nonblocking()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>.</p>

</div>
</div>
<a id="a741cc0a8fafdd90beaae0ccd141d7d02" name="a741cc0a8fafdd90beaae0ccd141d7d02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a741cc0a8fafdd90beaae0ccd141d7d02">&#9670;&nbsp;</a></span>evutil_socket_finished_connecting_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_socket_finished_connecting_ </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00580">580</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  581</span>{</div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordtype">int</span> e;</div>
<div class="line"><span class="lineno">  583</span>    ev_socklen_t elen = <span class="keyword">sizeof</span>(e);</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>    <span class="keywordflow">if</span> (getsockopt(fd, SOL_SOCKET, SO_ERROR, (<span class="keywordtype">void</span>*)&amp;e, &amp;elen) &lt; 0)</div>
<div class="line"><span class="lineno">  586</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>    <span class="keywordflow">if</span> (e) {</div>
<div class="line"><span class="lineno">  589</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a3ba89b48660f21d7b21c8fac852f1e2f">EVUTIL_ERR_CONNECT_RETRIABLE</a>(e))</div>
<div class="line"><span class="lineno">  590</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  591</span>        EVUTIL_SET_SOCKET_ERROR(e);</div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  593</span>    }</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  596</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00122">EVUTIL_ERR_CONNECT_RETRIABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00230">bufferevent_writecb()</a>.</p>

</div>
</div>
<a id="a651b1a620ccb53ce617e29545736e4d0" name="a651b1a620ccb53ce617e29545736e4d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a651b1a620ccb53ce617e29545736e4d0">&#9670;&nbsp;</a></span>evutil_socketpair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_socketpair </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>family</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>[2]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00202">202</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  203</span>{</div>
<div class="line"><span class="lineno">  204</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">return</span> socketpair(family, type, protocol, fd);</div>
<div class="line"><span class="lineno">  206</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="evutil_8c.html#a005f9041025d09831b487f478cf019b3">evutil_ersatz_socketpair_</a>(family, type, protocol, fd);</div>
<div class="line"><span class="lineno">  208</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  209</span>}</div>
<div class="ttc" id="aevutil_8c_html_a005f9041025d09831b487f478cf019b3"><div class="ttname"><a href="evutil_8c.html#a005f9041025d09831b487f478cf019b3">evutil_ersatz_socketpair_</a></div><div class="ttdeci">int evutil_ersatz_socketpair_(int family, int type, int protocol, evutil_socket_t fd[2])</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00212">evutil.c:212</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00212">evutil_ersatz_socketpair_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02672">evutil_make_internal_pipe_()</a>.</p>

</div>
</div>
<a id="a87762fbc9974b211df3babfacd99df19" name="a87762fbc9974b211df3babfacd99df19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87762fbc9974b211df3babfacd99df19">&#9670;&nbsp;</a></span>evutil_strtoll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ev_int64_t evutil_strtoll </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>endptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00464">464</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  465</span>{</div>
<div class="line"><span class="lineno">  466</span><span class="preprocessor">#ifdef EVENT__HAVE_STRTOLL</span></div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">return</span> (ev_int64_t)strtoll(s, endptr, base);</div>
<div class="line"><span class="lineno">  468</span><span class="preprocessor">#elif EVENT__SIZEOF_LONG == 8</span></div>
<div class="line"><span class="lineno">  469</span>    <span class="keywordflow">return</span> (ev_int64_t)strtol(s, endptr, base);</div>
<div class="line"><span class="lineno">  470</span><span class="preprocessor">#elif defined(_WIN32) &amp;&amp; defined(_MSC_VER) &amp;&amp; _MSC_VER &lt; 1300</span></div>
<div class="line"><span class="lineno">  471</span>    <span class="comment">/* XXXX on old versions of MS APIs, we only support base</span></div>
<div class="line"><span class="lineno">  472</span><span class="comment">     * 10. */</span></div>
<div class="line"><span class="lineno">  473</span>    ev_int64_t r;</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordflow">if</span> (base != 10)</div>
<div class="line"><span class="lineno">  475</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  476</span>    r = (ev_int64_t) _atoi64(s);</div>
<div class="line"><span class="lineno">  477</span>    <span class="keywordflow">while</span> (isspace(*s))</div>
<div class="line"><span class="lineno">  478</span>        ++s;</div>
<div class="line"><span class="lineno">  479</span>    <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><span class="lineno">  480</span>        ++s;</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordflow">while</span> (isdigit(*s))</div>
<div class="line"><span class="lineno">  482</span>        ++s;</div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">if</span> (endptr)</div>
<div class="line"><span class="lineno">  484</span>        *endptr = (<span class="keywordtype">char</span>*) s;</div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  486</span><span class="preprocessor">#elif defined(_WIN32)</span></div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">return</span> (ev_int64_t) _strtoi64(s, endptr, base);</div>
<div class="line"><span class="lineno">  488</span><span class="preprocessor">#elif defined(EVENT__SIZEOF_LONG_LONG) &amp;&amp; EVENT__SIZEOF_LONG_LONG == 8</span></div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordtype">long</span> <span class="keywordtype">long</span> r;</div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordtype">int</span> n;</div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">if</span> (base != 10 &amp;&amp; base != 16)</div>
<div class="line"><span class="lineno">  492</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  493</span>    <span class="keywordflow">if</span> (base == 10) {</div>
<div class="line"><span class="lineno">  494</span>        n = sscanf(s, <span class="stringliteral">&quot;%lld&quot;</span>, &amp;r);</div>
<div class="line"><span class="lineno">  495</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  496</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> ru=0;</div>
<div class="line"><span class="lineno">  497</span>        n = sscanf(s, <span class="stringliteral">&quot;%llx&quot;</span>, &amp;ru);</div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">if</span> (ru &gt; EV_INT64_MAX)</div>
<div class="line"><span class="lineno">  499</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  500</span>        r = (<span class="keywordtype">long</span> long) ru;</div>
<div class="line"><span class="lineno">  501</span>    }</div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordflow">if</span> (n != 1)</div>
<div class="line"><span class="lineno">  503</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  504</span>    <span class="keywordflow">while</span> (<a class="code hl_function" href="util-internal_8h.html#a6b67f0af7859cdf31d387cc2aa79e579">EVUTIL_ISSPACE_</a>(*s))</div>
<div class="line"><span class="lineno">  505</span>        ++s;</div>
<div class="line"><span class="lineno">  506</span>    <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><span class="lineno">  507</span>        ++s;</div>
<div class="line"><span class="lineno">  508</span>    <span class="keywordflow">if</span> (base == 10) {</div>
<div class="line"><span class="lineno">  509</span>        <span class="keywordflow">while</span> (<a class="code hl_function" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_</a>(*s))</div>
<div class="line"><span class="lineno">  510</span>            ++s;</div>
<div class="line"><span class="lineno">  511</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">while</span> (<a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(*s))</div>
<div class="line"><span class="lineno">  513</span>            ++s;</div>
<div class="line"><span class="lineno">  514</span>    }</div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">if</span> (endptr)</div>
<div class="line"><span class="lineno">  516</span>        *endptr = (<span class="keywordtype">char</span>*) s;</div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  518</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  519</span><span class="preprocessor">#error &quot;I don&#39;t know how to parse 64-bit integers.&quot;</span></div>
<div class="line"><span class="lineno">  520</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  521</span>}</div>
<div class="ttc" id="autil-internal_8h_html_a6b67f0af7859cdf31d387cc2aa79e579"><div class="ttname"><a href="util-internal_8h.html#a6b67f0af7859cdf31d387cc2aa79e579">EVUTIL_ISSPACE_</a></div><div class="ttdeci">int EVUTIL_ISSPACE_(char c)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h.html#a0fb29ac45a7bd8df683d79f26f36967c">EVUTIL_ISDIGIT_()</a>, <a class="el" href="util-internal_8h.html#a6b67f0af7859cdf31d387cc2aa79e579">EVUTIL_ISSPACE_()</a>, and <a class="el" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02159">evhttp_get_body_length()</a>, and <a class="el" href="http_8c_source.html#l00906">evhttp_handle_chunked_read()</a>.</p>

</div>
</div>
<a id="a0a64c0df26697fbbab61bd3cb36f5760" name="a0a64c0df26697fbbab61bd3cb36f5760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a64c0df26697fbbab61bd3cb36f5760">&#9670;&nbsp;</a></span>EVUTIL_TOLOWER_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char EVUTIL_TOLOWER_ </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02383">2383</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2384</span>{</div>
<div class="line"><span class="lineno"> 2385</span>    <span class="keywordflow">return</span> ((<span class="keywordtype">char</span>)<a class="code hl_variable" href="evutil_8c.html#abc54797b5987a665f1bee19b1437cb42">EVUTIL_TOLOWER_TABLE</a>[(ev_uint8_t)c]);</div>
<div class="line"><span class="lineno"> 2386</span>}</div>
<div class="ttc" id="aevutil_8c_html_abc54797b5987a665f1bee19b1437cb42"><div class="ttname"><a href="evutil_8c.html#abc54797b5987a665f1bee19b1437cb42">EVUTIL_TOLOWER_TABLE</a></div><div class="ttdeci">static const unsigned char EVUTIL_TOLOWER_TABLE[256]</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02350">evutil.c:2350</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02350">EVUTIL_TOLOWER_TABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02392">evutil_ascii_strcasecmp()</a>, <a class="el" href="evutil_8c_source.html#l02406">evutil_ascii_strncasecmp()</a>, and <a class="el" href="http_8c_source.html#l03363">prefix_suffix_match()</a>.</p>

</div>
</div>
<a id="a4dce50d7aae2f91d90632cd3f2714cd8" name="a4dce50d7aae2f91d90632cd3f2714cd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dce50d7aae2f91d90632cd3f2714cd8">&#9670;&nbsp;</a></span>EVUTIL_TOUPPER_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char EVUTIL_TOUPPER_ </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02387">2387</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2388</span>{</div>
<div class="line"><span class="lineno"> 2389</span>    <span class="keywordflow">return</span> ((<span class="keywordtype">char</span>)<a class="code hl_variable" href="evutil_8c.html#a8521f6e862b0f258b3527b57544cac02">EVUTIL_TOUPPER_TABLE</a>[(ev_uint8_t)c]);</div>
<div class="line"><span class="lineno"> 2390</span>}</div>
<div class="ttc" id="aevutil_8c_html_a8521f6e862b0f258b3527b57544cac02"><div class="ttname"><a href="evutil_8c.html#a8521f6e862b0f258b3527b57544cac02">EVUTIL_TOUPPER_TABLE</a></div><div class="ttdeci">static const unsigned char EVUTIL_TOUPPER_TABLE[256]</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02332">evutil.c:2332</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02332">EVUTIL_TOUPPER_TABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00550">event_is_method_disabled()</a>.</p>

</div>
</div>
<a id="a55b2e43793f1244de8d5c7e9de005d04" name="a55b2e43793f1244de8d5c7e9de005d04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55b2e43793f1244de8d5c7e9de005d04">&#9670;&nbsp;</a></span>evutil_unparse_protoname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * evutil_unparse_protoname </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>proto</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00926">926</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  927</span>{</div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordflow">switch</span> (proto) {</div>
<div class="line"><span class="lineno">  929</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  930</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  931</span>    <span class="keywordflow">case</span> IPPROTO_TCP:</div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;tcp&quot;</span>;</div>
<div class="line"><span class="lineno">  933</span>    <span class="keywordflow">case</span> IPPROTO_UDP:</div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;udp&quot;</span>;</div>
<div class="line"><span class="lineno">  935</span><span class="preprocessor">#ifdef IPPROTO_SCTP</span></div>
<div class="line"><span class="lineno">  936</span>    <span class="keywordflow">case</span> IPPROTO_SCTP:</div>
<div class="line"><span class="lineno">  937</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;sctp&quot;</span>;</div>
<div class="line"><span class="lineno">  938</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  940</span><span class="preprocessor">#ifdef EVENT__HAVE_GETPROTOBYNUMBER</span></div>
<div class="line"><span class="lineno">  941</span>        {</div>
<div class="line"><span class="lineno">  942</span>            <span class="keyword">struct </span>protoent *ent = getprotobynumber(proto);</div>
<div class="line"><span class="lineno">  943</span>            <span class="keywordflow">if</span> (ent)</div>
<div class="line"><span class="lineno">  944</span>                <span class="keywordflow">return</span> ent-&gt;p_name;</div>
<div class="line"><span class="lineno">  945</span>        }</div>
<div class="line"><span class="lineno">  946</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  947</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  948</span>    }</div>
<div class="line"><span class="lineno">  949</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00993">evutil_getaddrinfo_common_()</a>.</p>

</div>
</div>
<a id="a58134b6341cfa23647a1cf716989342c" name="a58134b6341cfa23647a1cf716989342c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58134b6341cfa23647a1cf716989342c">&#9670;&nbsp;</a></span>evutil_v4addr_is_classd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evutil_v4addr_is_classd </td>
          <td>(</td>
          <td class="paramtype">ev_uint32_t&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00625">625</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  626</span>{ <span class="keywordflow">return</span> ((addr&gt;&gt;24) &amp; 0xf0) == 0xe0; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00629">evutil_v4addr_is_local_()</a>.</p>

</div>
</div>
<a id="a2c9afe85f7145b828ac0f420bfe2e719" name="a2c9afe85f7145b828ac0f420bfe2e719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9afe85f7145b828ac0f420bfe2e719">&#9670;&nbsp;</a></span>evutil_v4addr_is_linklocal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evutil_v4addr_is_linklocal </td>
          <td>(</td>
          <td class="paramtype">ev_uint32_t&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00620">620</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  621</span>{ <span class="keywordflow">return</span> ((addr &amp; 0xffff0000U) == 0xa9fe0000U); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00629">evutil_v4addr_is_local_()</a>.</p>

</div>
</div>
<a id="ab28a490a4c6d40c09a0daf2ae3e8e442" name="ab28a490a4c6d40c09a0daf2ae3e8e442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28a490a4c6d40c09a0daf2ae3e8e442">&#9670;&nbsp;</a></span>evutil_v4addr_is_local_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_v4addr_is_local_ </td>
          <td>(</td>
          <td class="paramtype">const struct in_addr *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00629">629</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  630</span>{</div>
<div class="line"><span class="lineno">  631</span>    <span class="keyword">const</span> ev_uint32_t addr = ntohl(in-&gt;s_addr);</div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">return</span> addr == INADDR_ANY ||</div>
<div class="line"><span class="lineno">  633</span>        <a class="code hl_function" href="evutil_8c.html#af55be9baa7ed24963e25ab726eb2c774">evutil_v4addr_is_localhost</a>(addr) ||</div>
<div class="line"><span class="lineno">  634</span>        <a class="code hl_function" href="evutil_8c.html#a2c9afe85f7145b828ac0f420bfe2e719">evutil_v4addr_is_linklocal</a>(addr) ||</div>
<div class="line"><span class="lineno">  635</span>        <a class="code hl_function" href="evutil_8c.html#a58134b6341cfa23647a1cf716989342c">evutil_v4addr_is_classd</a>(addr);</div>
<div class="line"><span class="lineno">  636</span>}</div>
<div class="ttc" id="aevutil_8c_html_a2c9afe85f7145b828ac0f420bfe2e719"><div class="ttname"><a href="evutil_8c.html#a2c9afe85f7145b828ac0f420bfe2e719">evutil_v4addr_is_linklocal</a></div><div class="ttdeci">static int evutil_v4addr_is_linklocal(ev_uint32_t addr)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00620">evutil.c:620</a></div></div>
<div class="ttc" id="aevutil_8c_html_a58134b6341cfa23647a1cf716989342c"><div class="ttname"><a href="evutil_8c.html#a58134b6341cfa23647a1cf716989342c">evutil_v4addr_is_classd</a></div><div class="ttdeci">static int evutil_v4addr_is_classd(ev_uint32_t addr)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00625">evutil.c:625</a></div></div>
<div class="ttc" id="aevutil_8c_html_af55be9baa7ed24963e25ab726eb2c774"><div class="ttname"><a href="evutil_8c.html#af55be9baa7ed24963e25ab726eb2c774">evutil_v4addr_is_localhost</a></div><div class="ttdeci">static int evutil_v4addr_is_localhost(ev_uint32_t addr)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00615">evutil.c:615</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l00625">evutil_v4addr_is_classd()</a>, <a class="el" href="evutil_8c_source.html#l00620">evutil_v4addr_is_linklocal()</a>, and <a class="el" href="evutil_8c_source.html#l00615">evutil_v4addr_is_localhost()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00653">evutil_found_ifaddr()</a>.</p>

</div>
</div>
<a id="af55be9baa7ed24963e25ab726eb2c774" name="af55be9baa7ed24963e25ab726eb2c774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55be9baa7ed24963e25ab726eb2c774">&#9670;&nbsp;</a></span>evutil_v4addr_is_localhost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evutil_v4addr_is_localhost </td>
          <td>(</td>
          <td class="paramtype">ev_uint32_t&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00615">615</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  616</span>{ <span class="keywordflow">return</span> addr&gt;&gt;24 == 127; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00629">evutil_v4addr_is_local_()</a>.</p>

</div>
</div>
<a id="abd1cbcf1a7094b8d9f39de4037d8c368" name="abd1cbcf1a7094b8d9f39de4037d8c368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd1cbcf1a7094b8d9f39de4037d8c368">&#9670;&nbsp;</a></span>evutil_v6addr_is_local_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_v6addr_is_local_ </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structin6__addr.html">in6_addr</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00638">638</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  639</span>{</div>
<div class="line"><span class="lineno">  640</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> ZEROES[] =</div>
<div class="line"><span class="lineno">  641</span>        <span class="stringliteral">&quot;\x00\x00\x00\x00\x00\x00\x00\x00&quot;</span></div>
<div class="line"><span class="lineno">  642</span>        <span class="stringliteral">&quot;\x00\x00\x00\x00\x00\x00\x00\x00&quot;</span>;</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *addr = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)in-&gt;<a class="code hl_variable" href="structin6__addr.html#a2ed86705470b8114fc3c7d93b7af6f5a">s6_addr</a>;</div>
<div class="line"><span class="lineno">  645</span>    <span class="keywordflow">return</span> !memcmp(addr, ZEROES, 8) ||</div>
<div class="line"><span class="lineno">  646</span>        ((addr[0] &amp; 0xfe) == 0xfc) ||</div>
<div class="line"><span class="lineno">  647</span>        (addr[0] == 0xfe &amp;&amp; (addr[1] &amp; 0xc0) == 0x80) ||</div>
<div class="line"><span class="lineno">  648</span>        (addr[0] == 0xfe &amp;&amp; (addr[1] &amp; 0xc0) == 0xc0) ||</div>
<div class="line"><span class="lineno">  649</span>        (addr[0] == 0xff);</div>
<div class="line"><span class="lineno">  650</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ipv6-internal_8h_source.html#l00054">in6_addr::s6_addr</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00653">evutil_found_ifaddr()</a>.</p>

</div>
</div>
<a id="a80bb0d174aa64218ce077b0c79df3e0f" name="a80bb0d174aa64218ce077b0c79df3e0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80bb0d174aa64218ce077b0c79df3e0f">&#9670;&nbsp;</a></span>evutil_vsnprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evutil_vsnprintf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01869">1869</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1870</span>{</div>
<div class="line"><span class="lineno"> 1871</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1872</span>    <span class="keywordflow">if</span> (!buflen)</div>
<div class="line"><span class="lineno"> 1873</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1874</span><span class="preprocessor">#if defined(_MSC_VER) || defined(_WIN32)</span></div>
<div class="line"><span class="lineno"> 1875</span>    r = _vsnprintf(buf, buflen, format, ap);</div>
<div class="line"><span class="lineno"> 1876</span>    <span class="keywordflow">if</span> (r &lt; 0)</div>
<div class="line"><span class="lineno"> 1877</span>        r = _vscprintf(format, ap);</div>
<div class="line"><span class="lineno"> 1878</span><span class="preprocessor">#elif defined(sgi)</span></div>
<div class="line"><span class="lineno"> 1879</span>    <span class="comment">/* Make sure we always use the correct vsnprintf on IRIX */</span></div>
<div class="line"><span class="lineno"> 1880</span>    <span class="keyword">extern</span> <span class="keywordtype">int</span>      _xpg5_vsnprintf(<span class="keywordtype">char</span> * __restrict,</div>
<div class="line"><span class="lineno"> 1881</span>        __SGI_LIBC_NAMESPACE_QUALIFIER <span class="keywordtype">size_t</span>,</div>
<div class="line"><span class="lineno"> 1882</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> * __restrict, <span class="comment">/* va_list */</span> <span class="keywordtype">char</span> *);</div>
<div class="line"><span class="lineno"> 1883</span> </div>
<div class="line"><span class="lineno"> 1884</span>    r = _xpg5_vsnprintf(buf, buflen, format, ap);</div>
<div class="line"><span class="lineno"> 1885</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1886</span>    r = vsnprintf(buf, buflen, format, ap);</div>
<div class="line"><span class="lineno"> 1887</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1888</span>    buf[buflen-1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1889</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1890</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libevent_2buffer_8c_source.html#l02844">evbuffer_add_vprintf()</a>, <a class="el" href="evdns_8c_source.html#l00452">evdns_log_()</a>, <a class="el" href="log_8c_source.html#l00187">event_logv_()</a>, and <a class="el" href="evutil_8c_source.html#l01858">evutil_snprintf()</a>.</p>

</div>
</div>
<a id="a1ad548b4031a22783101eb61e6c4de17" name="a1ad548b4031a22783101eb61e6c4de17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad548b4031a22783101eb61e6c4de17">&#9670;&nbsp;</a></span>evutil_weakrand_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ev_int32_t evutil_weakrand_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevutil__weakrand__state.html">evutil_weakrand_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02489">2489</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2490</span>{</div>
<div class="line"><span class="lineno"> 2491</span>    <span class="comment">/* This RNG implementation is a linear congruential generator, with</span></div>
<div class="line"><span class="lineno"> 2492</span><span class="comment">     * modulus 2^31, multiplier 1103515245, and addend 12345.  It&#39;s also</span></div>
<div class="line"><span class="lineno"> 2493</span><span class="comment">     * used by OpenBSD, and by Glibc&#39;s TYPE_0 RNG.</span></div>
<div class="line"><span class="lineno"> 2494</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno"> 2495</span><span class="comment">     * The linear congruential generator is not an industrial-strength</span></div>
<div class="line"><span class="lineno"> 2496</span><span class="comment">     * RNG!  It&#39;s fast, but it can have higher-order patterns.  Notably,</span></div>
<div class="line"><span class="lineno"> 2497</span><span class="comment">     * the low bits tend to have periodicity.</span></div>
<div class="line"><span class="lineno"> 2498</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2499</span>    state-&gt;<a class="code hl_variable" href="structevutil__weakrand__state.html#ae078f9217e8a3ce34e616c8cd2ab626a">seed</a> = ((state-&gt;<a class="code hl_variable" href="structevutil__weakrand__state.html#ae078f9217e8a3ce34e616c8cd2ab626a">seed</a>) * 1103515245 + 12345) &amp; 0x7fffffff;</div>
<div class="line"><span class="lineno"> 2500</span>    <span class="keywordflow">return</span> (ev_int32_t)(state-&gt;<a class="code hl_variable" href="structevutil__weakrand__state.html#ae078f9217e8a3ce34e616c8cd2ab626a">seed</a>);</div>
<div class="line"><span class="lineno"> 2501</span>}</div>
<div class="ttc" id="astructevutil__weakrand__state_html_ae078f9217e8a3ce34e616c8cd2ab626a"><div class="ttname"><a href="structevutil__weakrand__state.html#ae078f9217e8a3ce34e616c8cd2ab626a">evutil_weakrand_state::seed</a></div><div class="ttdeci">ev_uint32_t seed</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00316">util-internal.h:316</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00316">evutil_weakrand_state::seed</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02504">evutil_weakrand_range_()</a>.</p>

</div>
</div>
<a id="a87a811277a59cecf75dce798c303b702" name="a87a811277a59cecf75dce798c303b702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87a811277a59cecf75dce798c303b702">&#9670;&nbsp;</a></span>evutil_weakrand_range_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ev_int32_t evutil_weakrand_range_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevutil__weakrand__state.html">evutil_weakrand_state</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_int32_t&#160;</td>
          <td class="paramname"><em>top</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02504">2504</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2505</span>{</div>
<div class="line"><span class="lineno"> 2506</span>    ev_int32_t divisor, result;</div>
<div class="line"><span class="lineno"> 2507</span> </div>
<div class="line"><span class="lineno"> 2508</span>    <span class="comment">/* We can&#39;t just do weakrand() % top, since the low bits of the LCG</span></div>
<div class="line"><span class="lineno"> 2509</span><span class="comment">     * are less random than the high ones.  (Specifically, since the LCG</span></div>
<div class="line"><span class="lineno"> 2510</span><span class="comment">     * modulus is 2^N, every 2^m for m&lt;N will divide the modulus, and so</span></div>
<div class="line"><span class="lineno"> 2511</span><span class="comment">     * therefore the low m bits of the LCG will have period 2^m.) */</span></div>
<div class="line"><span class="lineno"> 2512</span>    divisor = <a class="code hl_define" href="util-internal_8h.html#acc3f0e7c23c92d37dd16cc3dbddbbfb0">EVUTIL_WEAKRAND_MAX</a> / top;</div>
<div class="line"><span class="lineno"> 2513</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 2514</span>        result = <a class="code hl_function" href="evutil_8c.html#a1ad548b4031a22783101eb61e6c4de17">evutil_weakrand_</a>(state) / divisor;</div>
<div class="line"><span class="lineno"> 2515</span>    } <span class="keywordflow">while</span> (result &gt;= top);</div>
<div class="line"><span class="lineno"> 2516</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2517</span>}</div>
<div class="ttc" id="aevutil_8c_html_a1ad548b4031a22783101eb61e6c4de17"><div class="ttname"><a href="evutil_8c.html#a1ad548b4031a22783101eb61e6c4de17">evutil_weakrand_</a></div><div class="ttdeci">ev_int32_t evutil_weakrand_(struct evutil_weakrand_state *state)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02489">evutil.c:2489</a></div></div>
<div class="ttc" id="autil-internal_8h_html_acc3f0e7c23c92d37dd16cc3dbddbbfb0"><div class="ttname"><a href="util-internal_8h.html#acc3f0e7c23c92d37dd16cc3dbddbbfb0">EVUTIL_WEAKRAND_MAX</a></div><div class="ttdeci">#define EVUTIL_WEAKRAND_MAX</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00319">util-internal.h:319</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil_8c_source.html#l02489">evutil_weakrand_()</a>, and <a class="el" href="util-internal_8h_source.html#l00319">EVUTIL_WEAKRAND_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__ratelim_8c_source.html#l00446">bev_group_random_element_()</a>.</p>

</div>
</div>
<a id="a26c72e4f95fd183833a046f276a4b302" name="a26c72e4f95fd183833a046f276a4b302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26c72e4f95fd183833a046f276a4b302">&#9670;&nbsp;</a></span>evutil_weakrand_seed_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ev_uint32_t evutil_weakrand_seed_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevutil__weakrand__state.html">evutil_weakrand_state</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev_uint32_t&#160;</td>
          <td class="paramname"><em>seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02472">2472</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2473</span>{</div>
<div class="line"><span class="lineno"> 2474</span>    <span class="keywordflow">if</span> (seed == 0) {</div>
<div class="line"><span class="lineno"> 2475</span>        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno"> 2476</span>        <a class="code hl_function" href="evutil__time_8c.html#a2ca2db950ffe1e218494428a4c6be268">evutil_gettimeofday</a>(&amp;tv, NULL);</div>
<div class="line"><span class="lineno"> 2477</span>        seed = (ev_uint32_t)tv.tv_sec + (ev_uint32_t)tv.tv_usec;</div>
<div class="line"><span class="lineno"> 2478</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 2479</span>        seed += (ev_uint32_t) _getpid();</div>
<div class="line"><span class="lineno"> 2480</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2481</span>        seed += (ev_uint32_t) getpid();</div>
<div class="line"><span class="lineno"> 2482</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2483</span>    }</div>
<div class="line"><span class="lineno"> 2484</span>    state-&gt;<a class="code hl_variable" href="structevutil__weakrand__state.html#ae078f9217e8a3ce34e616c8cd2ab626a">seed</a> = seed;</div>
<div class="line"><span class="lineno"> 2485</span>    <span class="keywordflow">return</span> seed;</div>
<div class="line"><span class="lineno"> 2486</span>}</div>
<div class="ttc" id="aevutil__time_8c_html_a2ca2db950ffe1e218494428a4c6be268"><div class="ttname"><a href="evutil__time_8c.html#a2ca2db950ffe1e218494428a4c6be268">evutil_gettimeofday</a></div><div class="ttdeci">int evutil_gettimeofday(struct timeval *tv, struct timezone *tz)</div><div class="ttdef"><b>Definition:</b> <a href="evutil__time_8c_source.html#l00072">evutil_time.c:72</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evutil__time_8c_source.html#l00072">evutil_gettimeofday()</a>, and <a class="el" href="util-internal_8h_source.html#l00316">evutil_weakrand_state::seed</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__ratelim_8c_source.html#l00638">bufferevent_rate_limit_group_new()</a>.</p>

</div>
</div>
<a id="abd045fb4850e0a88d93331ab206770eb" name="abd045fb4850e0a88d93331ab206770eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd045fb4850e0a88d93331ab206770eb">&#9670;&nbsp;</a></span>parse_numeric_servname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int parse_numeric_servname </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>servname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00891">891</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  892</span>{</div>
<div class="line"><span class="lineno">  893</span>    <span class="keywordtype">int</span> n;</div>
<div class="line"><span class="lineno">  894</span>    <span class="keywordtype">char</span> *endptr=NULL;</div>
<div class="line"><span class="lineno">  895</span>    n = (int) strtol(servname, &amp;endptr, 10);</div>
<div class="line"><span class="lineno">  896</span>    <span class="keywordflow">if</span> (n&gt;=0 &amp;&amp; n &lt;= 65535 &amp;&amp; servname[0] &amp;&amp; endptr &amp;&amp; !endptr[0])</div>
<div class="line"><span class="lineno">  897</span>        <span class="keywordflow">return</span> n;</div>
<div class="line"><span class="lineno">  898</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  899</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  900</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01385">evutil_getaddrinfo()</a>, and <a class="el" href="evutil_8c_source.html#l00906">evutil_parse_servname()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad58a10b183f1788e7c7b7c17d2802edb" name="ad58a10b183f1788e7c7b7c17d2802edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad58a10b183f1788e7c7b7c17d2802edb">&#9670;&nbsp;</a></span>evdns_getaddrinfo_cancel_impl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="util-internal_8h.html#ad42dfed608dd057527d5ba212d5415b8">evdns_getaddrinfo_cancel_fn</a> evdns_getaddrinfo_cancel_impl = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01594">1594</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01631">evutil_getaddrinfo_cancel_async_()</a>, and <a class="el" href="evutil_8c_source.html#l01603">evutil_set_evdns_getaddrinfo_cancel_fn_()</a>.</p>

</div>
</div>
<a id="af6c7933eaff49642b7bdbf657ac650a4" name="af6c7933eaff49642b7bdbf657ac650a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6c7933eaff49642b7bdbf657ac650a4">&#9670;&nbsp;</a></span>evdns_getaddrinfo_impl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="util-internal_8h.html#a6291901ccbcb671e145c4adff037b714">evdns_getaddrinfo_fn</a> evdns_getaddrinfo_impl = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l01593">1593</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01613">evutil_getaddrinfo_async_()</a>, and <a class="el" href="evutil_8c_source.html#l01597">evutil_set_evdns_getaddrinfo_fn_()</a>.</p>

</div>
</div>
<a id="a408971f7ea0769fca7614daf170967c2" name="a408971f7ea0769fca7614daf170967c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a408971f7ea0769fca7614daf170967c2">&#9670;&nbsp;</a></span>EVUTIL_ISALNUM_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ev_uint32_t EVUTIL_ISALNUM_TABLE[8]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">  { 0, 0x3ff0000, 0x7fffffe, 0x7fffffe, 0, 0, 0, 0 }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02320">2320</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="a45808362f9f09670208e517986f539f7" name="a45808362f9f09670208e517986f539f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45808362f9f09670208e517986f539f7">&#9670;&nbsp;</a></span>EVUTIL_ISALPHA_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ev_uint32_t EVUTIL_ISALPHA_TABLE[8]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">  { 0, 0, 0x7fffffe, 0x7fffffe, 0, 0, 0, 0 }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02318">2318</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="ab8dc243bf362220918602b0f2e29bc78" name="ab8dc243bf362220918602b0f2e29bc78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8dc243bf362220918602b0f2e29bc78">&#9670;&nbsp;</a></span>EVUTIL_ISDIGIT_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ev_uint32_t EVUTIL_ISDIGIT_TABLE[8] = { 0, 0x3ff0000, 0, 0, 0, 0, 0, 0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02325">2325</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="ade70d207689fcb4a2c71139df8cdb1b0" name="ade70d207689fcb4a2c71139df8cdb1b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade70d207689fcb4a2c71139df8cdb1b0">&#9670;&nbsp;</a></span>EVUTIL_ISLOWER_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ev_uint32_t EVUTIL_ISLOWER_TABLE[8] = { 0, 0, 0, 0x7fffffe, 0, 0, 0, 0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02329">2329</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="a06b5bc4f82c3cc7f41645c0b346e0b97" name="a06b5bc4f82c3cc7f41645c0b346e0b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b5bc4f82c3cc7f41645c0b346e0b97">&#9670;&nbsp;</a></span>EVUTIL_ISPRINT_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ev_uint32_t EVUTIL_ISPRINT_TABLE[8]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">  { 0, 0xffffffff, 0xffffffff, 0x7fffffff, 0, 0, 0, 0x0 }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02326">2326</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="a0c221050650399b67da04a3dce44b759" name="a0c221050650399b67da04a3dce44b759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c221050650399b67da04a3dce44b759">&#9670;&nbsp;</a></span>EVUTIL_ISSPACE_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ev_uint32_t EVUTIL_ISSPACE_TABLE[8] = { 0x3e00, 0x1, 0, 0, 0, 0, 0, 0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02322">2322</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="a99770142b3805c764483beb6840cd803" name="a99770142b3805c764483beb6840cd803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99770142b3805c764483beb6840cd803">&#9670;&nbsp;</a></span>EVUTIL_ISUPPER_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ev_uint32_t EVUTIL_ISUPPER_TABLE[8] = { 0, 0, 0x7fffffe, 0, 0, 0, 0, 0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02328">2328</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="ac42f04fd3165b0b5391f1bfedde44ff1" name="ac42f04fd3165b0b5391f1bfedde44ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac42f04fd3165b0b5391f1bfedde44ff1">&#9670;&nbsp;</a></span>EVUTIL_ISXDIGIT_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ev_uint32_t EVUTIL_ISXDIGIT_TABLE[8]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">  { 0, 0x3ff0000, 0x7e, 0x7e, 0, 0, 0, 0 }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02323">2323</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

</div>
</div>
<a id="a4f42d4352c0105a24061c33b9751d376" name="a4f42d4352c0105a24061c33b9751d376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f42d4352c0105a24061c33b9751d376">&#9670;&nbsp;</a></span>evutil_memset_volatile_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void *(*volatile evutil_memset_volatile_) (void *, int, size_t) </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> = memset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Volatile pointer to memset: we use this to keep the compiler from eliminating our call to memset. </p>

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02523">2523</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02526">evutil_memclear_()</a>.</p>

</div>
</div>
<a id="abc54797b5987a665f1bee19b1437cb42" name="abc54797b5987a665f1bee19b1437cb42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc54797b5987a665f1bee19b1437cb42">&#9670;&nbsp;</a></span>EVUTIL_TOLOWER_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char EVUTIL_TOLOWER_TABLE[256]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,</div>
<div class="line">  16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,</div>
<div class="line">  32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,</div>
<div class="line">  48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,</div>
<div class="line">  64,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,</div>
<div class="line">  112,113,114,115,116,117,118,119,120,121,122,91,92,93,94,95,</div>
<div class="line">  96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,</div>
<div class="line">  112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,</div>
<div class="line">  128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,</div>
<div class="line">  144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,</div>
<div class="line">  160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,</div>
<div class="line">  176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,</div>
<div class="line">  192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,</div>
<div class="line">  208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,</div>
<div class="line">  224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,</div>
<div class="line">  240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02350">2350</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02383">EVUTIL_TOLOWER_()</a>.</p>

</div>
</div>
<a id="a8521f6e862b0f258b3527b57544cac02" name="a8521f6e862b0f258b3527b57544cac02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8521f6e862b0f258b3527b57544cac02">&#9670;&nbsp;</a></span>EVUTIL_TOUPPER_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char EVUTIL_TOUPPER_TABLE[256]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,</div>
<div class="line">  16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,</div>
<div class="line">  32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,</div>
<div class="line">  48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,</div>
<div class="line">  64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,</div>
<div class="line">  80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,</div>
<div class="line">  96,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,</div>
<div class="line">  80,81,82,83,84,85,86,87,88,89,90,123,124,125,126,127,</div>
<div class="line">  128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,</div>
<div class="line">  144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,</div>
<div class="line">  160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,</div>
<div class="line">  176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,</div>
<div class="line">  192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,</div>
<div class="line">  208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,</div>
<div class="line">  224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,</div>
<div class="line">  240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l02332">2332</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l02387">EVUTIL_TOUPPER_()</a>.</p>

</div>
</div>
<a id="ae9d0bc5553f56008b1cbef60d3dfdda6" name="ae9d0bc5553f56008b1cbef60d3dfdda6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d0bc5553f56008b1cbef60d3dfdda6">&#9670;&nbsp;</a></span>had_ipv4_address</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int had_ipv4_address</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00612">612</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01236">evutil_adjust_hints_for_addrconfig_()</a>, and <a class="el" href="evutil_8c_source.html#l00653">evutil_found_ifaddr()</a>.</p>

</div>
</div>
<a id="aac1995c81b8f70139a18a34d675a1648" name="aac1995c81b8f70139a18a34d675a1648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac1995c81b8f70139a18a34d675a1648">&#9670;&nbsp;</a></span>had_ipv6_address</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int had_ipv6_address</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00612">612</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l01236">evutil_adjust_hints_for_addrconfig_()</a>, and <a class="el" href="evutil_8c_source.html#l00653">evutil_found_ifaddr()</a>.</p>

</div>
</div>
<a id="ad64c7b8bb0ae6212ecb9b6082831c538" name="ad64c7b8bb0ae6212ecb9b6082831c538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad64c7b8bb0ae6212ecb9b6082831c538">&#9670;&nbsp;</a></span>have_checked_interfaces</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int have_checked_interfaces</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evutil_8c_source.html#l00612">612</a> of file <a class="el" href="evutil_8c_source.html">evutil.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="evutil_8c_source.html#l00758">evutil_check_interfaces()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
