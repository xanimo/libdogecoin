<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/libevent/event-internal.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_97979c17d049e8002d2e089c4964ead4.html">libevent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">event-internal.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;event2/event-config.h&quot;</code><br />
<code>#include &quot;evconfig-private.h&quot;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
<code>#include &quot;event2/event_struct.h&quot;</code><br />
<code>#include &quot;<a class="el" href="minheap-internal_8h_source.html">minheap-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="evsignal-internal_8h_source.html">evsignal-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mm-internal_8h_source.html">mm-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="defer-internal_8h_source.html">defer-internal.h</a>&quot;</code><br />
</div>
<p><a href="event-internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeventop.html">eventop</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevent__signal__map.html">event_signal_map</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommon__timeout__list.html">common_timeout_list</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevent__changelist.html">event_changelist</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevent__once.html">event_once</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevent__base.html">event_base</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevent__config__entry.html">event_config_entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevent__config.html">event_config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa829233e4260ed23150035ee241b0fa2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a>&#160;&#160;&#160;ev_.ev_signal.ev_signal_next</td></tr>
<tr class="separator:aa829233e4260ed23150035ee241b0fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113d4162bb301cb2500f086a38932f28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>&#160;&#160;&#160;ev_.ev_io.ev_io_next</td></tr>
<tr class="separator:a113d4162bb301cb2500f086a38932f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad755fb23054e45c9af1d6196d040e12f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ad755fb23054e45c9af1d6196d040e12f">ev_io_timeout</a>&#160;&#160;&#160;ev_.ev_io.ev_timeout</td></tr>
<tr class="separator:ad755fb23054e45c9af1d6196d040e12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4af2a8d7da265327ea68f9b24856645"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ae4af2a8d7da265327ea68f9b24856645">ev_ncalls</a>&#160;&#160;&#160;ev_.ev_signal.ev_ncalls</td></tr>
<tr class="separator:ae4af2a8d7da265327ea68f9b24856645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14572b7ed25be620201bbc851191d4e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a14572b7ed25be620201bbc851191d4e5">ev_pncalls</a>&#160;&#160;&#160;ev_.ev_signal.ev_pncalls</td></tr>
<tr class="separator:a14572b7ed25be620201bbc851191d4e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59f1b4600266c1db7aecca5b964eb97"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ad59f1b4600266c1db7aecca5b964eb97">ev_pri</a>&#160;&#160;&#160;ev_evcallback.evcb_pri</td></tr>
<tr class="separator:ad59f1b4600266c1db7aecca5b964eb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae9e83bec694cfaed96534365a7cae4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a1ae9e83bec694cfaed96534365a7cae4">ev_flags</a>&#160;&#160;&#160;ev_evcallback.evcb_flags</td></tr>
<tr class="separator:a1ae9e83bec694cfaed96534365a7cae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292492dfbd9957008c6f003d0bbb2932"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a292492dfbd9957008c6f003d0bbb2932">ev_closure</a>&#160;&#160;&#160;ev_evcallback.evcb_closure</td></tr>
<tr class="separator:a292492dfbd9957008c6f003d0bbb2932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc5cf5763e8bbd25c71d3cb3a1390337"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#afc5cf5763e8bbd25c71d3cb3a1390337">ev_callback</a>&#160;&#160;&#160;ev_evcallback.evcb_cb_union.evcb_callback</td></tr>
<tr class="separator:afc5cf5763e8bbd25c71d3cb3a1390337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad74442c4a0ed9f7cb81de5f79c9fad59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ad74442c4a0ed9f7cb81de5f79c9fad59">ev_arg</a>&#160;&#160;&#160;ev_evcallback.evcb_arg</td></tr>
<tr class="separator:ad74442c4a0ed9f7cb81de5f79c9fad59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f042fdb79d2c98d7c0fa287c62d1e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a>&#160;&#160;&#160;<a class="el" href="structevent__signal__map.html">event_signal_map</a></td></tr>
<tr class="separator:a16f042fdb79d2c98d7c0fa287c62d1e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10dd21aa17242e8fabf9296e8cc36494"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a10dd21aa17242e8fabf9296e8cc36494">COMMON_TIMEOUT_MICROSECONDS_MASK</a>&#160;&#160;&#160;0x000fffff</td></tr>
<tr class="separator:a10dd21aa17242e8fabf9296e8cc36494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6503f9366f20de8549a112dd7ebd955"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ae6503f9366f20de8549a112dd7ebd955">EVENT_DEBUG_MODE_IS_ON</a>()&#160;&#160;&#160;(<a class="el" href="evthread_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</td></tr>
<tr class="separator:ae6503f9366f20de8549a112dd7ebd955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0687dc033d5b408a3883b5bf2bd9a935"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a0687dc033d5b408a3883b5bf2bd9a935">LIST_END</a>(head)&#160;&#160;&#160;NULL</td></tr>
<tr class="separator:a0687dc033d5b408a3883b5bf2bd9a935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d6894360bd1c41e0e6f6d84998c1362"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(head)&#160;&#160;&#160;((head)-&gt;tqh_first)</td></tr>
<tr class="separator:a7d6894360bd1c41e0e6f6d84998c1362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4322b8461a6ab7632435ff4f57bb3a2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a4322b8461a6ab7632435ff4f57bb3a2e">TAILQ_END</a>(head)&#160;&#160;&#160;NULL</td></tr>
<tr class="separator:a4322b8461a6ab7632435ff4f57bb3a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd57fe9bdea6007a602f8c7d61bd5265"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#abd57fe9bdea6007a602f8c7d61bd5265">TAILQ_NEXT</a>(elm,  field)&#160;&#160;&#160;((elm)-&gt;field.tqe_next)</td></tr>
<tr class="separator:abd57fe9bdea6007a602f8c7d61bd5265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e5fc168e7f3494d4b1df54447d871e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(var,  head,  field)</td></tr>
<tr class="separator:a16e5fc168e7f3494d4b1df54447d871e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6a41e17dbc7d8df1f8b353a036754ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ac6a41e17dbc7d8df1f8b353a036754ff">TAILQ_INSERT_BEFORE</a>(listelm,  elm,  field)</td></tr>
<tr class="separator:ac6a41e17dbc7d8df1f8b353a036754ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d006f60c1487ee11764641753301a63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a>(base)&#160;&#160;&#160;	((base)-&gt;event_count_active)</td></tr>
<tr class="separator:a1d006f60c1487ee11764641753301a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4106ad80e46f1a6a2d8824cb34f899"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:acb4106ad80e46f1a6a2d8824cb34f899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64dbbf37ce81344abd9ee8f44c6692e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a64dbbf37ce81344abd9ee8f44c6692e4">EVENT_DEL_BLOCK</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a64dbbf37ce81344abd9ee8f44c6692e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b986417655459f13495c7e24acf8ac9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a5b986417655459f13495c7e24acf8ac9">EVENT_DEL_AUTOBLOCK</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a5b986417655459f13495c7e24acf8ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8905546adf5fb540312eac1607bbdeb9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a8905546adf5fb540312eac1607bbdeb9">EVENT_DEL_EVEN_IF_FINALIZING</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a8905546adf5fb540312eac1607bbdeb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Event closure codes</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Possible values for evcb_closure in struct event_callback </p>
</div></td></tr>
<tr class="memitem:abfd9db6f5c092cafa76e3d8cecc3a9d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#abfd9db6f5c092cafa76e3d8cecc3a9d8">EV_CLOSURE_EVENT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:abfd9db6f5c092cafa76e3d8cecc3a9d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e83bc48ad10f5d5350e0fd8b17ff12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a36e83bc48ad10f5d5350e0fd8b17ff12">EV_CLOSURE_EVENT_SIGNAL</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a36e83bc48ad10f5d5350e0fd8b17ff12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a14b7de7ee2dca0aaf221ab7963dce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a47a14b7de7ee2dca0aaf221ab7963dce">EV_CLOSURE_EVENT_PERSIST</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a47a14b7de7ee2dca0aaf221ab7963dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7009db10499c3b79837d0c65e9a93ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ad7009db10499c3b79837d0c65e9a93ef">EV_CLOSURE_CB_SELF</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ad7009db10499c3b79837d0c65e9a93ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d789a90e7e056878473202407e78407"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a2d789a90e7e056878473202407e78407">EV_CLOSURE_CB_FINALIZE</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a2d789a90e7e056878473202407e78407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e3eb121c751dbfd015c416550fee057"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a1e3eb121c751dbfd015c416550fee057">EV_CLOSURE_EVENT_FINALIZE</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a1e3eb121c751dbfd015c416550fee057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af694eafd1a0f9c35a09bc31d2865aaf2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#af694eafd1a0f9c35a09bc31d2865aaf2">EV_CLOSURE_EVENT_FINALIZE_FREE</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:af694eafd1a0f9c35a09bc31d2865aaf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aef7fb5ac4d047df0a3b87babdb088ade"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#aef7fb5ac4d047df0a3b87babdb088ade">TAILQ_HEAD</a> (evcallback_list, event_callback)</td></tr>
<tr class="separator:aef7fb5ac4d047df0a3b87babdb088ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4203b3180d916b32cceb32d4a174e0a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a4203b3180d916b32cceb32d4a174e0a7">evsig_set_handler_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int evsignal, void(*fn)(int))</td></tr>
<tr class="separator:a4203b3180d916b32cceb32d4a174e0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e1ca34b4d8f333484f7bebbb2d7725"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ac9e1ca34b4d8f333484f7bebbb2d7725">evsig_restore_handler_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int evsignal)</td></tr>
<tr class="separator:ac9e1ca34b4d8f333484f7bebbb2d7725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce9a3ab811fb589cbd8f625bdba9b92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a4ce9a3ab811fb589cbd8f625bdba9b92">event_add_nolock_</a> (struct event *ev, const struct timeval *tv, int tv_is_absolute)</td></tr>
<tr class="separator:a4ce9a3ab811fb589cbd8f625bdba9b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7399bb4d0614286e07faaed9412b16ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a> (struct event *ev, int blocking)</td></tr>
<tr class="separator:a7399bb4d0614286e07faaed9412b16ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffedf24376f5fc194b975900bcd498d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#aeffedf24376f5fc194b975900bcd498d">event_remove_timer_nolock_</a> (struct event *ev)</td></tr>
<tr class="separator:aeffedf24376f5fc194b975900bcd498d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594c4fdf5bd1f8921141fd4a929c192a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a594c4fdf5bd1f8921141fd4a929c192a">event_active_nolock_</a> (struct event *ev, int res, short <a class="el" href="tests__exhaustive_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>)</td></tr>
<tr class="separator:a594c4fdf5bd1f8921141fd4a929c192a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8043fed7d21b9e8f9cec58f01bbdc31a"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a8043fed7d21b9e8f9cec58f01bbdc31a">event_callback_activate_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event_callback *)</td></tr>
<tr class="separator:a8043fed7d21b9e8f9cec58f01bbdc31a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a137de8a41d69dda05d38d6baa8d89fe6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a137de8a41d69dda05d38d6baa8d89fe6">event_callback_activate_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *, struct event_callback *)</td></tr>
<tr class="separator:a137de8a41d69dda05d38d6baa8d89fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57a48e6d6c0430db8f56bef682854f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#aa57a48e6d6c0430db8f56bef682854f5">event_callback_cancel_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *evcb)</td></tr>
<tr class="separator:aa57a48e6d6c0430db8f56bef682854f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe640e39f50bac53b51452800ec52ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, unsigned flags, struct event_callback *evcb, void(*cb)(struct event_callback *, void *))</td></tr>
<tr class="separator:adfe640e39f50bac53b51452800ec52ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa418e0a0273077f7af8664e4ef59fe3f"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#aa418e0a0273077f7af8664e4ef59fe3f">event_callback_finalize_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, unsigned flags, struct event_callback *evcb, void(*cb)(struct event_callback *, void *))</td></tr>
<tr class="separator:aa418e0a0273077f7af8664e4ef59fe3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37e317c97519a932f2c90bd0493423e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ab37e317c97519a932f2c90bd0493423e">event_callback_finalize_many_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int n_cbs, struct event_callback **evcb, void(*cb)(struct event_callback *, void *))</td></tr>
<tr class="separator:ab37e317c97519a932f2c90bd0493423e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc1806dfecdde287794ae8fef911143"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a5dc1806dfecdde287794ae8fef911143">event_active_later_</a> (struct event *ev, int res)</td></tr>
<tr class="separator:a5dc1806dfecdde287794ae8fef911143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad45d374ce3175859698ed1d1ae52ff1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#aad45d374ce3175859698ed1d1ae52ff1">event_active_later_nolock_</a> (struct event *ev, int res)</td></tr>
<tr class="separator:aad45d374ce3175859698ed1d1ae52ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936dd89704869ed0c402c3a45f8515c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a936dd89704869ed0c402c3a45f8515c9">event_callback_activate_later_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *evcb)</td></tr>
<tr class="separator:a936dd89704869ed0c402c3a45f8515c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff51369f2c5162bde92aa5b360cce150"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *evcb, int even_if_finalizing)</td></tr>
<tr class="separator:aff51369f2c5162bde92aa5b360cce150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6080c912f44af885c07f6a518ea051af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a6080c912f44af885c07f6a518ea051af">event_callback_init_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, struct event_callback *cb)</td></tr>
<tr class="separator:a6080c912f44af885c07f6a518ea051af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309df1983dcff643df9de5e2d6adc875"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a309df1983dcff643df9de5e2d6adc875">event_base_add_virtual_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a309df1983dcff643df9de5e2d6adc875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1861394ac511a812b3237d9f9cbb221e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a1861394ac511a812b3237d9f9cbb221e">event_base_del_virtual_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a1861394ac511a812b3237d9f9cbb221e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2efd806ddabaf2f93759a73f58fc732a"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a2efd806ddabaf2f93759a73f58fc732a">event_base_assert_ok_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a2efd806ddabaf2f93759a73f58fc732a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb64b823144e0822dd5a4800d92739f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#afdb64b823144e0822dd5a4800d92739f">event_base_assert_ok_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:afdb64b823144e0822dd5a4800d92739f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a11b5ecde7dda435bfa8c73089d4c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a64a11b5ecde7dda435bfa8c73089d4c5">event_base_foreach_event_nolock_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, event_base_foreach_event_cb cb, void *arg)</td></tr>
<tr class="separator:a64a11b5ecde7dda435bfa8c73089d4c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6954084f09f614ffbafb1b85e86a27b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#ad6954084f09f614ffbafb1b85e86a27b">event_disable_debug_mode</a> (void)</td></tr>
<tr class="separator:ad6954084f09f614ffbafb1b85e86a27b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3ede2ba43439e39992899a8c083bbb6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event-internal_8h.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a></td></tr>
<tr class="separator:a3ede2ba43439e39992899a8c083bbb6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a10dd21aa17242e8fabf9296e8cc36494" name="a10dd21aa17242e8fabf9296e8cc36494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10dd21aa17242e8fabf9296e8cc36494">&#9670;&nbsp;</a></span>COMMON_TIMEOUT_MICROSECONDS_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMON_TIMEOUT_MICROSECONDS_MASK&#160;&#160;&#160;0x000fffff</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Mask used to get the real tv_usec value from a common timeout. </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00177">177</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="ad74442c4a0ed9f7cb81de5f79c9fad59" name="ad74442c4a0ed9f7cb81de5f79c9fad59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad74442c4a0ed9f7cb81de5f79c9fad59">&#9670;&nbsp;</a></span>ev_arg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_arg&#160;&#160;&#160;ev_evcallback.evcb_arg</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00060">60</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="afc5cf5763e8bbd25c71d3cb3a1390337" name="afc5cf5763e8bbd25c71d3cb3a1390337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc5cf5763e8bbd25c71d3cb3a1390337">&#9670;&nbsp;</a></span>ev_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_callback&#160;&#160;&#160;ev_evcallback.evcb_cb_union.evcb_callback</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00059">59</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a292492dfbd9957008c6f003d0bbb2932" name="a292492dfbd9957008c6f003d0bbb2932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a292492dfbd9957008c6f003d0bbb2932">&#9670;&nbsp;</a></span>ev_closure</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_closure&#160;&#160;&#160;ev_evcallback.evcb_closure</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00058">58</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a2d789a90e7e056878473202407e78407" name="a2d789a90e7e056878473202407e78407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d789a90e7e056878473202407e78407">&#9670;&nbsp;</a></span>EV_CLOSURE_CB_FINALIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EV_CLOSURE_CB_FINALIZE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >A finalizing callback. Uses the evcb_cbfinalize callback. </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00077">77</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="ad7009db10499c3b79837d0c65e9a93ef" name="ad7009db10499c3b79837d0c65e9a93ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7009db10499c3b79837d0c65e9a93ef">&#9670;&nbsp;</a></span>EV_CLOSURE_CB_SELF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EV_CLOSURE_CB_SELF&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >A simple callback. Uses the evcb_selfcb callback. </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00075">75</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="abfd9db6f5c092cafa76e3d8cecc3a9d8" name="abfd9db6f5c092cafa76e3d8cecc3a9d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd9db6f5c092cafa76e3d8cecc3a9d8">&#9670;&nbsp;</a></span>EV_CLOSURE_EVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EV_CLOSURE_EVENT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >A regular event. Uses the evcb_callback callback </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00069">69</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a1e3eb121c751dbfd015c416550fee057" name="a1e3eb121c751dbfd015c416550fee057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e3eb121c751dbfd015c416550fee057">&#9670;&nbsp;</a></span>EV_CLOSURE_EVENT_FINALIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EV_CLOSURE_EVENT_FINALIZE&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >A finalizing event. Uses the evcb_evfinalize callback. </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00079">79</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="af694eafd1a0f9c35a09bc31d2865aaf2" name="af694eafd1a0f9c35a09bc31d2865aaf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af694eafd1a0f9c35a09bc31d2865aaf2">&#9670;&nbsp;</a></span>EV_CLOSURE_EVENT_FINALIZE_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EV_CLOSURE_EVENT_FINALIZE_FREE&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >A finalizing event that should get freed after. Uses the evcb_evfinalize callback. </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00082">82</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a47a14b7de7ee2dca0aaf221ab7963dce" name="a47a14b7de7ee2dca0aaf221ab7963dce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47a14b7de7ee2dca0aaf221ab7963dce">&#9670;&nbsp;</a></span>EV_CLOSURE_EVENT_PERSIST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EV_CLOSURE_EVENT_PERSIST&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >A persistent non-signal event. Uses the evcb_callback callback </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00073">73</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a36e83bc48ad10f5d5350e0fd8b17ff12" name="a36e83bc48ad10f5d5350e0fd8b17ff12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e83bc48ad10f5d5350e0fd8b17ff12">&#9670;&nbsp;</a></span>EV_CLOSURE_EVENT_SIGNAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EV_CLOSURE_EVENT_SIGNAL&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >A signal event. Uses the evcb_callback callback </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00071">71</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a1ae9e83bec694cfaed96534365a7cae4" name="a1ae9e83bec694cfaed96534365a7cae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ae9e83bec694cfaed96534365a7cae4">&#9670;&nbsp;</a></span>ev_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_flags&#160;&#160;&#160;ev_evcallback.evcb_flags</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00057">57</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a113d4162bb301cb2500f086a38932f28" name="a113d4162bb301cb2500f086a38932f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a113d4162bb301cb2500f086a38932f28">&#9670;&nbsp;</a></span>ev_io_next</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_io_next&#160;&#160;&#160;ev_.ev_io.ev_io_next</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00049">49</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="ad755fb23054e45c9af1d6196d040e12f" name="ad755fb23054e45c9af1d6196d040e12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad755fb23054e45c9af1d6196d040e12f">&#9670;&nbsp;</a></span>ev_io_timeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_io_timeout&#160;&#160;&#160;ev_.ev_io.ev_timeout</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00050">50</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="ae4af2a8d7da265327ea68f9b24856645" name="ae4af2a8d7da265327ea68f9b24856645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4af2a8d7da265327ea68f9b24856645">&#9670;&nbsp;</a></span>ev_ncalls</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_ncalls&#160;&#160;&#160;ev_.ev_signal.ev_ncalls</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00053">53</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a14572b7ed25be620201bbc851191d4e5" name="a14572b7ed25be620201bbc851191d4e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14572b7ed25be620201bbc851191d4e5">&#9670;&nbsp;</a></span>ev_pncalls</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_pncalls&#160;&#160;&#160;ev_.ev_signal.ev_pncalls</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00054">54</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="ad59f1b4600266c1db7aecca5b964eb97" name="ad59f1b4600266c1db7aecca5b964eb97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad59f1b4600266c1db7aecca5b964eb97">&#9670;&nbsp;</a></span>ev_pri</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_pri&#160;&#160;&#160;ev_evcallback.evcb_pri</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00056">56</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="aa829233e4260ed23150035ee241b0fa2" name="aa829233e4260ed23150035ee241b0fa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa829233e4260ed23150035ee241b0fa2">&#9670;&nbsp;</a></span>ev_signal_next</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ev_signal_next&#160;&#160;&#160;ev_.ev_signal.ev_signal_next</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00048">48</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="ae6503f9366f20de8549a112dd7ebd955" name="ae6503f9366f20de8549a112dd7ebd955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6503f9366f20de8549a112dd7ebd955">&#9670;&nbsp;</a></span>EVENT_DEBUG_MODE_IS_ON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_DEBUG_MODE_IS_ON</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="evthread_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00192">192</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a5b986417655459f13495c7e24acf8ac9" name="a5b986417655459f13495c7e24acf8ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b986417655459f13495c7e24acf8ac9">&#9670;&nbsp;</a></span>EVENT_DEL_AUTOBLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_DEL_AUTOBLOCK&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Argument for event_del_nolock_. Tells event_del to block on the event if it is running in another thread and it doesn't have EV_FINALIZE set. </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00420">420</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a64dbbf37ce81344abd9ee8f44c6692e4" name="a64dbbf37ce81344abd9ee8f44c6692e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64dbbf37ce81344abd9ee8f44c6692e4">&#9670;&nbsp;</a></span>EVENT_DEL_BLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_DEL_BLOCK&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Argument for event_del_nolock_. Tells event_del to block on the event if it's running in another thread, regardless of its value for EV_FINALIZE </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00416">416</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a8905546adf5fb540312eac1607bbdeb9" name="a8905546adf5fb540312eac1607bbdeb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8905546adf5fb540312eac1607bbdeb9">&#9670;&nbsp;</a></span>EVENT_DEL_EVEN_IF_FINALIZING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_DEL_EVEN_IF_FINALIZING&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Argument for event_del_nolock_. Tells event_del to proceed even if the event is set up for finalization rather for regular use. </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00423">423</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="acb4106ad80e46f1a6a2d8824cb34f899" name="acb4106ad80e46f1a6a2d8824cb34f899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb4106ad80e46f1a6a2d8824cb34f899">&#9670;&nbsp;</a></span>EVENT_DEL_NOBLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_DEL_NOBLOCK&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Argument for event_del_nolock_. Tells event_del not to block on the event if it's running in another thread. </p>

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00412">412</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a16f042fdb79d2c98d7c0fa287c62d1e3" name="a16f042fdb79d2c98d7c0fa287c62d1e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f042fdb79d2c98d7c0fa287c62d1e3">&#9670;&nbsp;</a></span>event_io_map</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define event_io_map&#160;&#160;&#160;<a class="el" href="structevent__signal__map.html">event_signal_map</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00144">144</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a0687dc033d5b408a3883b5bf2bd9a935" name="a0687dc033d5b408a3883b5bf2bd9a935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0687dc033d5b408a3883b5bf2bd9a935">&#9670;&nbsp;</a></span>LIST_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LIST_END</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">head</td><td>)</td>
          <td>&#160;&#160;&#160;NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00372">372</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a1d006f60c1487ee11764641753301a63" name="a1d006f60c1487ee11764641753301a63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d006f60c1487ee11764641753301a63">&#9670;&nbsp;</a></span>N_ACTIVE_CALLBACKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define N_ACTIVE_CALLBACKS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">base</td><td>)</td>
          <td>&#160;&#160;&#160;	((base)-&gt;event_count_active)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00401">401</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a4322b8461a6ab7632435ff4f57bb3a2e" name="a4322b8461a6ab7632435ff4f57bb3a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4322b8461a6ab7632435ff4f57bb3a2e">&#9670;&nbsp;</a></span>TAILQ_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAILQ_END</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">head</td><td>)</td>
          <td>&#160;&#160;&#160;NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00379">379</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a7d6894360bd1c41e0e6f6d84998c1362" name="a7d6894360bd1c41e0e6f6d84998c1362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d6894360bd1c41e0e6f6d84998c1362">&#9670;&nbsp;</a></span>TAILQ_FIRST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAILQ_FIRST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">head</td><td>)</td>
          <td>&#160;&#160;&#160;((head)-&gt;tqh_first)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00376">376</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="a16e5fc168e7f3494d4b1df54447d871e" name="a16e5fc168e7f3494d4b1df54447d871e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e5fc168e7f3494d4b1df54447d871e">&#9670;&nbsp;</a></span>TAILQ_FOREACH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAILQ_FOREACH</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">var, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">head, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">for</span> ((var) = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(head);                 \</div>
<div class="line">         (var) != <a class="code hl_define" href="event-internal_8h.html#a4322b8461a6ab7632435ff4f57bb3a2e">TAILQ_END</a>(head);                  \</div>
<div class="line">         (var) = <a class="code hl_define" href="event-internal_8h.html#abd57fe9bdea6007a602f8c7d61bd5265">TAILQ_NEXT</a>(var, field))</div>
<div class="ttc" id="aevent-internal_8h_html_a4322b8461a6ab7632435ff4f57bb3a2e"><div class="ttname"><a href="event-internal_8h.html#a4322b8461a6ab7632435ff4f57bb3a2e">TAILQ_END</a></div><div class="ttdeci">#define TAILQ_END(head)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00379">event-internal.h:379</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a7d6894360bd1c41e0e6f6d84998c1362"><div class="ttname"><a href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a></div><div class="ttdeci">#define TAILQ_FIRST(head)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00376">event-internal.h:376</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_abd57fe9bdea6007a602f8c7d61bd5265"><div class="ttname"><a href="event-internal_8h.html#abd57fe9bdea6007a602f8c7d61bd5265">TAILQ_NEXT</a></div><div class="ttdeci">#define TAILQ_NEXT(elm, field)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00382">event-internal.h:382</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00386">386</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="ac6a41e17dbc7d8df1f8b353a036754ff" name="ac6a41e17dbc7d8df1f8b353a036754ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a41e17dbc7d8df1f8b353a036754ff">&#9670;&nbsp;</a></span>TAILQ_INSERT_BEFORE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAILQ_INSERT_BEFORE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">listelm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {            \</div>
<div class="line">    (elm)-&gt;field.tqe_prev = (listelm)-&gt;field.tqe_prev;      \</div>
<div class="line">    (elm)-&gt;field.tqe_next = (listelm);              \</div>
<div class="line">    *(listelm)-&gt;field.tqe_prev = (elm);             \</div>
<div class="line">    (listelm)-&gt;field.tqe_prev = &amp;(elm)-&gt;field.tqe_next;     \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00393">393</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<a id="abd57fe9bdea6007a602f8c7d61bd5265" name="abd57fe9bdea6007a602f8c7d61bd5265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd57fe9bdea6007a602f8c7d61bd5265">&#9670;&nbsp;</a></span>TAILQ_NEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAILQ_NEXT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((elm)-&gt;field.tqe_next)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event-internal_8h_source.html#l00382">382</a> of file <a class="el" href="event-internal_8h_source.html">event-internal.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5dc1806dfecdde287794ae8fef911143" name="a5dc1806dfecdde287794ae8fef911143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dc1806dfecdde287794ae8fef911143">&#9670;&nbsp;</a></span>event_active_later_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void event_active_later_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02970">2970</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2971</span>{</div>
<div class="line"><span class="lineno"> 2972</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2973</span>    <a class="code hl_function" href="event_8c.html#aad45d374ce3175859698ed1d1ae52ff1">event_active_later_nolock_</a>(ev, res);</div>
<div class="line"><span class="lineno"> 2974</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(ev-&gt;ev_base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2975</span>}</div>
<div class="ttc" id="aevent_8c_html_aad45d374ce3175859698ed1d1ae52ff1"><div class="ttname"><a href="event_8c.html#aad45d374ce3175859698ed1d1ae52ff1">event_active_later_nolock_</a></div><div class="ttdeci">void event_active_later_nolock_(struct event *ev, int res)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02978">event.c:2978</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_aacb6029f7640549840286b23c2961935"><div class="ttname"><a href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a></div><div class="ttdeci">#define EVBASE_ACQUIRE_LOCK(base, lockvar)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00118">evthread-internal.h:118</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_ad447bad18470cb6235b43b01d1ed418e"><div class="ttname"><a href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a></div><div class="ttdeci">#define EVBASE_RELEASE_LOCK(base, lockvar)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00123">evthread-internal.h:123</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02978">event_active_later_nolock_()</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

</div>
</div>
<a id="aad45d374ce3175859698ed1d1ae52ff1" name="aad45d374ce3175859698ed1d1ae52ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad45d374ce3175859698ed1d1ae52ff1">&#9670;&nbsp;</a></span>event_active_later_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_active_later_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02978">2978</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2979</span>{</div>
<div class="line"><span class="lineno"> 2980</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2981</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 2982</span> </div>
<div class="line"><span class="lineno"> 2983</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER)) {</div>
<div class="line"><span class="lineno"> 2984</span>        <span class="comment">/* We get different kinds of events, add them together */</span></div>
<div class="line"><span class="lineno"> 2985</span>        ev-&gt;ev_res |= res;</div>
<div class="line"><span class="lineno"> 2986</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2987</span>    }</div>
<div class="line"><span class="lineno"> 2988</span> </div>
<div class="line"><span class="lineno"> 2989</span>    ev-&gt;ev_res = res;</div>
<div class="line"><span class="lineno"> 2990</span> </div>
<div class="line"><span class="lineno"> 2991</span>    <a class="code hl_function" href="event_8c.html#a936dd89704869ed0c402c3a45f8515c9">event_callback_activate_later_nolock_</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2992</span>}</div>
<div class="ttc" id="aevent_8c_html_a30dad9908d8052d551d84eddf523991a"><div class="ttname"><a href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a></div><div class="ttdeci">#define EVENT_BASE_ASSERT_LOCKED(base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00400">event.c:400</a></div></div>
<div class="ttc" id="aevent_8c_html_a936dd89704869ed0c402c3a45f8515c9"><div class="ttname"><a href="event_8c.html#a936dd89704869ed0c402c3a45f8515c9">event_callback_activate_later_nolock_</a></div><div class="ttdeci">int event_callback_activate_later_nolock_(struct event_base *base, struct event_callback *evcb)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03037">event.c:3037</a></div></div>
<div class="ttc" id="aevent_8c_html_a983e7de51e0271404f0801df799876bc"><div class="ttname"><a href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a></div><div class="ttdeci">static struct event_callback * event_to_event_callback(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00499">event.c:499</a></div></div>
<div class="ttc" id="astructevent__base_html"><div class="ttname"><a href="structevent__base.html">event_base</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00208">event-internal.h:208</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="event_8c_source.html#l03037">event_callback_activate_later_nolock_()</a>, and <a class="el" href="event_8c_source.html#l00499">event_to_event_callback()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02970">event_active_later_()</a>.</p>

</div>
</div>
<a id="a594c4fdf5bd1f8921141fd4a929c192a" name="a594c4fdf5bd1f8921141fd4a929c192a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a594c4fdf5bd1f8921141fd4a929c192a">&#9670;&nbsp;</a></span>event_active_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_active_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02919">2919</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2920</span>{</div>
<div class="line"><span class="lineno"> 2921</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base;</div>
<div class="line"><span class="lineno"> 2922</span> </div>
<div class="line"><span class="lineno"> 2923</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;event_active: %p (fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;), res %d, callback %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 2924</span>        ev, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), (<span class="keywordtype">int</span>)res, ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 2925</span> </div>
<div class="line"><span class="lineno"> 2926</span>    base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2927</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 2928</span> </div>
<div class="line"><span class="lineno"> 2929</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_FINALIZING) {</div>
<div class="line"><span class="lineno"> 2930</span>        <span class="comment">/* XXXX debug */</span></div>
<div class="line"><span class="lineno"> 2931</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2932</span>    }</div>
<div class="line"><span class="lineno"> 2933</span> </div>
<div class="line"><span class="lineno"> 2934</span>    <span class="keywordflow">switch</span> ((ev-&gt;ev_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER))) {</div>
<div class="line"><span class="lineno"> 2935</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2936</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE|EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 2937</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(0);</div>
<div class="line"><span class="lineno"> 2938</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2939</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE:</div>
<div class="line"><span class="lineno"> 2940</span>        <span class="comment">/* We get different kinds of events, add them together */</span></div>
<div class="line"><span class="lineno"> 2941</span>        ev-&gt;ev_res |= res;</div>
<div class="line"><span class="lineno"> 2942</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2943</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 2944</span>        ev-&gt;ev_res |= res;</div>
<div class="line"><span class="lineno"> 2945</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2946</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 2947</span>        ev-&gt;ev_res = res;</div>
<div class="line"><span class="lineno"> 2948</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2949</span>    }</div>
<div class="line"><span class="lineno"> 2950</span> </div>
<div class="line"><span class="lineno"> 2951</span>    <span class="keywordflow">if</span> (ev-&gt;ev_pri &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#a2190f4f8a6118c1145a294ca11d26954">event_running_priority</a>)</div>
<div class="line"><span class="lineno"> 2952</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#ab1ee3887cd128743f5037d8f2e8f444a">event_continue</a> = 1;</div>
<div class="line"><span class="lineno"> 2953</span> </div>
<div class="line"><span class="lineno"> 2954</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_SIGNAL) {</div>
<div class="line"><span class="lineno"> 2955</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 2956</span>        <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> == <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2957</span>            !<a class="code hl_define" href="evthread-internal_8h.html#ac023e978d4b8ebfb1a79926a47f90ed9">EVBASE_IN_THREAD</a>(base)) {</div>
<div class="line"><span class="lineno"> 2958</span>            ++base-&gt;<a class="code hl_variable" href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">current_event_waiters</a>;</div>
<div class="line"><span class="lineno"> 2959</span>            <a class="code hl_define" href="evthread-internal_8h.html#aacb4425897e69915b7f3e366b6b4b430">EVTHREAD_COND_WAIT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">current_event_cond</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2960</span>        }</div>
<div class="line"><span class="lineno"> 2961</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2962</span>        ev-&gt;ev_ncalls = ncalls;</div>
<div class="line"><span class="lineno"> 2963</span>        ev-&gt;ev_pncalls = NULL;</div>
<div class="line"><span class="lineno"> 2964</span>    }</div>
<div class="line"><span class="lineno"> 2965</span> </div>
<div class="line"><span class="lineno"> 2966</span>    <a class="code hl_function" href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2967</span>}</div>
<div class="ttc" id="aevent_8c_html_a076746196a9869ea729e8418258dfbd7"><div class="ttname"><a href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a></div><div class="ttdeci">int event_callback_activate_nolock_(struct event_base *base, struct event_callback *evcb)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03006">event.c:3006</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_aacb4425897e69915b7f3e366b6b4b430"><div class="ttname"><a href="evthread-internal_8h.html#aacb4425897e69915b7f3e366b6b4b430">EVTHREAD_COND_WAIT</a></div><div class="ttdeci">#define EVTHREAD_COND_WAIT(cond, lock)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00174">evthread-internal.h:174</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_ac023e978d4b8ebfb1a79926a47f90ed9"><div class="ttname"><a href="evthread-internal_8h.html#ac023e978d4b8ebfb1a79926a47f90ed9">EVBASE_IN_THREAD</a></div><div class="ttdeci">#define EVBASE_IN_THREAD(base)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00066">evthread-internal.h:66</a></div></div>
<div class="ttc" id="alog-internal_8h_html_abca298e725a8bd7373647a064b4d1ff7"><div class="ttname"><a href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a></div><div class="ttdeci">#define event_debug(x)</div><div class="ttdef"><b>Definition:</b> <a href="log-internal_8h_source.html#l00079">log-internal.h:79</a></div></div>
<div class="ttc" id="astructevent__base_html_a2190f4f8a6118c1145a294ca11d26954"><div class="ttname"><a href="structevent__base.html#a2190f4f8a6118c1145a294ca11d26954">event_base::event_running_priority</a></div><div class="ttdeci">int event_running_priority</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00247">event-internal.h:247</a></div></div>
<div class="ttc" id="astructevent__base_html_a31440f8ef25b630f3d338b9e38c00f0a"><div class="ttname"><a href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">event_base::current_event</a></div><div class="ttdeci">struct event_callback * current_event</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00315">event-internal.h:315</a></div></div>
<div class="ttc" id="astructevent__base_html_a9552e59d24e61ca46f253fc1c412072a"><div class="ttname"><a href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">event_base::current_event_cond</a></div><div class="ttdeci">void * current_event_cond</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00310">event-internal.h:310</a></div></div>
<div class="ttc" id="astructevent__base_html_ab1ee3887cd128743f5037d8f2e8f444a"><div class="ttname"><a href="structevent__base.html#ab1ee3887cd128743f5037d8f2e8f444a">event_base::event_continue</a></div><div class="ttdeci">int event_continue</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00244">event-internal.h:244</a></div></div>
<div class="ttc" id="astructevent__base_html_ae32a6810bcc12f942954b06e7393495f"><div class="ttname"><a href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">event_base::th_base_lock</a></div><div class="ttdeci">void * th_base_lock</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00307">event-internal.h:307</a></div></div>
<div class="ttc" id="astructevent__base_html_ae9d144a390562f68abad627b36c871f2"><div class="ttname"><a href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">event_base::current_event_waiters</a></div><div class="ttdeci">int current_event_waiters</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00312">event-internal.h:312</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7365930d8b30f4c1ab3cef31a8622731"><div class="ttname"><a href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a></div><div class="ttdeci">#define EVUTIL_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00363">util-internal.h:363</a></div></div>
<div class="ttc" id="autil-internal_8h_html_ae4520c37e639bce2b7463312e1ddfb48"><div class="ttname"><a href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a></div><div class="ttdeci">#define EV_SOCK_FMT</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00476">util-internal.h:476</a></div></div>
<div class="ttc" id="autil-internal_8h_html_aee887fc99d808a2195f016a578c3f58d"><div class="ttname"><a href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a></div><div class="ttdeci">#define EV_SOCK_ARG(x)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00477">util-internal.h:477</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="event-internal_8h_source.html#l00310">event_base::current_event_cond</a>, <a class="el" href="event-internal_8h_source.html#l00312">event_base::current_event_waiters</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="evthread-internal_8h_source.html#l00066">EVBASE_IN_THREAD</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>, <a class="el" href="event-internal_8h_source.html#l00244">event_base::event_continue</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event-internal_8h_source.html#l00247">event_base::event_running_priority</a>, <a class="el" href="event_8c_source.html#l00499">event_to_event_callback()</a>, <a class="el" href="evthread-internal_8h_source.html#l00174">EVTHREAD_COND_WAIT</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01462">common_timeout_callback()</a>, <a class="el" href="event_8c_source.html#l02901">event_active()</a>, <a class="el" href="event_8c_source.html#l03826">event_base_active_by_fd()</a>, <a class="el" href="event_8c_source.html#l02051">event_base_once()</a>, <a class="el" href="event_8c_source.html#l02247">event_finalize_nolock_()</a>, <a class="el" href="evmap_8c_source.html#l00420">evmap_io_active_()</a>, <a class="el" href="evmap_8c_source.html#l00501">evmap_signal_active_()</a>, and <a class="el" href="event_8c_source.html#l03181">timeout_process()</a>.</p>

</div>
</div>
<a id="a4ce9a3ab811fb589cbd8f625bdba9b92" name="a4ce9a3ab811fb589cbd8f625bdba9b92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce9a3ab811fb589cbd8f625bdba9b92">&#9670;&nbsp;</a></span>event_add_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_add_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tv_is_absolute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02597">2597</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2599</span>{</div>
<div class="line"><span class="lineno"> 2600</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2601</span>    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><span class="lineno"> 2602</span>    <span class="keywordtype">int</span> notify = 0;</div>
<div class="line"><span class="lineno"> 2603</span> </div>
<div class="line"><span class="lineno"> 2604</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 2605</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2606</span> </div>
<div class="line"><span class="lineno"> 2607</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((</div>
<div class="line"><span class="lineno"> 2608</span>         <span class="stringliteral">&quot;event_add: event: %p (fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;), %s%s%s%scall %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 2609</span>         ev,</div>
<div class="line"><span class="lineno"> 2610</span>         <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd),</div>
<div class="line"><span class="lineno"> 2611</span>         ev-&gt;ev_events &amp; EV_READ ? <span class="stringliteral">&quot;EV_READ &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 2612</span>         ev-&gt;ev_events &amp; EV_WRITE ? <span class="stringliteral">&quot;EV_WRITE &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 2613</span>         ev-&gt;ev_events &amp; EV_CLOSED ? <span class="stringliteral">&quot;EV_CLOSED &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 2614</span>         tv ? <span class="stringliteral">&quot;EV_TIMEOUT &quot;</span> : <span class="stringliteral">&quot; &quot;</span>,</div>
<div class="line"><span class="lineno"> 2615</span>         ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 2616</span> </div>
<div class="line"><span class="lineno"> 2617</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!(ev-&gt;ev_flags &amp; ~EVLIST_ALL));</div>
<div class="line"><span class="lineno"> 2618</span> </div>
<div class="line"><span class="lineno"> 2619</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_FINALIZING) {</div>
<div class="line"><span class="lineno"> 2620</span>        <span class="comment">/* XXXX debug */</span></div>
<div class="line"><span class="lineno"> 2621</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2622</span>    }</div>
<div class="line"><span class="lineno"> 2623</span> </div>
<div class="line"><span class="lineno"> 2624</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2625</span><span class="comment">     * prepare for timeout insertion further below, if we get a</span></div>
<div class="line"><span class="lineno"> 2626</span><span class="comment">     * failure on any step, we should not change any state.</span></div>
<div class="line"><span class="lineno"> 2627</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2628</span>    <span class="keywordflow">if</span> (tv != NULL &amp;&amp; !(ev-&gt;ev_flags &amp; EVLIST_TIMEOUT)) {</div>
<div class="line"><span class="lineno"> 2629</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="minheap-internal_8h.html#a31074a1dd8b562ddff10618e0d2a8dab">min_heap_reserve_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>,</div>
<div class="line"><span class="lineno"> 2630</span>            1 + <a class="code hl_function" href="minheap-internal_8h.html#ab951b68fe2145c6f9528c623fa52e024">min_heap_size_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>)) == -1)</div>
<div class="line"><span class="lineno"> 2631</span>            <span class="keywordflow">return</span> (-1);  <span class="comment">/* ENOMEM == errno */</span></div>
<div class="line"><span class="lineno"> 2632</span>    }</div>
<div class="line"><span class="lineno"> 2633</span> </div>
<div class="line"><span class="lineno"> 2634</span>    <span class="comment">/* If the main thread is currently executing a signal event&#39;s</span></div>
<div class="line"><span class="lineno"> 2635</span><span class="comment">     * callback, and we are not the main thread, then we want to wait</span></div>
<div class="line"><span class="lineno"> 2636</span><span class="comment">     * until the callback is done before we mess with the event, or else</span></div>
<div class="line"><span class="lineno"> 2637</span><span class="comment">     * we can race on ev_ncalls and ev_pncalls below. */</span></div>
<div class="line"><span class="lineno"> 2638</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 2639</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> == <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2640</span>        (ev-&gt;ev_events &amp; EV_SIGNAL)</div>
<div class="line"><span class="lineno"> 2641</span>        &amp;&amp; !<a class="code hl_define" href="evthread-internal_8h.html#ac023e978d4b8ebfb1a79926a47f90ed9">EVBASE_IN_THREAD</a>(base)) {</div>
<div class="line"><span class="lineno"> 2642</span>        ++base-&gt;<a class="code hl_variable" href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">current_event_waiters</a>;</div>
<div class="line"><span class="lineno"> 2643</span>        <a class="code hl_define" href="evthread-internal_8h.html#aacb4425897e69915b7f3e366b6b4b430">EVTHREAD_COND_WAIT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">current_event_cond</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2644</span>    }</div>
<div class="line"><span class="lineno"> 2645</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2646</span> </div>
<div class="line"><span class="lineno"> 2647</span>    <span class="keywordflow">if</span> ((ev-&gt;ev_events &amp; (EV_READ|EV_WRITE|EV_CLOSED|EV_SIGNAL)) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2648</span>        !(ev-&gt;ev_flags &amp; (EVLIST_INSERTED|EVLIST_ACTIVE|EVLIST_ACTIVE_LATER))) {</div>
<div class="line"><span class="lineno"> 2649</span>        <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; (EV_READ|EV_WRITE|EV_CLOSED))</div>
<div class="line"><span class="lineno"> 2650</span>            res = <a class="code hl_function" href="evmap-internal_8h.html#ad2f1cc5853c896ed9bf35958841fee07">evmap_io_add_</a>(base, ev-&gt;ev_fd, ev);</div>
<div class="line"><span class="lineno"> 2651</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_SIGNAL)</div>
<div class="line"><span class="lineno"> 2652</span>            res = <a class="code hl_function" href="evmap-internal_8h.html#a793748b97acb0dd84c57fa32f3d157b4">evmap_signal_add_</a>(base, (<span class="keywordtype">int</span>)ev-&gt;ev_fd, ev);</div>
<div class="line"><span class="lineno"> 2653</span>        <span class="keywordflow">if</span> (res != -1)</div>
<div class="line"><span class="lineno"> 2654</span>            <a class="code hl_function" href="event_8c.html#adaae07804a434ebfed9249b186ff5d85">event_queue_insert_inserted</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2655</span>        <span class="keywordflow">if</span> (res == 1) {</div>
<div class="line"><span class="lineno"> 2656</span>            <span class="comment">/* evmap says we need to notify the main thread. */</span></div>
<div class="line"><span class="lineno"> 2657</span>            notify = 1;</div>
<div class="line"><span class="lineno"> 2658</span>            res = 0;</div>
<div class="line"><span class="lineno"> 2659</span>        }</div>
<div class="line"><span class="lineno"> 2660</span>    }</div>
<div class="line"><span class="lineno"> 2661</span> </div>
<div class="line"><span class="lineno"> 2662</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2663</span><span class="comment">     * we should change the timeout state only if the previous event</span></div>
<div class="line"><span class="lineno"> 2664</span><span class="comment">     * addition succeeded.</span></div>
<div class="line"><span class="lineno"> 2665</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2666</span>    <span class="keywordflow">if</span> (res != -1 &amp;&amp; tv != NULL) {</div>
<div class="line"><span class="lineno"> 2667</span>        <span class="keyword">struct </span>timeval now;</div>
<div class="line"><span class="lineno"> 2668</span>        <span class="keywordtype">int</span> common_timeout;</div>
<div class="line"><span class="lineno"> 2669</span><span class="preprocessor">#ifdef USE_REINSERT_TIMEOUT</span></div>
<div class="line"><span class="lineno"> 2670</span>        <span class="keywordtype">int</span> was_common;</div>
<div class="line"><span class="lineno"> 2671</span>        <span class="keywordtype">int</span> old_timeout_idx;</div>
<div class="line"><span class="lineno"> 2672</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2673</span> </div>
<div class="line"><span class="lineno"> 2674</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2675</span><span class="comment">         * for persistent timeout events, we remember the</span></div>
<div class="line"><span class="lineno"> 2676</span><span class="comment">         * timeout value and re-add the event.</span></div>
<div class="line"><span class="lineno"> 2677</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno"> 2678</span><span class="comment">         * If tv_is_absolute, this was already set.</span></div>
<div class="line"><span class="lineno"> 2679</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 2680</span>        <span class="keywordflow">if</span> (ev-&gt;ev_closure == <a class="code hl_define" href="event-internal_8h.html#a47a14b7de7ee2dca0aaf221ab7963dce">EV_CLOSURE_EVENT_PERSIST</a> &amp;&amp; !tv_is_absolute)</div>
<div class="line"><span class="lineno"> 2681</span>            ev-&gt;ev_io_timeout = *tv;</div>
<div class="line"><span class="lineno"> 2682</span> </div>
<div class="line"><span class="lineno"> 2683</span><span class="preprocessor">#ifndef USE_REINSERT_TIMEOUT</span></div>
<div class="line"><span class="lineno"> 2684</span>        <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 2685</span>            <a class="code hl_function" href="event_8c.html#a9eca687246bc048effecda8ab8db6038">event_queue_remove_timeout</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2686</span>        }</div>
<div class="line"><span class="lineno"> 2687</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2688</span> </div>
<div class="line"><span class="lineno"> 2689</span>        <span class="comment">/* Check if it is active due to a timeout.  Rescheduling</span></div>
<div class="line"><span class="lineno"> 2690</span><span class="comment">         * this timeout before the callback can be executed</span></div>
<div class="line"><span class="lineno"> 2691</span><span class="comment">         * removes it from the active list. */</span></div>
<div class="line"><span class="lineno"> 2692</span>        <span class="keywordflow">if</span> ((ev-&gt;ev_flags &amp; EVLIST_ACTIVE) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2693</span>            (ev-&gt;ev_res &amp; EV_TIMEOUT)) {</div>
<div class="line"><span class="lineno"> 2694</span>            <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_SIGNAL) {</div>
<div class="line"><span class="lineno"> 2695</span>                <span class="comment">/* See if we are just active executing</span></div>
<div class="line"><span class="lineno"> 2696</span><span class="comment">                 * this event in a loop</span></div>
<div class="line"><span class="lineno"> 2697</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno"> 2698</span>                <span class="keywordflow">if</span> (ev-&gt;ev_ncalls &amp;&amp; ev-&gt;ev_pncalls) {</div>
<div class="line"><span class="lineno"> 2699</span>                    <span class="comment">/* Abort loop */</span></div>
<div class="line"><span class="lineno"> 2700</span>                    *ev-&gt;ev_pncalls = 0;</div>
<div class="line"><span class="lineno"> 2701</span>                }</div>
<div class="line"><span class="lineno"> 2702</span>            }</div>
<div class="line"><span class="lineno"> 2703</span> </div>
<div class="line"><span class="lineno"> 2704</span>            <a class="code hl_function" href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2705</span>        }</div>
<div class="line"><span class="lineno"> 2706</span> </div>
<div class="line"><span class="lineno"> 2707</span>        <a class="code hl_function" href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a>(base, &amp;now);</div>
<div class="line"><span class="lineno"> 2708</span> </div>
<div class="line"><span class="lineno"> 2709</span>        common_timeout = <a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(tv, base);</div>
<div class="line"><span class="lineno"> 2710</span><span class="preprocessor">#ifdef USE_REINSERT_TIMEOUT</span></div>
<div class="line"><span class="lineno"> 2711</span>        was_common = <a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(&amp;ev-&gt;ev_timeout, base);</div>
<div class="line"><span class="lineno"> 2712</span>        old_timeout_idx = <a class="code hl_define" href="event_8c.html#a8b06e24327bbf239360f3b3f806957d5">COMMON_TIMEOUT_IDX</a>(&amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 2713</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2714</span> </div>
<div class="line"><span class="lineno"> 2715</span>        <span class="keywordflow">if</span> (tv_is_absolute) {</div>
<div class="line"><span class="lineno"> 2716</span>            ev-&gt;ev_timeout = *tv;</div>
<div class="line"><span class="lineno"> 2717</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (common_timeout) {</div>
<div class="line"><span class="lineno"> 2718</span>            <span class="keyword">struct </span>timeval tmp = *tv;</div>
<div class="line"><span class="lineno"> 2719</span>            tmp.tv_usec &amp;= <a class="code hl_define" href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a>;</div>
<div class="line"><span class="lineno"> 2720</span>            evutil_timeradd(&amp;now, &amp;tmp, &amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 2721</span>            ev-&gt;ev_timeout.tv_usec |=</div>
<div class="line"><span class="lineno"> 2722</span>                (tv-&gt;tv_usec &amp; ~MICROSECONDS_MASK);</div>
<div class="line"><span class="lineno"> 2723</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2724</span>            evutil_timeradd(&amp;now, tv, &amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 2725</span>        }</div>
<div class="line"><span class="lineno"> 2726</span> </div>
<div class="line"><span class="lineno"> 2727</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((</div>
<div class="line"><span class="lineno"> 2728</span>             <span class="stringliteral">&quot;event_add: event %p, timeout in %d seconds %d useconds, call %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 2729</span>             ev, (<span class="keywordtype">int</span>)tv-&gt;tv_sec, (<span class="keywordtype">int</span>)tv-&gt;tv_usec, ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 2730</span> </div>
<div class="line"><span class="lineno"> 2731</span><span class="preprocessor">#ifdef USE_REINSERT_TIMEOUT</span></div>
<div class="line"><span class="lineno"> 2732</span>        event_queue_reinsert_timeout(base, ev, was_common, common_timeout, old_timeout_idx);</div>
<div class="line"><span class="lineno"> 2733</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2734</span>        <a class="code hl_function" href="event_8c.html#a3216b39db4357b40755d35660a235116">event_queue_insert_timeout</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2735</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2736</span> </div>
<div class="line"><span class="lineno"> 2737</span>        <span class="keywordflow">if</span> (common_timeout) {</div>
<div class="line"><span class="lineno"> 2738</span>            <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl =</div>
<div class="line"><span class="lineno"> 2739</span>                <a class="code hl_function" href="event_8c.html#aca5c888c116f4c7fe12e343185d53dc4">get_common_timeout_list</a>(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>, &amp;ev-&gt;ev_timeout);</div>
<div class="line"><span class="lineno"> 2740</span>            <span class="keywordflow">if</span> (ev == <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>)) {</div>
<div class="line"><span class="lineno"> 2741</span>                <a class="code hl_function" href="event_8c.html#aa0fac51d097b72263336b550c404bcd0">common_timeout_schedule</a>(ctl, &amp;now, ev);</div>
<div class="line"><span class="lineno"> 2742</span>            }</div>
<div class="line"><span class="lineno"> 2743</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2744</span>            <span class="keyword">struct </span>event* top = NULL;</div>
<div class="line"><span class="lineno"> 2745</span>            <span class="comment">/* See if the earliest timeout is now earlier than it</span></div>
<div class="line"><span class="lineno"> 2746</span><span class="comment">             * was before: if so, we will need to tell the main</span></div>
<div class="line"><span class="lineno"> 2747</span><span class="comment">             * thread to wake up earlier than it would otherwise.</span></div>
<div class="line"><span class="lineno"> 2748</span><span class="comment">             * We double check the timeout of the top element to</span></div>
<div class="line"><span class="lineno"> 2749</span><span class="comment">             * handle time distortions due to system suspension.</span></div>
<div class="line"><span class="lineno"> 2750</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 2751</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="minheap-internal_8h.html#ad60a4b6926278b10692a7b115a4f7e69">min_heap_elt_is_top_</a>(ev))</div>
<div class="line"><span class="lineno"> 2752</span>                notify = 1;</div>
<div class="line"><span class="lineno"> 2753</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((top = <a class="code hl_function" href="minheap-internal_8h.html#af370aef7e99d50e8387fd19158fb8515">min_heap_top_</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>)) != NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2754</span>                     evutil_timercmp(&amp;top-&gt;ev_timeout, &amp;now, &lt;))</div>
<div class="line"><span class="lineno"> 2755</span>                notify = 1;</div>
<div class="line"><span class="lineno"> 2756</span>        }</div>
<div class="line"><span class="lineno"> 2757</span>    }</div>
<div class="line"><span class="lineno"> 2758</span> </div>
<div class="line"><span class="lineno"> 2759</span>    <span class="comment">/* if we are not in the right thread, we need to wake up the loop */</span></div>
<div class="line"><span class="lineno"> 2760</span>    <span class="keywordflow">if</span> (res != -1 &amp;&amp; notify &amp;&amp; <a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 2761</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 2762</span> </div>
<div class="line"><span class="lineno"> 2763</span>    <a class="code hl_function" href="event_8c.html#a29eac5ce653c0400f9dc5b2f48d82d38">event_debug_note_add_</a>(ev);</div>
<div class="line"><span class="lineno"> 2764</span> </div>
<div class="line"><span class="lineno"> 2765</span>    <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 2766</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a47a14b7de7ee2dca0aaf221ab7963dce"><div class="ttname"><a href="event-internal_8h.html#a47a14b7de7ee2dca0aaf221ab7963dce">EV_CLOSURE_EVENT_PERSIST</a></div><div class="ttdeci">#define EV_CLOSURE_EVENT_PERSIST</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00073">event-internal.h:73</a></div></div>
<div class="ttc" id="aevent_8c_html_a05756f811bfc57faa1781b4c8ea20e3b"><div class="ttname"><a href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a></div><div class="ttdeci">static void event_queue_remove_active(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03236">event.c:3236</a></div></div>
<div class="ttc" id="aevent_8c_html_a23e45fc3b40aa101c03ce6b199483ca6"><div class="ttname"><a href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a></div><div class="ttdeci">static int is_common_timeout(const struct timeval *tv, const struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01408">event.c:1408</a></div></div>
<div class="ttc" id="aevent_8c_html_a29eac5ce653c0400f9dc5b2f48d82d38"><div class="ttname"><a href="event_8c.html#a29eac5ce653c0400f9dc5b2f48d82d38">event_debug_note_add_</a></div><div class="ttdeci">static void event_debug_note_add_(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00281">event.c:281</a></div></div>
<div class="ttc" id="aevent_8c_html_a3216b39db4357b40755d35660a235116"><div class="ttname"><a href="event_8c.html#a3216b39db4357b40755d35660a235116">event_queue_insert_timeout</a></div><div class="ttdeci">static void event_queue_insert_timeout(struct event_base *, struct event *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03415">event.c:3415</a></div></div>
<div class="ttc" id="aevent_8c_html_a336acd34fef64d9dccadb70c8239a979"><div class="ttname"><a href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a></div><div class="ttdeci">static void event_debug_assert_is_setup_(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00333">event.c:333</a></div></div>
<div class="ttc" id="aevent_8c_html_a408d8860367b435d7919b7582acfec0b"><div class="ttname"><a href="event_8c.html#a408d8860367b435d7919b7582acfec0b">gettime</a></div><div class="ttdeci">static int gettime(struct event_base *base, struct timeval *tp)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00413">event.c:413</a></div></div>
<div class="ttc" id="aevent_8c_html_a4cfba5ca00f9fd8e1e150bd7ca75e13c"><div class="ttname"><a href="event_8c.html#a4cfba5ca00f9fd8e1e150bd7ca75e13c">MICROSECONDS_MASK</a></div><div class="ttdeci">#define MICROSECONDS_MASK</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01397">event.c:1397</a></div></div>
<div class="ttc" id="aevent_8c_html_a8b06e24327bbf239360f3b3f806957d5"><div class="ttname"><a href="event_8c.html#a8b06e24327bbf239360f3b3f806957d5">COMMON_TIMEOUT_IDX</a></div><div class="ttdeci">#define COMMON_TIMEOUT_IDX(tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01403">event.c:1403</a></div></div>
<div class="ttc" id="aevent_8c_html_a9eca687246bc048effecda8ab8db6038"><div class="ttname"><a href="event_8c.html#a9eca687246bc048effecda8ab8db6038">event_queue_remove_timeout</a></div><div class="ttdeci">static void event_queue_remove_timeout(struct event_base *, struct event *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03267">event.c:3267</a></div></div>
<div class="ttc" id="aevent_8c_html_aa0fac51d097b72263336b550c404bcd0"><div class="ttname"><a href="event_8c.html#aa0fac51d097b72263336b550c404bcd0">common_timeout_schedule</a></div><div class="ttdeci">static void common_timeout_schedule(struct common_timeout_list *ctl, const struct timeval *now, struct event *head)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01450">event.c:1450</a></div></div>
<div class="ttc" id="aevent_8c_html_aba00a4b368970f5f6e2c5e39e5556e1e"><div class="ttname"><a href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a></div><div class="ttdeci">static int evthread_notify_base(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02541">event.c:2541</a></div></div>
<div class="ttc" id="aevent_8c_html_aca5c888c116f4c7fe12e343185d53dc4"><div class="ttname"><a href="event_8c.html#aca5c888c116f4c7fe12e343185d53dc4">get_common_timeout_list</a></div><div class="ttdeci">static struct common_timeout_list * get_common_timeout_list(struct event_base *base, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01430">event.c:1430</a></div></div>
<div class="ttc" id="aevent_8c_html_adaae07804a434ebfed9249b186ff5d85"><div class="ttname"><a href="event_8c.html#adaae07804a434ebfed9249b186ff5d85">event_queue_insert_inserted</a></div><div class="ttdeci">static void event_queue_insert_inserted(struct event_base *, struct event *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03361">event.c:3361</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a793748b97acb0dd84c57fa32f3d157b4"><div class="ttname"><a href="evmap-internal_8h.html#a793748b97acb0dd84c57fa32f3d157b4">evmap_signal_add_</a></div><div class="ttdeci">int evmap_signal_add_(struct event_base *base, int signum, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00450">evmap.c:450</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_ad2f1cc5853c896ed9bf35958841fee07"><div class="ttname"><a href="evmap-internal_8h.html#ad2f1cc5853c896ed9bf35958841fee07">evmap_io_add_</a></div><div class="ttdeci">int evmap_io_add_(struct event_base *base, evutil_socket_t fd, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00273">evmap.c:273</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a608b677432c4e0db92c8ccc7723f4f65"><div class="ttname"><a href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a></div><div class="ttdeci">#define EVBASE_NEED_NOTIFY(base)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00073">evthread-internal.h:73</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_a31074a1dd8b562ddff10618e0d2a8dab"><div class="ttname"><a href="minheap-internal_8h.html#a31074a1dd8b562ddff10618e0d2a8dab">min_heap_reserve_</a></div><div class="ttdeci">static int min_heap_reserve_(min_heap_t *s, unsigned n)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00133">minheap-internal.h:133</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_ab951b68fe2145c6f9528c623fa52e024"><div class="ttname"><a href="minheap-internal_8h.html#ab951b68fe2145c6f9528c623fa52e024">min_heap_size_</a></div><div class="ttdeci">static unsigned min_heap_size_(min_heap_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00068">minheap-internal.h:68</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_ad60a4b6926278b10692a7b115a4f7e69"><div class="ttname"><a href="minheap-internal_8h.html#ad60a4b6926278b10692a7b115a4f7e69">min_heap_elt_is_top_</a></div><div class="ttdeci">static int min_heap_elt_is_top_(const struct event *e)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00091">minheap-internal.h:91</a></div></div>
<div class="ttc" id="aminheap-internal_8h_html_af370aef7e99d50e8387fd19158fb8515"><div class="ttname"><a href="minheap-internal_8h.html#af370aef7e99d50e8387fd19158fb8515">min_heap_top_</a></div><div class="ttdeci">static struct event * min_heap_top_(min_heap_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00069">minheap-internal.h:69</a></div></div>
<div class="ttc" id="astructcommon__timeout__list_html"><div class="ttname"><a href="structcommon__timeout__list.html">common_timeout_list</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00163">event-internal.h:163</a></div></div>
<div class="ttc" id="astructcommon__timeout__list_html_a0f2ee7b5cdbdc319ea76441183f73eb5"><div class="ttname"><a href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">common_timeout_list::base</a></div><div class="ttdeci">struct event_base * base</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00173">event-internal.h:173</a></div></div>
<div class="ttc" id="astructcommon__timeout__list_html_a1cd729c2ce9b11eb2951f84acd8c753a"><div class="ttname"><a href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">common_timeout_list::events</a></div><div class="ttdeci">struct event_list events</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00165">event-internal.h:165</a></div></div>
<div class="ttc" id="astructevent__base_html_adfa5c317ea20aba5fa63fd4775c2510c"><div class="ttname"><a href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">event_base::timeheap</a></div><div class="ttdeci">struct min_heap timeheap</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00288">event-internal.h:288</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event_8c_source.html#l01403">COMMON_TIMEOUT_IDX</a>, <a class="el" href="event_8c_source.html#l01450">common_timeout_schedule()</a>, <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="event-internal_8h_source.html#l00310">event_base::current_event_cond</a>, <a class="el" href="event-internal_8h_source.html#l00312">event_base::current_event_waiters</a>, <a class="el" href="event-internal_8h_source.html#l00073">EV_CLOSURE_EVENT_PERSIST</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="evthread-internal_8h_source.html#l00066">EVBASE_IN_THREAD</a>, <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>, <a class="el" href="event_8c_source.html#l00281">event_debug_note_add_()</a>, <a class="el" href="event_8c_source.html#l03361">event_queue_insert_inserted()</a>, <a class="el" href="event_8c_source.html#l03415">event_queue_insert_timeout()</a>, <a class="el" href="event_8c_source.html#l03236">event_queue_remove_active()</a>, <a class="el" href="event_8c_source.html#l03267">event_queue_remove_timeout()</a>, <a class="el" href="event_8c_source.html#l00499">event_to_event_callback()</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="evmap_8c_source.html#l00273">evmap_io_add_()</a>, <a class="el" href="evmap_8c_source.html#l00450">evmap_signal_add_()</a>, <a class="el" href="evthread-internal_8h_source.html#l00174">EVTHREAD_COND_WAIT</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event_8c_source.html#l01430">get_common_timeout_list()</a>, <a class="el" href="event_8c_source.html#l00413">gettime()</a>, <a class="el" href="event_8c_source.html#l01408">is_common_timeout()</a>, <a class="el" href="event_8c_source.html#l01397">MICROSECONDS_MASK</a>, <a class="el" href="minheap-internal_8h_source.html#l00091">min_heap_elt_is_top_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00133">min_heap_reserve_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00068">min_heap_size_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00069">min_heap_top_()</a>, <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>, <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01450">common_timeout_schedule()</a>, <a class="el" href="event_8c_source.html#l02484">event_add()</a>, <a class="el" href="event_8c_source.html#l02051">event_base_once()</a>, <a class="el" href="event_8c_source.html#l01562">event_persist_closure()</a>, <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>, <a class="el" href="signal_8c_source.html#l00280">evsig_add()</a>, and <a class="el" href="event_8c_source.html#l03631">evthread_make_base_notifiable_nolock_()</a>.</p>

</div>
</div>
<a id="a309df1983dcff643df9de5e2d6adc875" name="a309df1983dcff643df9de5e2d6adc875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309df1983dcff643df9de5e2d6adc875">&#9670;&nbsp;</a></span>event_base_add_virtual_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void event_base_add_virtual_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03871">3871</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3872</span>{</div>
<div class="line"><span class="lineno"> 3873</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3874</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a>++;</div>
<div class="line"><span class="lineno"> 3875</span>    <a class="code hl_define" href="event_8c.html#a256de7de21d779b6aa35f78eb8dfe528">MAX_EVENT_COUNT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#afe8e4504b9f3460dd17eedc3dafdb95f">virtual_event_count_max</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a>);</div>
<div class="line"><span class="lineno"> 3876</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3877</span>}</div>
<div class="ttc" id="aevent_8c_html_a256de7de21d779b6aa35f78eb8dfe528"><div class="ttname"><a href="event_8c.html#a256de7de21d779b6aa35f78eb8dfe528">MAX_EVENT_COUNT</a></div><div class="ttdeci">#define MAX_EVENT_COUNT(var, v)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03210">event.c:3210</a></div></div>
<div class="ttc" id="astructevent__base_html_a7dbaee52e3b6cfb20464dc01b1cd0fb5"><div class="ttname"><a href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">event_base::virtual_event_count</a></div><div class="ttdeci">int virtual_event_count</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00226">event-internal.h:226</a></div></div>
<div class="ttc" id="astructevent__base_html_afe8e4504b9f3460dd17eedc3dafdb95f"><div class="ttname"><a href="structevent__base.html#afe8e4504b9f3460dd17eedc3dafdb95f">event_base::virtual_event_count_max</a></div><div class="ttdeci">int virtual_event_count_max</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00228">event-internal.h:228</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03210">MAX_EVENT_COUNT</a>, <a class="el" href="event-internal_8h_source.html#l00226">event_base::virtual_event_count</a>, and <a class="el" href="event-internal_8h_source.html#l00228">event_base::virtual_event_count_max</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00196">bev_async_add_read()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00185">bev_async_add_write()</a>, and <a class="el" href="bufferevent__async_8c_source.html#l00619">bufferevent_async_connect_()</a>.</p>

</div>
</div>
<a id="a2efd806ddabaf2f93759a73f58fc732a" name="a2efd806ddabaf2f93759a73f58fc732a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2efd806ddabaf2f93759a73f58fc732a">&#9670;&nbsp;</a></span>event_base_assert_ok_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void event_base_assert_ok_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >For debugging: unless assertions are disabled, verify the referential integrity of the internal data structures of 'base'. This operation can be expensive.</p>
<p >Returns on success; aborts on failure. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03956">3956</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3957</span>{</div>
<div class="line"><span class="lineno"> 3958</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3959</span>    <a class="code hl_function" href="event_8c.html#afdb64b823144e0822dd5a4800d92739f">event_base_assert_ok_nolock_</a>(base);</div>
<div class="line"><span class="lineno"> 3960</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3961</span>}</div>
<div class="ttc" id="aevent_8c_html_afdb64b823144e0822dd5a4800d92739f"><div class="ttname"><a href="event_8c.html#afdb64b823144e0822dd5a4800d92739f">event_base_assert_ok_nolock_</a></div><div class="ttdeci">void event_base_assert_ok_nolock_(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03964">event.c:3964</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="event_8c_source.html#l03964">event_base_assert_ok_nolock_()</a>.</p>

</div>
</div>
<a id="afdb64b823144e0822dd5a4800d92739f" name="afdb64b823144e0822dd5a4800d92739f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdb64b823144e0822dd5a4800d92739f">&#9670;&nbsp;</a></span>event_base_assert_ok_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_assert_ok_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03964">3964</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3965</span>{</div>
<div class="line"><span class="lineno"> 3966</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 3967</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 3968</span> </div>
<div class="line"><span class="lineno"> 3969</span>    <span class="comment">/* First do checks on the per-fd and per-signal lists */</span></div>
<div class="line"><span class="lineno"> 3970</span>    <a class="code hl_function" href="evmap-internal_8h.html#a97c92d3f3a387835c15dfc99dd8760e6">evmap_check_integrity_</a>(base);</div>
<div class="line"><span class="lineno"> 3971</span> </div>
<div class="line"><span class="lineno"> 3972</span>    <span class="comment">/* Check the heap property */</span></div>
<div class="line"><span class="lineno"> 3973</span>    <span class="keywordflow">for</span> (i = 1; i &lt; (int)base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a2ec4ae7822a48ba453085ce54a5f25a4">n</a>; ++i) {</div>
<div class="line"><span class="lineno"> 3974</span>        <span class="keywordtype">int</span> parent = (i - 1) / 2;</div>
<div class="line"><span class="lineno"> 3975</span>        <span class="keyword">struct </span>event *ev, *p_ev;</div>
<div class="line"><span class="lineno"> 3976</span>        ev = base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a3331a4a98afcb01779f449bded747d57">p</a>[i];</div>
<div class="line"><span class="lineno"> 3977</span>        p_ev = base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a3331a4a98afcb01779f449bded747d57">p</a>[parent];</div>
<div class="line"><span class="lineno"> 3978</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_flags &amp; EVLIST_TIMEOUT);</div>
<div class="line"><span class="lineno"> 3979</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evutil_timercmp(&amp;p_ev-&gt;ev_timeout, &amp;ev-&gt;ev_timeout, &lt;=));</div>
<div class="line"><span class="lineno"> 3980</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_timeout_pos.min_heap_idx == i);</div>
<div class="line"><span class="lineno"> 3981</span>    }</div>
<div class="line"><span class="lineno"> 3982</span> </div>
<div class="line"><span class="lineno"> 3983</span>    <span class="comment">/* Check that the common timeouts are fine */</span></div>
<div class="line"><span class="lineno"> 3984</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>; ++i) {</div>
<div class="line"><span class="lineno"> 3985</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl = <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>[i];</div>
<div class="line"><span class="lineno"> 3986</span>        <span class="keyword">struct </span>event *last=NULL, *ev;</div>
<div class="line"><span class="lineno"> 3987</span> </div>
<div class="line"><span class="lineno"> 3988</span>        <a class="code hl_define" href="util-internal_8h.html#ab39447101c18acff01d69f7fe92acb90">EVUTIL_ASSERT_TAILQ_OK</a>(&amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>, event, ev_timeout_pos.ev_next_with_common_timeout);</div>
<div class="line"><span class="lineno"> 3989</span> </div>
<div class="line"><span class="lineno"> 3990</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(ev, &amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>, ev_timeout_pos.ev_next_with_common_timeout) {</div>
<div class="line"><span class="lineno"> 3991</span>            <span class="keywordflow">if</span> (last)</div>
<div class="line"><span class="lineno"> 3992</span>                <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evutil_timercmp(&amp;last-&gt;ev_timeout, &amp;ev-&gt;ev_timeout, &lt;=));</div>
<div class="line"><span class="lineno"> 3993</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_flags &amp; EVLIST_TIMEOUT);</div>
<div class="line"><span class="lineno"> 3994</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_function" href="event_8c.html#a23e45fc3b40aa101c03ce6b199483ca6">is_common_timeout</a>(&amp;ev-&gt;ev_timeout,base));</div>
<div class="line"><span class="lineno"> 3995</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_define" href="event_8c.html#a8b06e24327bbf239360f3b3f806957d5">COMMON_TIMEOUT_IDX</a>(&amp;ev-&gt;ev_timeout) == i);</div>
<div class="line"><span class="lineno"> 3996</span>            last = ev;</div>
<div class="line"><span class="lineno"> 3997</span>        }</div>
<div class="line"><span class="lineno"> 3998</span>    }</div>
<div class="line"><span class="lineno"> 3999</span> </div>
<div class="line"><span class="lineno"> 4000</span>    <span class="comment">/* Check the active queues. */</span></div>
<div class="line"><span class="lineno"> 4001</span>    <a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0;</div>
<div class="line"><span class="lineno"> 4002</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>; ++i) {</div>
<div class="line"><span class="lineno"> 4003</span>        <span class="keyword">struct </span>event_callback *evcb;</div>
<div class="line"><span class="lineno"> 4004</span>        <a class="code hl_define" href="util-internal_8h.html#ab39447101c18acff01d69f7fe92acb90">EVUTIL_ASSERT_TAILQ_OK</a>(&amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i], event_callback, evcb_active_next);</div>
<div class="line"><span class="lineno"> 4005</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(evcb, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i], evcb_active_next) {</div>
<div class="line"><span class="lineno"> 4006</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER)) == EVLIST_ACTIVE);</div>
<div class="line"><span class="lineno"> 4007</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(evcb-&gt;evcb_pri == i);</div>
<div class="line"><span class="lineno"> 4008</span>            ++<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 4009</span>        }</div>
<div class="line"><span class="lineno"> 4010</span>    }</div>
<div class="line"><span class="lineno"> 4011</span> </div>
<div class="line"><span class="lineno"> 4012</span>    {</div>
<div class="line"><span class="lineno"> 4013</span>        <span class="keyword">struct </span>event_callback *evcb;</div>
<div class="line"><span class="lineno"> 4014</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(evcb, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">active_later_queue</a>, evcb_active_next) {</div>
<div class="line"><span class="lineno"> 4015</span>            <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER)) == EVLIST_ACTIVE_LATER);</div>
<div class="line"><span class="lineno"> 4016</span>            ++<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><span class="lineno"> 4017</span>        }</div>
<div class="line"><span class="lineno"> 4018</span>    }</div>
<div class="line"><span class="lineno"> 4019</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> == base-&gt;<a class="code hl_variable" href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_count_active</a>);</div>
<div class="line"><span class="lineno"> 4020</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a16e5fc168e7f3494d4b1df54447d871e"><div class="ttname"><a href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a></div><div class="ttdeci">#define TAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00386">event-internal.h:386</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a97c92d3f3a387835c15dfc99dd8760e6"><div class="ttname"><a href="evmap-internal_8h.html#a97c92d3f3a387835c15dfc99dd8760e6">evmap_check_integrity_</a></div><div class="ttdeci">void evmap_check_integrity_(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01002">evmap.c:1002</a></div></div>
<div class="ttc" id="astructevent__base_html_a50867e165b0f76ef88ecff4218db6f4a"><div class="ttname"><a href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">event_base::activequeues</a></div><div class="ttdeci">struct evcallback_list * activequeues</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00264">event-internal.h:264</a></div></div>
<div class="ttc" id="astructevent__base_html_a55163ed6c02c5605373e647d5d730f23"><div class="ttname"><a href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">event_base::n_common_timeouts</a></div><div class="ttdeci">int n_common_timeouts</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00277">event-internal.h:277</a></div></div>
<div class="ttc" id="astructevent__base_html_a61faaab645b605d2d75ecd46fe5bced3"><div class="ttname"><a href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">event_base::common_timeout_queues</a></div><div class="ttdeci">struct common_timeout_list ** common_timeout_queues</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00275">event-internal.h:275</a></div></div>
<div class="ttc" id="astructevent__base_html_a9ac3284e0b7042748f8d17be5c9496ef"><div class="ttname"><a href="structevent__base.html#a9ac3284e0b7042748f8d17be5c9496ef">event_base::event_count_active</a></div><div class="ttdeci">int event_count_active</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00234">event-internal.h:234</a></div></div>
<div class="ttc" id="astructevent__base_html_a9eb242bdce71f354facdb58a6f40e144"><div class="ttname"><a href="structevent__base.html#a9eb242bdce71f354facdb58a6f40e144">event_base::active_later_queue</a></div><div class="ttdeci">struct evcallback_list active_later_queue</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00269">event-internal.h:269</a></div></div>
<div class="ttc" id="astructevent__base_html_aa70c7838ca1f94ff8f78ebe7c2ae9584"><div class="ttname"><a href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">event_base::nactivequeues</a></div><div class="ttdeci">int nactivequeues</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00266">event-internal.h:266</a></div></div>
<div class="ttc" id="astructmin__heap_html_a2ec4ae7822a48ba453085ce54a5f25a4"><div class="ttname"><a href="structmin__heap.html#a2ec4ae7822a48ba453085ce54a5f25a4">min_heap::n</a></div><div class="ttdeci">unsigned n</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00042">minheap-internal.h:42</a></div></div>
<div class="ttc" id="astructmin__heap_html_a3331a4a98afcb01779f449bded747d57"><div class="ttname"><a href="structmin__heap.html#a3331a4a98afcb01779f449bded747d57">min_heap::p</a></div><div class="ttdeci">struct event ** p</div><div class="ttdef"><b>Definition:</b> <a href="minheap-internal_8h_source.html#l00041">minheap-internal.h:41</a></div></div>
<div class="ttc" id="atests_8c_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a></div><div class="ttdeci">static int count</div><div class="ttdef"><b>Definition:</b> <a href="tests_8c_source.html#l00033">tests.c:33</a></div></div>
<div class="ttc" id="autil-internal_8h_html_ab39447101c18acff01d69f7fe92acb90"><div class="ttname"><a href="util-internal_8h.html#ab39447101c18acff01d69f7fe92acb90">EVUTIL_ASSERT_TAILQ_OK</a></div><div class="ttdeci">#define EVUTIL_ASSERT_TAILQ_OK(tailq, type, field)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00215">util-internal.h:215</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00269">event_base::active_later_queue</a>, <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event_8c_source.html#l01403">COMMON_TIMEOUT_IDX</a>, <a class="el" href="event-internal_8h_source.html#l00275">event_base::common_timeout_queues</a>, <a class="el" href="tests_8c_source.html#l00033">count</a>, <a class="el" href="event-internal_8h_source.html#l00234">event_base::event_count_active</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="evmap_8c_source.html#l01002">evmap_check_integrity_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="util-internal_8h_source.html#l00215">EVUTIL_ASSERT_TAILQ_OK</a>, <a class="el" href="event_8c_source.html#l01408">is_common_timeout()</a>, <a class="el" href="minheap-internal_8h_source.html#l00042">min_heap::n</a>, <a class="el" href="event-internal_8h_source.html#l00277">event_base::n_common_timeouts</a>, <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>, <a class="el" href="minheap-internal_8h_source.html#l00041">min_heap::p</a>, <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03956">event_base_assert_ok_()</a>.</p>

</div>
</div>
<a id="a1861394ac511a812b3237d9f9cbb221e" name="a1861394ac511a812b3237d9f9cbb221e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1861394ac511a812b3237d9f9cbb221e">&#9670;&nbsp;</a></span>event_base_del_virtual_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_base_del_virtual_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03880">3880</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3881</span>{</div>
<div class="line"><span class="lineno"> 3882</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3883</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a> &gt; 0);</div>
<div class="line"><span class="lineno"> 3884</span>    base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a>--;</div>
<div class="line"><span class="lineno"> 3885</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a7dbaee52e3b6cfb20464dc01b1cd0fb5">virtual_event_count</a> == 0 &amp;&amp; <a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 3886</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 3887</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3888</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="event-internal_8h_source.html#l00226">event_base::virtual_event_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00174">bev_async_del_read()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00163">bev_async_del_write()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00619">bufferevent_async_connect_()</a>, and <a class="el" href="bufferevent__async_8c_source.html#l00433">connect_complete()</a>.</p>

</div>
</div>
<a id="a64a11b5ecde7dda435bfa8c73089d4c5" name="a64a11b5ecde7dda435bfa8c73089d4c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a11b5ecde7dda435bfa8c73089d4c5">&#9670;&nbsp;</a></span>event_base_foreach_event_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_base_foreach_event_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_base_foreach_event_cb&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03680">3680</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3682</span>{</div>
<div class="line"><span class="lineno"> 3683</span>    <span class="keywordtype">int</span> r, i;</div>
<div class="line"><span class="lineno"> 3684</span>    <span class="keywordtype">unsigned</span> u;</div>
<div class="line"><span class="lineno"> 3685</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno"> 3686</span> </div>
<div class="line"><span class="lineno"> 3687</span>    <span class="comment">/* Start out with all the EVLIST_INSERTED events. */</span></div>
<div class="line"><span class="lineno"> 3688</span>    <span class="keywordflow">if</span> ((r = <a class="code hl_function" href="evmap-internal_8h.html#aede3441b2878cc0c8a5600e65db32a73">evmap_foreach_event_</a>(base, fn, arg)))</div>
<div class="line"><span class="lineno"> 3689</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3690</span> </div>
<div class="line"><span class="lineno"> 3691</span>    <span class="comment">/* Okay, now we deal with those events that have timeouts and are in</span></div>
<div class="line"><span class="lineno"> 3692</span><span class="comment">     * the min-heap. */</span></div>
<div class="line"><span class="lineno"> 3693</span>    <span class="keywordflow">for</span> (u = 0; u &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a2ec4ae7822a48ba453085ce54a5f25a4">n</a>; ++u) {</div>
<div class="line"><span class="lineno"> 3694</span>        ev = base-&gt;<a class="code hl_variable" href="structevent__base.html#adfa5c317ea20aba5fa63fd4775c2510c">timeheap</a>.<a class="code hl_variable" href="structmin__heap.html#a3331a4a98afcb01779f449bded747d57">p</a>[u];</div>
<div class="line"><span class="lineno"> 3695</span>        <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_INSERTED) {</div>
<div class="line"><span class="lineno"> 3696</span>            <span class="comment">/* we already processed this one */</span></div>
<div class="line"><span class="lineno"> 3697</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3698</span>        }</div>
<div class="line"><span class="lineno"> 3699</span>        <span class="keywordflow">if</span> ((r = fn(base, ev, arg)))</div>
<div class="line"><span class="lineno"> 3700</span>            <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3701</span>    }</div>
<div class="line"><span class="lineno"> 3702</span> </div>
<div class="line"><span class="lineno"> 3703</span>    <span class="comment">/* Now for the events in one of the timeout queues.</span></div>
<div class="line"><span class="lineno"> 3704</span><span class="comment">     * the min-heap. */</span></div>
<div class="line"><span class="lineno"> 3705</span>    <span class="keywordflow">for</span> (i = 0; i &lt; base-&gt;<a class="code hl_variable" href="structevent__base.html#a55163ed6c02c5605373e647d5d730f23">n_common_timeouts</a>; ++i) {</div>
<div class="line"><span class="lineno"> 3706</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structcommon__timeout__list.html">common_timeout_list</a> *ctl =</div>
<div class="line"><span class="lineno"> 3707</span>            <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#a61faaab645b605d2d75ecd46fe5bced3">common_timeout_queues</a>[i];</div>
<div class="line"><span class="lineno"> 3708</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(ev, &amp;ctl-&gt;<a class="code hl_variable" href="structcommon__timeout__list.html#a1cd729c2ce9b11eb2951f84acd8c753a">events</a>,</div>
<div class="line"><span class="lineno"> 3709</span>            ev_timeout_pos.ev_next_with_common_timeout) {</div>
<div class="line"><span class="lineno"> 3710</span>            <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_INSERTED) {</div>
<div class="line"><span class="lineno"> 3711</span>                <span class="comment">/* we already processed this one */</span></div>
<div class="line"><span class="lineno"> 3712</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3713</span>            }</div>
<div class="line"><span class="lineno"> 3714</span>            <span class="keywordflow">if</span> ((r = fn(<a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>, ev, arg)))</div>
<div class="line"><span class="lineno"> 3715</span>                <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3716</span>        }</div>
<div class="line"><span class="lineno"> 3717</span>    }</div>
<div class="line"><span class="lineno"> 3718</span> </div>
<div class="line"><span class="lineno"> 3719</span>    <span class="comment">/* Finally, we deal wit all the active events that we haven&#39;t touched</span></div>
<div class="line"><span class="lineno"> 3720</span><span class="comment">     * yet. */</span></div>
<div class="line"><span class="lineno"> 3721</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_variable" href="structcommon__timeout__list.html#a0f2ee7b5cdbdc319ea76441183f73eb5">base</a>-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a>; ++i) {</div>
<div class="line"><span class="lineno"> 3722</span>        <span class="keyword">struct </span>event_callback *evcb;</div>
<div class="line"><span class="lineno"> 3723</span>        <a class="code hl_define" href="event-internal_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(evcb, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a50867e165b0f76ef88ecff4218db6f4a">activequeues</a>[i], evcb_active_next) {</div>
<div class="line"><span class="lineno"> 3724</span>            <span class="keywordflow">if</span> ((evcb-&gt;evcb_flags &amp; (EVLIST_INIT|EVLIST_INSERTED|EVLIST_TIMEOUT)) != EVLIST_INIT) {</div>
<div class="line"><span class="lineno"> 3725</span>                <span class="comment">/* This isn&#39;t an event (evlist_init clear), or</span></div>
<div class="line"><span class="lineno"> 3726</span><span class="comment">                 * we already processed it. (inserted or</span></div>
<div class="line"><span class="lineno"> 3727</span><span class="comment">                 * timeout set */</span></div>
<div class="line"><span class="lineno"> 3728</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3729</span>            }</div>
<div class="line"><span class="lineno"> 3730</span>            ev = <a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb);</div>
<div class="line"><span class="lineno"> 3731</span>            <span class="keywordflow">if</span> ((r = fn(base, ev, arg)))</div>
<div class="line"><span class="lineno"> 3732</span>                <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3733</span>        }</div>
<div class="line"><span class="lineno"> 3734</span>    }</div>
<div class="line"><span class="lineno"> 3735</span> </div>
<div class="line"><span class="lineno"> 3736</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3737</span>}</div>
<div class="ttc" id="aevent_8c_html_a192dd5b45e3aa491374f90bc4b629a77"><div class="ttname"><a href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a></div><div class="ttdeci">static struct event * event_callback_to_event(struct event_callback *evcb)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00492">event.c:492</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_aede3441b2878cc0c8a5600e65db32a73"><div class="ttname"><a href="evmap-internal_8h.html#aede3441b2878cc0c8a5600e65db32a73">evmap_foreach_event_</a></div><div class="ttdeci">int evmap_foreach_event_(struct event_base *base, event_base_foreach_event_cb fn, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01051">evmap.c:1051</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00264">event_base::activequeues</a>, <a class="el" href="event-internal_8h_source.html#l00173">common_timeout_list::base</a>, <a class="el" href="event-internal_8h_source.html#l00275">event_base::common_timeout_queues</a>, <a class="el" href="event_8c_source.html#l00492">event_callback_to_event()</a>, <a class="el" href="event-internal_8h_source.html#l00165">common_timeout_list::events</a>, <a class="el" href="evmap_8c_source.html#l01051">evmap_foreach_event_()</a>, <a class="el" href="minheap-internal_8h_source.html#l00042">min_heap::n</a>, <a class="el" href="event-internal_8h_source.html#l00277">event_base::n_common_timeouts</a>, <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>, <a class="el" href="minheap-internal_8h_source.html#l00041">min_heap::p</a>, <a class="el" href="event-internal_8h_source.html#l00386">TAILQ_FOREACH</a>, and <a class="el" href="event-internal_8h_source.html#l00288">event_base::timeheap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03814">event_base_dump_events()</a>, and <a class="el" href="event_8c_source.html#l03799">event_base_foreach_event()</a>.</p>

</div>
</div>
<a id="a8043fed7d21b9e8f9cec58f01bbdc31a" name="a8043fed7d21b9e8f9cec58f01bbdc31a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8043fed7d21b9e8f9cec58f01bbdc31a">&#9670;&nbsp;</a></span>event_callback_activate_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL int event_callback_activate_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02995">2995</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2997</span>{</div>
<div class="line"><span class="lineno"> 2998</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 2999</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3000</span>    r = <a class="code hl_function" href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3001</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3002</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3003</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

</div>
</div>
<a id="a936dd89704869ed0c402c3a45f8515c9" name="a936dd89704869ed0c402c3a45f8515c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936dd89704869ed0c402c3a45f8515c9">&#9670;&nbsp;</a></span>event_callback_activate_later_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_activate_later_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03037">3037</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3039</span>{</div>
<div class="line"><span class="lineno"> 3040</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER))</div>
<div class="line"><span class="lineno"> 3041</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3042</span> </div>
<div class="line"><span class="lineno"> 3043</span>    <a class="code hl_function" href="event_8c.html#a5b4599275afb12bce1cc6f857aa69af9">event_queue_insert_active_later</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3044</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 3045</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 3046</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 3047</span>}</div>
<div class="ttc" id="aevent_8c_html_a5b4599275afb12bce1cc6f857aa69af9"><div class="ttname"><a href="event_8c.html#a5b4599275afb12bce1cc6f857aa69af9">event_queue_insert_active_later</a></div><div class="ttdeci">static void event_queue_insert_active_later(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03398">event.c:3398</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="event_8c_source.html#l03398">event_queue_insert_active_later()</a>, and <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02978">event_active_later_nolock_()</a>, and <a class="el" href="event_8c_source.html#l03124">event_deferred_cb_schedule_()</a>.</p>

</div>
</div>
<a id="a137de8a41d69dda05d38d6baa8d89fe6" name="a137de8a41d69dda05d38d6baa8d89fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a137de8a41d69dda05d38d6baa8d89fe6">&#9670;&nbsp;</a></span>event_callback_activate_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_activate_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03006">3006</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3008</span>{</div>
<div class="line"><span class="lineno"> 3009</span>    <span class="keywordtype">int</span> r = 1;</div>
<div class="line"><span class="lineno"> 3010</span> </div>
<div class="line"><span class="lineno"> 3011</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_FINALIZING)</div>
<div class="line"><span class="lineno"> 3012</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3013</span> </div>
<div class="line"><span class="lineno"> 3014</span>    <span class="keywordflow">switch</span> (evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER)) {</div>
<div class="line"><span class="lineno"> 3015</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3016</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(0);</div>
<div class="line"><span class="lineno"> 3017</span>        <a class="code hl_define" href="util-internal_8h.html#a983a977972e6abd4cf31c4fdc6f628e2">EVUTIL_FALLTHROUGH</a>;</div>
<div class="line"><span class="lineno"> 3018</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 3019</span>        <a class="code hl_function" href="event_8c.html#a4c4082af1e928ea13dd2c3f7f2c66fbe">event_queue_remove_active_later</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3020</span>        r = 0;</div>
<div class="line"><span class="lineno"> 3021</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3022</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE:</div>
<div class="line"><span class="lineno"> 3023</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3024</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 3025</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3026</span>    }</div>
<div class="line"><span class="lineno"> 3027</span> </div>
<div class="line"><span class="lineno"> 3028</span>    <a class="code hl_function" href="event_8c.html#a29354e3bb874319f2705638f5e8351e4">event_queue_insert_active</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3029</span> </div>
<div class="line"><span class="lineno"> 3030</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 3031</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 3032</span> </div>
<div class="line"><span class="lineno"> 3033</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3034</span>}</div>
<div class="ttc" id="aevent_8c_html_a29354e3bb874319f2705638f5e8351e4"><div class="ttname"><a href="event_8c.html#a29354e3bb874319f2705638f5e8351e4">event_queue_insert_active</a></div><div class="ttdeci">static void event_queue_insert_active(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03377">event.c:3377</a></div></div>
<div class="ttc" id="aevent_8c_html_a4c4082af1e928ea13dd2c3f7f2c66fbe"><div class="ttname"><a href="event_8c.html#a4c4082af1e928ea13dd2c3f7f2c66fbe">event_queue_remove_active_later</a></div><div class="ttdeci">static void event_queue_remove_active_later(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03252">event.c:3252</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a983a977972e6abd4cf31c4fdc6f628e2"><div class="ttname"><a href="util-internal_8h.html#a983a977972e6abd4cf31c4fdc6f628e2">EVUTIL_FALLTHROUGH</a></div><div class="ttdeci">#define EVUTIL_FALLTHROUGH</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00355">util-internal.h:355</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="event_8c_source.html#l03377">event_queue_insert_active()</a>, <a class="el" href="event_8c_source.html#l03252">event_queue_remove_active_later()</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="util-internal_8h_source.html#l00355">EVUTIL_FALLTHROUGH</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event_8c_source.html#l02995">event_callback_activate_()</a>, <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>, and <a class="el" href="event_8c_source.html#l03124">event_deferred_cb_schedule_()</a>.</p>

</div>
</div>
<a id="aa57a48e6d6c0430db8f56bef682854f5" name="aa57a48e6d6c0430db8f56bef682854f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57a48e6d6c0430db8f56bef682854f5">&#9670;&nbsp;</a></span>event_callback_cancel_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_cancel_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03058">3058</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3060</span>{</div>
<div class="line"><span class="lineno"> 3061</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 3062</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3063</span>    r = <a class="code hl_function" href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a>(base, evcb, 0);</div>
<div class="line"><span class="lineno"> 3064</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 3065</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 3066</span>}</div>
<div class="ttc" id="aevent_8c_html_aff51369f2c5162bde92aa5b360cce150"><div class="ttname"><a href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a></div><div class="ttdeci">int event_callback_cancel_nolock_(struct event_base *base, struct event_callback *evcb, int even_if_finalizing)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03069">event.c:3069</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03115">event_deferred_cb_cancel_()</a>.</p>

</div>
</div>
<a id="aff51369f2c5162bde92aa5b360cce150" name="aff51369f2c5162bde92aa5b360cce150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff51369f2c5162bde92aa5b360cce150">&#9670;&nbsp;</a></span>event_callback_cancel_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_cancel_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>even_if_finalizing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03069">3069</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3071</span>{</div>
<div class="line"><span class="lineno"> 3072</span>    <span class="keywordflow">if</span> ((evcb-&gt;evcb_flags &amp; EVLIST_FINALIZING) &amp;&amp; !even_if_finalizing)</div>
<div class="line"><span class="lineno"> 3073</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3074</span> </div>
<div class="line"><span class="lineno"> 3075</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_INIT)</div>
<div class="line"><span class="lineno"> 3076</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(<a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb),</div>
<div class="line"><span class="lineno"> 3077</span>            even_if_finalizing ? <a class="code hl_define" href="event-internal_8h.html#a8905546adf5fb540312eac1607bbdeb9">EVENT_DEL_EVEN_IF_FINALIZING</a> : <a class="code hl_define" href="event-internal_8h.html#a5b986417655459f13495c7e24acf8ac9">EVENT_DEL_AUTOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 3078</span> </div>
<div class="line"><span class="lineno"> 3079</span>    <span class="keywordflow">switch</span> ((evcb-&gt;evcb_flags &amp; (EVLIST_ACTIVE|EVLIST_ACTIVE_LATER))) {</div>
<div class="line"><span class="lineno"> 3080</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3081</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE|EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 3082</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(0);</div>
<div class="line"><span class="lineno"> 3083</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3084</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE:</div>
<div class="line"><span class="lineno"> 3085</span>        <span class="comment">/* We get different kinds of events, add them together */</span></div>
<div class="line"><span class="lineno"> 3086</span>        <a class="code hl_function" href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3087</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3088</span>    <span class="keywordflow">case</span> EVLIST_ACTIVE_LATER:</div>
<div class="line"><span class="lineno"> 3089</span>        <a class="code hl_function" href="event_8c.html#a4c4082af1e928ea13dd2c3f7f2c66fbe">event_queue_remove_active_later</a>(base, evcb);</div>
<div class="line"><span class="lineno"> 3090</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3091</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 3092</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3093</span>    }</div>
<div class="line"><span class="lineno"> 3094</span> </div>
<div class="line"><span class="lineno"> 3095</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3096</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a5b986417655459f13495c7e24acf8ac9"><div class="ttname"><a href="event-internal_8h.html#a5b986417655459f13495c7e24acf8ac9">EVENT_DEL_AUTOBLOCK</a></div><div class="ttdeci">#define EVENT_DEL_AUTOBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00420">event-internal.h:420</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a8905546adf5fb540312eac1607bbdeb9"><div class="ttname"><a href="event-internal_8h.html#a8905546adf5fb540312eac1607bbdeb9">EVENT_DEL_EVEN_IF_FINALIZING</a></div><div class="ttdeci">#define EVENT_DEL_EVEN_IF_FINALIZING</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00423">event-internal.h:423</a></div></div>
<div class="ttc" id="aevent_8c_html_a7399bb4d0614286e07faaed9412b16ae"><div class="ttname"><a href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a></div><div class="ttdeci">int event_del_nolock_(struct event *ev, int blocking)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02810">event.c:2810</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00492">event_callback_to_event()</a>, <a class="el" href="event-internal_8h_source.html#l00420">EVENT_DEL_AUTOBLOCK</a>, <a class="el" href="event-internal_8h_source.html#l00423">EVENT_DEL_EVEN_IF_FINALIZING</a>, <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>, <a class="el" href="event_8c_source.html#l03236">event_queue_remove_active()</a>, <a class="el" href="event_8c_source.html#l03252">event_queue_remove_active_later()</a>, and <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00775">event_base_cancel_single_callback_()</a>, <a class="el" href="event_8c_source.html#l03058">event_callback_cancel_()</a>, <a class="el" href="event_8c_source.html#l02317">event_callback_finalize_many_()</a>, and <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>.</p>

</div>
</div>
<a id="aa418e0a0273077f7af8664e4ef59fe3f" name="aa418e0a0273077f7af8664e4ef59fe3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa418e0a0273077f7af8664e4ef59fe3f">&#9670;&nbsp;</a></span>event_callback_finalize_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void event_callback_finalize_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct event_callback *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02306">2306</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2307</span>{</div>
<div class="line"><span class="lineno"> 2308</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2309</span>    <a class="code hl_function" href="event_8c.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a>(base, flags, evcb, cb);</div>
<div class="line"><span class="lineno"> 2310</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2311</span>}</div>
<div class="ttc" id="aevent_8c_html_adfe640e39f50bac53b51452800ec52ff"><div class="ttname"><a href="event_8c.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a></div><div class="ttdeci">void event_callback_finalize_nolock_(struct event_base *base, unsigned flags, struct event_callback *evcb, void(*cb)(struct event_callback *, void *))</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02289">event.c:2289</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, and <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>.</p>

</div>
</div>
<a id="ab37e317c97519a932f2c90bd0493423e" name="ab37e317c97519a932f2c90bd0493423e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab37e317c97519a932f2c90bd0493423e">&#9670;&nbsp;</a></span>event_callback_finalize_many_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_callback_finalize_many_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_cbs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback **&#160;</td>
          <td class="paramname"><em>evcbs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct event_callback *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal: Finalize all of the n_cbs callbacks in evcbs. The provided callback will be invoked on <em>one of them</em>, after they have <em>all</em> been finalized. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02317">2317</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2318</span>{</div>
<div class="line"><span class="lineno"> 2319</span>    <span class="keywordtype">int</span> n_pending = 0, i;</div>
<div class="line"><span class="lineno"> 2320</span> </div>
<div class="line"><span class="lineno"> 2321</span>    <span class="keywordflow">if</span> (base == NULL)</div>
<div class="line"><span class="lineno"> 2322</span>        base = <a class="code hl_define" href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a>;</div>
<div class="line"><span class="lineno"> 2323</span> </div>
<div class="line"><span class="lineno"> 2324</span>    <a class="code hl_define" href="evthread-internal_8h.html#aacb6029f7640549840286b23c2961935">EVBASE_ACQUIRE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2325</span> </div>
<div class="line"><span class="lineno"> 2326</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: %d events finalizing&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, n_cbs));</div>
<div class="line"><span class="lineno"> 2327</span> </div>
<div class="line"><span class="lineno"> 2328</span>    <span class="comment">/* At most one can be currently executing; the rest we just</span></div>
<div class="line"><span class="lineno"> 2329</span><span class="comment">     * cancel... But we always make sure that the finalize callback</span></div>
<div class="line"><span class="lineno"> 2330</span><span class="comment">     * runs. */</span></div>
<div class="line"><span class="lineno"> 2331</span>    <span class="keywordflow">for</span> (i = 0; i &lt; n_cbs; ++i) {</div>
<div class="line"><span class="lineno"> 2332</span>        <span class="keyword">struct </span>event_callback *evcb = evcbs[i];</div>
<div class="line"><span class="lineno"> 2333</span>        <span class="keywordflow">if</span> (evcb == base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a>) {</div>
<div class="line"><span class="lineno"> 2334</span>            <a class="code hl_function" href="event_8c.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a>(base, 0, evcb, cb);</div>
<div class="line"><span class="lineno"> 2335</span>            ++n_pending;</div>
<div class="line"><span class="lineno"> 2336</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2337</span>            <a class="code hl_function" href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a>(base, evcb, 0);</div>
<div class="line"><span class="lineno"> 2338</span>        }</div>
<div class="line"><span class="lineno"> 2339</span>    }</div>
<div class="line"><span class="lineno"> 2340</span> </div>
<div class="line"><span class="lineno"> 2341</span>    <span class="keywordflow">if</span> (n_pending == 0) {</div>
<div class="line"><span class="lineno"> 2342</span>        <span class="comment">/* Just do the first one. */</span></div>
<div class="line"><span class="lineno"> 2343</span>        <a class="code hl_function" href="event_8c.html#adfe640e39f50bac53b51452800ec52ff">event_callback_finalize_nolock_</a>(base, 0, evcbs[0], cb);</div>
<div class="line"><span class="lineno"> 2344</span>    }</div>
<div class="line"><span class="lineno"> 2345</span> </div>
<div class="line"><span class="lineno"> 2346</span>    <a class="code hl_define" href="evthread-internal_8h.html#ad447bad18470cb6235b43b01d1ed418e">EVBASE_RELEASE_LOCK</a>(base, th_base_lock);</div>
<div class="line"><span class="lineno"> 2347</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2348</span>}</div>
<div class="ttc" id="aevent_8c_html_a2b5039afe7dc79383e996caed30fe2b9"><div class="ttname"><a href="event_8c.html#a2b5039afe7dc79383e996caed30fe2b9">current_base</a></div><div class="ttdeci">#define current_base</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00131">event.c:131</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7d6e1cf1a8d53f38471e9e9db3faf740"><div class="ttname"><a href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a></div><div class="ttdeci">#define __func__</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00086">util-internal.h:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="event_8c_source.html#l00131">current_base</a>, <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="evthread-internal_8h_source.html#l00118">EVBASE_ACQUIRE_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00123">EVBASE_RELEASE_LOCK</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>, and <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>.</p>

</div>
</div>
<a id="adfe640e39f50bac53b51452800ec52ff" name="adfe640e39f50bac53b51452800ec52ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe640e39f50bac53b51452800ec52ff">&#9670;&nbsp;</a></span>event_callback_finalize_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_callback_finalize_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct event_callback *, void *)&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02289">2289</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2290</span>{</div>
<div class="line"><span class="lineno"> 2291</span>    <span class="keyword">struct </span>event *ev = NULL;</div>
<div class="line"><span class="lineno"> 2292</span>    <span class="keywordflow">if</span> (evcb-&gt;evcb_flags &amp; EVLIST_INIT) {</div>
<div class="line"><span class="lineno"> 2293</span>        ev = <a class="code hl_function" href="event_8c.html#a192dd5b45e3aa491374f90bc4b629a77">event_callback_to_event</a>(evcb);</div>
<div class="line"><span class="lineno"> 2294</span>        <a class="code hl_function" href="event_8c.html#a7399bb4d0614286e07faaed9412b16ae">event_del_nolock_</a>(ev, <a class="code hl_define" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a>);</div>
<div class="line"><span class="lineno"> 2295</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2296</span>        <a class="code hl_function" href="event_8c.html#aff51369f2c5162bde92aa5b360cce150">event_callback_cancel_nolock_</a>(base, evcb, 0); <span class="comment">/*XXX can this fail?*/</span></div>
<div class="line"><span class="lineno"> 2297</span>    }</div>
<div class="line"><span class="lineno"> 2298</span> </div>
<div class="line"><span class="lineno"> 2299</span>    evcb-&gt;evcb_closure = <a class="code hl_define" href="event-internal_8h.html#a2d789a90e7e056878473202407e78407">EV_CLOSURE_CB_FINALIZE</a>;</div>
<div class="line"><span class="lineno"> 2300</span>    evcb-&gt;evcb_cb_union.evcb_cbfinalize = cb;</div>
<div class="line"><span class="lineno"> 2301</span>    <a class="code hl_function" href="event_8c.html#a076746196a9869ea729e8418258dfbd7">event_callback_activate_nolock_</a>(base, evcb); <span class="comment">/* XXX can this really fail?*/</span></div>
<div class="line"><span class="lineno"> 2302</span>    evcb-&gt;evcb_flags |= EVLIST_FINALIZING;</div>
<div class="line"><span class="lineno"> 2303</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a2d789a90e7e056878473202407e78407"><div class="ttname"><a href="event-internal_8h.html#a2d789a90e7e056878473202407e78407">EV_CLOSURE_CB_FINALIZE</a></div><div class="ttdeci">#define EV_CLOSURE_CB_FINALIZE</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00077">event-internal.h:77</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_acb4106ad80e46f1a6a2d8824cb34f899"><div class="ttname"><a href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a></div><div class="ttdeci">#define EVENT_DEL_NOBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00412">event-internal.h:412</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00077">EV_CLOSURE_CB_FINALIZE</a>, <a class="el" href="event_8c_source.html#l03006">event_callback_activate_nolock_()</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, <a class="el" href="event_8c_source.html#l00492">event_callback_to_event()</a>, <a class="el" href="event-internal_8h_source.html#l00412">EVENT_DEL_NOBLOCK</a>, and <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02306">event_callback_finalize_()</a>, and <a class="el" href="event_8c_source.html#l02317">event_callback_finalize_many_()</a>.</p>

</div>
</div>
<a id="a6080c912f44af885c07f6a518ea051af" name="a6080c912f44af885c07f6a518ea051af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6080c912f44af885c07f6a518ea051af">&#9670;&nbsp;</a></span>event_callback_init_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_callback_init_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l03050">3050</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3052</span>{</div>
<div class="line"><span class="lineno"> 3053</span>    memset(cb, 0, <span class="keyword">sizeof</span>(*cb));</div>
<div class="line"><span class="lineno"> 3054</span>    cb-&gt;evcb_pri = base-&gt;<a class="code hl_variable" href="structevent__base.html#aa70c7838ca1f94ff8f78ebe7c2ae9584">nactivequeues</a> - 1;</div>
<div class="line"><span class="lineno"> 3055</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00266">event_base::nactivequeues</a>.</p>

</div>
</div>
<a id="a7399bb4d0614286e07faaed9412b16ae" name="a7399bb4d0614286e07faaed9412b16ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7399bb4d0614286e07faaed9412b16ae">&#9670;&nbsp;</a></span>event_del_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_del_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Helper for event_del: always called with th_base_lock held.</p>
<p >"blocking" must be one of the EVENT_DEL_{BLOCK, NOBLOCK, AUTOBLOCK, EVEN_IF_FINALIZING} values. See those for more information. </p>

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02810">2810</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2811</span>{</div>
<div class="line"><span class="lineno"> 2812</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base;</div>
<div class="line"><span class="lineno"> 2813</span>    <span class="keywordtype">int</span> res = 0, notify = 0;</div>
<div class="line"><span class="lineno"> 2814</span> </div>
<div class="line"><span class="lineno"> 2815</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;event_del: %p (fd &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a><span class="stringliteral">&quot;), callback %p&quot;</span>,</div>
<div class="line"><span class="lineno"> 2816</span>        ev, <a class="code hl_define" href="util-internal_8h.html#aee887fc99d808a2195f016a578c3f58d">EV_SOCK_ARG</a>(ev-&gt;ev_fd), ev-&gt;ev_callback));</div>
<div class="line"><span class="lineno"> 2817</span> </div>
<div class="line"><span class="lineno"> 2818</span>    <span class="comment">/* An event without a base has not been added */</span></div>
<div class="line"><span class="lineno"> 2819</span>    <span class="keywordflow">if</span> (ev-&gt;ev_base == NULL)</div>
<div class="line"><span class="lineno"> 2820</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2821</span> </div>
<div class="line"><span class="lineno"> 2822</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(ev-&gt;ev_base);</div>
<div class="line"><span class="lineno"> 2823</span> </div>
<div class="line"><span class="lineno"> 2824</span>    <span class="keywordflow">if</span> (blocking != <a class="code hl_define" href="event-internal_8h.html#a8905546adf5fb540312eac1607bbdeb9">EVENT_DEL_EVEN_IF_FINALIZING</a>) {</div>
<div class="line"><span class="lineno"> 2825</span>        <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_FINALIZING) {</div>
<div class="line"><span class="lineno"> 2826</span>            <span class="comment">/* XXXX Debug */</span></div>
<div class="line"><span class="lineno"> 2827</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2828</span>        }</div>
<div class="line"><span class="lineno"> 2829</span>    }</div>
<div class="line"><span class="lineno"> 2830</span> </div>
<div class="line"><span class="lineno"> 2831</span>    base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2832</span> </div>
<div class="line"><span class="lineno"> 2833</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!(ev-&gt;ev_flags &amp; ~EVLIST_ALL));</div>
<div class="line"><span class="lineno"> 2834</span> </div>
<div class="line"><span class="lineno"> 2835</span>    <span class="comment">/* See if we are just active executing this event in a loop */</span></div>
<div class="line"><span class="lineno"> 2836</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_SIGNAL) {</div>
<div class="line"><span class="lineno"> 2837</span>        <span class="keywordflow">if</span> (ev-&gt;ev_ncalls &amp;&amp; ev-&gt;ev_pncalls) {</div>
<div class="line"><span class="lineno"> 2838</span>            <span class="comment">/* Abort loop */</span></div>
<div class="line"><span class="lineno"> 2839</span>            *ev-&gt;ev_pncalls = 0;</div>
<div class="line"><span class="lineno"> 2840</span>        }</div>
<div class="line"><span class="lineno"> 2841</span>    }</div>
<div class="line"><span class="lineno"> 2842</span> </div>
<div class="line"><span class="lineno"> 2843</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 2844</span>        <span class="comment">/* NOTE: We never need to notify the main thread because of a</span></div>
<div class="line"><span class="lineno"> 2845</span><span class="comment">         * deleted timeout event: all that could happen if we don&#39;t is</span></div>
<div class="line"><span class="lineno"> 2846</span><span class="comment">         * that the dispatch loop might wake up too early.  But the</span></div>
<div class="line"><span class="lineno"> 2847</span><span class="comment">         * point of notifying the main thread _is_ to wake up the</span></div>
<div class="line"><span class="lineno"> 2848</span><span class="comment">         * dispatch loop early anyway, so we wouldn&#39;t gain anything by</span></div>
<div class="line"><span class="lineno"> 2849</span><span class="comment">         * doing it.</span></div>
<div class="line"><span class="lineno"> 2850</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 2851</span>        <a class="code hl_function" href="event_8c.html#a9eca687246bc048effecda8ab8db6038">event_queue_remove_timeout</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2852</span>    }</div>
<div class="line"><span class="lineno"> 2853</span> </div>
<div class="line"><span class="lineno"> 2854</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_ACTIVE)</div>
<div class="line"><span class="lineno"> 2855</span>        <a class="code hl_function" href="event_8c.html#a05756f811bfc57faa1781b4c8ea20e3b">event_queue_remove_active</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2856</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_ACTIVE_LATER)</div>
<div class="line"><span class="lineno"> 2857</span>        <a class="code hl_function" href="event_8c.html#a4c4082af1e928ea13dd2c3f7f2c66fbe">event_queue_remove_active_later</a>(base, <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev));</div>
<div class="line"><span class="lineno"> 2858</span> </div>
<div class="line"><span class="lineno"> 2859</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_INSERTED) {</div>
<div class="line"><span class="lineno"> 2860</span>        <a class="code hl_function" href="event_8c.html#ae03ffa551133afc1e89513464962642e">event_queue_remove_inserted</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2861</span>        <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; (EV_READ|EV_WRITE|EV_CLOSED))</div>
<div class="line"><span class="lineno"> 2862</span>            res = <a class="code hl_function" href="evmap-internal_8h.html#a352dfdfbae15e78da5acf461fb427336">evmap_io_del_</a>(base, ev-&gt;ev_fd, ev);</div>
<div class="line"><span class="lineno"> 2863</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2864</span>            res = <a class="code hl_function" href="evmap-internal_8h.html#a5aa8a24f437d00d04d08eeed29626136">evmap_signal_del_</a>(base, (<span class="keywordtype">int</span>)ev-&gt;ev_fd, ev);</div>
<div class="line"><span class="lineno"> 2865</span>        <span class="keywordflow">if</span> (res == 1) {</div>
<div class="line"><span class="lineno"> 2866</span>            <span class="comment">/* evmap says we need to notify the main thread. */</span></div>
<div class="line"><span class="lineno"> 2867</span>            notify = 1;</div>
<div class="line"><span class="lineno"> 2868</span>            res = 0;</div>
<div class="line"><span class="lineno"> 2869</span>        }</div>
<div class="line"><span class="lineno"> 2870</span>        <span class="comment">/* If we do not have events, let&#39;s notify event base so it can</span></div>
<div class="line"><span class="lineno"> 2871</span><span class="comment">         * exit without waiting */</span></div>
<div class="line"><span class="lineno"> 2872</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="event_8c.html#a60fd389521c61b379ef338b995e06eae">event_haveevents</a>(base) &amp;&amp; !<a class="code hl_define" href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a>(base))</div>
<div class="line"><span class="lineno"> 2873</span>            notify = 1;</div>
<div class="line"><span class="lineno"> 2874</span>    }</div>
<div class="line"><span class="lineno"> 2875</span> </div>
<div class="line"><span class="lineno"> 2876</span>    <span class="comment">/* if we are not in the right thread, we need to wake up the loop */</span></div>
<div class="line"><span class="lineno"> 2877</span>    <span class="keywordflow">if</span> (res != -1 &amp;&amp; notify &amp;&amp; <a class="code hl_define" href="evthread-internal_8h.html#a608b677432c4e0db92c8ccc7723f4f65">EVBASE_NEED_NOTIFY</a>(base))</div>
<div class="line"><span class="lineno"> 2878</span>        <a class="code hl_function" href="event_8c.html#aba00a4b368970f5f6e2c5e39e5556e1e">evthread_notify_base</a>(base);</div>
<div class="line"><span class="lineno"> 2879</span> </div>
<div class="line"><span class="lineno"> 2880</span>    <a class="code hl_function" href="event_8c.html#a2f768cf7a31be418a8bf277bf2f92776">event_debug_note_del_</a>(ev);</div>
<div class="line"><span class="lineno"> 2881</span> </div>
<div class="line"><span class="lineno"> 2882</span>    <span class="comment">/* If the main thread is currently executing this event&#39;s callback,</span></div>
<div class="line"><span class="lineno"> 2883</span><span class="comment">     * and we are not the main thread, then we want to wait until the</span></div>
<div class="line"><span class="lineno"> 2884</span><span class="comment">     * callback is done before returning. That way, when this function</span></div>
<div class="line"><span class="lineno"> 2885</span><span class="comment">     * returns, it will be safe to free the user-supplied argument.</span></div>
<div class="line"><span class="lineno"> 2886</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2887</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno"> 2888</span>    <span class="keywordflow">if</span> (blocking != <a class="code hl_define" href="event-internal_8h.html#acb4106ad80e46f1a6a2d8824cb34f899">EVENT_DEL_NOBLOCK</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 2889</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a31440f8ef25b630f3d338b9e38c00f0a">current_event</a> == <a class="code hl_function" href="event_8c.html#a983e7de51e0271404f0801df799876bc">event_to_event_callback</a>(ev) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2890</span>        !<a class="code hl_define" href="evthread-internal_8h.html#ac023e978d4b8ebfb1a79926a47f90ed9">EVBASE_IN_THREAD</a>(base) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2891</span>        (blocking == <a class="code hl_define" href="event-internal_8h.html#a64dbbf37ce81344abd9ee8f44c6692e4">EVENT_DEL_BLOCK</a> || !(ev-&gt;ev_events &amp; EV_FINALIZE))) {</div>
<div class="line"><span class="lineno"> 2892</span>        ++base-&gt;<a class="code hl_variable" href="structevent__base.html#ae9d144a390562f68abad627b36c871f2">current_event_waiters</a>;</div>
<div class="line"><span class="lineno"> 2893</span>        <a class="code hl_define" href="evthread-internal_8h.html#aacb4425897e69915b7f3e366b6b4b430">EVTHREAD_COND_WAIT</a>(base-&gt;<a class="code hl_variable" href="structevent__base.html#a9552e59d24e61ca46f253fc1c412072a">current_event_cond</a>, base-&gt;<a class="code hl_variable" href="structevent__base.html#ae32a6810bcc12f942954b06e7393495f">th_base_lock</a>);</div>
<div class="line"><span class="lineno"> 2894</span>    }</div>
<div class="line"><span class="lineno"> 2895</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2896</span> </div>
<div class="line"><span class="lineno"> 2897</span>    <span class="keywordflow">return</span> (res);</div>
<div class="line"><span class="lineno"> 2898</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a1d006f60c1487ee11764641753301a63"><div class="ttname"><a href="event-internal_8h.html#a1d006f60c1487ee11764641753301a63">N_ACTIVE_CALLBACKS</a></div><div class="ttdeci">#define N_ACTIVE_CALLBACKS(base)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00401">event-internal.h:401</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a64dbbf37ce81344abd9ee8f44c6692e4"><div class="ttname"><a href="event-internal_8h.html#a64dbbf37ce81344abd9ee8f44c6692e4">EVENT_DEL_BLOCK</a></div><div class="ttdeci">#define EVENT_DEL_BLOCK</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00416">event-internal.h:416</a></div></div>
<div class="ttc" id="aevent_8c_html_a2f768cf7a31be418a8bf277bf2f92776"><div class="ttname"><a href="event_8c.html#a2f768cf7a31be418a8bf277bf2f92776">event_debug_note_del_</a></div><div class="ttdeci">static void event_debug_note_del_(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00307">event.c:307</a></div></div>
<div class="ttc" id="aevent_8c_html_a60fd389521c61b379ef338b995e06eae"><div class="ttname"><a href="event_8c.html#a60fd389521c61b379ef338b995e06eae">event_haveevents</a></div><div class="ttdeci">static int event_haveevents(struct event_base *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01346">event.c:1346</a></div></div>
<div class="ttc" id="aevent_8c_html_ae03ffa551133afc1e89513464962642e"><div class="ttname"><a href="event_8c.html#ae03ffa551133afc1e89513464962642e">event_queue_remove_inserted</a></div><div class="ttdeci">static void event_queue_remove_inserted(struct event_base *, struct event *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03224">event.c:3224</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a352dfdfbae15e78da5acf461fb427336"><div class="ttname"><a href="evmap-internal_8h.html#a352dfdfbae15e78da5acf461fb427336">evmap_io_del_</a></div><div class="ttdeci">int evmap_io_del_(struct event_base *base, evutil_socket_t fd, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00354">evmap.c:354</a></div></div>
<div class="ttc" id="aevmap-internal_8h_html_a5aa8a24f437d00d04d08eeed29626136"><div class="ttname"><a href="evmap-internal_8h.html#a5aa8a24f437d00d04d08eeed29626136">evmap_signal_del_</a></div><div class="ttdeci">int evmap_signal_del_(struct event_base *base, int signum, struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00479">evmap.c:479</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00315">event_base::current_event</a>, <a class="el" href="event-internal_8h_source.html#l00310">event_base::current_event_cond</a>, <a class="el" href="event-internal_8h_source.html#l00312">event_base::current_event_waiters</a>, <a class="el" href="util-internal_8h_source.html#l00477">EV_SOCK_ARG</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="evthread-internal_8h_source.html#l00066">EVBASE_IN_THREAD</a>, <a class="el" href="evthread-internal_8h_source.html#l00073">EVBASE_NEED_NOTIFY</a>, <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l00307">event_debug_note_del_()</a>, <a class="el" href="event-internal_8h_source.html#l00416">EVENT_DEL_BLOCK</a>, <a class="el" href="event-internal_8h_source.html#l00423">EVENT_DEL_EVEN_IF_FINALIZING</a>, <a class="el" href="event-internal_8h_source.html#l00412">EVENT_DEL_NOBLOCK</a>, <a class="el" href="event_8c_source.html#l01346">event_haveevents()</a>, <a class="el" href="event_8c_source.html#l03236">event_queue_remove_active()</a>, <a class="el" href="event_8c_source.html#l03252">event_queue_remove_active_later()</a>, <a class="el" href="event_8c_source.html#l03224">event_queue_remove_inserted()</a>, <a class="el" href="event_8c_source.html#l03267">event_queue_remove_timeout()</a>, <a class="el" href="event_8c_source.html#l00499">event_to_event_callback()</a>, <a class="el" href="evmap_8c_source.html#l00354">evmap_io_del_()</a>, <a class="el" href="evmap_8c_source.html#l00479">evmap_signal_del_()</a>, <a class="el" href="evthread-internal_8h_source.html#l00174">EVTHREAD_COND_WAIT</a>, <a class="el" href="event_8c_source.html#l02541">evthread_notify_base()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="event-internal_8h_source.html#l00401">N_ACTIVE_CALLBACKS</a>, and <a class="el" href="event-internal_8h_source.html#l00307">event_base::th_base_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l01462">common_timeout_callback()</a>, <a class="el" href="event_8c_source.html#l03069">event_callback_cancel_nolock_()</a>, <a class="el" href="event_8c_source.html#l02289">event_callback_finalize_nolock_()</a>, <a class="el" href="event_8c_source.html#l02769">event_del_()</a>, <a class="el" href="event_8c_source.html#l02247">event_finalize_nolock_()</a>, <a class="el" href="event_8c_source.html#l01634">event_process_active_single_queue()</a>, <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>, and <a class="el" href="event_8c_source.html#l03181">timeout_process()</a>.</p>

</div>
</div>
<a id="ad6954084f09f614ffbafb1b85e86a27b" name="ad6954084f09f614ffbafb1b85e86a27b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6954084f09f614ffbafb1b85e86a27b">&#9670;&nbsp;</a></span>event_disable_debug_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_disable_debug_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00586">586</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  587</span>{</div>
<div class="line"><span class="lineno">  588</span><span class="preprocessor">#ifndef EVENT__DISABLE_DEBUG_MODE</span></div>
<div class="line"><span class="lineno">  589</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__debug__entry.html">event_debug_entry</a> **ent, *victim;</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>    <a class="code hl_define" href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a>, 0);</div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">for</span> (ent = <a class="code hl_define" href="ht-internal_8h.html#a8db72db32aef0de42a0029d12f051455">HT_START</a>(event_debug_map, &amp;global_debug_map); ent; ) {</div>
<div class="line"><span class="lineno">  593</span>        victim = *ent;</div>
<div class="line"><span class="lineno">  594</span>        ent = <a class="code hl_define" href="ht-internal_8h.html#ae820c3a6cef137fe5b0ec3638b3cc786">HT_NEXT_RMV</a>(event_debug_map, &amp;global_debug_map, ent);</div>
<div class="line"><span class="lineno">  595</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(victim);</div>
<div class="line"><span class="lineno">  596</span>    }</div>
<div class="line"><span class="lineno">  597</span>    <a class="code hl_define" href="ht-internal_8h.html#a47c2c198644086f2703eb89374000c08">HT_CLEAR</a>(event_debug_map, &amp;global_debug_map);</div>
<div class="line"><span class="lineno">  598</span>    <a class="code hl_define" href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a>(<a class="code hl_variable" href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a> , 0);</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <a class="code hl_variable" href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a>  = 0;</div>
<div class="line"><span class="lineno">  601</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  602</span>}</div>
<div class="ttc" id="aevent_8c_html_a3ede2ba43439e39992899a8c083bbb6a"><div class="ttname"><a href="event_8c.html#a3ede2ba43439e39992899a8c083bbb6a">event_debug_mode_on_</a></div><div class="ttdeci">int event_debug_mode_on_</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00205">event.c:205</a></div></div>
<div class="ttc" id="aevent_8c_html_aeae80598cf04ce30bbeb1797aa9af121"><div class="ttname"><a href="event_8c.html#aeae80598cf04ce30bbeb1797aa9af121">event_debug_map_lock_</a></div><div class="ttdeci">static void * event_debug_map_lock_</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00225">event.c:225</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a56adca0a6ba562d39552d187063a0ba7"><div class="ttname"><a href="evthread-internal_8h.html#a56adca0a6ba562d39552d187063a0ba7">EVLOCK_UNLOCK</a></div><div class="ttdeci">#define EVLOCK_UNLOCK(lockvar, mode)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00100">evthread-internal.h:100</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a85fdca55341e3703cd380dae6e90297d"><div class="ttname"><a href="evthread-internal_8h.html#a85fdca55341e3703cd380dae6e90297d">EVLOCK_LOCK</a></div><div class="ttdeci">#define EVLOCK_LOCK(lockvar, mode)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00093">evthread-internal.h:93</a></div></div>
<div class="ttc" id="aht-internal_8h_html_a47c2c198644086f2703eb89374000c08"><div class="ttname"><a href="ht-internal_8h.html#a47c2c198644086f2703eb89374000c08">HT_CLEAR</a></div><div class="ttdeci">#define HT_CLEAR(name, head)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00059">ht-internal.h:59</a></div></div>
<div class="ttc" id="aht-internal_8h_html_a8db72db32aef0de42a0029d12f051455"><div class="ttname"><a href="ht-internal_8h.html#a8db72db32aef0de42a0029d12f051455">HT_START</a></div><div class="ttdeci">#define HT_START(name, head)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00056">ht-internal.h:56</a></div></div>
<div class="ttc" id="aht-internal_8h_html_ae820c3a6cef137fe5b0ec3638b3cc786"><div class="ttname"><a href="ht-internal_8h.html#ae820c3a6cef137fe5b0ec3638b3cc786">HT_NEXT_RMV</a></div><div class="ttdeci">#define HT_NEXT_RMV(name, head, elm)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00058">ht-internal.h:58</a></div></div>
<div class="ttc" id="amm-internal_8h_html_af7d87798652aaa8398bb9c0504256f16"><div class="ttname"><a href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a></div><div class="ttdeci">#define mm_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00079">mm-internal.h:79</a></div></div>
<div class="ttc" id="astructevent__debug__entry_html"><div class="ttname"><a href="structevent__debug__entry.html">event_debug_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l00178">event.c:178</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00225">event_debug_map_lock_</a>, <a class="el" href="event_8c_source.html#l00205">event_debug_mode_on_</a>, <a class="el" href="evthread-internal_8h_source.html#l00093">EVLOCK_LOCK</a>, <a class="el" href="evthread-internal_8h_source.html#l00100">EVLOCK_UNLOCK</a>, <a class="el" href="ht-internal_8h_source.html#l00059">HT_CLEAR</a>, <a class="el" href="ht-internal_8h_source.html#l00058">HT_NEXT_RMV</a>, <a class="el" href="ht-internal_8h_source.html#l00056">HT_START</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03932">libevent_global_shutdown()</a>.</p>

</div>
</div>
<a id="aeffedf24376f5fc194b975900bcd498d" name="aeffedf24376f5fc194b975900bcd498d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeffedf24376f5fc194b975900bcd498d">&#9670;&nbsp;</a></span>event_remove_timer_nolock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_remove_timer_nolock_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l02555">2555</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2556</span>{</div>
<div class="line"><span class="lineno"> 2557</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__base.html">event_base</a> *base = ev-&gt;ev_base;</div>
<div class="line"><span class="lineno"> 2558</span> </div>
<div class="line"><span class="lineno"> 2559</span>    <a class="code hl_define" href="event_8c.html#a30dad9908d8052d551d84eddf523991a">EVENT_BASE_ASSERT_LOCKED</a>(base);</div>
<div class="line"><span class="lineno"> 2560</span>    <a class="code hl_function" href="event_8c.html#a336acd34fef64d9dccadb70c8239a979">event_debug_assert_is_setup_</a>(ev);</div>
<div class="line"><span class="lineno"> 2561</span> </div>
<div class="line"><span class="lineno"> 2562</span>    <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;event_remove_timer_nolock: event: %p&quot;</span>, ev));</div>
<div class="line"><span class="lineno"> 2563</span> </div>
<div class="line"><span class="lineno"> 2564</span>    <span class="comment">/* If it&#39;s not pending on a timeout, we don&#39;t need to do anything. */</span></div>
<div class="line"><span class="lineno"> 2565</span>    <span class="keywordflow">if</span> (ev-&gt;ev_flags &amp; EVLIST_TIMEOUT) {</div>
<div class="line"><span class="lineno"> 2566</span>        <a class="code hl_function" href="event_8c.html#a9eca687246bc048effecda8ab8db6038">event_queue_remove_timeout</a>(base, ev);</div>
<div class="line"><span class="lineno"> 2567</span>        evutil_timerclear(&amp;ev-&gt;ev_.ev_io.ev_timeout);</div>
<div class="line"><span class="lineno"> 2568</span>    }</div>
<div class="line"><span class="lineno"> 2569</span> </div>
<div class="line"><span class="lineno"> 2570</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2571</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l00400">EVENT_BASE_ASSERT_LOCKED</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="event_8c_source.html#l00333">event_debug_assert_is_setup_()</a>, and <a class="el" href="event_8c_source.html#l03267">event_queue_remove_timeout()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02574">event_remove_timer()</a>.</p>

</div>
</div>
<a id="ac9e1ca34b4d8f333484f7bebbb2d7725" name="ac9e1ca34b4d8f333484f7bebbb2d7725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e1ca34b4d8f333484f7bebbb2d7725">&#9670;&nbsp;</a></span>evsig_restore_handler_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evsig_restore_handler_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>evsignal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal_8c_source.html#l00326">326</a> of file <a class="el" href="signal_8c_source.html">signal.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  327</span>{</div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno">  329</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevsig__info.html">evsig_info</a> *sig = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">sig</a>;</div>
<div class="line"><span class="lineno">  330</span><span class="preprocessor">#ifdef EVENT__HAVE_SIGACTION</span></div>
<div class="line"><span class="lineno">  331</span>    <span class="keyword">struct </span>sigaction *sh;</div>
<div class="line"><span class="lineno">  332</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  333</span>    <a class="code hl_typedef" href="evsignal-internal_8h.html#abeefecaf998eb60c3cbf29e35618600a">ev_sighandler_t</a> *sh;</div>
<div class="line"><span class="lineno">  334</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordflow">if</span> (evsignal &gt;= sig-&gt;<a class="code hl_variable" href="structevsig__info.html#a811959d1b4b0c30b0d882ea3dba17428">sh_old_max</a>) {</div>
<div class="line"><span class="lineno">  337</span>        <span class="comment">/* Can&#39;t actually restore. */</span></div>
<div class="line"><span class="lineno">  338</span>        <span class="comment">/* XXXX.*/</span></div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  340</span>    }</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>    <span class="comment">/* restore previous handler */</span></div>
<div class="line"><span class="lineno">  343</span>    sh = sig-&gt;<a class="code hl_variable" href="structevsig__info.html#a2283a04594c2816eb4a2b302405c4239">sh_old</a>[evsignal];</div>
<div class="line"><span class="lineno">  344</span>    sig-&gt;<a class="code hl_variable" href="structevsig__info.html#a2283a04594c2816eb4a2b302405c4239">sh_old</a>[evsignal] = NULL;</div>
<div class="line"><span class="lineno">  345</span><span class="preprocessor">#ifdef EVENT__HAVE_SIGACTION</span></div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">if</span> (sigaction(evsignal, sh, NULL) == -1) {</div>
<div class="line"><span class="lineno">  347</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;sigaction&quot;</span>);</div>
<div class="line"><span class="lineno">  348</span>        ret = -1;</div>
<div class="line"><span class="lineno">  349</span>    }</div>
<div class="line"><span class="lineno">  350</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">if</span> (signal(evsignal, *sh) == SIG_ERR) {</div>
<div class="line"><span class="lineno">  352</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;signal&quot;</span>);</div>
<div class="line"><span class="lineno">  353</span>        ret = -1;</div>
<div class="line"><span class="lineno">  354</span>    }</div>
<div class="line"><span class="lineno">  355</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(sh);</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  360</span>}</div>
<div class="ttc" id="aevsignal-internal_8h_html_abeefecaf998eb60c3cbf29e35618600a"><div class="ttname"><a href="evsignal-internal_8h.html#abeefecaf998eb60c3cbf29e35618600a">ev_sighandler_t</a></div><div class="ttdeci">void(* ev_sighandler_t)(int)</div><div class="ttdef"><b>Definition:</b> <a href="evsignal-internal_8h_source.html#l00035">evsignal-internal.h:35</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a266362bd8989fd1dacd0e1fc25b904f3"><div class="ttname"><a href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warn(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="astructevent__base_html_a2c527510aa386e401fc762aad06ba2b0"><div class="ttname"><a href="structevent__base.html#a2c527510aa386e401fc762aad06ba2b0">event_base::sig</a></div><div class="ttdeci">struct evsig_info sig</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00223">event-internal.h:223</a></div></div>
<div class="ttc" id="astructevsig__info_html"><div class="ttname"><a href="structevsig__info.html">evsig_info</a></div><div class="ttdef"><b>Definition:</b> <a href="evsignal-internal_8h_source.html#l00039">evsignal-internal.h:39</a></div></div>
<div class="ttc" id="astructevsig__info_html_a2283a04594c2816eb4a2b302405c4239"><div class="ttname"><a href="structevsig__info.html#a2283a04594c2816eb4a2b302405c4239">evsig_info::sh_old</a></div><div class="ttdeci">ev_sighandler_t ** sh_old</div><div class="ttdef"><b>Definition:</b> <a href="evsignal-internal_8h_source.html#l00054">evsignal-internal.h:54</a></div></div>
<div class="ttc" id="astructevsig__info_html_a811959d1b4b0c30b0d882ea3dba17428"><div class="ttname"><a href="structevsig__info.html#a811959d1b4b0c30b0d882ea3dba17428">evsig_info::sh_old_max</a></div><div class="ttdeci">int sh_old_max</div><div class="ttdef"><b>Definition:</b> <a href="evsignal-internal_8h_source.html#l00057">evsignal-internal.h:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="evsignal-internal_8h_source.html#l00054">evsig_info::sh_old</a>, <a class="el" href="evsignal-internal_8h_source.html#l00057">evsig_info::sh_old_max</a>, and <a class="el" href="event-internal_8h_source.html#l00223">event_base::sig</a>.</p>

<p class="reference">Referenced by <a class="el" href="signal_8c_source.html#l00415">evsig_dealloc_()</a>, and <a class="el" href="signal_8c_source.html#l00363">evsig_del()</a>.</p>

</div>
</div>
<a id="a4203b3180d916b32cceb32d4a174e0a7" name="a4203b3180d916b32cceb32d4a174e0a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4203b3180d916b32cceb32d4a174e0a7">&#9670;&nbsp;</a></span>evsig_set_handler_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evsig_set_handler_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>evsignal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(int)&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aef7fb5ac4d047df0a3b87babdb088ade" name="aef7fb5ac4d047df0a3b87babdb088ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7fb5ac4d047df0a3b87babdb088ade">&#9670;&nbsp;</a></span>TAILQ_HEAD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TAILQ_HEAD </td>
          <td>(</td>
          <td class="paramtype">evcallback_list&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_callback&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3ede2ba43439e39992899a8c083bbb6a" name="a3ede2ba43439e39992899a8c083bbb6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ede2ba43439e39992899a8c083bbb6a">&#9670;&nbsp;</a></span>event_debug_mode_on_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int event_debug_mode_on_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="event_8c_source.html#l00205">205</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
