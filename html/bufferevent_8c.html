<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/libevent/bufferevent.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_97979c17d049e8002d2e089c4964ead4.html">libevent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bufferevent.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;event2/event-config.h&quot;</code><br />
<code>#include &quot;evconfig-private.h&quot;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;event2/util.h&quot;</code><br />
<code>#include &quot;event2/buffer.h&quot;</code><br />
<code>#include &quot;event2/buffer_compat.h&quot;</code><br />
<code>#include &quot;event2/bufferevent.h&quot;</code><br />
<code>#include &quot;event2/bufferevent_struct.h&quot;</code><br />
<code>#include &quot;event2/bufferevent_compat.h&quot;</code><br />
<code>#include &quot;event2/event.h&quot;</code><br />
<code>#include &quot;<a class="el" href="event-internal_8h_source.html">event-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log-internal_8h_source.html">log-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mm-internal_8h_source.html">mm-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bufferevent-internal_8h_source.html">bufferevent-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="evbuffer-internal_8h_source.html">evbuffer-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util-internal_8h_source.html">util-internal.h</a>&quot;</code><br />
</div>
<p><a href="bufferevent_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5eb24895cd878096709079eb48eb3ba9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a5eb24895cd878096709079eb48eb3ba9">UNLOCKED</a>(stmt)&#160;&#160;&#160;	do { <a class="el" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev); stmt; <a class="el" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev); } while(0)</td></tr>
<tr class="separator:a5eb24895cd878096709079eb48eb3ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1b1421e3296c66658fecb7511c8c67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#aab1b1421e3296c66658fecb7511c8c67">SCHEDULE_DEFERRED</a>(bevp)</td></tr>
<tr class="separator:aab1b1421e3296c66658fecb7511c8c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a185d3750ca706bda72d999881953ba9c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a185d3750ca706bda72d999881953ba9c">BEV_TRIG_ALL_OPTS</a></td></tr>
<tr class="separator:a185d3750ca706bda72d999881953ba9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f7aca30087dd69403fbffbed651ea2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#aa0f7aca30087dd69403fbffbed651ea2">MAX_CBS</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:aa0f7aca30087dd69403fbffbed651ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae6f605e3c1f302aa58cdc4f92200bda3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#ae6f605e3c1f302aa58cdc4f92200bda3">bufferevent_cancel_all_</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:ae6f605e3c1f302aa58cdc4f92200bda3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0758a132a24ef0507d7bfd0d70ccfd05"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a0758a132a24ef0507d7bfd0d70ccfd05">bufferevent_finalize_cb_</a> (struct event_callback *evcb, void *arg_)</td></tr>
<tr class="separator:a0758a132a24ef0507d7bfd0d70ccfd05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6eebb6aaba83b5e6245a276549e8db9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#ac6eebb6aaba83b5e6245a276549e8db9">bufferevent_suspend_read_</a> (struct bufferevent *bufev, <a class="el" href="bufferevent-internal_8h.html#a1c5e8379d918466d1c3610ca132eeb9e">bufferevent_suspend_flags</a> what)</td></tr>
<tr class="separator:ac6eebb6aaba83b5e6245a276549e8db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1abf99c65edb144035f9aadbbf3fcc3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a1abf99c65edb144035f9aadbbf3fcc3b">bufferevent_unsuspend_read_</a> (struct bufferevent *bufev, <a class="el" href="bufferevent-internal_8h.html#a1c5e8379d918466d1c3610ca132eeb9e">bufferevent_suspend_flags</a> what)</td></tr>
<tr class="separator:a1abf99c65edb144035f9aadbbf3fcc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8e8249779dbe33440cc1580e50971a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a4f8e8249779dbe33440cc1580e50971a">bufferevent_suspend_write_</a> (struct bufferevent *bufev, <a class="el" href="bufferevent-internal_8h.html#a1c5e8379d918466d1c3610ca132eeb9e">bufferevent_suspend_flags</a> what)</td></tr>
<tr class="separator:a4f8e8249779dbe33440cc1580e50971a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fd1bcfa37cc063131fc982cca81b28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a12fd1bcfa37cc063131fc982cca81b28">bufferevent_unsuspend_write_</a> (struct bufferevent *bufev, <a class="el" href="bufferevent-internal_8h.html#a1c5e8379d918466d1c3610ca132eeb9e">bufferevent_suspend_flags</a> what)</td></tr>
<tr class="separator:a12fd1bcfa37cc063131fc982cca81b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb11f18a0472aecb387584350ed13fde"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#adb11f18a0472aecb387584350ed13fde">bufferevent_inbuf_wm_check</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:adb11f18a0472aecb387584350ed13fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c3ef606181c92dca8033b03e9a14cf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a58c3ef606181c92dca8033b03e9a14cf">bufferevent_inbuf_wm_cb</a> (struct <a class="el" href="structevbuffer.html">evbuffer</a> *buf, const struct evbuffer_cb_info *cbinfo, void *arg)</td></tr>
<tr class="separator:a58c3ef606181c92dca8033b03e9a14cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe599180cea59eb74c222ebcdc321261"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#afe599180cea59eb74c222ebcdc321261">bufferevent_run_deferred_callbacks_locked</a> (struct event_callback *cb, void *arg)</td></tr>
<tr class="separator:afe599180cea59eb74c222ebcdc321261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed95d43facc14524a3820ee1e44b3bfc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#aed95d43facc14524a3820ee1e44b3bfc">bufferevent_run_deferred_callbacks_unlocked</a> (struct event_callback *cb, void *arg)</td></tr>
<tr class="separator:aed95d43facc14524a3820ee1e44b3bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28e29bf2be205c676a8440a63bcfd71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#ab28e29bf2be205c676a8440a63bcfd71">bufferevent_run_readcb_</a> (struct bufferevent *bufev, int options)</td></tr>
<tr class="separator:ab28e29bf2be205c676a8440a63bcfd71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5a0d17954834871832bf603fad40529"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#aa5a0d17954834871832bf603fad40529">bufferevent_run_writecb_</a> (struct bufferevent *bufev, int options)</td></tr>
<tr class="separator:aa5a0d17954834871832bf603fad40529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a8068270667ee7b74068dccdf5a4bf4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a5a8068270667ee7b74068dccdf5a4bf4">bufferevent_trigger</a> (struct bufferevent *bufev, short iotype, int options)</td></tr>
<tr class="separator:a5a8068270667ee7b74068dccdf5a4bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc0b934d22f911614b83d01df215a7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a1dc0b934d22f911614b83d01df215a7b">bufferevent_run_eventcb_</a> (struct bufferevent *bufev, short what, int options)</td></tr>
<tr class="separator:a1dc0b934d22f911614b83d01df215a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4602252d61723e957aff88419b628ce6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a4602252d61723e957aff88419b628ce6">bufferevent_trigger_event</a> (struct bufferevent *bufev, short what, int options)</td></tr>
<tr class="separator:a4602252d61723e957aff88419b628ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0113280b6b3515001f68e159e5e82f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#ac0113280b6b3515001f68e159e5e82f4">bufferevent_init_common_</a> (struct <a class="el" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private, struct <a class="el" href="structevent__base.html">event_base</a> *base, const struct <a class="el" href="structbufferevent__ops.html">bufferevent_ops</a> *ops, enum bufferevent_options options)</td></tr>
<tr class="separator:ac0113280b6b3515001f68e159e5e82f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63792519cb94a38beccb5e1390cd6198"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a> (struct bufferevent *bufev, bufferevent_data_cb readcb, bufferevent_data_cb writecb, bufferevent_event_cb eventcb, void *cbarg)</td></tr>
<tr class="separator:a63792519cb94a38beccb5e1390cd6198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace6fa1e46d0cd6453acde4fa4d64cec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#aace6fa1e46d0cd6453acde4fa4d64cec">bufferevent_getcb</a> (struct bufferevent *bufev, bufferevent_data_cb *readcb_ptr, bufferevent_data_cb *writecb_ptr, bufferevent_event_cb *eventcb_ptr, void **cbarg_ptr)</td></tr>
<tr class="separator:aace6fa1e46d0cd6453acde4fa4d64cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc6ab0c64f9a7ed8bc24c2f6d3d594ad"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:acc6ab0c64f9a7ed8bc24c2f6d3d594ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac661f8ca773b6247a47c8deea6be51d3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:ac661f8ca773b6247a47c8deea6be51d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a212b0c165fb6cdded105b08cedb00"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#ad8a212b0c165fb6cdded105b08cedb00">bufferevent_get_base</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:ad8a212b0c165fb6cdded105b08cedb00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80091929da33ded32fdc0d612e3a6664"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a80091929da33ded32fdc0d612e3a6664">bufferevent_get_priority</a> (const struct bufferevent *bufev)</td></tr>
<tr class="separator:a80091929da33ded32fdc0d612e3a6664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc606695cd6bb2e3f25c4330d0c9e3ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#abc606695cd6bb2e3f25c4330d0c9e3ab">bufferevent_write</a> (struct bufferevent *bufev, const void *data, size_t size)</td></tr>
<tr class="separator:abc606695cd6bb2e3f25c4330d0c9e3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b140a32a4d16c402433130dc8c3bde4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a3b140a32a4d16c402433130dc8c3bde4">bufferevent_write_buffer</a> (struct bufferevent *bufev, struct <a class="el" href="structevbuffer.html">evbuffer</a> *buf)</td></tr>
<tr class="separator:a3b140a32a4d16c402433130dc8c3bde4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd435529e20a39b24fead9ddcd966ba"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a6bd435529e20a39b24fead9ddcd966ba">bufferevent_read</a> (struct bufferevent *bufev, void *data, size_t size)</td></tr>
<tr class="separator:a6bd435529e20a39b24fead9ddcd966ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2246fd48085c1acc9e98747a83af041"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#ab2246fd48085c1acc9e98747a83af041">bufferevent_read_buffer</a> (struct bufferevent *bufev, struct <a class="el" href="structevbuffer.html">evbuffer</a> *buf)</td></tr>
<tr class="separator:ab2246fd48085c1acc9e98747a83af041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9a3412e8c8e122c745b33d46b9643e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a> (struct bufferevent *bufev, short event)</td></tr>
<tr class="separator:a1b9a3412e8c8e122c745b33d46b9643e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476193ebc6b892bbfd14d7f0ee14b030"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a> (struct bufferevent *bufev, const struct timeval *tv_read, const struct timeval *tv_write)</td></tr>
<tr class="separator:a476193ebc6b892bbfd14d7f0ee14b030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8236a058cbf059c2f2e3b10063c872b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#aa8236a058cbf059c2f2e3b10063c872b">bufferevent_settimeout</a> (struct bufferevent *bufev, int timeout_read, int timeout_write)</td></tr>
<tr class="separator:aa8236a058cbf059c2f2e3b10063c872b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5108d627bf437397f2c554629bf4703e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a5108d627bf437397f2c554629bf4703e">bufferevent_disable_hard_</a> (struct bufferevent *bufev, short event)</td></tr>
<tr class="separator:a5108d627bf437397f2c554629bf4703e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa15582fe250247aa98d4897527215727"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a> (struct bufferevent *bufev, short event)</td></tr>
<tr class="separator:aa15582fe250247aa98d4897527215727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74e3835e99f8eb73bb1cd7afa7427049"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a74e3835e99f8eb73bb1cd7afa7427049">bufferevent_setwatermark</a> (struct bufferevent *bufev, short events, size_t lowmark, size_t highmark)</td></tr>
<tr class="separator:a74e3835e99f8eb73bb1cd7afa7427049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01839cbe252a69c158c92f5d9cd28160"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a01839cbe252a69c158c92f5d9cd28160">bufferevent_getwatermark</a> (struct bufferevent *bufev, short events, size_t *lowmark, size_t *highmark)</td></tr>
<tr class="separator:a01839cbe252a69c158c92f5d9cd28160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03376a35668ff9b6dc905cce0d89876d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a03376a35668ff9b6dc905cce0d89876d">bufferevent_flush</a> (struct bufferevent *bufev, short iotype, enum bufferevent_flush_mode mode)</td></tr>
<tr class="separator:a03376a35668ff9b6dc905cce0d89876d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affef27e0aded08399a351a6990b7a18d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#affef27e0aded08399a351a6990b7a18d">bufferevent_incref_and_lock_</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:affef27e0aded08399a351a6990b7a18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d303b60101dd6b5c39573a0df3b95f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:af5d303b60101dd6b5c39573a0df3b95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e8faab6859196a47d244bea06647ccb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a2e8faab6859196a47d244bea06647ccb">bufferevent_decref</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:a2e8faab6859196a47d244bea06647ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474a4cef8fd80bea09a636b5f3055bec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a474a4cef8fd80bea09a636b5f3055bec">bufferevent_free</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:a474a4cef8fd80bea09a636b5f3055bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e6ac54e09012e5a42490d40603adab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#af3e6ac54e09012e5a42490d40603adab">bufferevent_incref</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:af3e6ac54e09012e5a42490d40603adab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331d5c67608ba01b8135902dae167646"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a331d5c67608ba01b8135902dae167646">bufferevent_enable_locking_</a> (struct bufferevent *bufev, void *lock)</td></tr>
<tr class="separator:a331d5c67608ba01b8135902dae167646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5923a441822ab477b13b6be4807174f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a> (struct bufferevent *bev, evutil_socket_t fd)</td></tr>
<tr class="separator:a5923a441822ab477b13b6be4807174f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c246bbee9c182cf0524c41010fe7c2c"><td class="memItemLeft" align="right" valign="top">evutil_socket_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a8c246bbee9c182cf0524c41010fe7c2c">bufferevent_getfd</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a8c246bbee9c182cf0524c41010fe7c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929df4ad501eac39b6b8ad234b36aa43"><td class="memItemLeft" align="right" valign="top">enum bufferevent_options&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a929df4ad501eac39b6b8ad234b36aa43">bufferevent_get_options_</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a929df4ad501eac39b6b8ad234b36aa43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbb4adabeb188cc9000bdee4ba23bdb2"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#afbb4adabeb188cc9000bdee4ba23bdb2">bufferevent_get_enabled</a> (struct bufferevent *bufev)</td></tr>
<tr class="separator:afbb4adabeb188cc9000bdee4ba23bdb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd13b764d53ae4810430d06786b31541"><td class="memItemLeft" align="right" valign="top">struct bufferevent *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#abd13b764d53ae4810430d06786b31541">bufferevent_get_underlying</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:abd13b764d53ae4810430d06786b31541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7d47515c6e7ead1669920a676339fb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a7c7d47515c6e7ead1669920a676339fb">bufferevent_generic_read_timeout_cb</a> (evutil_socket_t fd, short event, void *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:a7c7d47515c6e7ead1669920a676339fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb877c9079c9da110cc2180e5bc67307"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#abb877c9079c9da110cc2180e5bc67307">bufferevent_generic_write_timeout_cb</a> (evutil_socket_t fd, short event, void *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:abb877c9079c9da110cc2180e5bc67307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a712079ea78022ea8b7bbacf6f3ac6cfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a712079ea78022ea8b7bbacf6f3ac6cfd">bufferevent_init_generic_timeout_cbs_</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a712079ea78022ea8b7bbacf6f3ac6cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0415681a8ac9ce3ebcc1a44eee59bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#acc0415681a8ac9ce3ebcc1a44eee59bf">bufferevent_generic_adj_timeouts_</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:acc0415681a8ac9ce3ebcc1a44eee59bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf7f69b83544e9cac1b76a90371317a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a0cf7f69b83544e9cac1b76a90371317a">bufferevent_generic_adj_existing_timeouts_</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a0cf7f69b83544e9cac1b76a90371317a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725427342e1542c6eb28c77091ec80db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a725427342e1542c6eb28c77091ec80db">bufferevent_add_event_</a> (struct event *ev, const struct timeval *tv)</td></tr>
<tr class="separator:a725427342e1542c6eb28c77091ec80db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c02d14de7b91c2e51330ea702e0f2f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a1c02d14de7b91c2e51330ea702e0f2f3">bufferevent_lock</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a1c02d14de7b91c2e51330ea702e0f2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371a6df70d38778e7c2798d9c1018f42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferevent_8c.html#a371a6df70d38778e7c2798d9c1018f42">bufferevent_unlock</a> (struct bufferevent *bev)</td></tr>
<tr class="separator:a371a6df70d38778e7c2798d9c1018f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a185d3750ca706bda72d999881953ba9c" name="a185d3750ca706bda72d999881953ba9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a185d3750ca706bda72d999881953ba9c">&#9670;&nbsp;</a></span>BEV_TRIG_ALL_OPTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BEV_TRIG_ALL_OPTS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        (           \</div>
<div class="line">        BEV_TRIG_IGNORE_WATERMARKS| \</div>
<div class="line">        BEV_TRIG_DEFER_CALLBACKS    \</div>
<div class="line">    )</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00271">271</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>

</div>
</div>
<a id="aa0f7aca30087dd69403fbffbed651ea2" name="aa0f7aca30087dd69403fbffbed651ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0f7aca30087dd69403fbffbed651ea2">&#9670;&nbsp;</a></span>MAX_CBS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CBS&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aab1b1421e3296c66658fecb7511c8c67" name="aab1b1421e3296c66658fecb7511c8c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab1b1421e3296c66658fecb7511c8c67">&#9670;&nbsp;</a></span>SCHEDULE_DEFERRED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHEDULE_DEFERRED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bevp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                \</div>
<div class="line">        if (<a class="code hl_function" href="defer-internal_8h.html#a24707370a90c5bb18a23743420290ef1">event_deferred_cb_schedule_</a>(            \</div>
<div class="line">                (bevp)-&gt;bev.ev_base,            \</div>
<div class="line">            &amp;(bevp)-&gt;deferred))             \</div>
<div class="line">            bufferevent_incref_(&amp;(bevp)-&gt;bev);      \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="adefer-internal_8h_html_a24707370a90c5bb18a23743420290ef1"><div class="ttname"><a href="defer-internal_8h.html#a24707370a90c5bb18a23743420290ef1">event_deferred_cb_schedule_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int event_deferred_cb_schedule_(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03124">event.c:3124</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00231">231</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>

</div>
</div>
<a id="a5eb24895cd878096709079eb48eb3ba9" name="a5eb24895cd878096709079eb48eb3ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb24895cd878096709079eb48eb3ba9">&#9670;&nbsp;</a></span>UNLOCKED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNLOCKED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">stmt</td><td>)</td>
          <td>&#160;&#160;&#160;	do { <a class="el" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev); stmt; <a class="el" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev); } while(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a725427342e1542c6eb28c77091ec80db" name="a725427342e1542c6eb28c77091ec80db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a725427342e1542c6eb28c77091ec80db">&#9670;&nbsp;</a></span>bufferevent_add_event_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_add_event_ </td>
          <td>(</td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal: Add the event 'ev' with timeout tv, unless tv is set to 0, in which case add ev with no timeout. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l01016">1016</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1017</span>{</div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keywordflow">if</span> (!evutil_timerisset(tv))</div>
<div class="line"><span class="lineno"> 1019</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a3afbdef4280e6bef3a5d7017e28707f4">event_add</a>(ev, NULL);</div>
<div class="line"><span class="lineno"> 1020</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1021</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a3afbdef4280e6bef3a5d7017e28707f4">event_add</a>(ev, tv);</div>
<div class="line"><span class="lineno"> 1022</span>}</div>
<div class="ttc" id="aevent_8c_html_a3afbdef4280e6bef3a5d7017e28707f4"><div class="ttname"><a href="event_8c.html#a3afbdef4280e6bef3a5d7017e28707f4">event_add</a></div><div class="ttdeci">int event_add(struct event *ev, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02484">event.c:2484</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02484">event_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01136">be_openssl_outbuf_cb()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00568">be_socket_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00993">bufferevent_generic_adj_existing_timeouts_()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00129">bufferevent_socket_outbuf_cb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00383">start_reading()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00404">start_writing()</a>.</p>

</div>
</div>
<a id="ae6f605e3c1f302aa58cdc4f92200bda3" name="ae6f605e3c1f302aa58cdc4f92200bda3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f605e3c1f302aa58cdc4f92200bda3">&#9670;&nbsp;</a></span>bufferevent_cancel_all_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bufferevent_cancel_all_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00908">908</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  909</span>{</div>
<div class="line"><span class="lineno">  910</span>    <span class="keyword">union </span><a class="code hl_union" href="unionbufferevent__ctrl__data.html">bufferevent_ctrl_data</a> d;</div>
<div class="line"><span class="lineno">  911</span>    memset(&amp;d, 0, <span class="keyword">sizeof</span>(d));</div>
<div class="line"><span class="lineno">  912</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bev);</div>
<div class="line"><span class="lineno">  913</span>    <span class="keywordflow">if</span> (bev-&gt;be_ops-&gt;ctrl)</div>
<div class="line"><span class="lineno">  914</span>        bev-&gt;be_ops-&gt;ctrl(bev, <a class="code hl_enumvalue" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa33b3258d7535c185c828c9b49f8701f2">BEV_CTRL_CANCEL_ALL</a>, &amp;d);</div>
<div class="line"><span class="lineno">  915</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bev);</div>
<div class="line"><span class="lineno">  916</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a08b6651a207b67183866ec2ccc899c9c"><div class="ttname"><a href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a></div><div class="ttdeci">#define BEV_LOCK(b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00485">bufferevent-internal.h:485</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_abc6ade452731b2fd37d6660acb38f52aa33b3258d7535c185c828c9b49f8701f2"><div class="ttname"><a href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa33b3258d7535c185c828c9b49f8701f2">BEV_CTRL_CANCEL_ALL</a></div><div class="ttdeci">@ BEV_CTRL_CANCEL_ALL</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00241">bufferevent-internal.h:240</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_ae4db92fe8e7d47c0402cd3fb6c5d3ea9"><div class="ttname"><a href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a></div><div class="ttdeci">#define BEV_UNLOCK(b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00491">bufferevent-internal.h:491</a></div></div>
<div class="ttc" id="aunionbufferevent__ctrl__data_html"><div class="ttname"><a href="unionbufferevent__ctrl__data.html">bufferevent_ctrl_data</a></div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00244">bufferevent-internal.h:244</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00240">BEV_CTRL_CANCEL_ALL</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00806">bufferevent_free()</a>.</p>

</div>
</div>
<a id="a2e8faab6859196a47d244bea06647ccb" name="a2e8faab6859196a47d244bea06647ccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e8faab6859196a47d244bea06647ccb">&#9670;&nbsp;</a></span>bufferevent_decref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_decref </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00799">799</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  800</span>{</div>
<div class="line"><span class="lineno">  801</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  802</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bufev);</div>
<div class="line"><span class="lineno">  803</span>}</div>
<div class="ttc" id="abufferevent_8c_html_af5d303b60101dd6b5c39573a0df3b95f"><div class="ttname"><a href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a></div><div class="ttdeci">int bufferevent_decref_and_unlock_(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00706">bufferevent.c:706</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, and <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>.</p>

</div>
</div>
<a id="af5d303b60101dd6b5c39573a0df3b95f" name="af5d303b60101dd6b5c39573a0df3b95f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d303b60101dd6b5c39573a0df3b95f">&#9670;&nbsp;</a></span>bufferevent_decref_and_unlock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_decref_and_unlock_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal: Drop the reference count on bufev, freeing as necessary, and unlocking it otherwise. Returns 1 if it freed the bufferevent. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00706">706</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  707</span>{</div>
<div class="line"><span class="lineno">  708</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordtype">int</span> n_cbs = 0;</div>
<div class="line"><span class="lineno">  710</span><span class="preprocessor">#define MAX_CBS 16</span></div>
<div class="line"><span class="lineno">  711</span>    <span class="keyword">struct </span>event_callback *cbs[<a class="code hl_define" href="bufferevent_8c.html#aa0f7aca30087dd69403fbffbed651ea2">MAX_CBS</a>];</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a3b88690c4b672f7f6cb437ac4027fe7e">refcnt</a> &gt; 0);</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span>    <span class="keywordflow">if</span> (--bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a3b88690c4b672f7f6cb437ac4027fe7e">refcnt</a>) {</div>
<div class="line"><span class="lineno">  716</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  717</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  718</span>    }</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordflow">if</span> (bufev-&gt;be_ops-&gt;unlink)</div>
<div class="line"><span class="lineno">  721</span>        bufev-&gt;be_ops-&gt;unlink(bufev);</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>    <span class="comment">/* Okay, we&#39;re out of references. Let&#39;s finalize this once all the</span></div>
<div class="line"><span class="lineno">  724</span><span class="comment">     * callbacks are done running. */</span></div>
<div class="line"><span class="lineno">  725</span>    cbs[0] = &amp;bufev-&gt;ev_read.ev_evcallback;</div>
<div class="line"><span class="lineno">  726</span>    cbs[1] = &amp;bufev-&gt;ev_write.ev_evcallback;</div>
<div class="line"><span class="lineno">  727</span>    cbs[2] = &amp;bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a45131a4a20eb3d307df180e093eaca1b">deferred</a>;</div>
<div class="line"><span class="lineno">  728</span>    n_cbs = 3;</div>
<div class="line"><span class="lineno">  729</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a4431ae35ad587a64c9f557c4bad3fae3">rate_limiting</a>) {</div>
<div class="line"><span class="lineno">  730</span>        <span class="keyword">struct </span>event *e = &amp;bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a4431ae35ad587a64c9f557c4bad3fae3">rate_limiting</a>-&gt;<a class="code hl_variable" href="structbufferevent__rate__limit.html#aeaf28f32b55e026e7651cdd13715ae87">refill_bucket_event</a>;</div>
<div class="line"><span class="lineno">  731</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a>(e))</div>
<div class="line"><span class="lineno">  732</span>            cbs[n_cbs++] = &amp;e-&gt;ev_evcallback;</div>
<div class="line"><span class="lineno">  733</span>    }</div>
<div class="line"><span class="lineno">  734</span>    n_cbs += <a class="code hl_function" href="libevent_2buffer_8c.html#a44fba9707bdfca27ce64ab9b3af5bbf8">evbuffer_get_callbacks_</a>(bufev-&gt;input, cbs+n_cbs, <a class="code hl_define" href="bufferevent_8c.html#aa0f7aca30087dd69403fbffbed651ea2">MAX_CBS</a>-n_cbs);</div>
<div class="line"><span class="lineno">  735</span>    n_cbs += <a class="code hl_function" href="libevent_2buffer_8c.html#a44fba9707bdfca27ce64ab9b3af5bbf8">evbuffer_get_callbacks_</a>(bufev-&gt;output, cbs+n_cbs, <a class="code hl_define" href="bufferevent_8c.html#aa0f7aca30087dd69403fbffbed651ea2">MAX_CBS</a>-n_cbs);</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>    <a class="code hl_function" href="event-internal_8h.html#ab37e317c97519a932f2c90bd0493423e">event_callback_finalize_many_</a>(bufev-&gt;ev_base, n_cbs, cbs,</div>
<div class="line"><span class="lineno">  738</span>        <a class="code hl_function" href="bufferevent_8c.html#a0758a132a24ef0507d7bfd0d70ccfd05">bufferevent_finalize_cb_</a>);</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span><span class="preprocessor">#undef MAX_CBS</span></div>
<div class="line"><span class="lineno">  741</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  744</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a50603e7195cdaee52020d30b6f4f5c94"><div class="ttname"><a href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a></div><div class="ttdeci">#define BEV_UPCAST(b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00478">bufferevent-internal.h:478</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a0758a132a24ef0507d7bfd0d70ccfd05"><div class="ttname"><a href="bufferevent_8c.html#a0758a132a24ef0507d7bfd0d70ccfd05">bufferevent_finalize_cb_</a></div><div class="ttdeci">static void bufferevent_finalize_cb_(struct event_callback *evcb, void *arg_)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00747">bufferevent.c:747</a></div></div>
<div class="ttc" id="abufferevent_8c_html_aa0f7aca30087dd69403fbffbed651ea2"><div class="ttname"><a href="bufferevent_8c.html#aa0f7aca30087dd69403fbffbed651ea2">MAX_CBS</a></div><div class="ttdeci">#define MAX_CBS</div></div>
<div class="ttc" id="aevent-internal_8h_html_ab37e317c97519a932f2c90bd0493423e"><div class="ttname"><a href="event-internal_8h.html#ab37e317c97519a932f2c90bd0493423e">event_callback_finalize_many_</a></div><div class="ttdeci">int event_callback_finalize_many_(struct event_base *base, int n_cbs, struct event_callback **evcb, void(*cb)(struct event_callback *, void *))</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02317">event.c:2317</a></div></div>
<div class="ttc" id="aevent_8c_html_a5be4fbc16d90915a7d1b21ed3bae40c0"><div class="ttname"><a href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a></div><div class="ttdeci">int event_initialized(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02410">event.c:2410</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a44fba9707bdfca27ce64ab9b3af5bbf8"><div class="ttname"><a href="libevent_2buffer_8c.html#a44fba9707bdfca27ce64ab9b3af5bbf8">evbuffer_get_callbacks_</a></div><div class="ttdeci">int evbuffer_get_callbacks_(struct evbuffer *buffer, struct event_callback **cbs, int max_cbs)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l03451">buffer.c:3451</a></div></div>
<div class="ttc" id="astructbufferevent__private_html"><div class="ttname"><a href="structbufferevent__private.html">bufferevent_private</a></div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00154">bufferevent-internal.h:154</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a3b88690c4b672f7f6cb437ac4027fe7e"><div class="ttname"><a href="structbufferevent__private.html#a3b88690c4b672f7f6cb437ac4027fe7e">bufferevent_private::refcnt</a></div><div class="ttdeci">int refcnt</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00203">bufferevent-internal.h:203</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a4431ae35ad587a64c9f557c4bad3fae3"><div class="ttname"><a href="structbufferevent__private.html#a4431ae35ad587a64c9f557c4bad3fae3">bufferevent_private::rate_limiting</a></div><div class="ttdeci">struct bufferevent_rate_limit * rate_limiting</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00218">bufferevent-internal.h:218</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a45131a4a20eb3d307df180e093eaca1b"><div class="ttname"><a href="structbufferevent__private.html#a45131a4a20eb3d307df180e093eaca1b">bufferevent_private::deferred</a></div><div class="ttdeci">struct event_callback deferred</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00197">bufferevent-internal.h:197</a></div></div>
<div class="ttc" id="astructbufferevent__rate__limit_html_aeaf28f32b55e026e7651cdd13715ae87"><div class="ttname"><a href="structbufferevent__rate__limit.html#aeaf28f32b55e026e7651cdd13715ae87">bufferevent_rate_limit::refill_bucket_event</a></div><div class="ttdeci">struct event refill_bucket_event</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00149">bufferevent-internal.h:149</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7365930d8b30f4c1ab3cef31a8622731"><div class="ttname"><a href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a></div><div class="ttdeci">#define EVUTIL_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00363">util-internal.h:363</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="bufferevent_8c_source.html#l00747">bufferevent_finalize_cb_()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00197">bufferevent_private::deferred</a>, <a class="el" href="libevent_2buffer_8c_source.html#l03451">evbuffer_get_callbacks_()</a>, <a class="el" href="event_8c_source.html#l02317">event_callback_finalize_many_()</a>, <a class="el" href="event_8c_source.html#l02410">event_initialized()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="bufferevent_8c.html#aa0f7aca30087dd69403fbffbed651ea2">MAX_CBS</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00218">bufferevent_private::rate_limiting</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00203">bufferevent_private::refcnt</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00149">bufferevent_rate_limit::refill_bucket_event</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00326">be_async_inbuf_callback()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00307">be_async_outbuf_callback()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00573">be_filter_flush()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01071">be_openssl_handshakeeventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00943">be_openssl_readeventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00957">be_openssl_writeeventcb()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00457">bufferevent_connect_getaddrinfo_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l00799">bufferevent_decref()</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00421">bufferevent_filtered_outbuf_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l00806">bufferevent_free()</a>, <a class="el" href="bufferevent_8c_source.html#l00942">bufferevent_generic_read_timeout_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l00951">bufferevent_generic_write_timeout_cb()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00149">bufferevent_readcb()</a>, <a class="el" href="bufferevent_8c_source.html#l00152">bufferevent_run_deferred_callbacks_locked()</a>, <a class="el" href="bufferevent_8c_source.html#l00186">bufferevent_run_deferred_callbacks_unlocked()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="bufferevent_8c_source.html#l00277">bufferevent_trigger()</a>, <a class="el" href="bufferevent_8c_source.html#l00301">bufferevent_trigger_event()</a>, <a class="el" href="bufferevent_8c_source.html#l01033">bufferevent_unlock()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00230">bufferevent_writecb()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00433">connect_complete()</a>, <a class="el" href="bufferevent__pair_8c_source.html#l00079">decref_and_unlock()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00461">read_complete()</a>, and <a class="el" href="bufferevent__async_8c_source.html#l00500">write_complete()</a>.</p>

</div>
</div>
<a id="aa15582fe250247aa98d4897527215727" name="aa15582fe250247aa98d4897527215727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa15582fe250247aa98d4897527215727">&#9670;&nbsp;</a></span>bufferevent_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_disable </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00573">573</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  574</span>{</div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  578</span>    bufev-&gt;enabled &amp;= ~event;</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>    <span class="keywordflow">if</span> (bufev-&gt;be_ops-&gt;disable(bufev, event) &lt; 0)</div>
<div class="line"><span class="lineno">  581</span>        r = -1;</div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordflow">if</span> (r)</div>
<div class="line"><span class="lineno">  583</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: cannot disable 0x%hx on %p&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, event, bufev));</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  586</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  587</span>}</div>
<div class="ttc" id="alog-internal_8h_html_abca298e725a8bd7373647a064b4d1ff7"><div class="ttname"><a href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a></div><div class="ttdeci">#define event_debug(x)</div><div class="ttdef"><b>Definition:</b> <a href="log-internal_8h_source.html#l00079">log-internal.h:79</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7d6e1cf1a8d53f38471e9e9db3faf740"><div class="ttname"><a href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a></div><div class="ttdeci">#define __func__</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00086">util-internal.h:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, and <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00942">bufferevent_generic_read_timeout_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l00951">bufferevent_generic_write_timeout_cb()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00149">bufferevent_readcb()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00230">bufferevent_writecb()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l01386">evhttp_connection_stop_detectclose()</a>, <a class="el" href="http_8c_source.html#l04224">evhttp_get_request_connection()</a>, <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>, <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>, <a class="el" href="http_8c_source.html#l00997">evhttp_read_trailer()</a>, <a class="el" href="http_8c_source.html#l00392">evhttp_send_continue_done()</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, and <a class="el" href="http_8c_source.html#l02757">evhttp_start_write_()</a>.</p>

</div>
</div>
<a id="a5108d627bf437397f2c554629bf4703e" name="a5108d627bf437397f2c554629bf4703e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5108d627bf437397f2c554629bf4703e">&#9670;&nbsp;</a></span>bufferevent_disable_hard_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_disable_hard_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00556">556</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  557</span>{</div>
<div class="line"><span class="lineno">  558</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  559</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  562</span>    bufev-&gt;enabled &amp;= ~event;</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>    bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a119a53a901eba97bb5efc8a992366c14">connecting</a> = 0;</div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordflow">if</span> (bufev-&gt;be_ops-&gt;disable(bufev, event) &lt; 0)</div>
<div class="line"><span class="lineno">  566</span>        r = -1;</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  570</span>}</div>
<div class="ttc" id="astructbufferevent__private_html_a119a53a901eba97bb5efc8a992366c14"><div class="ttname"><a href="structbufferevent__private.html#a119a53a901eba97bb5efc8a992366c14">bufferevent_private::connecting</a></div><div class="ttdeci">unsigned connecting</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00171">bufferevent-internal.h:171</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00171">bufferevent_private::connecting</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>.</p>

</div>
</div>
<a id="a1b9a3412e8c8e122c745b33d46b9643e" name="a1b9a3412e8c8e122c745b33d46b9643e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b9a3412e8c8e122c745b33d46b9643e">&#9670;&nbsp;</a></span>bufferevent_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_enable </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00482">482</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  483</span>{</div>
<div class="line"><span class="lineno">  484</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordtype">short</span> impl_events = event;</div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>    <a class="code hl_function" href="bufferevent_8c.html#affef27e0aded08399a351a6990b7a18d">bufferevent_incref_and_lock_</a>(bufev);</div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a>)</div>
<div class="line"><span class="lineno">  490</span>        impl_events &amp;= ~EV_READ;</div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">write_suspended</a>)</div>
<div class="line"><span class="lineno">  492</span>        impl_events &amp;= ~EV_WRITE;</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>    bufev-&gt;enabled |= event;</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">if</span> (impl_events &amp;&amp; bufev-&gt;be_ops-&gt;enable(bufev, impl_events) &lt; 0)</div>
<div class="line"><span class="lineno">  497</span>        r = -1;</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">if</span> (r)</div>
<div class="line"><span class="lineno">  499</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: cannot enable 0x%hx on %p&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, event, bufev));</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bufev);</div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  503</span>}</div>
<div class="ttc" id="abufferevent_8c_html_affef27e0aded08399a351a6990b7a18d"><div class="ttname"><a href="bufferevent_8c.html#affef27e0aded08399a351a6990b7a18d">bufferevent_incref_and_lock_</a></div><div class="ttdeci">void bufferevent_incref_and_lock_(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00680">bufferevent.c:680</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a0d39c067a6092f2db779aa22f22ddd8b"><div class="ttname"><a href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">bufferevent_private::write_suspended</a></div><div class="ttdeci">bufferevent_suspend_flags write_suspended</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00187">bufferevent-internal.h:187</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a666a020bf0b6d0fc0a20715dbc0d502e"><div class="ttname"><a href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">bufferevent_private::read_suspended</a></div><div class="ttdeci">bufferevent_suspend_flags read_suspended</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00182">bufferevent-internal.h:182</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00680">bufferevent_incref_and_lock_()</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00182">bufferevent_private::read_suspended</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00187">bufferevent_private::write_suspended</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00619">be_socket_setfd()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00170">bufferevent_filter_new()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>, <a class="el" href="net_8c_source.html#l00547">dogecoin_node_group_connect_next_nodes()</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, <a class="el" href="http_8c_source.html#l01379">evhttp_connection_start_detectclose()</a>, <a class="el" href="http_8c_source.html#l04224">evhttp_get_request_connection()</a>, <a class="el" href="http_8c_source.html#l00398">evhttp_send_continue()</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, <a class="el" href="http_8c_source.html#l02757">evhttp_start_write_()</a>, <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>.</p>

</div>
</div>
<a id="a331d5c67608ba01b8135902dae167646" name="a331d5c67608ba01b8135902dae167646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a331d5c67608ba01b8135902dae167646">&#9670;&nbsp;</a></span>bufferevent_enable_locking_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_enable_locking_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal: Set up locking on a bufferevent. If lock is set, use it. Otherwise, use a new lock. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00829">829</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  830</span>{</div>
<div class="line"><span class="lineno">  831</span><span class="preprocessor">#ifdef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  833</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  834</span>    <span class="keyword">struct </span>bufferevent *underlying;</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev)-&gt;lock)</div>
<div class="line"><span class="lineno">  837</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  838</span>    underlying = <a class="code hl_function" href="bufferevent_8c.html#abd13b764d53ae4810430d06786b31541">bufferevent_get_underlying</a>(bufev);</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>    <span class="keywordflow">if</span> (!lock &amp;&amp; underlying &amp;&amp; <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(underlying)-&gt;lock) {</div>
<div class="line"><span class="lineno">  841</span>        lock = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(underlying)-&gt;lock;</div>
<div class="line"><span class="lineno">  842</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev)-&gt;lock = lock;</div>
<div class="line"><span class="lineno">  843</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev)-&gt;own_lock = 0;</div>
<div class="line"><span class="lineno">  844</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!lock) {</div>
<div class="line"><span class="lineno">  845</span>        <a class="code hl_define" href="evthread-internal_8h.html#a69a6ff948a58db53633b42d071682635">EVTHREAD_ALLOC_LOCK</a>(lock, EVTHREAD_LOCKTYPE_RECURSIVE);</div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">if</span> (!lock)</div>
<div class="line"><span class="lineno">  847</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  848</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev)-&gt;lock = lock;</div>
<div class="line"><span class="lineno">  849</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev)-&gt;own_lock = 1;</div>
<div class="line"><span class="lineno">  850</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  851</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev)-&gt;lock = lock;</div>
<div class="line"><span class="lineno">  852</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev)-&gt;own_lock = 0;</div>
<div class="line"><span class="lineno">  853</span>    }</div>
<div class="line"><span class="lineno">  854</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a1bf21d715f288541eb670c5f159f2264">evbuffer_enable_locking</a>(bufev-&gt;input, lock);</div>
<div class="line"><span class="lineno">  855</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a1bf21d715f288541eb670c5f159f2264">evbuffer_enable_locking</a>(bufev-&gt;output, lock);</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>    <span class="keywordflow">if</span> (underlying &amp;&amp; !<a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(underlying)-&gt;lock)</div>
<div class="line"><span class="lineno">  858</span>        <a class="code hl_function" href="bufferevent_8c.html#a331d5c67608ba01b8135902dae167646">bufferevent_enable_locking_</a>(underlying, lock);</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  861</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  862</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a331d5c67608ba01b8135902dae167646"><div class="ttname"><a href="bufferevent_8c.html#a331d5c67608ba01b8135902dae167646">bufferevent_enable_locking_</a></div><div class="ttdeci">int bufferevent_enable_locking_(struct bufferevent *bufev, void *lock)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00829">bufferevent.c:829</a></div></div>
<div class="ttc" id="abufferevent_8c_html_abd13b764d53ae4810430d06786b31541"><div class="ttname"><a href="bufferevent_8c.html#abd13b764d53ae4810430d06786b31541">bufferevent_get_underlying</a></div><div class="ttdeci">struct bufferevent * bufferevent_get_underlying(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00929">bufferevent.c:929</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a69a6ff948a58db53633b42d071682635"><div class="ttname"><a href="evthread-internal_8h.html#a69a6ff948a58db53633b42d071682635">EVTHREAD_ALLOC_LOCK</a></div><div class="ttdeci">#define EVTHREAD_ALLOC_LOCK(lockvar, locktype)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00080">evthread-internal.h:80</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a1bf21d715f288541eb670c5f159f2264"><div class="ttname"><a href="libevent_2buffer_8c.html#a1bf21d715f288541eb670c5f159f2264">evbuffer_enable_locking</a></div><div class="ttdeci">int evbuffer_enable_locking(struct evbuffer *buf, void *lock)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00424">buffer.c:424</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="bufferevent_8c_source.html#l00829">bufferevent_enable_locking_()</a>, <a class="el" href="bufferevent_8c_source.html#l00929">bufferevent_get_underlying()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00424">evbuffer_enable_locking()</a>, and <a class="el" href="evthread-internal_8h_source.html#l00080">EVTHREAD_ALLOC_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00829">bufferevent_enable_locking_()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00170">bufferevent_filter_new()</a>, <a class="el" href="bufferevent_8c_source.html#l00309">bufferevent_init_common_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>, and <a class="el" href="bufferevent__pair_8c_source.html#l00115">bufferevent_pair_new()</a>.</p>

</div>
</div>
<a id="a0758a132a24ef0507d7bfd0d70ccfd05" name="a0758a132a24ef0507d7bfd0d70ccfd05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0758a132a24ef0507d7bfd0d70ccfd05">&#9670;&nbsp;</a></span>bufferevent_finalize_cb_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bufferevent_finalize_cb_ </td>
          <td>(</td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>evcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00747">747</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  748</span>{</div>
<div class="line"><span class="lineno">  749</span>    <span class="keyword">struct </span>bufferevent *bufev = arg_;</div>
<div class="line"><span class="lineno">  750</span>    <span class="keyword">struct </span>bufferevent *underlying;</div>
<div class="line"><span class="lineno">  751</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  754</span>    underlying = <a class="code hl_function" href="bufferevent_8c.html#abd13b764d53ae4810430d06786b31541">bufferevent_get_underlying</a>(bufev);</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>    <span class="comment">/* Clean up the shared info */</span></div>
<div class="line"><span class="lineno">  757</span>    <span class="keywordflow">if</span> (bufev-&gt;be_ops-&gt;destruct)</div>
<div class="line"><span class="lineno">  758</span>        bufev-&gt;be_ops-&gt;destruct(bufev);</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    <span class="comment">/* XXX what happens if refcnt for these buffers is &gt; 1?</span></div>
<div class="line"><span class="lineno">  761</span><span class="comment">     * The buffers can share a lock with this bufferevent object,</span></div>
<div class="line"><span class="lineno">  762</span><span class="comment">     * but the lock might be destroyed below. */</span></div>
<div class="line"><span class="lineno">  763</span>    <span class="comment">/* evbuffer will free the callbacks */</span></div>
<div class="line"><span class="lineno">  764</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(bufev-&gt;input);</div>
<div class="line"><span class="lineno">  765</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(bufev-&gt;output);</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a4431ae35ad587a64c9f557c4bad3fae3">rate_limiting</a>) {</div>
<div class="line"><span class="lineno">  768</span>        <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a4431ae35ad587a64c9f557c4bad3fae3">rate_limiting</a>-&gt;<a class="code hl_variable" href="structbufferevent__rate__limit.html#ac7e81b36aedc37a0e403948168acc0f0">group</a>)</div>
<div class="line"><span class="lineno">  769</span>            <a class="code hl_function" href="bufferevent__ratelim_8c.html#a9ff502cad4f14581ddc40f5223279dfa">bufferevent_remove_from_rate_limit_group_internal_</a>(bufev,0);</div>
<div class="line"><span class="lineno">  770</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a4431ae35ad587a64c9f557c4bad3fae3">rate_limiting</a>);</div>
<div class="line"><span class="lineno">  771</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a4431ae35ad587a64c9f557c4bad3fae3">rate_limiting</a> = NULL;</div>
<div class="line"><span class="lineno">  772</span>    }</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span> </div>
<div class="line"><span class="lineno">  775</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a01390481d352523c7c3d2794058c4ee5">own_lock</a>)</div>
<div class="line"><span class="lineno">  778</span>        <a class="code hl_define" href="evthread-internal_8h.html#a56d74d4600adf793a2411f26db03ca71">EVTHREAD_FREE_LOCK</a>(bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#ac048122e383e38e5774c90675871d160">lock</a>,</div>
<div class="line"><span class="lineno">  779</span>            EVTHREAD_LOCKTYPE_RECURSIVE);</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>    <span class="comment">/* Free the actual allocated memory. */</span></div>
<div class="line"><span class="lineno">  782</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(((<span class="keywordtype">char</span>*)bufev) - bufev-&gt;be_ops-&gt;mem_offset);</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>    <span class="comment">/* Release the reference to underlying now that we no longer need the</span></div>
<div class="line"><span class="lineno">  785</span><span class="comment">     * reference to it.  We wait this long mainly in case our lock is</span></div>
<div class="line"><span class="lineno">  786</span><span class="comment">     * shared with underlying.</span></div>
<div class="line"><span class="lineno">  787</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  788</span><span class="comment">     * The &#39;destruct&#39; function will also drop a reference to underlying</span></div>
<div class="line"><span class="lineno">  789</span><span class="comment">     * if BEV_OPT_CLOSE_ON_FREE is set.</span></div>
<div class="line"><span class="lineno">  790</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  791</span><span class="comment">     * XXX Should we/can we just refcount evbuffer/bufferevent locks?</span></div>
<div class="line"><span class="lineno">  792</span><span class="comment">     * It would probably save us some headaches.</span></div>
<div class="line"><span class="lineno">  793</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  794</span>    <span class="keywordflow">if</span> (underlying)</div>
<div class="line"><span class="lineno">  795</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a5e7a671d0202af28d615f047da82ad67">bufferevent_decref_</a>(underlying);</div>
<div class="line"><span class="lineno">  796</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a5e7a671d0202af28d615f047da82ad67"><div class="ttname"><a href="bufferevent-internal_8h.html#a5e7a671d0202af28d615f047da82ad67">bufferevent_decref_</a></div><div class="ttdeci">#define bufferevent_decref_(bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00377">bufferevent-internal.h:377</a></div></div>
<div class="ttc" id="abufferevent__ratelim_8c_html_a9ff502cad4f14581ddc40f5223279dfa"><div class="ttname"><a href="bufferevent__ratelim_8c.html#a9ff502cad4f14581ddc40f5223279dfa">bufferevent_remove_from_rate_limit_group_internal_</a></div><div class="ttdeci">int bufferevent_remove_from_rate_limit_group_internal_(struct bufferevent *bev, int unsuspend)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__ratelim_8c_source.html#l00787">bufferevent_ratelim.c:787</a></div></div>
<div class="ttc" id="aevthread-internal_8h_html_a56d74d4600adf793a2411f26db03ca71"><div class="ttname"><a href="evthread-internal_8h.html#a56d74d4600adf793a2411f26db03ca71">EVTHREAD_FREE_LOCK</a></div><div class="ttdeci">#define EVTHREAD_FREE_LOCK(lockvar, locktype)</div><div class="ttdef"><b>Definition:</b> <a href="evthread-internal_8h_source.html#l00085">evthread-internal.h:85</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_ab27f081c089aebd2536296c13d53f735"><div class="ttname"><a href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a></div><div class="ttdeci">void evbuffer_free(struct evbuffer *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00588">buffer.c:588</a></div></div>
<div class="ttc" id="amm-internal_8h_html_af7d87798652aaa8398bb9c0504256f16"><div class="ttname"><a href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a></div><div class="ttdeci">#define mm_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00079">mm-internal.h:79</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a01390481d352523c7c3d2794058c4ee5"><div class="ttname"><a href="structbufferevent__private.html#a01390481d352523c7c3d2794058c4ee5">bufferevent_private::own_lock</a></div><div class="ttdeci">unsigned own_lock</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00162">bufferevent-internal.h:162</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_ac048122e383e38e5774c90675871d160"><div class="ttname"><a href="structbufferevent__private.html#ac048122e383e38e5774c90675871d160">bufferevent_private::lock</a></div><div class="ttdeci">void * lock</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00207">bufferevent-internal.h:207</a></div></div>
<div class="ttc" id="astructbufferevent__rate__limit_html_ac7e81b36aedc37a0e403948168acc0f0"><div class="ttname"><a href="structbufferevent__rate__limit.html#ac7e81b36aedc37a0e403948168acc0f0">bufferevent_rate_limit::group</a></div><div class="ttdeci">struct bufferevent_rate_limit_group * group</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00139">bufferevent-internal.h:139</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00377">bufferevent_decref_</a>, <a class="el" href="bufferevent_8c_source.html#l00929">bufferevent_get_underlying()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00787">bufferevent_remove_from_rate_limit_group_internal_()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00588">evbuffer_free()</a>, <a class="el" href="evthread-internal_8h_source.html#l00085">EVTHREAD_FREE_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00139">bufferevent_rate_limit::group</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00207">bufferevent_private::lock</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00162">bufferevent_private::own_lock</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00218">bufferevent_private::rate_limiting</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>.</p>

</div>
</div>
<a id="a03376a35668ff9b6dc905cce0d89876d" name="a03376a35668ff9b6dc905cce0d89876d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03376a35668ff9b6dc905cce0d89876d">&#9670;&nbsp;</a></span>bufferevent_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_flush </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>iotype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum bufferevent_flush_mode&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00667">667</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  670</span>{</div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordtype">int</span> r = -1;</div>
<div class="line"><span class="lineno">  672</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  673</span>    <span class="keywordflow">if</span> (bufev-&gt;be_ops-&gt;flush)</div>
<div class="line"><span class="lineno">  674</span>        r = bufev-&gt;be_ops-&gt;flush(bufev, iotype, mode);</div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  677</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__filter_8c_source.html#l00573">be_filter_flush()</a>.</p>

</div>
</div>
<a id="a474a4cef8fd80bea09a636b5f3055bec" name="a474a4cef8fd80bea09a636b5f3055bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a474a4cef8fd80bea09a636b5f3055bec">&#9670;&nbsp;</a></span>bufferevent_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_free </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00806">806</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  807</span>{</div>
<div class="line"><span class="lineno">  808</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  809</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(bufev, NULL, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  810</span>    <a class="code hl_function" href="bufferevent_8c.html#ae6f605e3c1f302aa58cdc4f92200bda3">bufferevent_cancel_all_</a>(bufev);</div>
<div class="line"><span class="lineno">  811</span>    <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bufev);</div>
<div class="line"><span class="lineno">  812</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a63792519cb94a38beccb5e1390cd6198"><div class="ttname"><a href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a></div><div class="ttdeci">void bufferevent_setcb(struct bufferevent *bufev, bufferevent_data_cb readcb, bufferevent_data_cb writecb, bufferevent_event_cb eventcb, void *cbarg)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00389">bufferevent.c:389</a></div></div>
<div class="ttc" id="abufferevent_8c_html_ae6f605e3c1f302aa58cdc4f92200bda3"><div class="ttname"><a href="bufferevent_8c.html#ae6f605e3c1f302aa58cdc4f92200bda3">bufferevent_cancel_all_</a></div><div class="ttdeci">static void bufferevent_cancel_all_(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00908">bufferevent.c:908</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent_8c_source.html#l00908">bufferevent_cancel_all_()</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, and <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__filter_8c_source.html#l00229">be_filter_unlink()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01201">be_openssl_unlink()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00119">bio_bufferevent_free()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00543">bufferevent_async_new_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>, <a class="el" href="bufferevent__pair_8c_source.html#l00093">bufferevent_pair_elt_new()</a>, <a class="el" href="bufferevent__pair_8c_source.html#l00115">bufferevent_pair_new()</a>, <a class="el" href="net_8c_source.html#l00547">dogecoin_node_group_connect_next_nodes()</a>, <a class="el" href="net_8c_source.html#l00329">dogecoin_node_release_events()</a>, and <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>.</p>

</div>
</div>
<a id="a0cf7f69b83544e9cac1b76a90371317a" name="a0cf7f69b83544e9cac1b76a90371317a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cf7f69b83544e9cac1b76a90371317a">&#9670;&nbsp;</a></span>bufferevent_generic_adj_existing_timeouts_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_generic_adj_existing_timeouts_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00993">993</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  994</span>{</div>
<div class="line"><span class="lineno">  995</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  996</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a864a500f29d40018203a5d63eebd834e">event_pending</a>(&amp;bev-&gt;ev_read, EV_READ, NULL)) {</div>
<div class="line"><span class="lineno">  997</span>        <span class="keywordflow">if</span> (evutil_timerisset(&amp;bev-&gt;timeout_read)) {</div>
<div class="line"><span class="lineno">  998</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a725427342e1542c6eb28c77091ec80db">bufferevent_add_event_</a>(&amp;bev-&gt;ev_read, &amp;bev-&gt;timeout_read) &lt; 0)</div>
<div class="line"><span class="lineno">  999</span>                    r = -1;</div>
<div class="line"><span class="lineno"> 1000</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1001</span>            <a class="code hl_function" href="event_8c.html#af4a725e7866bce74ea18833d21fe714e">event_remove_timer</a>(&amp;bev-&gt;ev_read);</div>
<div class="line"><span class="lineno"> 1002</span>        }</div>
<div class="line"><span class="lineno"> 1003</span>    }</div>
<div class="line"><span class="lineno"> 1004</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a864a500f29d40018203a5d63eebd834e">event_pending</a>(&amp;bev-&gt;ev_write, EV_WRITE, NULL)) {</div>
<div class="line"><span class="lineno"> 1005</span>        <span class="keywordflow">if</span> (evutil_timerisset(&amp;bev-&gt;timeout_write)) {</div>
<div class="line"><span class="lineno"> 1006</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a725427342e1542c6eb28c77091ec80db">bufferevent_add_event_</a>(&amp;bev-&gt;ev_write, &amp;bev-&gt;timeout_write) &lt; 0)</div>
<div class="line"><span class="lineno"> 1007</span>                r = -1;</div>
<div class="line"><span class="lineno"> 1008</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1009</span>            <a class="code hl_function" href="event_8c.html#af4a725e7866bce74ea18833d21fe714e">event_remove_timer</a>(&amp;bev-&gt;ev_write);</div>
<div class="line"><span class="lineno"> 1010</span>        }</div>
<div class="line"><span class="lineno"> 1011</span>    }</div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1013</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a725427342e1542c6eb28c77091ec80db"><div class="ttname"><a href="bufferevent_8c.html#a725427342e1542c6eb28c77091ec80db">bufferevent_add_event_</a></div><div class="ttdeci">int bufferevent_add_event_(struct event *ev, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l01016">bufferevent.c:1016</a></div></div>
<div class="ttc" id="aevent_8c_html_a864a500f29d40018203a5d63eebd834e"><div class="ttname"><a href="event_8c.html#a864a500f29d40018203a5d63eebd834e">event_pending</a></div><div class="ttdeci">int event_pending(const struct event *ev, short event, struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02375">event.c:2375</a></div></div>
<div class="ttc" id="aevent_8c_html_af4a725e7866bce74ea18833d21fe714e"><div class="ttname"><a href="event_8c.html#af4a725e7866bce74ea18833d21fe714e">event_remove_timer</a></div><div class="ttdeci">int event_remove_timer(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02574">event.c:2574</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent_8c_source.html#l01016">bufferevent_add_event_()</a>, <a class="el" href="event_8c_source.html#l02375">event_pending()</a>, and <a class="el" href="event_8c_source.html#l02574">event_remove_timer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01247">be_openssl_adj_timeouts()</a>.</p>

</div>
</div>
<a id="acc0415681a8ac9ce3ebcc1a44eee59bf" name="acc0415681a8ac9ce3ebcc1a44eee59bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc0415681a8ac9ce3ebcc1a44eee59bf">&#9670;&nbsp;</a></span>bufferevent_generic_adj_timeouts_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_generic_adj_timeouts_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal use: Add or delete the generic timeout events as appropriate. (If an event is enabled and a timeout is set, we add the event. Otherwise we delete it.) Call this from anything that changes the timeout values, that enabled EV_READ or EV_WRITE, or that disables EV_READ or EV_WRITE. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00970">970</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  971</span>{</div>
<div class="line"><span class="lineno">  972</span>    <span class="keyword">const</span> <span class="keywordtype">short</span> enabled = bev-&gt;enabled;</div>
<div class="line"><span class="lineno">  973</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bev_p = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno">  974</span>    <span class="keywordtype">int</span> r1=0, r2=0;</div>
<div class="line"><span class="lineno">  975</span>    <span class="keywordflow">if</span> ((enabled &amp; EV_READ) &amp;&amp; !bev_p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  976</span>        evutil_timerisset(&amp;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>-&gt;timeout_read))</div>
<div class="line"><span class="lineno">  977</span>        r1 = <a class="code hl_function" href="event_8c.html#a3afbdef4280e6bef3a5d7017e28707f4">event_add</a>(&amp;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>-&gt;ev_read, &amp;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>-&gt;timeout_read);</div>
<div class="line"><span class="lineno">  978</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  979</span>        r1 = <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>-&gt;ev_read);</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>    <span class="keywordflow">if</span> ((enabled &amp; EV_WRITE) &amp;&amp; !bev_p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">write_suspended</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  982</span>        evutil_timerisset(&amp;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>-&gt;timeout_write) &amp;&amp;</div>
<div class="line"><span class="lineno">  983</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>-&gt;output))</div>
<div class="line"><span class="lineno">  984</span>        r2 = <a class="code hl_function" href="event_8c.html#a3afbdef4280e6bef3a5d7017e28707f4">event_add</a>(&amp;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>-&gt;ev_write, &amp;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>-&gt;timeout_write);</div>
<div class="line"><span class="lineno">  985</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  986</span>        r2 = <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(&amp;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>-&gt;ev_write);</div>
<div class="line"><span class="lineno">  987</span>    <span class="keywordflow">if</span> (r1 &lt; 0 || r2 &lt; 0)</div>
<div class="line"><span class="lineno">  988</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  989</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  990</span>}</div>
<div class="ttc" id="aevent_8c_html_a4d01ab982328facb6ce4b584390b86ab"><div class="ttname"><a href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a></div><div class="ttdeci">int event_del(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02787">event.c:2787</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a1c1b3464e6a40ab2ae6398d214779a93"><div class="ttname"><a href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a></div><div class="ttdeci">size_t evbuffer_get_length(const struct evbuffer *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00607">buffer.c:607</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a7d793f0632346c32119b818783b97c41"><div class="ttname"><a href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bufferevent_private::bev</a></div><div class="ttdeci">struct bufferevent bev</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00156">bufferevent-internal.h:156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="event_8c_source.html#l02484">event_add()</a>, <a class="el" href="event_8c_source.html#l02787">event_del()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00182">bufferevent_private::read_suspended</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00187">bufferevent_private::write_suspended</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01247">be_openssl_adj_timeouts()</a>.</p>

</div>
</div>
<a id="a7c7d47515c6e7ead1669920a676339fb" name="a7c7d47515c6e7ead1669920a676339fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c7d47515c6e7ead1669920a676339fb">&#9670;&nbsp;</a></span>bufferevent_generic_read_timeout_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bufferevent_generic_read_timeout_cb </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00942">942</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  943</span>{</div>
<div class="line"><span class="lineno">  944</span>    <span class="keyword">struct </span>bufferevent *bev = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  945</span>    <a class="code hl_function" href="bufferevent_8c.html#affef27e0aded08399a351a6990b7a18d">bufferevent_incref_and_lock_</a>(bev);</div>
<div class="line"><span class="lineno">  946</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(bev, EV_READ);</div>
<div class="line"><span class="lineno">  947</span>    <a class="code hl_function" href="bufferevent_8c.html#a1dc0b934d22f911614b83d01df215a7b">bufferevent_run_eventcb_</a>(bev, BEV_EVENT_TIMEOUT|BEV_EVENT_READING, 0);</div>
<div class="line"><span class="lineno">  948</span>    <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bev);</div>
<div class="line"><span class="lineno">  949</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a1dc0b934d22f911614b83d01df215a7b"><div class="ttname"><a href="bufferevent_8c.html#a1dc0b934d22f911614b83d01df215a7b">bufferevent_run_eventcb_</a></div><div class="ttdeci">void bufferevent_run_eventcb_(struct bufferevent *bufev, short what, int options)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00285">bufferevent.c:285</a></div></div>
<div class="ttc" id="abufferevent_8c_html_aa15582fe250247aa98d4897527215727"><div class="ttname"><a href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a></div><div class="ttdeci">int bufferevent_disable(struct bufferevent *bufev, short event)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00573">bufferevent.c:573</a></div></div>
<div class="ttc" id="atests_8c_html_a06a3e29ada83211a695a49e8f7405842"><div class="ttname"><a href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a></div><div class="ttdeci">static secp256k1_context * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_8c_source.html#l00034">tests.c:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="bufferevent_8c_source.html#l00680">bufferevent_incref_and_lock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00285">bufferevent_run_eventcb_()</a>, and <a class="el" href="tests_8c_source.html#l00034">ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00961">bufferevent_init_generic_timeout_cbs_()</a>.</p>

</div>
</div>
<a id="abb877c9079c9da110cc2180e5bc67307" name="abb877c9079c9da110cc2180e5bc67307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb877c9079c9da110cc2180e5bc67307">&#9670;&nbsp;</a></span>bufferevent_generic_write_timeout_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bufferevent_generic_write_timeout_cb </td>
          <td>(</td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00951">951</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  952</span>{</div>
<div class="line"><span class="lineno">  953</span>    <span class="keyword">struct </span>bufferevent *bev = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  954</span>    <a class="code hl_function" href="bufferevent_8c.html#affef27e0aded08399a351a6990b7a18d">bufferevent_incref_and_lock_</a>(bev);</div>
<div class="line"><span class="lineno">  955</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(bev, EV_WRITE);</div>
<div class="line"><span class="lineno">  956</span>    <a class="code hl_function" href="bufferevent_8c.html#a1dc0b934d22f911614b83d01df215a7b">bufferevent_run_eventcb_</a>(bev, BEV_EVENT_TIMEOUT|BEV_EVENT_WRITING, 0);</div>
<div class="line"><span class="lineno">  957</span>    <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bev);</div>
<div class="line"><span class="lineno">  958</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="bufferevent_8c_source.html#l00680">bufferevent_incref_and_lock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00285">bufferevent_run_eventcb_()</a>, and <a class="el" href="tests_8c_source.html#l00034">ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00961">bufferevent_init_generic_timeout_cbs_()</a>.</p>

</div>
</div>
<a id="ad8a212b0c165fb6cdded105b08cedb00" name="ad8a212b0c165fb6cdded105b08cedb00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8a212b0c165fb6cdded105b08cedb00">&#9670;&nbsp;</a></span>bufferevent_get_base()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevent__base.html">event_base</a> * bufferevent_get_base </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00436">436</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  437</span>{</div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">return</span> bufev-&gt;ev_base;</div>
<div class="line"><span class="lineno">  439</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>.</p>

</div>
</div>
<a id="afbb4adabeb188cc9000bdee4ba23bdb2" name="afbb4adabeb188cc9000bdee4ba23bdb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbb4adabeb188cc9000bdee4ba23bdb2">&#9670;&nbsp;</a></span>bufferevent_get_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short bufferevent_get_enabled </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00919">919</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  920</span>{</div>
<div class="line"><span class="lineno">  921</span>    <span class="keywordtype">short</span> r;</div>
<div class="line"><span class="lineno">  922</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  923</span>    r = bufev-&gt;enabled;</div>
<div class="line"><span class="lineno">  924</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  925</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  926</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>.</p>

</div>
</div>
<a id="acc6ab0c64f9a7ed8bc24c2f6d3d594ad" name="acc6ab0c64f9a7ed8bc24c2f6d3d594ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">&#9670;&nbsp;</a></span>bufferevent_get_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevbuffer.html">evbuffer</a> * bufferevent_get_input </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00424">424</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  425</span>{</div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">return</span> bufev-&gt;input;</div>
<div class="line"><span class="lineno">  427</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00191">bio_bufferevent_ctrl()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00133">bio_bufferevent_read()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, <a class="el" href="http_8c_source.html#l02159">evhttp_get_body_length()</a>, <a class="el" href="http_8c_source.html#l01018">evhttp_lingering_close()</a>, <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>, <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>, <a class="el" href="http_8c_source.html#l02274">evhttp_read_firstline()</a>, <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, <a class="el" href="http_8c_source.html#l00997">evhttp_read_trailer()</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, and <a class="el" href="net_8c_source.html#l00120">read_cb()</a>.</p>

</div>
</div>
<a id="a929df4ad501eac39b6b8ad234b36aa43" name="a929df4ad501eac39b6b8ad234b36aa43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929df4ad501eac39b6b8ad234b36aa43">&#9670;&nbsp;</a></span>bufferevent_get_options_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum bufferevent_options bufferevent_get_options_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00895">895</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  896</span>{</div>
<div class="line"><span class="lineno">  897</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bev_p = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno">  898</span>    <span class="keyword">enum</span> bufferevent_options <a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a>;</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno">  901</span>    <a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a> = bev_p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a>;</div>
<div class="line"><span class="lineno">  902</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>);</div>
<div class="line"><span class="lineno">  903</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a>;</div>
<div class="line"><span class="lineno">  904</span>}</div>
<div class="ttc" id="astructbufferevent__private_html_a68f017fa842099067e2eea7236a903de"><div class="ttname"><a href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">bufferevent_private::options</a></div><div class="ttdeci">enum bufferevent_options options</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00200">bufferevent-internal.h:200</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>.</p>

</div>
</div>
<a id="ac661f8ca773b6247a47c8deea6be51d3" name="ac661f8ca773b6247a47c8deea6be51d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac661f8ca773b6247a47c8deea6be51d3">&#9670;&nbsp;</a></span>bufferevent_get_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevbuffer.html">evbuffer</a> * bufferevent_get_output </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00430">430</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  431</span>{</div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">return</span> bufev-&gt;output;</div>
<div class="line"><span class="lineno">  433</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l00191">bio_bufferevent_ctrl()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00159">bio_bufferevent_write()</a>, <a class="el" href="http_8c_source.html#l01455">evhttp_connection_read_on_write_error()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l00606">evhttp_make_header()</a>, <a class="el" href="http_8c_source.html#l00438">evhttp_make_header_request()</a>, <a class="el" href="http_8c_source.html#l00531">evhttp_make_header_response()</a>, <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, <a class="el" href="http_8c_source.html#l00398">evhttp_send_continue()</a>, <a class="el" href="http_8c_source.html#l02894">evhttp_send_reply_chunk_with_cb()</a>, <a class="el" href="http_8c_source.html#l02926">evhttp_send_reply_end()</a>, and <a class="el" href="http_8c_source.html#l01196">evhttp_write_connectioncb()</a>.</p>

</div>
</div>
<a id="a80091929da33ded32fdc0d612e3a6664" name="a80091929da33ded32fdc0d612e3a6664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80091929da33ded32fdc0d612e3a6664">&#9670;&nbsp;</a></span>bufferevent_get_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_get_priority </td>
          <td>(</td>
          <td class="paramtype">const struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00442">442</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  443</span>{</div>
<div class="line"><span class="lineno">  444</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="event_8c.html#a5be4fbc16d90915a7d1b21ed3bae40c0">event_initialized</a>(&amp;bufev-&gt;ev_read)) {</div>
<div class="line"><span class="lineno">  445</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a3096f44016a612f715dab49563a71947">event_get_priority</a>(&amp;bufev-&gt;ev_read);</div>
<div class="line"><span class="lineno">  446</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  447</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="event_8c.html#a69fcc6b3b1ed8435f0e500aee8ef2fb7">event_base_get_npriorities</a>(bufev-&gt;ev_base) / 2;</div>
<div class="line"><span class="lineno">  448</span>    }</div>
<div class="line"><span class="lineno">  449</span>}</div>
<div class="ttc" id="aevent_8c_html_a3096f44016a612f715dab49563a71947"><div class="ttname"><a href="event_8c.html#a3096f44016a612f715dab49563a71947">event_get_priority</a></div><div class="ttdeci">int event_get_priority(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02477">event.c:2477</a></div></div>
<div class="ttc" id="aevent_8c_html_a69fcc6b3b1ed8435f0e500aee8ef2fb7"><div class="ttname"><a href="event_8c.html#a69fcc6b3b1ed8435f0e500aee8ef2fb7">event_base_get_npriorities</a></div><div class="ttdeci">int event_base_get_npriorities(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l01280">event.c:1280</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l01280">event_base_get_npriorities()</a>, <a class="el" href="event_8c_source.html#l02477">event_get_priority()</a>, and <a class="el" href="event_8c_source.html#l02410">event_initialized()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>.</p>

</div>
</div>
<a id="abd13b764d53ae4810430d06786b31541" name="abd13b764d53ae4810430d06786b31541"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd13b764d53ae4810430d06786b31541">&#9670;&nbsp;</a></span>bufferevent_get_underlying()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct bufferevent * bufferevent_get_underlying </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00929">929</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  930</span>{</div>
<div class="line"><span class="lineno">  931</span>    <span class="keyword">union </span><a class="code hl_union" href="unionbufferevent__ctrl__data.html">bufferevent_ctrl_data</a> d;</div>
<div class="line"><span class="lineno">  932</span>    <span class="keywordtype">int</span> res = -1;</div>
<div class="line"><span class="lineno">  933</span>    d.<a class="code hl_variable" href="unionbufferevent__ctrl__data.html#ad9b690798053449a9170b57fd681e782">ptr</a> = NULL;</div>
<div class="line"><span class="lineno">  934</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bev);</div>
<div class="line"><span class="lineno">  935</span>    <span class="keywordflow">if</span> (bev-&gt;be_ops-&gt;ctrl)</div>
<div class="line"><span class="lineno">  936</span>        res = bev-&gt;be_ops-&gt;ctrl(bev, <a class="code hl_enumvalue" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa0046aa9fb35a36aea5784d57fad825c8">BEV_CTRL_GET_UNDERLYING</a>, &amp;d);</div>
<div class="line"><span class="lineno">  937</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bev);</div>
<div class="line"><span class="lineno">  938</span>    <span class="keywordflow">return</span> (res&lt;0) ? NULL : d.ptr;</div>
<div class="line"><span class="lineno">  939</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_abc6ade452731b2fd37d6660acb38f52aa0046aa9fb35a36aea5784d57fad825c8"><div class="ttname"><a href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa0046aa9fb35a36aea5784d57fad825c8">BEV_CTRL_GET_UNDERLYING</a></div><div class="ttdeci">@ BEV_CTRL_GET_UNDERLYING</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00239">bufferevent-internal.h:239</a></div></div>
<div class="ttc" id="aunionbufferevent__ctrl__data_html_ad9b690798053449a9170b57fd681e782"><div class="ttname"><a href="unionbufferevent__ctrl__data.html#ad9b690798053449a9170b57fd681e782">bufferevent_ctrl_data::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00245">bufferevent-internal.h:245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00239">BEV_CTRL_GET_UNDERLYING</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00245">bufferevent_ctrl_data::ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00829">bufferevent_enable_locking_()</a>, and <a class="el" href="bufferevent_8c_source.html#l00747">bufferevent_finalize_cb_()</a>.</p>

</div>
</div>
<a id="aace6fa1e46d0cd6453acde4fa4d64cec" name="aace6fa1e46d0cd6453acde4fa4d64cec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace6fa1e46d0cd6453acde4fa4d64cec">&#9670;&nbsp;</a></span>bufferevent_getcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_getcb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferevent_data_cb *&#160;</td>
          <td class="paramname"><em>readcb_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferevent_data_cb *&#160;</td>
          <td class="paramname"><em>writecb_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferevent_event_cb *&#160;</td>
          <td class="paramname"><em>eventcb_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>cbarg_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00404">404</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  409</span>{</div>
<div class="line"><span class="lineno">  410</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordflow">if</span> (readcb_ptr)</div>
<div class="line"><span class="lineno">  412</span>        *readcb_ptr = bufev-&gt;readcb;</div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> (writecb_ptr)</div>
<div class="line"><span class="lineno">  414</span>        *writecb_ptr = bufev-&gt;writecb;</div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span> (eventcb_ptr)</div>
<div class="line"><span class="lineno">  416</span>        *eventcb_ptr = bufev-&gt;errorcb;</div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordflow">if</span> (cbarg_ptr)</div>
<div class="line"><span class="lineno">  418</span>        *cbarg_ptr = bufev-&gt;cbarg;</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  421</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>.</p>

</div>
</div>
<a id="a8c246bbee9c182cf0524c41010fe7c2c" name="a8c246bbee9c182cf0524c41010fe7c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c246bbee9c182cf0524c41010fe7c2c">&#9670;&nbsp;</a></span>bufferevent_getfd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evutil_socket_t bufferevent_getfd </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00880">880</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  881</span>{</div>
<div class="line"><span class="lineno">  882</span>    <span class="keyword">union </span><a class="code hl_union" href="unionbufferevent__ctrl__data.html">bufferevent_ctrl_data</a> d;</div>
<div class="line"><span class="lineno">  883</span>    <span class="keywordtype">int</span> res = -1;</div>
<div class="line"><span class="lineno">  884</span>    d.<a class="code hl_variable" href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">fd</a> = -1;</div>
<div class="line"><span class="lineno">  885</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bev);</div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span> (bev-&gt;be_ops-&gt;ctrl)</div>
<div class="line"><span class="lineno">  887</span>        res = bev-&gt;be_ops-&gt;ctrl(bev, <a class="code hl_enumvalue" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aafb0a966a7d89e90eca916344a697a5b3">BEV_CTRL_GET_FD</a>, &amp;d);</div>
<div class="line"><span class="lineno">  888</span>    <span class="keywordflow">if</span> (res)</div>
<div class="line"><span class="lineno">  889</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: cannot get fd for %p&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, bev));</div>
<div class="line"><span class="lineno">  890</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bev);</div>
<div class="line"><span class="lineno">  891</span>    <span class="keywordflow">return</span> (res&lt;0) ? -1 : d.fd;</div>
<div class="line"><span class="lineno">  892</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_abc6ade452731b2fd37d6660acb38f52aafb0a966a7d89e90eca916344a697a5b3"><div class="ttname"><a href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aafb0a966a7d89e90eca916344a697a5b3">BEV_CTRL_GET_FD</a></div><div class="ttdeci">@ BEV_CTRL_GET_FD</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00238">bufferevent-internal.h:238</a></div></div>
<div class="ttc" id="aunionbufferevent__ctrl__data_html_a94c0a8d5e3afe371bc7028ebe01970ee"><div class="ttname"><a href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">bufferevent_ctrl_data::fd</a></div><div class="ttdeci">evutil_socket_t fd</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00246">bufferevent-internal.h:246</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00238">BEV_CTRL_GET_FD</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00246">bufferevent_ctrl_data::fd</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, and <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>.</p>

</div>
</div>
<a id="a01839cbe252a69c158c92f5d9cd28160" name="a01839cbe252a69c158c92f5d9cd28160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01839cbe252a69c158c92f5d9cd28160">&#9670;&nbsp;</a></span>bufferevent_getwatermark()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_getwatermark </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>lowmark</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>highmark</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00641">641</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  643</span>{</div>
<div class="line"><span class="lineno">  644</span>    <span class="keywordflow">if</span> (events == EV_WRITE) {</div>
<div class="line"><span class="lineno">  645</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  646</span>        <span class="keywordflow">if</span> (lowmark)</div>
<div class="line"><span class="lineno">  647</span>            *lowmark = bufev-&gt;wm_write.low;</div>
<div class="line"><span class="lineno">  648</span>        <span class="keywordflow">if</span> (highmark)</div>
<div class="line"><span class="lineno">  649</span>            *highmark = bufev-&gt;wm_write.high;</div>
<div class="line"><span class="lineno">  650</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  651</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  652</span>    }</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">if</span> (events == EV_READ) {</div>
<div class="line"><span class="lineno">  655</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  656</span>        <span class="keywordflow">if</span> (lowmark)</div>
<div class="line"><span class="lineno">  657</span>            *lowmark = bufev-&gt;wm_read.low;</div>
<div class="line"><span class="lineno">  658</span>        <span class="keywordflow">if</span> (highmark)</div>
<div class="line"><span class="lineno">  659</span>            *highmark = bufev-&gt;wm_read.high;</div>
<div class="line"><span class="lineno">  660</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  662</span>    }</div>
<div class="line"><span class="lineno">  663</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  664</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>.</p>

</div>
</div>
<a id="a58c3ef606181c92dca8033b03e9a14cf" name="a58c3ef606181c92dca8033b03e9a14cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c3ef606181c92dca8033b03e9a14cf">&#9670;&nbsp;</a></span>bufferevent_inbuf_wm_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bufferevent_inbuf_wm_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct evbuffer_cb_info *&#160;</td>
          <td class="paramname"><em>cbinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00136">136</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  139</span>{</div>
<div class="line"><span class="lineno">  140</span>    <span class="keyword">struct </span>bufferevent *bufev = arg;</div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordtype">size_t</span> size;</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    size = <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(buf);</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">if</span> (size &gt;= bufev-&gt;wm_read.high)</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#a04935298b184546cfa4540b532bc9456">bufferevent_wm_suspend_read</a>(bufev);</div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  148</span>        <a class="code hl_define" href="bufferevent-internal_8h.html#aa832bac9be2f46f19b41382948a5b3bf">bufferevent_wm_unsuspend_read</a>(bufev);</div>
<div class="line"><span class="lineno">  149</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a04935298b184546cfa4540b532bc9456"><div class="ttname"><a href="bufferevent-internal_8h.html#a04935298b184546cfa4540b532bc9456">bufferevent_wm_suspend_read</a></div><div class="ttdeci">#define bufferevent_wm_suspend_read(b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00343">bufferevent-internal.h:343</a></div></div>
<div class="ttc" id="abufferevent-internal_8h_html_aa832bac9be2f46f19b41382948a5b3bf"><div class="ttname"><a href="bufferevent-internal_8h.html#aa832bac9be2f46f19b41382948a5b3bf">bufferevent_wm_unsuspend_read</a></div><div class="ttdeci">#define bufferevent_wm_unsuspend_read(b)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00345">bufferevent-internal.h:345</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00343">bufferevent_wm_suspend_read</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00345">bufferevent_wm_unsuspend_read</a>, and <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00594">bufferevent_setwatermark()</a>.</p>

</div>
</div>
<a id="adb11f18a0472aecb387584350ed13fde" name="adb11f18a0472aecb387584350ed13fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb11f18a0472aecb387584350ed13fde">&#9670;&nbsp;</a></span>bufferevent_inbuf_wm_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bufferevent_inbuf_wm_check </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Sometimes bufferevent's implementation can overrun high watermarks (one of examples is openssl) and in this case if the read callback will not handle enough data do over condition above the read callback will never be called again (due to suspend above).</p>
<p >To avoid this we are scheduling read callback again here, but only from the user callback to avoid multiple scheduling:</p><ul>
<li>when the data had been added to it</li>
<li>when the data had been drained from it (user specified read callback) </li>
</ul>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00121">121</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>{</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> (!bev-&gt;wm_read.high)</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">if</span> (!(bev-&gt;enabled &amp; EV_READ))</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(bev-&gt;input) &lt; bev-&gt;wm_read.high)</div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <a class="code hl_function" href="bufferevent_8c.html#a5a8068270667ee7b74068dccdf5a4bf4">bufferevent_trigger</a>(bev, EV_READ, BEV_OPT_DEFER_CALLBACKS);</div>
<div class="line"><span class="lineno">  131</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a5a8068270667ee7b74068dccdf5a4bf4"><div class="ttname"><a href="bufferevent_8c.html#a5a8068270667ee7b74068dccdf5a4bf4">bufferevent_trigger</a></div><div class="ttdeci">void bufferevent_trigger(struct bufferevent *bufev, short iotype, int options)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00277">bufferevent.c:277</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00277">bufferevent_trigger()</a>, and <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00152">bufferevent_run_deferred_callbacks_locked()</a>, <a class="el" href="bufferevent_8c_source.html#l00186">bufferevent_run_deferred_callbacks_unlocked()</a>, and <a class="el" href="bufferevent_8c_source.html#l00241">bufferevent_run_readcb_()</a>.</p>

</div>
</div>
<a id="af3e6ac54e09012e5a42490d40603adab" name="af3e6ac54e09012e5a42490d40603adab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3e6ac54e09012e5a42490d40603adab">&#9670;&nbsp;</a></span>bufferevent_incref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_incref </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00815">815</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  816</span>{</div>
<div class="line"><span class="lineno">  817</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>    <span class="comment">/* XXX: now that this function is public, we might want to</span></div>
<div class="line"><span class="lineno">  820</span><span class="comment">     * - return the count from this function</span></div>
<div class="line"><span class="lineno">  821</span><span class="comment">     * - create a new function to atomically grab the current refcount</span></div>
<div class="line"><span class="lineno">  822</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  823</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  824</span>    ++bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a3b88690c4b672f7f6cb437ac4027fe7e">refcnt</a>;</div>
<div class="line"><span class="lineno">  825</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  826</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00203">bufferevent_private::refcnt</a>.</p>

</div>
</div>
<a id="affef27e0aded08399a351a6990b7a18d" name="affef27e0aded08399a351a6990b7a18d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affef27e0aded08399a351a6990b7a18d">&#9670;&nbsp;</a></span>bufferevent_incref_and_lock_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_incref_and_lock_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal: Lock bufev and increase its reference count. unlocking it otherwise. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00680">680</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  681</span>{</div>
<div class="line"><span class="lineno">  682</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  684</span>    ++bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a3b88690c4b672f7f6cb437ac4027fe7e">refcnt</a>;</div>
<div class="line"><span class="lineno">  685</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00203">bufferevent_private::refcnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00326">be_async_inbuf_callback()</a>, <a class="el" href="bufferevent__async_8c_source.html#l00307">be_async_outbuf_callback()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00573">be_filter_flush()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01071">be_openssl_handshakeeventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00943">be_openssl_readeventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00957">be_openssl_writeeventcb()</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00421">bufferevent_filtered_outbuf_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l00942">bufferevent_generic_read_timeout_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l00951">bufferevent_generic_write_timeout_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l01027">bufferevent_lock()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00149">bufferevent_readcb()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="bufferevent_8c_source.html#l00277">bufferevent_trigger()</a>, <a class="el" href="bufferevent_8c_source.html#l00301">bufferevent_trigger_event()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00230">bufferevent_writecb()</a>, and <a class="el" href="bufferevent__pair_8c_source.html#l00069">incref_and_lock()</a>.</p>

</div>
</div>
<a id="ac0113280b6b3515001f68e159e5e82f4" name="ac0113280b6b3515001f68e159e5e82f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0113280b6b3515001f68e159e5e82f4">&#9670;&nbsp;</a></span>bufferevent_init_common_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_init_common_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufferevent__private.html">bufferevent_private</a> *&#160;</td>
          <td class="paramname"><em>bufev_private</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbufferevent__ops.html">bufferevent_ops</a> *&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum bufferevent_options&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initialize the shared parts of a bufferevent. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00309">309</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  313</span>{</div>
<div class="line"><span class="lineno">  314</span>    <span class="keyword">struct </span>bufferevent *bufev = &amp;bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordflow">if</span> (!bufev-&gt;input) {</div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">if</span> ((bufev-&gt;input = <a class="code hl_function" href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a>()) == NULL)</div>
<div class="line"><span class="lineno">  318</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno">  319</span>    }</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">if</span> (!bufev-&gt;output) {</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">if</span> ((bufev-&gt;output = <a class="code hl_function" href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a>()) == NULL)</div>
<div class="line"><span class="lineno">  323</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno">  324</span>    }</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>    bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a3b88690c4b672f7f6cb437ac4027fe7e">refcnt</a> = 1;</div>
<div class="line"><span class="lineno">  327</span>    bufev-&gt;ev_base = base;</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>    <span class="comment">/* Disable timeouts. */</span></div>
<div class="line"><span class="lineno">  330</span>    evutil_timerclear(&amp;bufev-&gt;timeout_read);</div>
<div class="line"><span class="lineno">  331</span>    evutil_timerclear(&amp;bufev-&gt;timeout_write);</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    bufev-&gt;be_ops = ops;</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent-internal_8h.html#a882d410950f0f6eee8963716b25d8876">bufferevent_ratelim_init_</a>(bufev_private))</div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  339</span><span class="comment">     * Set to EV_WRITE so that using bufferevent_write is going to</span></div>
<div class="line"><span class="lineno">  340</span><span class="comment">     * trigger a callback.  Reading needs to be explicitly enabled</span></div>
<div class="line"><span class="lineno">  341</span><span class="comment">     * because otherwise no data will be available.</span></div>
<div class="line"><span class="lineno">  342</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  343</span>    bufev-&gt;enabled = EV_WRITE;</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span><span class="preprocessor">#ifndef EVENT__DISABLE_THREAD_SUPPORT</span></div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">if</span> (options &amp; BEV_OPT_THREADSAFE) {</div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a331d5c67608ba01b8135902dae167646">bufferevent_enable_locking_</a>(bufev, NULL) &lt; 0)</div>
<div class="line"><span class="lineno">  348</span>            <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno">  349</span>    }</div>
<div class="line"><span class="lineno">  350</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">if</span> ((options &amp; (BEV_OPT_DEFER_CALLBACKS|BEV_OPT_UNLOCK_CALLBACKS))</div>
<div class="line"><span class="lineno">  352</span>        == BEV_OPT_UNLOCK_CALLBACKS) {</div>
<div class="line"><span class="lineno">  353</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;UNLOCK_CALLBACKS requires DEFER_CALLBACKS&quot;</span>);</div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">goto</span> err;</div>
<div class="line"><span class="lineno">  355</span>    }</div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (options &amp; BEV_OPT_UNLOCK_CALLBACKS)</div>
<div class="line"><span class="lineno">  357</span>        <a class="code hl_function" href="defer-internal_8h.html#a05493e0a054f59adb06d4d3f7b152ba3">event_deferred_cb_init_</a>(</div>
<div class="line"><span class="lineno">  358</span>            &amp;bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a45131a4a20eb3d307df180e093eaca1b">deferred</a>,</div>
<div class="line"><span class="lineno">  359</span>            <a class="code hl_function" href="event_8c.html#a69fcc6b3b1ed8435f0e500aee8ef2fb7">event_base_get_npriorities</a>(base) / 2,</div>
<div class="line"><span class="lineno">  360</span>            <a class="code hl_function" href="bufferevent_8c.html#aed95d43facc14524a3820ee1e44b3bfc">bufferevent_run_deferred_callbacks_unlocked</a>,</div>
<div class="line"><span class="lineno">  361</span>            bufev_private);</div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  363</span>        <a class="code hl_function" href="defer-internal_8h.html#a05493e0a054f59adb06d4d3f7b152ba3">event_deferred_cb_init_</a>(</div>
<div class="line"><span class="lineno">  364</span>            &amp;bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a45131a4a20eb3d307df180e093eaca1b">deferred</a>,</div>
<div class="line"><span class="lineno">  365</span>            <a class="code hl_function" href="event_8c.html#a69fcc6b3b1ed8435f0e500aee8ef2fb7">event_base_get_npriorities</a>(base) / 2,</div>
<div class="line"><span class="lineno">  366</span>            <a class="code hl_function" href="bufferevent_8c.html#afe599180cea59eb74c222ebcdc321261">bufferevent_run_deferred_callbacks_locked</a>,</div>
<div class="line"><span class="lineno">  367</span>            bufev_private);</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>    bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a> = options;</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a2dbc008d184dacd1d3d97ed9fabad435">evbuffer_set_parent_</a>(bufev-&gt;input, bufev);</div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_function" href="libevent_2buffer_8c.html#a2dbc008d184dacd1d3d97ed9fabad435">evbuffer_set_parent_</a>(bufev-&gt;output, bufev);</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>err:</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">if</span> (bufev-&gt;input) {</div>
<div class="line"><span class="lineno">  378</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(bufev-&gt;input);</div>
<div class="line"><span class="lineno">  379</span>        bufev-&gt;input = NULL;</div>
<div class="line"><span class="lineno">  380</span>    }</div>
<div class="line"><span class="lineno">  381</span>    <span class="keywordflow">if</span> (bufev-&gt;output) {</div>
<div class="line"><span class="lineno">  382</span>        <a class="code hl_function" href="libevent_2buffer_8c.html#ab27f081c089aebd2536296c13d53f735">evbuffer_free</a>(bufev-&gt;output);</div>
<div class="line"><span class="lineno">  383</span>        bufev-&gt;output = NULL;</div>
<div class="line"><span class="lineno">  384</span>    }</div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  386</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a882d410950f0f6eee8963716b25d8876"><div class="ttname"><a href="bufferevent-internal_8h.html#a882d410950f0f6eee8963716b25d8876">bufferevent_ratelim_init_</a></div><div class="ttdeci">int bufferevent_ratelim_init_(struct bufferevent_private *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__ratelim_8c_source.html#l01082">bufferevent_ratelim.c:1082</a></div></div>
<div class="ttc" id="abufferevent_8c_html_aed95d43facc14524a3820ee1e44b3bfc"><div class="ttname"><a href="bufferevent_8c.html#aed95d43facc14524a3820ee1e44b3bfc">bufferevent_run_deferred_callbacks_unlocked</a></div><div class="ttdeci">static void bufferevent_run_deferred_callbacks_unlocked(struct event_callback *cb, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00186">bufferevent.c:186</a></div></div>
<div class="ttc" id="abufferevent_8c_html_afe599180cea59eb74c222ebcdc321261"><div class="ttname"><a href="bufferevent_8c.html#afe599180cea59eb74c222ebcdc321261">bufferevent_run_deferred_callbacks_locked</a></div><div class="ttdeci">static void bufferevent_run_deferred_callbacks_locked(struct event_callback *cb, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00152">bufferevent.c:152</a></div></div>
<div class="ttc" id="adefer-internal_8h_html_a05493e0a054f59adb06d4d3f7b152ba3"><div class="ttname"><a href="defer-internal_8h.html#a05493e0a054f59adb06d4d3f7b152ba3">event_deferred_cb_init_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_deferred_cb_init_(struct event_callback *, ev_uint8_t, deferred_cb_fn, void *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03099">event.c:3099</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a2dbc008d184dacd1d3d97ed9fabad435"><div class="ttname"><a href="libevent_2buffer_8c.html#a2dbc008d184dacd1d3d97ed9fabad435">evbuffer_set_parent_</a></div><div class="ttdeci">void evbuffer_set_parent_(struct evbuffer *buf, struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00448">buffer.c:448</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a968e69551bc692f3383d1874a70bc867"><div class="ttname"><a href="libevent_2buffer_8c.html#a968e69551bc692f3383d1874a70bc867">evbuffer_new</a></div><div class="ttdeci">struct evbuffer * evbuffer_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00362">buffer.c:362</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a0e3973f226e9585030596534e23cd95f"><div class="ttname"><a href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warnx(const char *fmt,...) EV_CHECK_FMT(1</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent_8c_source.html#l00829">bufferevent_enable_locking_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l01082">bufferevent_ratelim_init_()</a>, <a class="el" href="bufferevent_8c_source.html#l00152">bufferevent_run_deferred_callbacks_locked()</a>, <a class="el" href="bufferevent_8c_source.html#l00186">bufferevent_run_deferred_callbacks_unlocked()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00197">bufferevent_private::deferred</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00588">evbuffer_free()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00362">evbuffer_new()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00448">evbuffer_set_parent_()</a>, <a class="el" href="event_8c_source.html#l01280">event_base_get_npriorities()</a>, <a class="el" href="event_8c_source.html#l03099">event_deferred_cb_init_()</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00203">bufferevent_private::refcnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00543">bufferevent_async_new_()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00170">bufferevent_filter_new()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>, <a class="el" href="bufferevent__pair_8c_source.html#l00093">bufferevent_pair_elt_new()</a>, and <a class="el" href="bufferevent__sock_8c_source.html#l00344">bufferevent_socket_new()</a>.</p>

</div>
</div>
<a id="a712079ea78022ea8b7bbacf6f3ac6cfd" name="a712079ea78022ea8b7bbacf6f3ac6cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a712079ea78022ea8b7bbacf6f3ac6cfd">&#9670;&nbsp;</a></span>bufferevent_init_generic_timeout_cbs_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_init_generic_timeout_cbs_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal use: Set up the ev_read and ev_write callbacks so that the other "generic_timeout" functions will work on it. Call this from the constructor function. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00961">961</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  962</span>{</div>
<div class="line"><span class="lineno">  963</span>    <a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(&amp;bev-&gt;ev_read, bev-&gt;ev_base, -1, EV_FINALIZE,</div>
<div class="line"><span class="lineno">  964</span>        <a class="code hl_function" href="bufferevent_8c.html#a7c7d47515c6e7ead1669920a676339fb">bufferevent_generic_read_timeout_cb</a>, bev);</div>
<div class="line"><span class="lineno">  965</span>    <a class="code hl_function" href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a>(&amp;bev-&gt;ev_write, bev-&gt;ev_base, -1, EV_FINALIZE,</div>
<div class="line"><span class="lineno">  966</span>        <a class="code hl_function" href="bufferevent_8c.html#abb877c9079c9da110cc2180e5bc67307">bufferevent_generic_write_timeout_cb</a>, bev);</div>
<div class="line"><span class="lineno">  967</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a7c7d47515c6e7ead1669920a676339fb"><div class="ttname"><a href="bufferevent_8c.html#a7c7d47515c6e7ead1669920a676339fb">bufferevent_generic_read_timeout_cb</a></div><div class="ttdeci">static void bufferevent_generic_read_timeout_cb(evutil_socket_t fd, short event, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00942">bufferevent.c:942</a></div></div>
<div class="ttc" id="abufferevent_8c_html_abb877c9079c9da110cc2180e5bc67307"><div class="ttname"><a href="bufferevent_8c.html#abb877c9079c9da110cc2180e5bc67307">bufferevent_generic_write_timeout_cb</a></div><div class="ttdeci">static void bufferevent_generic_write_timeout_cb(evutil_socket_t fd, short event, void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00951">bufferevent.c:951</a></div></div>
<div class="ttc" id="aevent_8c_html_a22f3c79257a48df9020b7ca21ee0a012"><div class="ttname"><a href="event_8c.html#a22f3c79257a48df9020b7ca21ee0a012">event_assign</a></div><div class="ttdeci">int event_assign(struct event *ev, struct event_base *base, evutil_socket_t fd, short events, void(*callback)(evutil_socket_t, short, void *), void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02113">event.c:2113</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent_8c_source.html#l00942">bufferevent_generic_read_timeout_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l00951">bufferevent_generic_write_timeout_cb()</a>, and <a class="el" href="event_8c_source.html#l02113">event_assign()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00543">bufferevent_async_new_()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00170">bufferevent_filter_new()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>, and <a class="el" href="bufferevent__pair_8c_source.html#l00093">bufferevent_pair_elt_new()</a>.</p>

</div>
</div>
<a id="a1c02d14de7b91c2e51330ea702e0f2f3" name="a1c02d14de7b91c2e51330ea702e0f2f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c02d14de7b91c2e51330ea702e0f2f3">&#9670;&nbsp;</a></span>bufferevent_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_lock </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l01027">1027</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1028</span>{</div>
<div class="line"><span class="lineno"> 1029</span>    <a class="code hl_function" href="bufferevent_8c.html#affef27e0aded08399a351a6990b7a18d">bufferevent_incref_and_lock_</a>(bev);</div>
<div class="line"><span class="lineno"> 1030</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, and <a class="el" href="bufferevent_8c_source.html#l00680">bufferevent_incref_and_lock_()</a>.</p>

</div>
</div>
<a id="a6bd435529e20a39b24fead9ddcd966ba" name="a6bd435529e20a39b24fead9ddcd966ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bd435529e20a39b24fead9ddcd966ba">&#9670;&nbsp;</a></span>bufferevent_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bufferevent_read </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00470">470</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  471</span>{</div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#af5a341004cb2b4fb591fe11544b3228d">evbuffer_remove</a>(bufev-&gt;input, data, size));</div>
<div class="line"><span class="lineno">  473</span>}</div>
<div class="ttc" id="alibevent_2buffer_8c_html_af5a341004cb2b4fb591fe11544b3228d"><div class="ttname"><a href="libevent_2buffer_8c.html#af5a341004cb2b4fb591fe11544b3228d">evbuffer_remove</a></div><div class="ttdeci">int evbuffer_remove(struct evbuffer *buf, void *data_out, size_t datlen)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01170">buffer.c:1170</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="libevent_2buffer_8c_source.html#l01170">evbuffer_remove()</a>.</p>

</div>
</div>
<a id="ab2246fd48085c1acc9e98747a83af041" name="ab2246fd48085c1acc9e98747a83af041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2246fd48085c1acc9e98747a83af041">&#9670;&nbsp;</a></span>bufferevent_read_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_read_buffer </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00476">476</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  477</span>{</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">return</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a9d2edd536246d70c50678a3865305414">evbuffer_add_buffer</a>(buf, bufev-&gt;input));</div>
<div class="line"><span class="lineno">  479</span>}</div>
<div class="ttc" id="alibevent_2buffer_8c_html_a9d2edd536246d70c50678a3865305414"><div class="ttname"><a href="libevent_2buffer_8c.html#a9d2edd536246d70c50678a3865305414">evbuffer_add_buffer</a></div><div class="ttdeci">int evbuffer_add_buffer(struct evbuffer *outbuf, struct evbuffer *inbuf)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00966">buffer.c:966</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="libevent_2buffer_8c_source.html#l00966">evbuffer_add_buffer()</a>.</p>

</div>
</div>
<a id="afe599180cea59eb74c222ebcdc321261" name="afe599180cea59eb74c222ebcdc321261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe599180cea59eb74c222ebcdc321261">&#9670;&nbsp;</a></span>bufferevent_run_deferred_callbacks_locked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bufferevent_run_deferred_callbacks_locked </td>
          <td>(</td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00152">152</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>{</div>
<div class="line"><span class="lineno">  154</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = arg;</div>
<div class="line"><span class="lineno">  155</span>    <span class="keyword">struct </span>bufferevent *bufev = &amp;bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> ((bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a> &amp; BEV_EVENT_CONNECTED) &amp;&amp;</div>
<div class="line"><span class="lineno">  159</span>        bufev-&gt;errorcb) {</div>
<div class="line"><span class="lineno">  160</span>        <span class="comment">/* The &quot;connected&quot; happened before any reads or writes, so</span></div>
<div class="line"><span class="lineno">  161</span><span class="comment">           send it first. */</span></div>
<div class="line"><span class="lineno">  162</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a> &amp;= ~BEV_EVENT_CONNECTED;</div>
<div class="line"><span class="lineno">  163</span>        bufev-&gt;errorcb(bufev, BEV_EVENT_CONNECTED, bufev-&gt;cbarg);</div>
<div class="line"><span class="lineno">  164</span>    }</div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a885b722ca0b35d6b4676f6324850852e">readcb_pending</a> &amp;&amp; bufev-&gt;readcb) {</div>
<div class="line"><span class="lineno">  166</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a885b722ca0b35d6b4676f6324850852e">readcb_pending</a> = 0;</div>
<div class="line"><span class="lineno">  167</span>        bufev-&gt;readcb(bufev, bufev-&gt;cbarg);</div>
<div class="line"><span class="lineno">  168</span>        <a class="code hl_function" href="bufferevent_8c.html#adb11f18a0472aecb387584350ed13fde">bufferevent_inbuf_wm_check</a>(bufev);</div>
<div class="line"><span class="lineno">  169</span>    }</div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a913a02ff117fb47b65bf7954c316fd15">writecb_pending</a> &amp;&amp; bufev-&gt;writecb) {</div>
<div class="line"><span class="lineno">  171</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a913a02ff117fb47b65bf7954c316fd15">writecb_pending</a> = 0;</div>
<div class="line"><span class="lineno">  172</span>        bufev-&gt;writecb(bufev, bufev-&gt;cbarg);</div>
<div class="line"><span class="lineno">  173</span>    }</div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a> &amp;&amp; bufev-&gt;errorcb) {</div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordtype">short</span> what = bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a>;</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordtype">int</span> err = bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a891f4b4c0c212e61a96d9113d881f099">errno_pending</a>;</div>
<div class="line"><span class="lineno">  177</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a> = 0;</div>
<div class="line"><span class="lineno">  178</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a891f4b4c0c212e61a96d9113d881f099">errno_pending</a> = 0;</div>
<div class="line"><span class="lineno">  179</span>        EVUTIL_SET_SOCKET_ERROR(err);</div>
<div class="line"><span class="lineno">  180</span>        bufev-&gt;errorcb(bufev, what, bufev-&gt;cbarg);</div>
<div class="line"><span class="lineno">  181</span>    }</div>
<div class="line"><span class="lineno">  182</span>    <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bufev);</div>
<div class="line"><span class="lineno">  183</span>}</div>
<div class="ttc" id="abufferevent_8c_html_adb11f18a0472aecb387584350ed13fde"><div class="ttname"><a href="bufferevent_8c.html#adb11f18a0472aecb387584350ed13fde">bufferevent_inbuf_wm_check</a></div><div class="ttdeci">static void bufferevent_inbuf_wm_check(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00121">bufferevent.c:121</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a0dc2f51a3a64b8acbf325f4d436be2af"><div class="ttname"><a href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">bufferevent_private::eventcb_pending</a></div><div class="ttdeci">short eventcb_pending</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00177">bufferevent-internal.h:177</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a885b722ca0b35d6b4676f6324850852e"><div class="ttname"><a href="structbufferevent__private.html#a885b722ca0b35d6b4676f6324850852e">bufferevent_private::readcb_pending</a></div><div class="ttdeci">unsigned readcb_pending</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00166">bufferevent-internal.h:166</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a891f4b4c0c212e61a96d9113d881f099"><div class="ttname"><a href="structbufferevent__private.html#a891f4b4c0c212e61a96d9113d881f099">bufferevent_private::errno_pending</a></div><div class="ttdeci">int errno_pending</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00191">bufferevent-internal.h:191</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a913a02ff117fb47b65bf7954c316fd15"><div class="ttname"><a href="structbufferevent__private.html#a913a02ff117fb47b65bf7954c316fd15">bufferevent_private::writecb_pending</a></div><div class="ttdeci">unsigned writecb_pending</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00169">bufferevent-internal.h:169</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00121">bufferevent_inbuf_wm_check()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00191">bufferevent_private::errno_pending</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00177">bufferevent_private::eventcb_pending</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00166">bufferevent_private::readcb_pending</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00169">bufferevent_private::writecb_pending</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00309">bufferevent_init_common_()</a>.</p>

</div>
</div>
<a id="aed95d43facc14524a3820ee1e44b3bfc" name="aed95d43facc14524a3820ee1e44b3bfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed95d43facc14524a3820ee1e44b3bfc">&#9670;&nbsp;</a></span>bufferevent_run_deferred_callbacks_unlocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bufferevent_run_deferred_callbacks_unlocked </td>
          <td>(</td>
          <td class="paramtype">struct event_callback *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00186">186</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  187</span>{</div>
<div class="line"><span class="lineno">  188</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = arg;</div>
<div class="line"><span class="lineno">  189</span>    <span class="keyword">struct </span>bufferevent *bufev = &amp;bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a7d793f0632346c32119b818783b97c41">bev</a>;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  192</span><span class="preprocessor">#define UNLOCKED(stmt) \</span></div>
<div class="line"><span class="lineno">  193</span><span class="preprocessor">    do { BEV_UNLOCK(bufev); stmt; BEV_LOCK(bufev); } while(0)</span></div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">if</span> ((bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a> &amp; BEV_EVENT_CONNECTED) &amp;&amp;</div>
<div class="line"><span class="lineno">  196</span>        bufev-&gt;errorcb) {</div>
<div class="line"><span class="lineno">  197</span>        <span class="comment">/* The &quot;connected&quot; happened before any reads or writes, so</span></div>
<div class="line"><span class="lineno">  198</span><span class="comment">           send it first. */</span></div>
<div class="line"><span class="lineno">  199</span>        bufferevent_event_cb errorcb = bufev-&gt;errorcb;</div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordtype">void</span> *cbarg = bufev-&gt;cbarg;</div>
<div class="line"><span class="lineno">  201</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a> &amp;= ~BEV_EVENT_CONNECTED;</div>
<div class="line"><span class="lineno">  202</span>        <a class="code hl_define" href="bufferevent_8c.html#a5eb24895cd878096709079eb48eb3ba9">UNLOCKED</a>(errorcb(bufev, BEV_EVENT_CONNECTED, cbarg));</div>
<div class="line"><span class="lineno">  203</span>    }</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a885b722ca0b35d6b4676f6324850852e">readcb_pending</a> &amp;&amp; bufev-&gt;readcb) {</div>
<div class="line"><span class="lineno">  205</span>        bufferevent_data_cb readcb = bufev-&gt;readcb;</div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordtype">void</span> *cbarg = bufev-&gt;cbarg;</div>
<div class="line"><span class="lineno">  207</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a885b722ca0b35d6b4676f6324850852e">readcb_pending</a> = 0;</div>
<div class="line"><span class="lineno">  208</span>        <a class="code hl_define" href="bufferevent_8c.html#a5eb24895cd878096709079eb48eb3ba9">UNLOCKED</a>(readcb(bufev, cbarg));</div>
<div class="line"><span class="lineno">  209</span>        <a class="code hl_function" href="bufferevent_8c.html#adb11f18a0472aecb387584350ed13fde">bufferevent_inbuf_wm_check</a>(bufev);</div>
<div class="line"><span class="lineno">  210</span>    }</div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a913a02ff117fb47b65bf7954c316fd15">writecb_pending</a> &amp;&amp; bufev-&gt;writecb) {</div>
<div class="line"><span class="lineno">  212</span>        bufferevent_data_cb writecb = bufev-&gt;writecb;</div>
<div class="line"><span class="lineno">  213</span>        <span class="keywordtype">void</span> *cbarg = bufev-&gt;cbarg;</div>
<div class="line"><span class="lineno">  214</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a913a02ff117fb47b65bf7954c316fd15">writecb_pending</a> = 0;</div>
<div class="line"><span class="lineno">  215</span>        <a class="code hl_define" href="bufferevent_8c.html#a5eb24895cd878096709079eb48eb3ba9">UNLOCKED</a>(writecb(bufev, cbarg));</div>
<div class="line"><span class="lineno">  216</span>    }</div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a> &amp;&amp; bufev-&gt;errorcb) {</div>
<div class="line"><span class="lineno">  218</span>        bufferevent_event_cb errorcb = bufev-&gt;errorcb;</div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordtype">void</span> *cbarg = bufev-&gt;cbarg;</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordtype">short</span> what = bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a>;</div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordtype">int</span> err = bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a891f4b4c0c212e61a96d9113d881f099">errno_pending</a>;</div>
<div class="line"><span class="lineno">  222</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a> = 0;</div>
<div class="line"><span class="lineno">  223</span>        bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a891f4b4c0c212e61a96d9113d881f099">errno_pending</a> = 0;</div>
<div class="line"><span class="lineno">  224</span>        EVUTIL_SET_SOCKET_ERROR(err);</div>
<div class="line"><span class="lineno">  225</span>        <a class="code hl_define" href="bufferevent_8c.html#a5eb24895cd878096709079eb48eb3ba9">UNLOCKED</a>(errorcb(bufev,what,cbarg));</div>
<div class="line"><span class="lineno">  226</span>    }</div>
<div class="line"><span class="lineno">  227</span>    <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bufev);</div>
<div class="line"><span class="lineno">  228</span><span class="preprocessor">#undef UNLOCKED</span></div>
<div class="line"><span class="lineno">  229</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a5eb24895cd878096709079eb48eb3ba9"><div class="ttname"><a href="bufferevent_8c.html#a5eb24895cd878096709079eb48eb3ba9">UNLOCKED</a></div><div class="ttdeci">#define UNLOCKED(stmt)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00121">bufferevent_inbuf_wm_check()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00191">bufferevent_private::errno_pending</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00177">bufferevent_private::eventcb_pending</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00166">bufferevent_private::readcb_pending</a>, <a class="el" href="bufferevent_8c.html#a5eb24895cd878096709079eb48eb3ba9">UNLOCKED</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00169">bufferevent_private::writecb_pending</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00309">bufferevent_init_common_()</a>.</p>

</div>
</div>
<a id="a1dc0b934d22f911614b83d01df215a7b" name="a1dc0b934d22f911614b83d01df215a7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dc0b934d22f911614b83d01df215a7b">&#9670;&nbsp;</a></span>bufferevent_run_eventcb_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_run_eventcb_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal: If callbacks are deferred and we have an eventcb, schedule it to run with events "what". Otherwise just run the eventcb. See bufferevent_trigger_event for meaning of "options". </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00285">285</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  286</span>{</div>
<div class="line"><span class="lineno">  287</span>    <span class="comment">/* Requires that we hold the lock and a reference */</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *p = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">if</span> (bufev-&gt;errorcb == NULL)</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">if</span> ((p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a>|<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a>) &amp; BEV_OPT_DEFER_CALLBACKS) {</div>
<div class="line"><span class="lineno">  292</span>        p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0dc2f51a3a64b8acbf325f4d436be2af">eventcb_pending</a> |= what;</div>
<div class="line"><span class="lineno">  293</span>        p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a891f4b4c0c212e61a96d9113d881f099">errno_pending</a> = EVUTIL_SOCKET_ERROR();</div>
<div class="line"><span class="lineno">  294</span>        <a class="code hl_define" href="bufferevent_8c.html#aab1b1421e3296c66658fecb7511c8c67">SCHEDULE_DEFERRED</a>(p);</div>
<div class="line"><span class="lineno">  295</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  296</span>        bufev-&gt;errorcb(bufev, what, bufev-&gt;cbarg);</div>
<div class="line"><span class="lineno">  297</span>    }</div>
<div class="line"><span class="lineno">  298</span>}</div>
<div class="ttc" id="abufferevent_8c_html_aab1b1421e3296c66658fecb7511c8c67"><div class="ttname"><a href="bufferevent_8c.html#aab1b1421e3296c66658fecb7511c8c67">SCHEDULE_DEFERRED</a></div><div class="ttdeci">#define SCHEDULE_DEFERRED(bevp)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00231">bufferevent.c:231</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00191">bufferevent_private::errno_pending</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00177">bufferevent_private::eventcb_pending</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>, and <a class="el" href="bufferevent_8c_source.html#l00231">SCHEDULE_DEFERRED</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__async_8c_source.html#l00105">be_async_run_eventcb()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00551">be_filter_eventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00918">be_openssl_eventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01071">be_openssl_handshakeeventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00943">be_openssl_readeventcb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00957">be_openssl_writeeventcb()</a>, <a class="el" href="bufferevent__pair_8c_source.html#l00305">be_pair_flush()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00457">bufferevent_connect_getaddrinfo_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l00942">bufferevent_generic_read_timeout_cb()</a>, <a class="el" href="bufferevent_8c_source.html#l00951">bufferevent_generic_write_timeout_cb()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00149">bufferevent_readcb()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="bufferevent_8c_source.html#l00301">bufferevent_trigger_event()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00230">bufferevent_writecb()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00496">conn_closed()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01019">do_handshake()</a>.</p>

</div>
</div>
<a id="ab28e29bf2be205c676a8440a63bcfd71" name="ab28e29bf2be205c676a8440a63bcfd71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28e29bf2be205c676a8440a63bcfd71">&#9670;&nbsp;</a></span>bufferevent_run_readcb_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_run_readcb_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal: If callbacks are deferred and we have a read callback, schedule a readcb. Otherwise just run the readcb. Ignores watermarks. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00241">241</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  242</span>{</div>
<div class="line"><span class="lineno">  243</span>    <span class="comment">/* Requires that we hold the lock and a reference */</span></div>
<div class="line"><span class="lineno">  244</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *p = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">if</span> (bufev-&gt;readcb == NULL)</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span> ((p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a>|<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a>) &amp; BEV_OPT_DEFER_CALLBACKS) {</div>
<div class="line"><span class="lineno">  248</span>        p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a885b722ca0b35d6b4676f6324850852e">readcb_pending</a> = 1;</div>
<div class="line"><span class="lineno">  249</span>        <a class="code hl_define" href="bufferevent_8c.html#aab1b1421e3296c66658fecb7511c8c67">SCHEDULE_DEFERRED</a>(p);</div>
<div class="line"><span class="lineno">  250</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  251</span>        bufev-&gt;readcb(bufev, bufev-&gt;cbarg);</div>
<div class="line"><span class="lineno">  252</span>        <a class="code hl_function" href="bufferevent_8c.html#adb11f18a0472aecb387584350ed13fde">bufferevent_inbuf_wm_check</a>(bufev);</div>
<div class="line"><span class="lineno">  253</span>    }</div>
<div class="line"><span class="lineno">  254</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="bufferevent_8c_source.html#l00121">bufferevent_inbuf_wm_check()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00166">bufferevent_private::readcb_pending</a>, and <a class="el" href="bufferevent_8c_source.html#l00231">SCHEDULE_DEFERRED</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent-internal_8h_source.html#l00407">bufferevent_trigger_nolock_()</a>.</p>

</div>
</div>
<a id="aa5a0d17954834871832bf603fad40529" name="aa5a0d17954834871832bf603fad40529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5a0d17954834871832bf603fad40529">&#9670;&nbsp;</a></span>bufferevent_run_writecb_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_run_writecb_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Internal: If callbacks are deferred and we have a write callback, schedule a writecb. Otherwise just run the writecb. Ignores watermarks. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00257">257</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  258</span>{</div>
<div class="line"><span class="lineno">  259</span>    <span class="comment">/* Requires that we hold the lock and a reference */</span></div>
<div class="line"><span class="lineno">  260</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *p = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">if</span> (bufev-&gt;writecb == NULL)</div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">if</span> ((p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a>|<a class="code hl_variable" href="structbufferevent__private.html#a68f017fa842099067e2eea7236a903de">options</a>) &amp; BEV_OPT_DEFER_CALLBACKS) {</div>
<div class="line"><span class="lineno">  264</span>        p-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a913a02ff117fb47b65bf7954c316fd15">writecb_pending</a> = 1;</div>
<div class="line"><span class="lineno">  265</span>        <a class="code hl_define" href="bufferevent_8c.html#aab1b1421e3296c66658fecb7511c8c67">SCHEDULE_DEFERRED</a>(p);</div>
<div class="line"><span class="lineno">  266</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  267</span>        bufev-&gt;writecb(bufev, bufev-&gt;cbarg);</div>
<div class="line"><span class="lineno">  268</span>    }</div>
<div class="line"><span class="lineno">  269</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>, <a class="el" href="bufferevent_8c_source.html#l00231">SCHEDULE_DEFERRED</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00169">bufferevent_private::writecb_pending</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent-internal_8h_source.html#l00407">bufferevent_trigger_nolock_()</a>.</p>

</div>
</div>
<a id="a476193ebc6b892bbfd14d7f0ee14b030" name="a476193ebc6b892bbfd14d7f0ee14b030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a476193ebc6b892bbfd14d7f0ee14b030">&#9670;&nbsp;</a></span>bufferevent_set_timeouts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_set_timeouts </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv_write</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00506">506</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  509</span>{</div>
<div class="line"><span class="lineno">  510</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  512</span>    <span class="keywordflow">if</span> (tv_read) {</div>
<div class="line"><span class="lineno">  513</span>        bufev-&gt;timeout_read = *tv_read;</div>
<div class="line"><span class="lineno">  514</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  515</span>        evutil_timerclear(&amp;bufev-&gt;timeout_read);</div>
<div class="line"><span class="lineno">  516</span>    }</div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">if</span> (tv_write) {</div>
<div class="line"><span class="lineno">  518</span>        bufev-&gt;timeout_write = *tv_write;</div>
<div class="line"><span class="lineno">  519</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  520</span>        evutil_timerclear(&amp;bufev-&gt;timeout_write);</div>
<div class="line"><span class="lineno">  521</span>    }</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">if</span> (bufev-&gt;be_ops-&gt;adj_timeouts)</div>
<div class="line"><span class="lineno">  524</span>        r = bufev-&gt;be_ops-&gt;adj_timeouts(bufev);</div>
<div class="line"><span class="lineno">  525</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  528</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00533">bufferevent_settimeout()</a>, <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, and <a class="el" href="http_8c_source.html#l02508">evhttp_connection_set_timeout_tv()</a>.</p>

</div>
</div>
<a id="a63792519cb94a38beccb5e1390cd6198" name="a63792519cb94a38beccb5e1390cd6198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63792519cb94a38beccb5e1390cd6198">&#9670;&nbsp;</a></span>bufferevent_setcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_setcb </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferevent_data_cb&#160;</td>
          <td class="paramname"><em>readcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferevent_data_cb&#160;</td>
          <td class="paramname"><em>writecb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferevent_event_cb&#160;</td>
          <td class="paramname"><em>eventcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00389">389</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  392</span>{</div>
<div class="line"><span class="lineno">  393</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    bufev-&gt;readcb = readcb;</div>
<div class="line"><span class="lineno">  396</span>    bufev-&gt;writecb = writecb;</div>
<div class="line"><span class="lineno">  397</span>    bufev-&gt;errorcb = eventcb;</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>    bufev-&gt;cbarg = cbarg;</div>
<div class="line"><span class="lineno">  400</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  401</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__filter_8c_source.html#l00229">be_filter_unlink()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01201">be_openssl_unlink()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00170">bufferevent_filter_new()</a>, <a class="el" href="bufferevent_8c_source.html#l00806">bufferevent_free()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00552">bufferevent_new()</a>, <a class="el" href="net_8c_source.html#l00547">dogecoin_node_group_connect_next_nodes()</a>, <a class="el" href="http_8c_source.html#l02379">evhttp_connection_base_bufferevent_new()</a>, <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l00398">evhttp_send_continue()</a>, <a class="el" href="http_8c_source.html#l02735">evhttp_start_read_()</a>, <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00983">set_open_callbacks()</a>.</p>

</div>
</div>
<a id="a5923a441822ab477b13b6be4807174f4" name="a5923a441822ab477b13b6be4807174f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5923a441822ab477b13b6be4807174f4">&#9670;&nbsp;</a></span>bufferevent_setfd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_setfd </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00865">865</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  866</span>{</div>
<div class="line"><span class="lineno">  867</span>    <span class="keyword">union </span><a class="code hl_union" href="unionbufferevent__ctrl__data.html">bufferevent_ctrl_data</a> d;</div>
<div class="line"><span class="lineno">  868</span>    <span class="keywordtype">int</span> res = -1;</div>
<div class="line"><span class="lineno">  869</span>    d.<a class="code hl_variable" href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">fd</a> = <a class="code hl_variable" href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">fd</a>;</div>
<div class="line"><span class="lineno">  870</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bev);</div>
<div class="line"><span class="lineno">  871</span>    <span class="keywordflow">if</span> (bev-&gt;be_ops-&gt;ctrl)</div>
<div class="line"><span class="lineno">  872</span>        res = bev-&gt;be_ops-&gt;ctrl(bev, <a class="code hl_enumvalue" href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa8dc56de908ecc163ab17bcd51d09e126">BEV_CTRL_SET_FD</a>, &amp;d);</div>
<div class="line"><span class="lineno">  873</span>    <span class="keywordflow">if</span> (res)</div>
<div class="line"><span class="lineno">  874</span>        <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: cannot set fd for %p to &quot;</span><a class="code hl_define" href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, bev, <a class="code hl_variable" href="unionbufferevent__ctrl__data.html#a94c0a8d5e3afe371bc7028ebe01970ee">fd</a>));</div>
<div class="line"><span class="lineno">  875</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bev);</div>
<div class="line"><span class="lineno">  876</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  877</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_abc6ade452731b2fd37d6660acb38f52aa8dc56de908ecc163ab17bcd51d09e126"><div class="ttname"><a href="bufferevent-internal_8h.html#abc6ade452731b2fd37d6660acb38f52aa8dc56de908ecc163ab17bcd51d09e126">BEV_CTRL_SET_FD</a></div><div class="ttdeci">@ BEV_CTRL_SET_FD</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00237">bufferevent-internal.h:237</a></div></div>
<div class="ttc" id="autil-internal_8h_html_ae4520c37e639bce2b7463312e1ddfb48"><div class="ttname"><a href="util-internal_8h.html#ae4520c37e639bce2b7463312e1ddfb48">EV_SOCK_FMT</a></div><div class="ttdeci">#define EV_SOCK_FMT</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00476">util-internal.h:476</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00237">BEV_CTRL_SET_FD</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="util-internal_8h_source.html#l00476">EV_SOCK_FMT</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00246">bufferevent_ctrl_data::fd</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l04224">evhttp_get_request_connection()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l01084">set_handshake_callbacks()</a>.</p>

</div>
</div>
<a id="aa8236a058cbf059c2f2e3b10063c872b" name="aa8236a058cbf059c2f2e3b10063c872b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8236a058cbf059c2f2e3b10063c872b">&#9670;&nbsp;</a></span>bufferevent_settimeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_settimeout </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_write</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00533">533</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  535</span>{</div>
<div class="line"><span class="lineno">  536</span>    <span class="keyword">struct </span>timeval tv_read, tv_write;</div>
<div class="line"><span class="lineno">  537</span>    <span class="keyword">struct </span>timeval *ptv_read = NULL, *ptv_write = NULL;</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    memset(&amp;tv_read, 0, <span class="keyword">sizeof</span>(tv_read));</div>
<div class="line"><span class="lineno">  540</span>    memset(&amp;tv_write, 0, <span class="keyword">sizeof</span>(tv_write));</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordflow">if</span> (timeout_read) {</div>
<div class="line"><span class="lineno">  543</span>        tv_read.tv_sec = timeout_read;</div>
<div class="line"><span class="lineno">  544</span>        ptv_read = &amp;tv_read;</div>
<div class="line"><span class="lineno">  545</span>    }</div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">if</span> (timeout_write) {</div>
<div class="line"><span class="lineno">  547</span>        tv_write.tv_sec = timeout_write;</div>
<div class="line"><span class="lineno">  548</span>        ptv_write = &amp;tv_write;</div>
<div class="line"><span class="lineno">  549</span>    }</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>    <a class="code hl_function" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a>(bufev, ptv_read, ptv_write);</div>
<div class="line"><span class="lineno">  552</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a476193ebc6b892bbfd14d7f0ee14b030"><div class="ttname"><a href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a></div><div class="ttdeci">int bufferevent_set_timeouts(struct bufferevent *bufev, const struct timeval *tv_read, const struct timeval *tv_write)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00506">bufferevent.c:506</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent_8c_source.html#l00506">bufferevent_set_timeouts()</a>.</p>

</div>
</div>
<a id="a74e3835e99f8eb73bb1cd7afa7427049" name="a74e3835e99f8eb73bb1cd7afa7427049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74e3835e99f8eb73bb1cd7afa7427049">&#9670;&nbsp;</a></span>bufferevent_setwatermark()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_setwatermark </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lowmark</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>highmark</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00594">594</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  596</span>{</div>
<div class="line"><span class="lineno">  597</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">if</span> (events &amp; EV_WRITE) {</div>
<div class="line"><span class="lineno">  601</span>        bufev-&gt;wm_write.low = lowmark;</div>
<div class="line"><span class="lineno">  602</span>        bufev-&gt;wm_write.high = highmark;</div>
<div class="line"><span class="lineno">  603</span>    }</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">if</span> (events &amp; EV_READ) {</div>
<div class="line"><span class="lineno">  606</span>        bufev-&gt;wm_read.low = lowmark;</div>
<div class="line"><span class="lineno">  607</span>        bufev-&gt;wm_read.high = highmark;</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordflow">if</span> (highmark) {</div>
<div class="line"><span class="lineno">  610</span>            <span class="comment">/* There is now a new high-water mark for read.</span></div>
<div class="line"><span class="lineno">  611</span><span class="comment">               enable the callback if needed, and see if we should</span></div>
<div class="line"><span class="lineno">  612</span><span class="comment">               suspend/bufferevent_wm_unsuspend. */</span></div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>            <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a51001658bb2998fafae9e9903cbe464b">read_watermarks_cb</a> == NULL) {</div>
<div class="line"><span class="lineno">  615</span>                bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a51001658bb2998fafae9e9903cbe464b">read_watermarks_cb</a> =</div>
<div class="line"><span class="lineno">  616</span>                    <a class="code hl_function" href="libevent_2buffer_8c.html#a7f74a931a40fed1f64496cce05e4f140">evbuffer_add_cb</a>(bufev-&gt;input,</div>
<div class="line"><span class="lineno">  617</span>                            <a class="code hl_function" href="bufferevent_8c.html#a58c3ef606181c92dca8033b03e9a14cf">bufferevent_inbuf_wm_cb</a>,</div>
<div class="line"><span class="lineno">  618</span>                            bufev);</div>
<div class="line"><span class="lineno">  619</span>            }</div>
<div class="line"><span class="lineno">  620</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#a4ba44d01484f19fbfe7c18d2a175dc3b">evbuffer_cb_set_flags</a>(bufev-&gt;input,</div>
<div class="line"><span class="lineno">  621</span>                      bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a51001658bb2998fafae9e9903cbe464b">read_watermarks_cb</a>,</div>
<div class="line"><span class="lineno">  622</span>                      EVBUFFER_CB_ENABLED|<a class="code hl_define" href="evbuffer-internal_8h.html#a88a728a0e2acbfc11e4430c9fce15eab">EVBUFFER_CB_NODEFER</a>);</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(bufev-&gt;input) &gt;= highmark)</div>
<div class="line"><span class="lineno">  625</span>                <a class="code hl_define" href="bufferevent-internal_8h.html#a04935298b184546cfa4540b532bc9456">bufferevent_wm_suspend_read</a>(bufev);</div>
<div class="line"><span class="lineno">  626</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(bufev-&gt;input) &lt; highmark)</div>
<div class="line"><span class="lineno">  627</span>                <a class="code hl_define" href="bufferevent-internal_8h.html#aa832bac9be2f46f19b41382948a5b3bf">bufferevent_wm_unsuspend_read</a>(bufev);</div>
<div class="line"><span class="lineno">  628</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  629</span>            <span class="comment">/* There is now no high-water mark for read. */</span></div>
<div class="line"><span class="lineno">  630</span>            <span class="keywordflow">if</span> (bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a51001658bb2998fafae9e9903cbe464b">read_watermarks_cb</a>)</div>
<div class="line"><span class="lineno">  631</span>                <a class="code hl_function" href="libevent_2buffer_8c.html#acda56baecd4b512f4e9f54a21e39177f">evbuffer_cb_clear_flags</a>(bufev-&gt;input,</div>
<div class="line"><span class="lineno">  632</span>                    bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a51001658bb2998fafae9e9903cbe464b">read_watermarks_cb</a>,</div>
<div class="line"><span class="lineno">  633</span>                    EVBUFFER_CB_ENABLED);</div>
<div class="line"><span class="lineno">  634</span>            <a class="code hl_define" href="bufferevent-internal_8h.html#aa832bac9be2f46f19b41382948a5b3bf">bufferevent_wm_unsuspend_read</a>(bufev);</div>
<div class="line"><span class="lineno">  635</span>        }</div>
<div class="line"><span class="lineno">  636</span>    }</div>
<div class="line"><span class="lineno">  637</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  638</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a58c3ef606181c92dca8033b03e9a14cf"><div class="ttname"><a href="bufferevent_8c.html#a58c3ef606181c92dca8033b03e9a14cf">bufferevent_inbuf_wm_cb</a></div><div class="ttdeci">static void bufferevent_inbuf_wm_cb(struct evbuffer *buf, const struct evbuffer_cb_info *cbinfo, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00136">bufferevent.c:136</a></div></div>
<div class="ttc" id="aevbuffer-internal_8h_html_a88a728a0e2acbfc11e4430c9fce15eab"><div class="ttname"><a href="evbuffer-internal_8h.html#a88a728a0e2acbfc11e4430c9fce15eab">EVBUFFER_CB_NODEFER</a></div><div class="ttdeci">#define EVBUFFER_CB_NODEFER</div><div class="ttdef"><b>Definition:</b> <a href="evbuffer-internal_8h_source.html#l00044">evbuffer-internal.h:44</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a4ba44d01484f19fbfe7c18d2a175dc3b"><div class="ttname"><a href="libevent_2buffer_8c.html#a4ba44d01484f19fbfe7c18d2a175dc3b">evbuffer_cb_set_flags</a></div><div class="ttdeci">int evbuffer_cb_set_flags(struct evbuffer *buffer, struct evbuffer_cb_entry *cb, ev_uint32_t flags)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l03377">buffer.c:3377</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a7f74a931a40fed1f64496cce05e4f140"><div class="ttname"><a href="libevent_2buffer_8c.html#a7f74a931a40fed1f64496cce05e4f140">evbuffer_add_cb</a></div><div class="ttdeci">struct evbuffer_cb_entry * evbuffer_add_cb(struct evbuffer *buffer, evbuffer_cb_func cb, void *cbarg)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l03334">buffer.c:3334</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_acda56baecd4b512f4e9f54a21e39177f"><div class="ttname"><a href="libevent_2buffer_8c.html#acda56baecd4b512f4e9f54a21e39177f">evbuffer_cb_clear_flags</a></div><div class="ttdeci">int evbuffer_cb_clear_flags(struct evbuffer *buffer, struct evbuffer_cb_entry *cb, ev_uint32_t flags)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l03389">buffer.c:3389</a></div></div>
<div class="ttc" id="astructbufferevent__private_html_a51001658bb2998fafae9e9903cbe464b"><div class="ttname"><a href="structbufferevent__private.html#a51001658bb2998fafae9e9903cbe464b">bufferevent_private::read_watermarks_cb</a></div><div class="ttdeci">struct evbuffer_cb_entry * read_watermarks_cb</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00159">bufferevent-internal.h:159</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, <a class="el" href="bufferevent_8c_source.html#l00136">bufferevent_inbuf_wm_cb()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00343">bufferevent_wm_suspend_read</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00345">bufferevent_wm_unsuspend_read</a>, <a class="el" href="libevent_2buffer_8c_source.html#l03334">evbuffer_add_cb()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l03389">evbuffer_cb_clear_flags()</a>, <a class="el" href="evbuffer-internal_8h_source.html#l00044">EVBUFFER_CB_NODEFER</a>, <a class="el" href="libevent_2buffer_8c_source.html#l03377">evbuffer_cb_set_flags()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00159">bufferevent_private::read_watermarks_cb</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>.</p>

</div>
</div>
<a id="ac6eebb6aaba83b5e6245a276549e8db9" name="ac6eebb6aaba83b5e6245a276549e8db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6eebb6aaba83b5e6245a276549e8db9">&#9670;&nbsp;</a></span>bufferevent_suspend_read_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_suspend_read_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bufferevent-internal_8h.html#a1c5e8379d918466d1c3610ca132eeb9e">bufferevent_suspend_flags</a>&#160;</td>
          <td class="paramname"><em>what</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >For internal use: temporarily stop all reads on bufev, until the conditions in 'what' are over. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00067">67</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   68</span>{</div>
<div class="line"><span class="lineno">   69</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">   70</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span> (!bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a>)</div>
<div class="line"><span class="lineno">   72</span>        bufev-&gt;be_ops-&gt;disable(bufev, EV_READ);</div>
<div class="line"><span class="lineno">   73</span>    bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a> |= what;</div>
<div class="line"><span class="lineno">   74</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">   75</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00182">bufferevent_private::read_suspended</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__filter_8c_source.html#l00288">be_filter_disable()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00350">bev_group_suspend_reading_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00735">bufferevent_add_to_rate_limit_group()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00273">bufferevent_decrement_read_buckets_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00969">bufferevent_decrement_read_limit()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00170">bufferevent_filter_new()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00198">bufferevent_get_rlim_max_()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01343">bufferevent_openssl_new_impl()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00560">bufferevent_set_rate_limit()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00494">bufferevent_socket_connect_hostname()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00423">stop_reading()</a>.</p>

</div>
</div>
<a id="a4f8e8249779dbe33440cc1580e50971a" name="a4f8e8249779dbe33440cc1580e50971a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f8e8249779dbe33440cc1580e50971a">&#9670;&nbsp;</a></span>bufferevent_suspend_write_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_suspend_write_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bufferevent-internal_8h.html#a1c5e8379d918466d1c3610ca132eeb9e">bufferevent_suspend_flags</a>&#160;</td>
          <td class="paramname"><em>what</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >For internal use: temporarily stop all writes on bufev, until the conditions in 'what' are over. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00089">89</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>{</div>
<div class="line"><span class="lineno">   91</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">if</span> (!bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">write_suspended</a>)</div>
<div class="line"><span class="lineno">   94</span>        bufev-&gt;be_ops-&gt;disable(bufev, EV_WRITE);</div>
<div class="line"><span class="lineno">   95</span>    bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">write_suspended</a> |= what;</div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">   97</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00187">bufferevent_private::write_suspended</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__ratelim_8c_source.html#l00375">bev_group_suspend_writing_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00735">bufferevent_add_to_rate_limit_group()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00311">bufferevent_decrement_write_buckets_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00996">bufferevent_decrement_write_limit()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00198">bufferevent_get_rlim_max_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00560">bufferevent_set_rate_limit()</a>, and <a class="el" href="bufferevent__sock_8c_source.html#l00494">bufferevent_socket_connect_hostname()</a>.</p>

</div>
</div>
<a id="a5a8068270667ee7b74068dccdf5a4bf4" name="a5a8068270667ee7b74068dccdf5a4bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a8068270667ee7b74068dccdf5a4bf4">&#9670;&nbsp;</a></span>bufferevent_trigger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_trigger </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>iotype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00277">277</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  278</span>{</div>
<div class="line"><span class="lineno">  279</span>    <a class="code hl_function" href="bufferevent_8c.html#affef27e0aded08399a351a6990b7a18d">bufferevent_incref_and_lock_</a>(bufev);</div>
<div class="line"><span class="lineno">  280</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a29d70dfec74981bb29a6a66d18c219ab">bufferevent_trigger_nolock_</a>(bufev, iotype, options&amp;<a class="code hl_define" href="bufferevent_8c.html#a185d3750ca706bda72d999881953ba9c">BEV_TRIG_ALL_OPTS</a>);</div>
<div class="line"><span class="lineno">  281</span>    <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bufev);</div>
<div class="line"><span class="lineno">  282</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a29d70dfec74981bb29a6a66d18c219ab"><div class="ttname"><a href="bufferevent-internal_8h.html#a29d70dfec74981bb29a6a66d18c219ab">bufferevent_trigger_nolock_</a></div><div class="ttdeci">static void bufferevent_trigger_nolock_(struct bufferevent *bufev, short iotype, int options)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent-internal_8h_source.html#l00407">bufferevent-internal.h:407</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a185d3750ca706bda72d999881953ba9c"><div class="ttname"><a href="bufferevent_8c.html#a185d3750ca706bda72d999881953ba9c">BEV_TRIG_ALL_OPTS</a></div><div class="ttdeci">#define BEV_TRIG_ALL_OPTS</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00271">bufferevent.c:271</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent_8c_source.html#l00271">BEV_TRIG_ALL_OPTS</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00680">bufferevent_incref_and_lock_()</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00407">bufferevent_trigger_nolock_()</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent_8c_source.html#l00121">bufferevent_inbuf_wm_check()</a>.</p>

</div>
</div>
<a id="a4602252d61723e957aff88419b628ce6" name="a4602252d61723e957aff88419b628ce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4602252d61723e957aff88419b628ce6">&#9670;&nbsp;</a></span>bufferevent_trigger_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_trigger_event </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00301">301</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  302</span>{</div>
<div class="line"><span class="lineno">  303</span>    <a class="code hl_function" href="bufferevent_8c.html#affef27e0aded08399a351a6990b7a18d">bufferevent_incref_and_lock_</a>(bufev);</div>
<div class="line"><span class="lineno">  304</span>    <a class="code hl_function" href="bufferevent_8c.html#a1dc0b934d22f911614b83d01df215a7b">bufferevent_run_eventcb_</a>(bufev, what, options&amp;<a class="code hl_define" href="bufferevent_8c.html#a185d3750ca706bda72d999881953ba9c">BEV_TRIG_ALL_OPTS</a>);</div>
<div class="line"><span class="lineno">  305</span>    <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bufev);</div>
<div class="line"><span class="lineno">  306</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent_8c_source.html#l00271">BEV_TRIG_ALL_OPTS</a>, <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00680">bufferevent_incref_and_lock_()</a>, <a class="el" href="bufferevent_8c_source.html#l00285">bufferevent_run_eventcb_()</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00200">bufferevent_private::options</a>.</p>

</div>
</div>
<a id="a371a6df70d38778e7c2798d9c1018f42" name="a371a6df70d38778e7c2798d9c1018f42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371a6df70d38778e7c2798d9c1018f42">&#9670;&nbsp;</a></span>bufferevent_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_unlock </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l01033">1033</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1034</span>{</div>
<div class="line"><span class="lineno"> 1035</span>    <a class="code hl_function" href="bufferevent_8c.html#af5d303b60101dd6b5c39573a0df3b95f">bufferevent_decref_and_unlock_</a>(bev);</div>
<div class="line"><span class="lineno"> 1036</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00156">bufferevent_private::bev</a>, and <a class="el" href="bufferevent_8c_source.html#l00706">bufferevent_decref_and_unlock_()</a>.</p>

</div>
</div>
<a id="a1abf99c65edb144035f9aadbbf3fcc3b" name="a1abf99c65edb144035f9aadbbf3fcc3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1abf99c65edb144035f9aadbbf3fcc3b">&#9670;&nbsp;</a></span>bufferevent_unsuspend_read_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_unsuspend_read_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bufferevent-internal_8h.html#a1c5e8379d918466d1c3610ca132eeb9e">bufferevent_suspend_flags</a>&#160;</td>
          <td class="paramname"><em>what</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >For internal use: clear the conditions 'what' on bufev, and re-enable reading if there are no conditions left. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00078">78</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>{</div>
<div class="line"><span class="lineno">   80</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">   81</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">   82</span>    bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a> &amp;= ~what;</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">if</span> (!bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a666a020bf0b6d0fc0a20715dbc0d502e">read_suspended</a> &amp;&amp; (bufev-&gt;enabled &amp; EV_READ))</div>
<div class="line"><span class="lineno">   84</span>        bufev-&gt;be_ops-&gt;enable(bufev, EV_READ);</div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">   86</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00182">bufferevent_private::read_suspended</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__filter_8c_source.html#l00273">be_filter_enable()</a>, <a class="el" href="bufferevent__filter_8c_source.html#l00229">be_filter_unlink()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l01201">be_openssl_unlink()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00394">bev_refill_callback_()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00457">bufferevent_connect_getaddrinfo_cb()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00273">bufferevent_decrement_read_buckets_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00969">bufferevent_decrement_read_limit()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00787">bufferevent_remove_from_rate_limit_group_internal_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00560">bufferevent_set_rate_limit()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00383">start_reading()</a>, <a class="el" href="bufferevent__openssl_8c_source.html#l00404">start_writing()</a>, and <a class="el" href="bufferevent__openssl_8c_source.html#l00437">stop_writing()</a>.</p>

</div>
</div>
<a id="a12fd1bcfa37cc063131fc982cca81b28" name="a12fd1bcfa37cc063131fc982cca81b28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12fd1bcfa37cc063131fc982cca81b28">&#9670;&nbsp;</a></span>bufferevent_unsuspend_write_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bufferevent_unsuspend_write_ </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bufferevent-internal_8h.html#a1c5e8379d918466d1c3610ca132eeb9e">bufferevent_suspend_flags</a>&#160;</td>
          <td class="paramname"><em>what</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >For internal use: clear the conditions 'what' on bufev, and re-enable writing if there are no conditions left. </p>

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00100">100</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  101</span>{</div>
<div class="line"><span class="lineno">  102</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbufferevent__private.html">bufferevent_private</a> *bufev_private = <a class="code hl_define" href="bufferevent-internal_8h.html#a50603e7195cdaee52020d30b6f4f5c94">BEV_UPCAST</a>(bufev);</div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#a08b6651a207b67183866ec2ccc899c9c">BEV_LOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  104</span>    bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">write_suspended</a> &amp;= ~what;</div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">if</span> (!bufev_private-&gt;<a class="code hl_variable" href="structbufferevent__private.html#a0d39c067a6092f2db779aa22f22ddd8b">write_suspended</a> &amp;&amp; (bufev-&gt;enabled &amp; EV_WRITE))</div>
<div class="line"><span class="lineno">  106</span>        bufev-&gt;be_ops-&gt;enable(bufev, EV_WRITE);</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_define" href="bufferevent-internal_8h.html#ae4db92fe8e7d47c0402cd3fb6c5d3ea9">BEV_UNLOCK</a>(bufev);</div>
<div class="line"><span class="lineno">  108</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufferevent-internal_8h_source.html#l00485">BEV_LOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00491">BEV_UNLOCK</a>, <a class="el" href="bufferevent-internal_8h_source.html#l00478">BEV_UPCAST</a>, and <a class="el" href="bufferevent-internal_8h_source.html#l00187">bufferevent_private::write_suspended</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufferevent__ratelim_8c_source.html#l00394">bev_refill_callback_()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00457">bufferevent_connect_getaddrinfo_cb()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00311">bufferevent_decrement_write_buckets_()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00996">bufferevent_decrement_write_limit()</a>, <a class="el" href="bufferevent__ratelim_8c_source.html#l00787">bufferevent_remove_from_rate_limit_group_internal_()</a>, and <a class="el" href="bufferevent__ratelim_8c_source.html#l00560">bufferevent_set_rate_limit()</a>.</p>

</div>
</div>
<a id="abc606695cd6bb2e3f25c4330d0c9e3ab" name="abc606695cd6bb2e3f25c4330d0c9e3ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc606695cd6bb2e3f25c4330d0c9e3ab">&#9670;&nbsp;</a></span>bufferevent_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_write </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00452">452</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  453</span>{</div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a>(bufev-&gt;output, data, size) == -1)</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  458</span>}</div>
<div class="ttc" id="alibevent_2buffer_8c_html_a8bcbab1212ab067b8faa767febc347ef"><div class="ttname"><a href="libevent_2buffer_8c.html#a8bcbab1212ab067b8faa767febc347ef">evbuffer_add</a></div><div class="ttdeci">int evbuffer_add(struct evbuffer *buf, const void *data_in, size_t datlen)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01730">buffer.c:1730</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="libevent_2buffer_8c_source.html#l01730">evbuffer_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00630">dogecoin_node_send()</a>.</p>

</div>
</div>
<a id="a3b140a32a4d16c402433130dc8c3bde4" name="a3b140a32a4d16c402433130dc8c3bde4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b140a32a4d16c402433130dc8c3bde4">&#9670;&nbsp;</a></span>bufferevent_write_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufferevent_write_buffer </td>
          <td>(</td>
          <td class="paramtype">struct bufferevent *&#160;</td>
          <td class="paramname"><em>bufev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufferevent_8c_source.html#l00461">461</a> of file <a class="el" href="bufferevent_8c_source.html">bufferevent.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  462</span>{</div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a9d2edd536246d70c50678a3865305414">evbuffer_add_buffer</a>(bufev-&gt;output, buf) == -1)</div>
<div class="line"><span class="lineno">  464</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  467</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="libevent_2buffer_8c_source.html#l00966">evbuffer_add_buffer()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
