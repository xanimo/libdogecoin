<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/libevent/evmap.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_97979c17d049e8002d2e089c4964ead4.html">libevent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">evmap.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;event2/event-config.h&quot;</code><br />
<code>#include &quot;evconfig-private.h&quot;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="event-internal_8h_source.html">event-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="evmap-internal_8h_source.html">evmap-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mm-internal_8h_source.html">mm-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="changelist-internal_8h_source.html">changelist-internal.h</a>&quot;</code><br />
</div>
<p><a href="evmap_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevmap__io.html">evmap_io</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevmap__signal.html">evmap_signal</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevmap__foreach__event__helper.html">evmap_foreach_event_helper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ada69b2c4af6a6714d7957138a5a33110"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a>(x,  map,  slot,  type)&#160;&#160;&#160;	(x) = (struct type *)((map)-&gt;entries[slot])</td></tr>
<tr class="separator:ada69b2c4af6a6714d7957138a5a33110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2f82330cd3bdb9173d0bb12c018df0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a0e2f82330cd3bdb9173d0bb12c018df0">GET_SIGNAL_SLOT_AND_CTOR</a>(x,  map,  slot,  type,  ctor,  fdinfo_len)</td></tr>
<tr class="separator:a0e2f82330cd3bdb9173d0bb12c018df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882f34f7bf0415329b5aa8f43534e736"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a>(x,  map,  slot,  type)&#160;&#160;&#160;<a class="el" href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a>(x,map,slot,type)</td></tr>
<tr class="separator:a882f34f7bf0415329b5aa8f43534e736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a417c0bb6d53645a68164cc0ce572fe2f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a417c0bb6d53645a68164cc0ce572fe2f">GET_IO_SLOT_AND_CTOR</a>(x,  map,  slot,  type,  ctor,  fdinfo_len)&#160;&#160;&#160;	<a class="el" href="evmap_8c.html#a0e2f82330cd3bdb9173d0bb12c018df0">GET_SIGNAL_SLOT_AND_CTOR</a>(x,map,slot,type,ctor,fdinfo_len)</td></tr>
<tr class="separator:a417c0bb6d53645a68164cc0ce572fe2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8286421d7f308749304893f2857d2b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#aa8286421d7f308749304893f2857d2b9">FDINFO_OFFSET</a>&#160;&#160;&#160;sizeof(struct <a class="el" href="structevmap__io.html">evmap_io</a>)</td></tr>
<tr class="separator:aa8286421d7f308749304893f2857d2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ad8a8a5f1c2b3682a63b13574cc999"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a23ad8a8a5f1c2b3682a63b13574cc999">event_changelist_check</a>(base)&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:a23ad8a8a5f1c2b3682a63b13574cc999"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aacb590c78370eefa46e4a72265f7754d"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#aacb590c78370eefa46e4a72265f7754d">evmap_io_foreach_fd_cb</a>) (struct <a class="el" href="structevent__base.html">event_base</a> *, evutil_socket_t, struct <a class="el" href="structevmap__io.html">evmap_io</a> *, void *)</td></tr>
<tr class="separator:aacb590c78370eefa46e4a72265f7754d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5fe998f363bda54d4cb039de690549"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a5c5fe998f363bda54d4cb039de690549">evmap_signal_foreach_signal_cb</a>) (struct <a class="el" href="structevent__base.html">event_base</a> *, int, struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *, void *)</td></tr>
<tr class="separator:a5c5fe998f363bda54d4cb039de690549"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3fa2a2bf0f03e79032cd0ce2f7911f60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a3fa2a2bf0f03e79032cd0ce2f7911f60">evmap_io_initmap_</a> (struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:a3fa2a2bf0f03e79032cd0ce2f7911f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378966d553ed1112e5da5e1a06f561a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a378966d553ed1112e5da5e1a06f561a2">evmap_io_clear_</a> (struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:a378966d553ed1112e5da5e1a06f561a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07bf55c862ef8547bef3139ecdaecdba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a07bf55c862ef8547bef3139ecdaecdba">evmap_make_space</a> (struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *map, int slot, int msize)</td></tr>
<tr class="separator:a07bf55c862ef8547bef3139ecdaecdba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b1152af7697586adb90c62aa6c650a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#ad6b1152af7697586adb90c62aa6c650a">evmap_signal_initmap_</a> (struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:ad6b1152af7697586adb90c62aa6c650a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2607ea68074a8c4f2eb5908481b75915"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a2607ea68074a8c4f2eb5908481b75915">evmap_signal_clear_</a> (struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:a2607ea68074a8c4f2eb5908481b75915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa939638754b7535862495d6680da1282"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#aa939638754b7535862495d6680da1282">evmap_io_init</a> (struct <a class="el" href="structevmap__io.html">evmap_io</a> *entry)</td></tr>
<tr class="separator:aa939638754b7535862495d6680da1282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f1cc5853c896ed9bf35958841fee07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#ad2f1cc5853c896ed9bf35958841fee07">evmap_io_add_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, struct event *ev)</td></tr>
<tr class="separator:ad2f1cc5853c896ed9bf35958841fee07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352dfdfbae15e78da5acf461fb427336"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a352dfdfbae15e78da5acf461fb427336">evmap_io_del_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, struct event *ev)</td></tr>
<tr class="separator:a352dfdfbae15e78da5acf461fb427336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d6c5d77bf1bcbd771a9f1d87de6a25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#aa7d6c5d77bf1bcbd771a9f1d87de6a25">evmap_io_active_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, short events)</td></tr>
<tr class="separator:aa7d6c5d77bf1bcbd771a9f1d87de6a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa047cb837b888e2156f7b93f882ab054"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#aa047cb837b888e2156f7b93f882ab054">evmap_signal_init</a> (struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *entry)</td></tr>
<tr class="separator:aa047cb837b888e2156f7b93f882ab054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f3e4d3c9bedd3737d9d3b54500d79c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a2f3e4d3c9bedd3737d9d3b54500d79c5">evmap_signal_add_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int sig, struct event *ev)</td></tr>
<tr class="separator:a2f3e4d3c9bedd3737d9d3b54500d79c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8fa9d06e74968b164d1c33265ba6094"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#ac8fa9d06e74968b164d1c33265ba6094">evmap_signal_del_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int sig, struct event *ev)</td></tr>
<tr class="separator:ac8fa9d06e74968b164d1c33265ba6094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3213b9db3a769fe7a8579ca25cd48fa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a3213b9db3a769fe7a8579ca25cd48fa7">evmap_signal_active_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t sig, int ncalls)</td></tr>
<tr class="separator:a3213b9db3a769fe7a8579ca25cd48fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff9ffdbf3f81c4e51cdc9f14487d33d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a2ff9ffdbf3f81c4e51cdc9f14487d33d">evmap_io_get_fdinfo_</a> (struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *map, evutil_socket_t fd)</td></tr>
<tr class="separator:a2ff9ffdbf3f81c4e51cdc9f14487d33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a4c3b36b2189fc5e40af6399d82dc8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, <a class="el" href="evmap_8c.html#aacb590c78370eefa46e4a72265f7754d">evmap_io_foreach_fd_cb</a> fn, void *arg)</td></tr>
<tr class="separator:a02a4c3b36b2189fc5e40af6399d82dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4b036d7904a162bd88503a3dd79391"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, <a class="el" href="evmap_8c.html#a5c5fe998f363bda54d4cb039de690549">evmap_signal_foreach_signal_cb</a> fn, void *arg)</td></tr>
<tr class="separator:afe4b036d7904a162bd88503a3dd79391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ccac88021e4b1123d240d8167e731f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a1ccac88021e4b1123d240d8167e731f9">evmap_io_reinit_iter_fn</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, struct <a class="el" href="structevmap__io.html">evmap_io</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, void *arg)</td></tr>
<tr class="separator:a1ccac88021e4b1123d240d8167e731f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30548f653f6465cfcebdd42dbe693c55"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a30548f653f6465cfcebdd42dbe693c55">evmap_signal_reinit_iter_fn</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int signum, struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, void *arg)</td></tr>
<tr class="separator:a30548f653f6465cfcebdd42dbe693c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6bf184dee8fd1da0ca746717e77b70"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a6c6bf184dee8fd1da0ca746717e77b70">evmap_reinit_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a6c6bf184dee8fd1da0ca746717e77b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bfd337f46dbba235d14d6de47eb3147"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a0bfd337f46dbba235d14d6de47eb3147">delete_all_in_dlist</a> (struct event_dlist *dlist)</td></tr>
<tr class="separator:a0bfd337f46dbba235d14d6de47eb3147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df73a091f7e489d981c451d2bcfd133"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a0df73a091f7e489d981c451d2bcfd133">evmap_io_delete_all_iter_fn</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, struct <a class="el" href="structevmap__io.html">evmap_io</a> *io_info, void *arg)</td></tr>
<tr class="separator:a0df73a091f7e489d981c451d2bcfd133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545d62e4989f992cb18db9f2b0ec9268"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a545d62e4989f992cb18db9f2b0ec9268">evmap_signal_delete_all_iter_fn</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int signum, struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *sig_info, void *arg)</td></tr>
<tr class="separator:a545d62e4989f992cb18db9f2b0ec9268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2157ece8e14c82e17b7386b942df9ead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a2157ece8e14c82e17b7386b942df9ead">evmap_delete_all_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a2157ece8e14c82e17b7386b942df9ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7cccfd7f605bb8cf30929b9c8df12c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#aa7cccfd7f605bb8cf30929b9c8df12c4">event_changelist_init_</a> (struct <a class="el" href="structevent__changelist.html">event_changelist</a> *changelist)</td></tr>
<tr class="separator:aa7cccfd7f605bb8cf30929b9c8df12c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a469caf678873bdf6ef4d639460f177"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a7a469caf678873bdf6ef4d639460f177">event_change_get_fdinfo</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, const struct <a class="el" href="structevent__change.html">event_change</a> *change)</td></tr>
<tr class="separator:a7a469caf678873bdf6ef4d639460f177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0497be402d7c81eaf6c557f26b0621a1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a0497be402d7c81eaf6c557f26b0621a1">event_changelist_assert_ok_foreach_iter_fn</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, struct <a class="el" href="structevmap__io.html">evmap_io</a> *io, void *arg)</td></tr>
<tr class="separator:a0497be402d7c81eaf6c557f26b0621a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad851cdf11e5aac18773c3fc6819b99a4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#ad851cdf11e5aac18773c3fc6819b99a4">event_changelist_assert_ok</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:ad851cdf11e5aac18773c3fc6819b99a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4856f8eca54cc17a26fc6f2e98f514a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#ae4856f8eca54cc17a26fc6f2e98f514a">event_changelist_remove_all_</a> (struct <a class="el" href="structevent__changelist.html">event_changelist</a> *changelist, struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:ae4856f8eca54cc17a26fc6f2e98f514a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7776028e11ff5cf2d12de2cadc028b56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a7776028e11ff5cf2d12de2cadc028b56">event_changelist_freemem_</a> (struct <a class="el" href="structevent__changelist.html">event_changelist</a> *changelist)</td></tr>
<tr class="separator:a7776028e11ff5cf2d12de2cadc028b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14cc4500596f5d4faa3dba98d0c693e6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a14cc4500596f5d4faa3dba98d0c693e6">event_changelist_grow</a> (struct <a class="el" href="structevent__changelist.html">event_changelist</a> *changelist)</td></tr>
<tr class="separator:a14cc4500596f5d4faa3dba98d0c693e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92df6be08044314d1a06af956955ff93"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structevent__change.html">event_change</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a92df6be08044314d1a06af956955ff93">event_changelist_get_or_construct</a> (struct <a class="el" href="structevent__changelist.html">event_changelist</a> *changelist, evutil_socket_t fd, short old_events, struct <a class="el" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a> *fdinfo)</td></tr>
<tr class="separator:a92df6be08044314d1a06af956955ff93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39cf42e57c876f26a3681c2e71e81161"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a39cf42e57c876f26a3681c2e71e81161">event_changelist_add_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, short old, short events, void *p)</td></tr>
<tr class="separator:a39cf42e57c876f26a3681c2e71e81161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e9e4da2dc3b367c53e291854f4702e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#aa5e9e4da2dc3b367c53e291854f4702e">event_changelist_del_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, short old, short events, void *p)</td></tr>
<tr class="separator:aa5e9e4da2dc3b367c53e291854f4702e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae51249fb8a4d883743f1c4b30c5533"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#afae51249fb8a4d883743f1c4b30c5533">evmap_io_check_integrity_fn</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, struct <a class="el" href="structevmap__io.html">evmap_io</a> *io_info, void *arg)</td></tr>
<tr class="separator:afae51249fb8a4d883743f1c4b30c5533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f64605bcae7a93943fe92e48d6f5850"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a0f64605bcae7a93943fe92e48d6f5850">evmap_signal_check_integrity_fn</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int signum, struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *sig_info, void *arg)</td></tr>
<tr class="separator:a0f64605bcae7a93943fe92e48d6f5850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c92d3f3a387835c15dfc99dd8760e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#a97c92d3f3a387835c15dfc99dd8760e6">evmap_check_integrity_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a97c92d3f3a387835c15dfc99dd8760e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b7fab4004e077aa7327a794861a3d6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#ae5b7fab4004e077aa7327a794861a3d6">evmap_io_foreach_event_fn</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, struct <a class="el" href="structevmap__io.html">evmap_io</a> *io_info, void *arg)</td></tr>
<tr class="separator:ae5b7fab4004e077aa7327a794861a3d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac186986fc747695ea9abca562ad91c3e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#ac186986fc747695ea9abca562ad91c3e">evmap_signal_foreach_event_fn</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int signum, struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *sig_info, void *arg)</td></tr>
<tr class="separator:ac186986fc747695ea9abca562ad91c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede3441b2878cc0c8a5600e65db32a73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap_8c.html#aede3441b2878cc0c8a5600e65db32a73">evmap_foreach_event_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, event_base_foreach_event_cb fn, void *arg)</td></tr>
<tr class="separator:aede3441b2878cc0c8a5600e65db32a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a23ad8a8a5f1c2b3682a63b13574cc999" name="a23ad8a8a5f1c2b3682a63b13574cc999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23ad8a8a5f1c2b3682a63b13574cc999">&#9670;&nbsp;</a></span>event_changelist_check</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define event_changelist_check</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">base</td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00775">775</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>

</div>
</div>
<a id="aa8286421d7f308749304893f2857d2b9" name="aa8286421d7f308749304893f2857d2b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8286421d7f308749304893f2857d2b9">&#9670;&nbsp;</a></span>FDINFO_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FDINFO_OFFSET&#160;&#160;&#160;sizeof(struct <a class="el" href="structevmap__io.html">evmap_io</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00187">187</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>

</div>
</div>
<a id="a882f34f7bf0415329b5aa8f43534e736" name="a882f34f7bf0415329b5aa8f43534e736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a882f34f7bf0415329b5aa8f43534e736">&#9670;&nbsp;</a></span>GET_IO_SLOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_IO_SLOT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">map, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a>(x,map,slot,type)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00184">184</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>

</div>
</div>
<a id="a417c0bb6d53645a68164cc0ce572fe2f" name="a417c0bb6d53645a68164cc0ce572fe2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a417c0bb6d53645a68164cc0ce572fe2f">&#9670;&nbsp;</a></span>GET_IO_SLOT_AND_CTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_IO_SLOT_AND_CTOR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">map, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ctor, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fdinfo_len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	<a class="el" href="evmap_8c.html#a0e2f82330cd3bdb9173d0bb12c018df0">GET_SIGNAL_SLOT_AND_CTOR</a>(x,map,slot,type,ctor,fdinfo_len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00185">185</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>

</div>
</div>
<a id="ada69b2c4af6a6714d7957138a5a33110" name="ada69b2c4af6a6714d7957138a5a33110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada69b2c4af6a6714d7957138a5a33110">&#9670;&nbsp;</a></span>GET_SIGNAL_SLOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_SIGNAL_SLOT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">map, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	(x) = (struct type *)((map)-&gt;entries[slot])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00162">162</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>

</div>
</div>
<a id="a0e2f82330cd3bdb9173d0bb12c018df0" name="a0e2f82330cd3bdb9173d0bb12c018df0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2f82330cd3bdb9173d0bb12c018df0">&#9670;&nbsp;</a></span>GET_SIGNAL_SLOT_AND_CTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_SIGNAL_SLOT_AND_CTOR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">map, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ctor, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fdinfo_len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                \</div>
<div class="line">        if ((map)-&gt;entries[slot] == NULL) {         \</div>
<div class="line">            (map)-&gt;entries[slot] =              \</div>
<div class="line">                <a class="code hl_define" href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a>(1,<span class="keyword">sizeof</span>(<span class="keyword">struct</span> type)+fdinfo_len); \</div>
<div class="line">            if (<a class="code hl_define" href="util-internal_8h.html#a940e95f19f5388e5c46b417c81b516a5">EVUTIL_UNLIKELY</a>((map)-&gt;entries[slot] == NULL)) \</div>
<div class="line">                return (-1);                \</div>
<div class="line">            (ctor)((<span class="keyword">struct</span> type *)(map)-&gt;entries[slot]);    \</div>
<div class="line">        }                           \</div>
<div class="line">        (x) = (<span class="keyword">struct</span> type *)((map)-&gt;entries[slot]);        \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="amm-internal_8h_html_a0c64a2a6527ed776255e0e4e380593dc"><div class="ttname"><a href="mm-internal_8h.html#a0c64a2a6527ed776255e0e4e380593dc">mm_calloc</a></div><div class="ttdeci">#define mm_calloc(count, size)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00076">mm-internal.h:76</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a940e95f19f5388e5c46b417c81b516a5"><div class="ttname"><a href="util-internal_8h.html#a940e95f19f5388e5c46b417c81b516a5">EVUTIL_UNLIKELY</a></div><div class="ttdeci">#define EVUTIL_UNLIKELY(p)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00349">util-internal.h:349</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00169">169</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aacb590c78370eefa46e4a72265f7754d" name="aacb590c78370eefa46e4a72265f7754d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacb590c78370eefa46e4a72265f7754d">&#9670;&nbsp;</a></span>evmap_io_foreach_fd_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* evmap_io_foreach_fd_cb) (struct <a class="el" href="structevent__base.html">event_base</a> *, evutil_socket_t, struct <a class="el" href="structevmap__io.html">evmap_io</a> *, void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00529">529</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>

</div>
</div>
<a id="a5c5fe998f363bda54d4cb039de690549" name="a5c5fe998f363bda54d4cb039de690549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c5fe998f363bda54d4cb039de690549">&#9670;&nbsp;</a></span>evmap_signal_foreach_signal_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* evmap_signal_foreach_signal_cb) (struct <a class="el" href="structevent__base.html">event_base</a> *, int, struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *, void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00571">571</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0bfd337f46dbba235d14d6de47eb3147" name="a0bfd337f46dbba235d14d6de47eb3147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bfd337f46dbba235d14d6de47eb3147">&#9670;&nbsp;</a></span>delete_all_in_dlist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int delete_all_in_dlist </td>
          <td>(</td>
          <td class="paramtype">struct event_dlist *&#160;</td>
          <td class="paramname"><em>dlist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00668">668</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  669</span>{</div>
<div class="line"><span class="lineno">  670</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordflow">while</span> ((ev = LIST_FIRST(dlist)))</div>
<div class="line"><span class="lineno">  672</span>        <a class="code hl_function" href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a>(ev);</div>
<div class="line"><span class="lineno">  673</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  674</span>}</div>
<div class="ttc" id="aevent_8c_html_a4d01ab982328facb6ce4b584390b86ab"><div class="ttname"><a href="event_8c.html#a4d01ab982328facb6ce4b584390b86ab">event_del</a></div><div class="ttdeci">int event_del(struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02787">event.c:2787</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8c_source.html#l02787">event_del()</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00678">evmap_io_delete_all_iter_fn()</a>, and <a class="el" href="evmap_8c_source.html#l00686">evmap_signal_delete_all_iter_fn()</a>.</p>

</div>
</div>
<a id="a7a469caf678873bdf6ef4d639460f177" name="a7a469caf678873bdf6ef4d639460f177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a469caf678873bdf6ef4d639460f177">&#9670;&nbsp;</a></span>event_change_get_fdinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a> * event_change_get_fdinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structevent__change.html">event_change</a> *&#160;</td>
          <td class="paramname"><em>change</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Helper: return the changelist_fdinfo corresponding to a given change. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00717">717</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  719</span>{</div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordtype">char</span> *ptr;</div>
<div class="line"><span class="lineno">  721</span>    <span class="keywordflow">if</span> (change-&gt;<a class="code hl_variable" href="structevent__change.html#a8d18b6a6dcb7d7dae0bb972ad71c1896">read_change</a> &amp; <a class="code hl_define" href="changelist-internal_8h.html#aac4d0d3c13044ea193e25ca83795fc8d">EV_CHANGE_SIGNAL</a>) {</div>
<div class="line"><span class="lineno">  722</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  723</span>        <a class="code hl_define" href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>, change-&gt;<a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a>, <a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a>);</div>
<div class="line"><span class="lineno">  724</span>        ptr = ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a>);</div>
<div class="line"><span class="lineno">  725</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  726</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  727</span>        <a class="code hl_define" href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>, change-&gt;<a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a>, <a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  728</span>        ptr = ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  729</span>    }</div>
<div class="line"><span class="lineno">  730</span>    <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)ptr;</div>
<div class="line"><span class="lineno">  731</span>}</div>
<div class="ttc" id="achangelist-internal_8h_html_aac4d0d3c13044ea193e25ca83795fc8d"><div class="ttname"><a href="changelist-internal_8h.html#aac4d0d3c13044ea193e25ca83795fc8d">EV_CHANGE_SIGNAL</a></div><div class="ttdeci">#define EV_CHANGE_SIGNAL</div><div class="ttdef"><b>Definition:</b> <a href="changelist-internal_8h_source.html#l00075">changelist-internal.h:75</a></div></div>
<div class="ttc" id="aevmap_8c_html_a882f34f7bf0415329b5aa8f43534e736"><div class="ttname"><a href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a></div><div class="ttdeci">#define GET_IO_SLOT(x, map, slot, type)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00184">evmap.c:184</a></div></div>
<div class="ttc" id="aevmap_8c_html_ada69b2c4af6a6714d7957138a5a33110"><div class="ttname"><a href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a></div><div class="ttdeci">#define GET_SIGNAL_SLOT(x, map, slot, type)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00162">evmap.c:162</a></div></div>
<div class="ttc" id="astructevent__base_html_a8570aaf68a16863aa88fd99bad159295"><div class="ttname"><a href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">event_base::io</a></div><div class="ttdeci">struct event_io_map io</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00282">event-internal.h:282</a></div></div>
<div class="ttc" id="astructevent__base_html_adb0f80f46fb3cd2385286c819aeaff9d"><div class="ttname"><a href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">event_base::sigmap</a></div><div class="ttdeci">struct event_signal_map sigmap</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00285">event-internal.h:285</a></div></div>
<div class="ttc" id="astructevent__change_html_a8d18b6a6dcb7d7dae0bb972ad71c1896"><div class="ttname"><a href="structevent__change.html#a8d18b6a6dcb7d7dae0bb972ad71c1896">event_change::read_change</a></div><div class="ttdeci">ev_uint8_t read_change</div><div class="ttdef"><b>Definition:</b> <a href="changelist-internal_8h_source.html#l00063">changelist-internal.h:63</a></div></div>
<div class="ttc" id="astructevent__change_html_ad9b64334897ee4b3619e3af70d6d2425"><div class="ttname"><a href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">event_change::fd</a></div><div class="ttdeci">evutil_socket_t fd</div><div class="ttdef"><b>Definition:</b> <a href="changelist-internal_8h_source.html#l00055">changelist-internal.h:55</a></div></div>
<div class="ttc" id="astructevmap__io_html"><div class="ttname"><a href="structevmap__io.html">evmap_io</a></div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00059">evmap.c:59</a></div></div>
<div class="ttc" id="astructevmap__signal_html"><div class="ttname"><a href="structevmap__signal.html">evmap_signal</a></div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00068">evmap.c:68</a></div></div>
<div class="ttc" id="atests_8c_html_a06a3e29ada83211a695a49e8f7405842"><div class="ttname"><a href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a></div><div class="ttdeci">static secp256k1_context * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_8c_source.html#l00034">tests.c:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="changelist-internal_8h_source.html#l00075">EV_CHANGE_SIGNAL</a>, <a class="el" href="changelist-internal_8h_source.html#l00055">event_change::fd</a>, <a class="el" href="evmap_8c_source.html#l00184">GET_IO_SLOT</a>, <a class="el" href="evmap_8c_source.html#l00162">GET_SIGNAL_SLOT</a>, <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>, <a class="el" href="changelist-internal_8h_source.html#l00063">event_change::read_change</a>, and <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00752">event_changelist_assert_ok()</a>, and <a class="el" href="evmap_8c_source.html#l00779">event_changelist_remove_all_()</a>.</p>

</div>
</div>
<a id="a39cf42e57c876f26a3681c2e71e81161" name="a39cf42e57c876f26a3681c2e71e81161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39cf42e57c876f26a3681c2e71e81161">&#9670;&nbsp;</a></span>event_changelist_add_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_changelist_add_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Implementation of eventop_add that queues the event in a changelist. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00866">866</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  868</span>{</div>
<div class="line"><span class="lineno">  869</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__changelist.html">event_changelist</a> *changelist = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a91a445ff7af6e157a35b3b2276b5f1a2">changelist</a>;</div>
<div class="line"><span class="lineno">  870</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a> *fdinfo = p;</div>
<div class="line"><span class="lineno">  871</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__change.html">event_change</a> *change;</div>
<div class="line"><span class="lineno">  872</span>    ev_uint8_t evchange = <a class="code hl_define" href="changelist-internal_8h.html#a83b60f3005b4d9b2f8fa6e12314081b2">EV_CHANGE_ADD</a> | (events &amp; (EV_ET|EV_PERSIST|EV_SIGNAL));</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>    <a class="code hl_define" href="evmap_8c.html#a23ad8a8a5f1c2b3682a63b13574cc999">event_changelist_check</a>(base);</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span>    change = <a class="code hl_function" href="evmap_8c.html#a92df6be08044314d1a06af956955ff93">event_changelist_get_or_construct</a>(changelist, <a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a>, old, fdinfo);</div>
<div class="line"><span class="lineno">  877</span>    <span class="keywordflow">if</span> (!change)</div>
<div class="line"><span class="lineno">  878</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>    <span class="comment">/* An add replaces any previous delete, but doesn&#39;t result in a no-op,</span></div>
<div class="line"><span class="lineno">  881</span><span class="comment">     * since the delete might fail (because the fd had been closed since</span></div>
<div class="line"><span class="lineno">  882</span><span class="comment">     * the last add, for instance. */</span></div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>    <span class="keywordflow">if</span> (events &amp; (EV_READ|EV_SIGNAL))</div>
<div class="line"><span class="lineno">  885</span>        change-&gt;<a class="code hl_variable" href="structevent__change.html#a8d18b6a6dcb7d7dae0bb972ad71c1896">read_change</a> = evchange;</div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span> (events &amp; EV_WRITE)</div>
<div class="line"><span class="lineno">  887</span>        change-&gt;<a class="code hl_variable" href="structevent__change.html#ae9787f67f03127e2b2ab7d18df9932d3">write_change</a> = evchange;</div>
<div class="line"><span class="lineno">  888</span>    <span class="keywordflow">if</span> (events &amp; EV_CLOSED)</div>
<div class="line"><span class="lineno">  889</span>        change-&gt;<a class="code hl_variable" href="structevent__change.html#af9fe3445272f7c01f8b44d9900c57062">close_change</a> = evchange;</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>    <a class="code hl_define" href="evmap_8c.html#a23ad8a8a5f1c2b3682a63b13574cc999">event_changelist_check</a>(base);</div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  893</span>}</div>
<div class="ttc" id="achangelist-internal_8h_html_a83b60f3005b4d9b2f8fa6e12314081b2"><div class="ttname"><a href="changelist-internal_8h.html#a83b60f3005b4d9b2f8fa6e12314081b2">EV_CHANGE_ADD</a></div><div class="ttdeci">#define EV_CHANGE_ADD</div><div class="ttdef"><b>Definition:</b> <a href="changelist-internal_8h_source.html#l00071">changelist-internal.h:71</a></div></div>
<div class="ttc" id="aevmap_8c_html_a23ad8a8a5f1c2b3682a63b13574cc999"><div class="ttname"><a href="evmap_8c.html#a23ad8a8a5f1c2b3682a63b13574cc999">event_changelist_check</a></div><div class="ttdeci">#define event_changelist_check(base)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00775">evmap.c:775</a></div></div>
<div class="ttc" id="aevmap_8c_html_a92df6be08044314d1a06af956955ff93"><div class="ttname"><a href="evmap_8c.html#a92df6be08044314d1a06af956955ff93">event_changelist_get_or_construct</a></div><div class="ttdeci">static struct event_change * event_changelist_get_or_construct(struct event_changelist *changelist, evutil_socket_t fd, short old_events, struct event_changelist_fdinfo *fdinfo)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00835">evmap.c:835</a></div></div>
<div class="ttc" id="astructevent__base_html_a91a445ff7af6e157a35b3b2276b5f1a2"><div class="ttname"><a href="structevent__base.html#a91a445ff7af6e157a35b3b2276b5f1a2">event_base::changelist</a></div><div class="ttdeci">struct event_changelist changelist</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00217">event-internal.h:217</a></div></div>
<div class="ttc" id="astructevent__change_html"><div class="ttname"><a href="structevent__change.html">event_change</a></div><div class="ttdef"><b>Definition:</b> <a href="changelist-internal_8h_source.html#l00053">changelist-internal.h:53</a></div></div>
<div class="ttc" id="astructevent__change_html_ae9787f67f03127e2b2ab7d18df9932d3"><div class="ttname"><a href="structevent__change.html#ae9787f67f03127e2b2ab7d18df9932d3">event_change::write_change</a></div><div class="ttdeci">ev_uint8_t write_change</div><div class="ttdef"><b>Definition:</b> <a href="changelist-internal_8h_source.html#l00064">changelist-internal.h:64</a></div></div>
<div class="ttc" id="astructevent__change_html_af9fe3445272f7c01f8b44d9900c57062"><div class="ttname"><a href="structevent__change.html#af9fe3445272f7c01f8b44d9900c57062">event_change::close_change</a></div><div class="ttdeci">ev_uint8_t close_change</div><div class="ttdef"><b>Definition:</b> <a href="changelist-internal_8h_source.html#l00065">changelist-internal.h:65</a></div></div>
<div class="ttc" id="astructevent__changelist__fdinfo_html"><div class="ttname"><a href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a></div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00702">evmap.c:702</a></div></div>
<div class="ttc" id="astructevent__changelist_html"><div class="ttname"><a href="structevent__changelist.html">event_changelist</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00183">event-internal.h:183</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00217">event_base::changelist</a>, <a class="el" href="changelist-internal_8h_source.html#l00065">event_change::close_change</a>, <a class="el" href="changelist-internal_8h_source.html#l00071">EV_CHANGE_ADD</a>, <a class="el" href="evmap_8c_source.html#l00775">event_changelist_check</a>, <a class="el" href="evmap_8c_source.html#l00835">event_changelist_get_or_construct()</a>, <a class="el" href="changelist-internal_8h_source.html#l00055">event_change::fd</a>, <a class="el" href="changelist-internal_8h_source.html#l00063">event_change::read_change</a>, and <a class="el" href="changelist-internal_8h_source.html#l00064">event_change::write_change</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l01002">evmap_check_integrity_()</a>.</p>

</div>
</div>
<a id="ad851cdf11e5aac18773c3fc6819b99a4" name="ad851cdf11e5aac18773c3fc6819b99a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad851cdf11e5aac18773c3fc6819b99a4">&#9670;&nbsp;</a></span>event_changelist_assert_ok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_changelist_assert_ok </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Make sure that the changelist is consistent with the evmap structures. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00752">752</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  753</span>{</div>
<div class="line"><span class="lineno">  754</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  755</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__changelist.html">event_changelist</a> *changelist = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a91a445ff7af6e157a35b3b2276b5f1a2">changelist</a>;</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a31f53c97c54036394b7073d5f8eba426">changes_size</a> &gt;= changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#add72d6d493647d151fb67f02d3118d0d">n_changes</a>);</div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordflow">for</span> (i = 0; i &lt; changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#add72d6d493647d151fb67f02d3118d0d">n_changes</a>; ++i) {</div>
<div class="line"><span class="lineno">  759</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevent__change.html">event_change</a> *c = &amp;changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a>[i];</div>
<div class="line"><span class="lineno">  760</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a> *f;</div>
<div class="line"><span class="lineno">  761</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(c-&gt;<a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a> &gt;= 0);</div>
<div class="line"><span class="lineno">  762</span>        f = <a class="code hl_function" href="evmap_8c.html#a7a469caf678873bdf6ef4d639460f177">event_change_get_fdinfo</a>(base, c);</div>
<div class="line"><span class="lineno">  763</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(f);</div>
<div class="line"><span class="lineno">  764</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(f-&gt;<a class="code hl_variable" href="structevent__changelist__fdinfo.html#ad94f802cf7e16ba8147eff1b678bc058">idxplus1</a> == i + 1);</div>
<div class="line"><span class="lineno">  765</span>    }</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span>    <a class="code hl_function" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a>(base,</div>
<div class="line"><span class="lineno">  768</span>        <a class="code hl_function" href="evmap_8c.html#a0497be402d7c81eaf6c557f26b0621a1">event_changelist_assert_ok_foreach_iter_fn</a>,</div>
<div class="line"><span class="lineno">  769</span>        NULL);</div>
<div class="line"><span class="lineno">  770</span>}</div>
<div class="ttc" id="aevmap_8c_html_a02a4c3b36b2189fc5e40af6399d82dc8"><div class="ttname"><a href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a></div><div class="ttdeci">static int evmap_io_foreach_fd(struct event_base *base, evmap_io_foreach_fd_cb fn, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00546">evmap.c:546</a></div></div>
<div class="ttc" id="aevmap_8c_html_a0497be402d7c81eaf6c557f26b0621a1"><div class="ttname"><a href="evmap_8c.html#a0497be402d7c81eaf6c557f26b0621a1">event_changelist_assert_ok_foreach_iter_fn</a></div><div class="ttdeci">static int event_changelist_assert_ok_foreach_iter_fn(struct event_base *base, evutil_socket_t fd, struct evmap_io *io, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00735">evmap.c:735</a></div></div>
<div class="ttc" id="aevmap_8c_html_a7a469caf678873bdf6ef4d639460f177"><div class="ttname"><a href="evmap_8c.html#a7a469caf678873bdf6ef4d639460f177">event_change_get_fdinfo</a></div><div class="ttdeci">static struct event_changelist_fdinfo * event_change_get_fdinfo(struct event_base *base, const struct event_change *change)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00717">evmap.c:717</a></div></div>
<div class="ttc" id="astructevent__changelist__fdinfo_html_ad94f802cf7e16ba8147eff1b678bc058"><div class="ttname"><a href="structevent__changelist__fdinfo.html#ad94f802cf7e16ba8147eff1b678bc058">event_changelist_fdinfo::idxplus1</a></div><div class="ttdeci">int idxplus1</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00703">evmap.c:703</a></div></div>
<div class="ttc" id="astructevent__changelist_html_a31f53c97c54036394b7073d5f8eba426"><div class="ttname"><a href="structevent__changelist.html#a31f53c97c54036394b7073d5f8eba426">event_changelist::changes_size</a></div><div class="ttdeci">int changes_size</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00186">event-internal.h:186</a></div></div>
<div class="ttc" id="astructevent__changelist_html_a7dab13c324bb91d0afc8bfcfdfc0fb8a"><div class="ttname"><a href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">event_changelist::changes</a></div><div class="ttdeci">struct event_change * changes</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00184">event-internal.h:184</a></div></div>
<div class="ttc" id="astructevent__changelist_html_add72d6d493647d151fb67f02d3118d0d"><div class="ttname"><a href="structevent__changelist.html#add72d6d493647d151fb67f02d3118d0d">event_changelist::n_changes</a></div><div class="ttdeci">int n_changes</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00185">event-internal.h:185</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7365930d8b30f4c1ab3cef31a8622731"><div class="ttname"><a href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a></div><div class="ttdeci">#define EVUTIL_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00363">util-internal.h:363</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00217">event_base::changelist</a>, <a class="el" href="event-internal_8h_source.html#l00184">event_changelist::changes</a>, <a class="el" href="event-internal_8h_source.html#l00186">event_changelist::changes_size</a>, <a class="el" href="evmap_8c_source.html#l00717">event_change_get_fdinfo()</a>, <a class="el" href="evmap_8c_source.html#l00735">event_changelist_assert_ok_foreach_iter_fn()</a>, <a class="el" href="evmap_8c_source.html#l00546">evmap_io_foreach_fd()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="changelist-internal_8h_source.html#l00055">event_change::fd</a>, <a class="el" href="evmap_8c_source.html#l00703">event_changelist_fdinfo::idxplus1</a>, and <a class="el" href="event-internal_8h_source.html#l00185">event_changelist::n_changes</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l01002">evmap_check_integrity_()</a>.</p>

</div>
</div>
<a id="a0497be402d7c81eaf6c557f26b0621a1" name="a0497be402d7c81eaf6c557f26b0621a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0497be402d7c81eaf6c557f26b0621a1">&#9670;&nbsp;</a></span>event_changelist_assert_ok_foreach_iter_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_changelist_assert_ok_foreach_iter_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmap__io.html">evmap_io</a> *&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Callback helper for event_changelist_assert_ok </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00735">735</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  738</span>{</div>
<div class="line"><span class="lineno">  739</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__changelist.html">event_changelist</a> *changelist = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a91a445ff7af6e157a35b3b2276b5f1a2">changelist</a>;</div>
<div class="line"><span class="lineno">  740</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a> *f;</div>
<div class="line"><span class="lineno">  741</span>    f = (<span class="keywordtype">void</span>*)</div>
<div class="line"><span class="lineno">  742</span>        ( ((<span class="keywordtype">char</span>*)io) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a>) );</div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">if</span> (f-&gt;<a class="code hl_variable" href="structevent__changelist__fdinfo.html#ad94f802cf7e16ba8147eff1b678bc058">idxplus1</a>) {</div>
<div class="line"><span class="lineno">  744</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevent__change.html">event_change</a> *c = &amp;changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a>[f-&gt;<a class="code hl_variable" href="structevent__changelist__fdinfo.html#ad94f802cf7e16ba8147eff1b678bc058">idxplus1</a> - 1];</div>
<div class="line"><span class="lineno">  745</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(c-&gt;<a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a> == <a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a>);</div>
<div class="line"><span class="lineno">  746</span>    }</div>
<div class="line"><span class="lineno">  747</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  748</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00217">event_base::changelist</a>, <a class="el" href="event-internal_8h_source.html#l00184">event_changelist::changes</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="changelist-internal_8h_source.html#l00055">event_change::fd</a>, and <a class="el" href="evmap_8c_source.html#l00703">event_changelist_fdinfo::idxplus1</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00752">event_changelist_assert_ok()</a>.</p>

</div>
</div>
<a id="aa5e9e4da2dc3b367c53e291854f4702e" name="aa5e9e4da2dc3b367c53e291854f4702e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e9e4da2dc3b367c53e291854f4702e">&#9670;&nbsp;</a></span>event_changelist_del_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_changelist_del_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Implementation of eventop_del that queues the event in a changelist. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00896">896</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  898</span>{</div>
<div class="line"><span class="lineno">  899</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__changelist.html">event_changelist</a> *changelist = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a91a445ff7af6e157a35b3b2276b5f1a2">changelist</a>;</div>
<div class="line"><span class="lineno">  900</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a> *fdinfo = p;</div>
<div class="line"><span class="lineno">  901</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__change.html">event_change</a> *change;</div>
<div class="line"><span class="lineno">  902</span>    ev_uint8_t del = <a class="code hl_define" href="changelist-internal_8h.html#a602d55ebc8889cb99e35c11fd46653f0">EV_CHANGE_DEL</a> | (events &amp; EV_ET);</div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>    <a class="code hl_define" href="evmap_8c.html#a23ad8a8a5f1c2b3682a63b13574cc999">event_changelist_check</a>(base);</div>
<div class="line"><span class="lineno">  905</span>    change = <a class="code hl_function" href="evmap_8c.html#a92df6be08044314d1a06af956955ff93">event_changelist_get_or_construct</a>(changelist, <a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a>, old, fdinfo);</div>
<div class="line"><span class="lineno">  906</span>    <a class="code hl_define" href="evmap_8c.html#a23ad8a8a5f1c2b3682a63b13574cc999">event_changelist_check</a>(base);</div>
<div class="line"><span class="lineno">  907</span>    <span class="keywordflow">if</span> (!change)</div>
<div class="line"><span class="lineno">  908</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span>    <span class="comment">/* A delete on an event set that doesn&#39;t contain the event to be</span></div>
<div class="line"><span class="lineno">  911</span><span class="comment">       deleted produces a no-op.  This effectively emoves any previous</span></div>
<div class="line"><span class="lineno">  912</span><span class="comment">       uncommitted add, rather than replacing it: on those platforms where</span></div>
<div class="line"><span class="lineno">  913</span><span class="comment">       &quot;add, delete, dispatch&quot; is not the same as &quot;no-op, dispatch&quot;, we</span></div>
<div class="line"><span class="lineno">  914</span><span class="comment">       want the no-op behavior.</span></div>
<div class="line"><span class="lineno">  915</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  916</span><span class="comment">       If we have a no-op item, we could remove it it from the list</span></div>
<div class="line"><span class="lineno">  917</span><span class="comment">       entirely, but really there&#39;s not much point: skipping the no-op</span></div>
<div class="line"><span class="lineno">  918</span><span class="comment">       change when we do the dispatch later is far cheaper than rejuggling</span></div>
<div class="line"><span class="lineno">  919</span><span class="comment">       the array now.</span></div>
<div class="line"><span class="lineno">  920</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  921</span><span class="comment">       As this stands, it also lets through deletions of events that are</span></div>
<div class="line"><span class="lineno">  922</span><span class="comment">       not currently set.</span></div>
<div class="line"><span class="lineno">  923</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>    <span class="keywordflow">if</span> (events &amp; (EV_READ|EV_SIGNAL)) {</div>
<div class="line"><span class="lineno">  926</span>        <span class="keywordflow">if</span> (!(change-&gt;<a class="code hl_variable" href="structevent__change.html#a22035d9b025a95947c0d5dbf3b1cceef">old_events</a> &amp; (EV_READ | EV_SIGNAL)))</div>
<div class="line"><span class="lineno">  927</span>            change-&gt;<a class="code hl_variable" href="structevent__change.html#a8d18b6a6dcb7d7dae0bb972ad71c1896">read_change</a> = 0;</div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  929</span>            change-&gt;<a class="code hl_variable" href="structevent__change.html#a8d18b6a6dcb7d7dae0bb972ad71c1896">read_change</a> = del;</div>
<div class="line"><span class="lineno">  930</span>    }</div>
<div class="line"><span class="lineno">  931</span>    <span class="keywordflow">if</span> (events &amp; EV_WRITE) {</div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">if</span> (!(change-&gt;<a class="code hl_variable" href="structevent__change.html#a22035d9b025a95947c0d5dbf3b1cceef">old_events</a> &amp; EV_WRITE))</div>
<div class="line"><span class="lineno">  933</span>            change-&gt;<a class="code hl_variable" href="structevent__change.html#ae9787f67f03127e2b2ab7d18df9932d3">write_change</a> = 0;</div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  935</span>            change-&gt;<a class="code hl_variable" href="structevent__change.html#ae9787f67f03127e2b2ab7d18df9932d3">write_change</a> = del;</div>
<div class="line"><span class="lineno">  936</span>    }</div>
<div class="line"><span class="lineno">  937</span>    <span class="keywordflow">if</span> (events &amp; EV_CLOSED) {</div>
<div class="line"><span class="lineno">  938</span>        <span class="keywordflow">if</span> (!(change-&gt;<a class="code hl_variable" href="structevent__change.html#a22035d9b025a95947c0d5dbf3b1cceef">old_events</a> &amp; EV_CLOSED))</div>
<div class="line"><span class="lineno">  939</span>            change-&gt;<a class="code hl_variable" href="structevent__change.html#af9fe3445272f7c01f8b44d9900c57062">close_change</a> = 0;</div>
<div class="line"><span class="lineno">  940</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  941</span>            change-&gt;<a class="code hl_variable" href="structevent__change.html#af9fe3445272f7c01f8b44d9900c57062">close_change</a> = del;</div>
<div class="line"><span class="lineno">  942</span>    }</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>    <a class="code hl_define" href="evmap_8c.html#a23ad8a8a5f1c2b3682a63b13574cc999">event_changelist_check</a>(base);</div>
<div class="line"><span class="lineno">  945</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  946</span>}</div>
<div class="ttc" id="achangelist-internal_8h_html_a602d55ebc8889cb99e35c11fd46653f0"><div class="ttname"><a href="changelist-internal_8h.html#a602d55ebc8889cb99e35c11fd46653f0">EV_CHANGE_DEL</a></div><div class="ttdeci">#define EV_CHANGE_DEL</div><div class="ttdef"><b>Definition:</b> <a href="changelist-internal_8h_source.html#l00073">changelist-internal.h:73</a></div></div>
<div class="ttc" id="astructevent__change_html_a22035d9b025a95947c0d5dbf3b1cceef"><div class="ttname"><a href="structevent__change.html#a22035d9b025a95947c0d5dbf3b1cceef">event_change::old_events</a></div><div class="ttdeci">short old_events</div><div class="ttdef"><b>Definition:</b> <a href="changelist-internal_8h_source.html#l00058">changelist-internal.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00217">event_base::changelist</a>, <a class="el" href="changelist-internal_8h_source.html#l00065">event_change::close_change</a>, <a class="el" href="changelist-internal_8h_source.html#l00073">EV_CHANGE_DEL</a>, <a class="el" href="evmap_8c_source.html#l00775">event_changelist_check</a>, <a class="el" href="evmap_8c_source.html#l00835">event_changelist_get_or_construct()</a>, <a class="el" href="changelist-internal_8h_source.html#l00055">event_change::fd</a>, <a class="el" href="changelist-internal_8h_source.html#l00058">event_change::old_events</a>, <a class="el" href="changelist-internal_8h_source.html#l00063">event_change::read_change</a>, and <a class="el" href="changelist-internal_8h_source.html#l00064">event_change::write_change</a>.</p>

</div>
</div>
<a id="a7776028e11ff5cf2d12de2cadc028b56" name="a7776028e11ff5cf2d12de2cadc028b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7776028e11ff5cf2d12de2cadc028b56">&#9670;&nbsp;</a></span>event_changelist_freemem_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_changelist_freemem_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__changelist.html">event_changelist</a> *&#160;</td>
          <td class="paramname"><em>changelist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Free all memory held in a changelist. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00800">800</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  801</span>{</div>
<div class="line"><span class="lineno">  802</span>    <span class="keywordflow">if</span> (changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a>)</div>
<div class="line"><span class="lineno">  803</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a>);</div>
<div class="line"><span class="lineno">  804</span>    <a class="code hl_function" href="evmap_8c.html#aa7cccfd7f605bb8cf30929b9c8df12c4">event_changelist_init_</a>(changelist); <span class="comment">/* zero it all out. */</span></div>
<div class="line"><span class="lineno">  805</span>}</div>
<div class="ttc" id="aevmap_8c_html_aa7cccfd7f605bb8cf30929b9c8df12c4"><div class="ttname"><a href="evmap_8c.html#aa7cccfd7f605bb8cf30929b9c8df12c4">event_changelist_init_</a></div><div class="ttdeci">void event_changelist_init_(struct event_changelist *changelist)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00708">evmap.c:708</a></div></div>
<div class="ttc" id="amm-internal_8h_html_af7d87798652aaa8398bb9c0504256f16"><div class="ttname"><a href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a></div><div class="ttdeci">#define mm_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00079">mm-internal.h:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00184">event_changelist::changes</a>, <a class="el" href="evmap_8c_source.html#l00708">event_changelist_init_()</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>, and <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>.</p>

</div>
</div>
<a id="a92df6be08044314d1a06af956955ff93" name="a92df6be08044314d1a06af956955ff93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92df6be08044314d1a06af956955ff93">&#9670;&nbsp;</a></span>event_changelist_get_or_construct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structevent__change.html">event_change</a> * event_changelist_get_or_construct </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__changelist.html">event_changelist</a> *&#160;</td>
          <td class="paramname"><em>changelist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>old_events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a> *&#160;</td>
          <td class="paramname"><em>fdinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Return a pointer to the changelist entry for the file descriptor or signal 'fd', whose fdinfo is 'fdinfo'. If none exists, construct it, setting its old_events field to old_events. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00835">835</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  839</span>{</div>
<div class="line"><span class="lineno">  840</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__change.html">event_change</a> *change;</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>    <span class="keywordflow">if</span> (fdinfo-&gt;<a class="code hl_variable" href="structevent__changelist__fdinfo.html#ad94f802cf7e16ba8147eff1b678bc058">idxplus1</a> == 0) {</div>
<div class="line"><span class="lineno">  843</span>        <span class="keywordtype">int</span> idx;</div>
<div class="line"><span class="lineno">  844</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#add72d6d493647d151fb67f02d3118d0d">n_changes</a> &lt;= changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a31f53c97c54036394b7073d5f8eba426">changes_size</a>);</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">if</span> (changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#add72d6d493647d151fb67f02d3118d0d">n_changes</a> == changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a31f53c97c54036394b7073d5f8eba426">changes_size</a>) {</div>
<div class="line"><span class="lineno">  847</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="evmap_8c.html#a14cc4500596f5d4faa3dba98d0c693e6">event_changelist_grow</a>(changelist) &lt; 0)</div>
<div class="line"><span class="lineno">  848</span>                <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  849</span>        }</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>        idx = changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#add72d6d493647d151fb67f02d3118d0d">n_changes</a>++;</div>
<div class="line"><span class="lineno">  852</span>        change = &amp;changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a>[idx];</div>
<div class="line"><span class="lineno">  853</span>        fdinfo-&gt;<a class="code hl_variable" href="structevent__changelist__fdinfo.html#ad94f802cf7e16ba8147eff1b678bc058">idxplus1</a> = idx + 1;</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>        memset(change, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevent__change.html">event_change</a>));</div>
<div class="line"><span class="lineno">  856</span>        change-&gt;<a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a> = <a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a>;</div>
<div class="line"><span class="lineno">  857</span>        change-&gt;<a class="code hl_variable" href="structevent__change.html#a22035d9b025a95947c0d5dbf3b1cceef">old_events</a> = <a class="code hl_variable" href="structevent__change.html#a22035d9b025a95947c0d5dbf3b1cceef">old_events</a>;</div>
<div class="line"><span class="lineno">  858</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  859</span>        change = &amp;changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a>[fdinfo-&gt;<a class="code hl_variable" href="structevent__changelist__fdinfo.html#ad94f802cf7e16ba8147eff1b678bc058">idxplus1</a> - 1];</div>
<div class="line"><span class="lineno">  860</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(change-&gt;<a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a> == <a class="code hl_variable" href="structevent__change.html#ad9b64334897ee4b3619e3af70d6d2425">fd</a>);</div>
<div class="line"><span class="lineno">  861</span>    }</div>
<div class="line"><span class="lineno">  862</span>    <span class="keywordflow">return</span> change;</div>
<div class="line"><span class="lineno">  863</span>}</div>
<div class="ttc" id="aevmap_8c_html_a14cc4500596f5d4faa3dba98d0c693e6"><div class="ttname"><a href="evmap_8c.html#a14cc4500596f5d4faa3dba98d0c693e6">event_changelist_grow</a></div><div class="ttdeci">static int event_changelist_grow(struct event_changelist *changelist)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00809">evmap.c:809</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00184">event_changelist::changes</a>, <a class="el" href="event-internal_8h_source.html#l00186">event_changelist::changes_size</a>, <a class="el" href="evmap_8c_source.html#l00809">event_changelist_grow()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="changelist-internal_8h_source.html#l00055">event_change::fd</a>, <a class="el" href="evmap_8c_source.html#l00703">event_changelist_fdinfo::idxplus1</a>, <a class="el" href="event-internal_8h_source.html#l00185">event_changelist::n_changes</a>, and <a class="el" href="changelist-internal_8h_source.html#l00058">event_change::old_events</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00866">event_changelist_add_()</a>, and <a class="el" href="evmap_8c_source.html#l00896">event_changelist_del_()</a>.</p>

</div>
</div>
<a id="a14cc4500596f5d4faa3dba98d0c693e6" name="a14cc4500596f5d4faa3dba98d0c693e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14cc4500596f5d4faa3dba98d0c693e6">&#9670;&nbsp;</a></span>event_changelist_grow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_changelist_grow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__changelist.html">event_changelist</a> *&#160;</td>
          <td class="paramname"><em>changelist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Increase the size of 'changelist' to hold more changes. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00809">809</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  810</span>{</div>
<div class="line"><span class="lineno">  811</span>    <span class="keywordtype">int</span> new_size;</div>
<div class="line"><span class="lineno">  812</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__change.html">event_change</a> *new_changes;</div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordflow">if</span> (changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a31f53c97c54036394b7073d5f8eba426">changes_size</a> &lt; 64)</div>
<div class="line"><span class="lineno">  814</span>        new_size = 64;</div>
<div class="line"><span class="lineno">  815</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  816</span>        new_size = changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a31f53c97c54036394b7073d5f8eba426">changes_size</a> * 2;</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>    new_changes = <a class="code hl_define" href="mm-internal_8h.html#a8bef7e1064a80515bfb955a2a041f9e8">mm_realloc</a>(changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a>,</div>
<div class="line"><span class="lineno">  819</span>        new_size * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevent__change.html">event_change</a>));</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a940e95f19f5388e5c46b417c81b516a5">EVUTIL_UNLIKELY</a>(new_changes == NULL))</div>
<div class="line"><span class="lineno">  822</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>    changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a> = new_changes;</div>
<div class="line"><span class="lineno">  825</span>    changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a31f53c97c54036394b7073d5f8eba426">changes_size</a> = new_size;</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  828</span>}</div>
<div class="ttc" id="amm-internal_8h_html_a8bef7e1064a80515bfb955a2a041f9e8"><div class="ttname"><a href="mm-internal_8h.html#a8bef7e1064a80515bfb955a2a041f9e8">mm_realloc</a></div><div class="ttdeci">#define mm_realloc(p, sz)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00078">mm-internal.h:78</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00184">event_changelist::changes</a>, <a class="el" href="event-internal_8h_source.html#l00186">event_changelist::changes_size</a>, <a class="el" href="util-internal_8h_source.html#l00349">EVUTIL_UNLIKELY</a>, and <a class="el" href="mm-internal_8h_source.html#l00078">mm_realloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00835">event_changelist_get_or_construct()</a>.</p>

</div>
</div>
<a id="aa7cccfd7f605bb8cf30929b9c8df12c4" name="aa7cccfd7f605bb8cf30929b9c8df12c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7cccfd7f605bb8cf30929b9c8df12c4">&#9670;&nbsp;</a></span>event_changelist_init_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_changelist_init_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__changelist.html">event_changelist</a> *&#160;</td>
          <td class="paramname"><em>changelist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set up the data fields in a changelist. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00708">708</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  709</span>{</div>
<div class="line"><span class="lineno">  710</span>    changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a> = NULL;</div>
<div class="line"><span class="lineno">  711</span>    changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a31f53c97c54036394b7073d5f8eba426">changes_size</a> = 0;</div>
<div class="line"><span class="lineno">  712</span>    changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#add72d6d493647d151fb67f02d3118d0d">n_changes</a> = 0;</div>
<div class="line"><span class="lineno">  713</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00184">event_changelist::changes</a>, <a class="el" href="event-internal_8h_source.html#l00186">event_changelist::changes_size</a>, and <a class="el" href="event-internal_8h_source.html#l00185">event_changelist::n_changes</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, and <a class="el" href="evmap_8c_source.html#l00800">event_changelist_freemem_()</a>.</p>

</div>
</div>
<a id="ae4856f8eca54cc17a26fc6f2e98f514a" name="ae4856f8eca54cc17a26fc6f2e98f514a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4856f8eca54cc17a26fc6f2e98f514a">&#9670;&nbsp;</a></span>event_changelist_remove_all_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_changelist_remove_all_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__changelist.html">event_changelist</a> *&#160;</td>
          <td class="paramname"><em>changelist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Remove every change in the changelist, and make corresponding changes in the event maps in the base. This function is generally used right after making all the changes in the changelist. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00779">779</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  781</span>{</div>
<div class="line"><span class="lineno">  782</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>    <a class="code hl_define" href="evmap_8c.html#a23ad8a8a5f1c2b3682a63b13574cc999">event_changelist_check</a>(base);</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>    <span class="keywordflow">for</span> (i = 0; i &lt; changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#add72d6d493647d151fb67f02d3118d0d">n_changes</a>; ++i) {</div>
<div class="line"><span class="lineno">  787</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevent__change.html">event_change</a> *ch = &amp;changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#a7dab13c324bb91d0afc8bfcfdfc0fb8a">changes</a>[i];</div>
<div class="line"><span class="lineno">  788</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevent__changelist__fdinfo.html">event_changelist_fdinfo</a> *fdinfo =</div>
<div class="line"><span class="lineno">  789</span>            <a class="code hl_function" href="evmap_8c.html#a7a469caf678873bdf6ef4d639460f177">event_change_get_fdinfo</a>(base, ch);</div>
<div class="line"><span class="lineno">  790</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(fdinfo-&gt;<a class="code hl_variable" href="structevent__changelist__fdinfo.html#ad94f802cf7e16ba8147eff1b678bc058">idxplus1</a> == i + 1);</div>
<div class="line"><span class="lineno">  791</span>        fdinfo-&gt;<a class="code hl_variable" href="structevent__changelist__fdinfo.html#ad94f802cf7e16ba8147eff1b678bc058">idxplus1</a> = 0;</div>
<div class="line"><span class="lineno">  792</span>    }</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>    changelist-&gt;<a class="code hl_variable" href="structevent__changelist.html#add72d6d493647d151fb67f02d3118d0d">n_changes</a> = 0;</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>    <a class="code hl_define" href="evmap_8c.html#a23ad8a8a5f1c2b3682a63b13574cc999">event_changelist_check</a>(base);</div>
<div class="line"><span class="lineno">  797</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00184">event_changelist::changes</a>, <a class="el" href="evmap_8c_source.html#l00717">event_change_get_fdinfo()</a>, <a class="el" href="evmap_8c_source.html#l00775">event_changelist_check</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="evmap_8c_source.html#l00703">event_changelist_fdinfo::idxplus1</a>, and <a class="el" href="event-internal_8h_source.html#l00185">event_changelist::n_changes</a>.</p>

</div>
</div>
<a id="a97c92d3f3a387835c15dfc99dd8760e6" name="a97c92d3f3a387835c15dfc99dd8760e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c92d3f3a387835c15dfc99dd8760e6">&#9670;&nbsp;</a></span>evmap_check_integrity_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_check_integrity_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l01002">1002</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1003</span>{</div>
<div class="line"><span class="lineno"> 1004</span>    <a class="code hl_function" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a>(base, <a class="code hl_function" href="evmap_8c.html#afae51249fb8a4d883743f1c4b30c5533">evmap_io_check_integrity_fn</a>, NULL);</div>
<div class="line"><span class="lineno"> 1005</span>    <a class="code hl_function" href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a>(base, <a class="code hl_function" href="evmap_8c.html#a0f64605bcae7a93943fe92e48d6f5850">evmap_signal_check_integrity_fn</a>, NULL);</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#af933a8c970e13099e6388826c68966e7">add</a> == <a class="code hl_function" href="evmap_8c.html#a39cf42e57c876f26a3681c2e71e81161">event_changelist_add_</a>)</div>
<div class="line"><span class="lineno"> 1008</span>        <a class="code hl_function" href="evmap_8c.html#ad851cdf11e5aac18773c3fc6819b99a4">event_changelist_assert_ok</a>(base);</div>
<div class="line"><span class="lineno"> 1009</span>}</div>
<div class="ttc" id="aevmap_8c_html_a0f64605bcae7a93943fe92e48d6f5850"><div class="ttname"><a href="evmap_8c.html#a0f64605bcae7a93943fe92e48d6f5850">evmap_signal_check_integrity_fn</a></div><div class="ttdeci">static int evmap_signal_check_integrity_fn(struct event_base *base, int signum, struct evmap_signal *sig_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00985">evmap.c:985</a></div></div>
<div class="ttc" id="aevmap_8c_html_a39cf42e57c876f26a3681c2e71e81161"><div class="ttname"><a href="evmap_8c.html#a39cf42e57c876f26a3681c2e71e81161">event_changelist_add_</a></div><div class="ttdeci">int event_changelist_add_(struct event_base *base, evutil_socket_t fd, short old, short events, void *p)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00866">evmap.c:866</a></div></div>
<div class="ttc" id="aevmap_8c_html_ad851cdf11e5aac18773c3fc6819b99a4"><div class="ttname"><a href="evmap_8c.html#ad851cdf11e5aac18773c3fc6819b99a4">event_changelist_assert_ok</a></div><div class="ttdeci">static void event_changelist_assert_ok(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00752">evmap.c:752</a></div></div>
<div class="ttc" id="aevmap_8c_html_afae51249fb8a4d883743f1c4b30c5533"><div class="ttname"><a href="evmap_8c.html#afae51249fb8a4d883743f1c4b30c5533">evmap_io_check_integrity_fn</a></div><div class="ttdeci">static int evmap_io_check_integrity_fn(struct event_base *base, evutil_socket_t fd, struct evmap_io *io_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00952">evmap.c:952</a></div></div>
<div class="ttc" id="aevmap_8c_html_afe4b036d7904a162bd88503a3dd79391"><div class="ttname"><a href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a></div><div class="ttdeci">static int evmap_signal_foreach_signal(struct event_base *base, evmap_signal_foreach_signal_cb fn, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00585">evmap.c:585</a></div></div>
<div class="ttc" id="astructevent__base_html_a7869647e5bb9220fa71754f7c8cec0f5"><div class="ttname"><a href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">event_base::evsel</a></div><div class="ttdeci">const struct eventop * evsel</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00211">event-internal.h:211</a></div></div>
<div class="ttc" id="astructeventop_html_af933a8c970e13099e6388826c68966e7"><div class="ttname"><a href="structeventop.html#af933a8c970e13099e6388826c68966e7">eventop::add</a></div><div class="ttdeci">int(* add)(struct event_base *, evutil_socket_t fd, short old, short events, void *fdinfo)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00103">event-internal.h:103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00103">eventop::add</a>, <a class="el" href="evmap_8c_source.html#l00866">event_changelist_add_()</a>, <a class="el" href="evmap_8c_source.html#l00752">event_changelist_assert_ok()</a>, <a class="el" href="evmap_8c_source.html#l00952">evmap_io_check_integrity_fn()</a>, <a class="el" href="evmap_8c_source.html#l00546">evmap_io_foreach_fd()</a>, <a class="el" href="evmap_8c_source.html#l00985">evmap_signal_check_integrity_fn()</a>, <a class="el" href="evmap_8c_source.html#l00585">evmap_signal_foreach_signal()</a>, and <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03964">event_base_assert_ok_nolock_()</a>.</p>

</div>
</div>
<a id="a2157ece8e14c82e17b7386b942df9ead" name="a2157ece8e14c82e17b7386b942df9ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2157ece8e14c82e17b7386b942df9ead">&#9670;&nbsp;</a></span>evmap_delete_all_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_delete_all_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00693">693</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  694</span>{</div>
<div class="line"><span class="lineno">  695</span>    <a class="code hl_function" href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a>(base, <a class="code hl_function" href="evmap_8c.html#a545d62e4989f992cb18db9f2b0ec9268">evmap_signal_delete_all_iter_fn</a>, NULL);</div>
<div class="line"><span class="lineno">  696</span>    <a class="code hl_function" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a>(base, <a class="code hl_function" href="evmap_8c.html#a0df73a091f7e489d981c451d2bcfd133">evmap_io_delete_all_iter_fn</a>, NULL);</div>
<div class="line"><span class="lineno">  697</span>}</div>
<div class="ttc" id="aevmap_8c_html_a0df73a091f7e489d981c451d2bcfd133"><div class="ttname"><a href="evmap_8c.html#a0df73a091f7e489d981c451d2bcfd133">evmap_io_delete_all_iter_fn</a></div><div class="ttdeci">static int evmap_io_delete_all_iter_fn(struct event_base *base, evutil_socket_t fd, struct evmap_io *io_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00678">evmap.c:678</a></div></div>
<div class="ttc" id="aevmap_8c_html_a545d62e4989f992cb18db9f2b0ec9268"><div class="ttname"><a href="evmap_8c.html#a545d62e4989f992cb18db9f2b0ec9268">evmap_signal_delete_all_iter_fn</a></div><div class="ttdeci">static int evmap_signal_delete_all_iter_fn(struct event_base *base, int signum, struct evmap_signal *sig_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00686">evmap.c:686</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l00678">evmap_io_delete_all_iter_fn()</a>, <a class="el" href="evmap_8c_source.html#l00546">evmap_io_foreach_fd()</a>, <a class="el" href="evmap_8c_source.html#l00686">evmap_signal_delete_all_iter_fn()</a>, and <a class="el" href="evmap_8c_source.html#l00585">evmap_signal_foreach_signal()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>.</p>

</div>
</div>
<a id="aede3441b2878cc0c8a5600e65db32a73" name="aede3441b2878cc0c8a5600e65db32a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede3441b2878cc0c8a5600e65db32a73">&#9670;&nbsp;</a></span>evmap_foreach_event_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_foreach_event_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_base_foreach_event_cb&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l01051">1051</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1053</span>{</div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__foreach__event__helper.html">evmap_foreach_event_helper</a> h;</div>
<div class="line"><span class="lineno"> 1055</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1056</span>    h.<a class="code hl_variable" href="structevmap__foreach__event__helper.html#a4d4c054aa68dcaa19a475d8d1bd69338">fn</a> = <a class="code hl_variable" href="structevmap__foreach__event__helper.html#a4d4c054aa68dcaa19a475d8d1bd69338">fn</a>;</div>
<div class="line"><span class="lineno"> 1057</span>    h.arg = <a class="code hl_variable" href="structevmap__foreach__event__helper.html#a86616ea11fbe4a9a90f33307200caf96">arg</a>;</div>
<div class="line"><span class="lineno"> 1058</span>    <span class="keywordflow">if</span> ((r = <a class="code hl_function" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a>(base, <a class="code hl_function" href="evmap_8c.html#ae5b7fab4004e077aa7327a794861a3d6">evmap_io_foreach_event_fn</a>, &amp;h)))</div>
<div class="line"><span class="lineno"> 1059</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1060</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a>(base, <a class="code hl_function" href="evmap_8c.html#ac186986fc747695ea9abca562ad91c3e">evmap_signal_foreach_event_fn</a>, &amp;h);</div>
<div class="line"><span class="lineno"> 1061</span>}</div>
<div class="ttc" id="aevmap_8c_html_ac186986fc747695ea9abca562ad91c3e"><div class="ttname"><a href="evmap_8c.html#ac186986fc747695ea9abca562ad91c3e">evmap_signal_foreach_event_fn</a></div><div class="ttdeci">static int evmap_signal_foreach_event_fn(struct event_base *base, int signum, struct evmap_signal *sig_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01037">evmap.c:1037</a></div></div>
<div class="ttc" id="aevmap_8c_html_ae5b7fab4004e077aa7327a794861a3d6"><div class="ttname"><a href="evmap_8c.html#ae5b7fab4004e077aa7327a794861a3d6">evmap_io_foreach_event_fn</a></div><div class="ttdeci">static int evmap_io_foreach_event_fn(struct event_base *base, evutil_socket_t fd, struct evmap_io *io_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01021">evmap.c:1021</a></div></div>
<div class="ttc" id="astructevmap__foreach__event__helper_html"><div class="ttname"><a href="structevmap__foreach__event__helper.html">evmap_foreach_event_helper</a></div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01013">evmap.c:1013</a></div></div>
<div class="ttc" id="astructevmap__foreach__event__helper_html_a4d4c054aa68dcaa19a475d8d1bd69338"><div class="ttname"><a href="structevmap__foreach__event__helper.html#a4d4c054aa68dcaa19a475d8d1bd69338">evmap_foreach_event_helper::fn</a></div><div class="ttdeci">event_base_foreach_event_cb fn</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01014">evmap.c:1014</a></div></div>
<div class="ttc" id="astructevmap__foreach__event__helper_html_a86616ea11fbe4a9a90f33307200caf96"><div class="ttname"><a href="structevmap__foreach__event__helper.html#a86616ea11fbe4a9a90f33307200caf96">evmap_foreach_event_helper::arg</a></div><div class="ttdeci">void * arg</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01015">evmap.c:1015</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l01015">evmap_foreach_event_helper::arg</a>, <a class="el" href="evmap_8c_source.html#l01021">evmap_io_foreach_event_fn()</a>, <a class="el" href="evmap_8c_source.html#l00546">evmap_io_foreach_fd()</a>, <a class="el" href="evmap_8c_source.html#l01037">evmap_signal_foreach_event_fn()</a>, <a class="el" href="evmap_8c_source.html#l00585">evmap_signal_foreach_signal()</a>, and <a class="el" href="evmap_8c_source.html#l01014">evmap_foreach_event_helper::fn</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03680">event_base_foreach_event_nolock_()</a>.</p>

</div>
</div>
<a id="aa7d6c5d77bf1bcbd771a9f1d87de6a25" name="aa7d6c5d77bf1bcbd771a9f1d87de6a25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d6c5d77bf1bcbd771a9f1d87de6a25">&#9670;&nbsp;</a></span>evmap_io_active_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_io_active_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Active the set of events waiting on an <a class="el" href="structevent__base.html">event_base</a> for a given fd.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>the <a class="el" href="structevent__base.html">event_base</a> to operate on. </td></tr>
    <tr><td class="paramname">fd</td><td>the file descriptor that has become active. </td></tr>
    <tr><td class="paramname">events</td><td>a bitmask of EV_READ|EV_WRITE|EV_ET. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00420">420</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  421</span>{</div>
<div class="line"><span class="lineno">  422</span>    <span class="keyword">struct </span><a class="code hl_define" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *io = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>;</div>
<div class="line"><span class="lineno">  423</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  424</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span><span class="preprocessor">#ifndef EVMAP_USE_HT</span></div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">if</span> (fd &lt; 0 || fd &gt;= io-&gt;nentries)</div>
<div class="line"><span class="lineno">  428</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  429</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_define" href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, io, fd, <a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">if</span> (NULL == <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  434</span>    LIST_FOREACH(ev, &amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>) {</div>
<div class="line"><span class="lineno">  435</span>        <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; (events &amp; ~EV_ET))</div>
<div class="line"><span class="lineno">  436</span>            <a class="code hl_function" href="event-internal_8h.html#a594c4fdf5bd1f8921141fd4a929c192a">event_active_nolock_</a>(ev, ev-&gt;ev_events &amp; events, 1);</div>
<div class="line"><span class="lineno">  437</span>    }</div>
<div class="line"><span class="lineno">  438</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a113d4162bb301cb2500f086a38932f28"><div class="ttname"><a href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a></div><div class="ttdeci">#define ev_io_next</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00049">event-internal.h:49</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a16f042fdb79d2c98d7c0fa287c62d1e3"><div class="ttname"><a href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a></div><div class="ttdeci">#define event_io_map</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00144">event-internal.h:144</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a594c4fdf5bd1f8921141fd4a929c192a"><div class="ttname"><a href="event-internal_8h.html#a594c4fdf5bd1f8921141fd4a929c192a">event_active_nolock_</a></div><div class="ttdeci">void event_active_nolock_(struct event *ev, int res, short count)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02919">event.c:2919</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00049">ev_io_next</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event-internal_8h_source.html#l00144">event_io_map</a>, <a class="el" href="evmap_8c_source.html#l00184">GET_IO_SLOT</a>, and <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03826">event_base_active_by_fd()</a>.</p>

</div>
</div>
<a id="ad2f1cc5853c896ed9bf35958841fee07" name="ad2f1cc5853c896ed9bf35958841fee07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f1cc5853c896ed9bf35958841fee07">&#9670;&nbsp;</a></span>evmap_io_add_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_io_add_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Add an IO event (some combination of EV_READ or EV_WRITE) to an <a class="el" href="structevent__base.html">event_base</a>'s list of events on a given file descriptor, and tell the underlying eventops about the fd if its state has changed.</p>
<p >Requires that ev is not already added.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>the <a class="el" href="structevent__base.html">event_base</a> to operate on. </td></tr>
    <tr><td class="paramname">fd</td><td>the file descriptor corresponding to ev. </td></tr>
    <tr><td class="paramname">ev</td><td>the event to add. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00273">273</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  274</span>{</div>
<div class="line"><span class="lineno">  275</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>;</div>
<div class="line"><span class="lineno">  276</span>    <span class="keyword">struct </span><a class="code hl_define" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *io = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>;</div>
<div class="line"><span class="lineno">  277</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a> = NULL;</div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>, <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>, <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>, retval = 0;</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordtype">short</span> res = 0, old = 0;</div>
<div class="line"><span class="lineno">  280</span>    <span class="keyword">struct </span>event *old_ev;</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(fd == ev-&gt;ev_fd);</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span><span class="preprocessor">#ifndef EVMAP_USE_HT</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">if</span> (fd &gt;= io-&gt;nentries) {</div>
<div class="line"><span class="lineno">  289</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evmap_8c.html#a07bf55c862ef8547bef3139ecdaecdba">evmap_make_space</a>(io, fd, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *)) == -1)</div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  291</span>    }</div>
<div class="line"><span class="lineno">  292</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  293</span>    <a class="code hl_define" href="evmap_8c.html#a417c0bb6d53645a68164cc0ce572fe2f">GET_IO_SLOT_AND_CTOR</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, io, fd, <a class="code hl_struct" href="structevmap__io.html">evmap_io</a>, <a class="code hl_function" href="evmap_8c.html#aa939638754b7535862495d6680da1282">evmap_io_init</a>,</div>
<div class="line"><span class="lineno">  294</span>                         evsel-&gt;<a class="code hl_variable" href="structeventop.html#a7dd2e226e3ee07731094d137d94daab0">fdinfo_len</a>);</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    nread = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nread;</div>
<div class="line"><span class="lineno">  297</span>    nwrite = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nwrite;</div>
<div class="line"><span class="lineno">  298</span>    nclose = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nclose;</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">if</span> (nread)</div>
<div class="line"><span class="lineno">  301</span>        old |= EV_READ;</div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordflow">if</span> (nwrite)</div>
<div class="line"><span class="lineno">  303</span>        old |= EV_WRITE;</div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">if</span> (nclose)</div>
<div class="line"><span class="lineno">  305</span>        old |= EV_CLOSED;</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_READ) {</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">if</span> (++nread == 1)</div>
<div class="line"><span class="lineno">  309</span>            res |= EV_READ;</div>
<div class="line"><span class="lineno">  310</span>    }</div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_WRITE) {</div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">if</span> (++nwrite == 1)</div>
<div class="line"><span class="lineno">  313</span>            res |= EV_WRITE;</div>
<div class="line"><span class="lineno">  314</span>    }</div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_CLOSED) {</div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">if</span> (++nclose == 1)</div>
<div class="line"><span class="lineno">  317</span>            res |= EV_CLOSED;</div>
<div class="line"><span class="lineno">  318</span>    }</div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a940e95f19f5388e5c46b417c81b516a5">EVUTIL_UNLIKELY</a>(nread &gt; 0xffff || nwrite &gt; 0xffff || nclose &gt; 0xffff)) {</div>
<div class="line"><span class="lineno">  320</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;Too many events reading or writing on fd %d&quot;</span>,</div>
<div class="line"><span class="lineno">  321</span>            (<span class="keywordtype">int</span>)fd);</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  323</span>    }</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#ae6503f9366f20de8549a112dd7ebd955">EVENT_DEBUG_MODE_IS_ON</a>() &amp;&amp;</div>
<div class="line"><span class="lineno">  325</span>        (old_ev = LIST_FIRST(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events)) &amp;&amp;</div>
<div class="line"><span class="lineno">  326</span>        (old_ev-&gt;ev_events&amp;EV_ET) != (ev-&gt;ev_events&amp;EV_ET)) {</div>
<div class="line"><span class="lineno">  327</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;Tried to mix edge-triggered and non-edge-triggered&quot;</span></div>
<div class="line"><span class="lineno">  328</span>            <span class="stringliteral">&quot; events on fd %d&quot;</span>, (<span class="keywordtype">int</span>)fd);</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">if</span> (res) {</div>
<div class="line"><span class="lineno">  333</span>        <span class="keywordtype">void</span> *extra = ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  334</span>        <span class="comment">/* XXX(niels): we cannot mix edge-triggered and</span></div>
<div class="line"><span class="lineno">  335</span><span class="comment">         * level-triggered, we should probably assert on</span></div>
<div class="line"><span class="lineno">  336</span><span class="comment">         * this. */</span></div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#af933a8c970e13099e6388826c68966e7">add</a>(base, ev-&gt;ev_fd,</div>
<div class="line"><span class="lineno">  338</span>            old, (ev-&gt;ev_events &amp; EV_ET) | res, extra) == -1)</div>
<div class="line"><span class="lineno">  339</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  340</span>        retval = 1;</div>
<div class="line"><span class="lineno">  341</span>    }</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nread = (ev_uint16_t) <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>;</div>
<div class="line"><span class="lineno">  344</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nwrite = (ev_uint16_t) <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>;</div>
<div class="line"><span class="lineno">  345</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nclose = (ev_uint16_t) <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>;</div>
<div class="line"><span class="lineno">  346</span>    LIST_INSERT_HEAD(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events, ev, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>);</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordflow">return</span> (retval);</div>
<div class="line"><span class="lineno">  349</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_ae6503f9366f20de8549a112dd7ebd955"><div class="ttname"><a href="event-internal_8h.html#ae6503f9366f20de8549a112dd7ebd955">EVENT_DEBUG_MODE_IS_ON</a></div><div class="ttdeci">#define EVENT_DEBUG_MODE_IS_ON()</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00192">event-internal.h:192</a></div></div>
<div class="ttc" id="aevmap_8c_html_a07bf55c862ef8547bef3139ecdaecdba"><div class="ttname"><a href="evmap_8c.html#a07bf55c862ef8547bef3139ecdaecdba">evmap_make_space</a></div><div class="ttdeci">static int evmap_make_space(struct event_signal_map *map, int slot, int msize)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00205">evmap.c:205</a></div></div>
<div class="ttc" id="aevmap_8c_html_a417c0bb6d53645a68164cc0ce572fe2f"><div class="ttname"><a href="evmap_8c.html#a417c0bb6d53645a68164cc0ce572fe2f">GET_IO_SLOT_AND_CTOR</a></div><div class="ttdeci">#define GET_IO_SLOT_AND_CTOR(x, map, slot, type, ctor, fdinfo_len)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00185">evmap.c:185</a></div></div>
<div class="ttc" id="aevmap_8c_html_aa939638754b7535862495d6680da1282"><div class="ttname"><a href="evmap_8c.html#aa939638754b7535862495d6680da1282">evmap_io_init</a></div><div class="ttdeci">static void evmap_io_init(struct evmap_io *entry)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00261">evmap.c:261</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a0e3973f226e9585030596534e23cd95f"><div class="ttname"><a href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warnx(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="astructeventop_html"><div class="ttname"><a href="structeventop.html">eventop</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00086">event-internal.h:86</a></div></div>
<div class="ttc" id="astructeventop_html_a7dd2e226e3ee07731094d137d94daab0"><div class="ttname"><a href="structeventop.html#a7dd2e226e3ee07731094d137d94daab0">eventop::fdinfo_len</a></div><div class="ttdeci">size_t fdinfo_len</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00125">event-internal.h:125</a></div></div>
<div class="ttc" id="astructevmap__io_html_ab11ab77611c3eb0180fc160e89d4d61b"><div class="ttname"><a href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">evmap_io::nwrite</a></div><div class="ttdeci">ev_uint16_t nwrite</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00062">evmap.c:62</a></div></div>
<div class="ttc" id="astructevmap__io_html_ac6ac0c406d70a33e697feab9f02060bd"><div class="ttname"><a href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">evmap_io::nread</a></div><div class="ttdeci">ev_uint16_t nread</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00061">evmap.c:61</a></div></div>
<div class="ttc" id="astructevmap__io_html_af4a68ae0f4975ffe403d2aad1db4cde4"><div class="ttname"><a href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">evmap_io::nclose</a></div><div class="ttdeci">ev_uint16_t nclose</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00063">evmap.c:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00103">eventop::add</a>, <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00049">ev_io_next</a>, <a class="el" href="event-internal_8h_source.html#l00192">EVENT_DEBUG_MODE_IS_ON</a>, <a class="el" href="event-internal_8h_source.html#l00144">event_io_map</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="evmap_8c_source.html#l00261">evmap_io_init()</a>, <a class="el" href="evmap_8c_source.html#l00205">evmap_make_space()</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="util-internal_8h_source.html#l00349">EVUTIL_UNLIKELY</a>, <a class="el" href="event-internal_8h_source.html#l00125">eventop::fdinfo_len</a>, <a class="el" href="evmap_8c_source.html#l00185">GET_IO_SLOT_AND_CTOR</a>, <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>, <a class="el" href="evmap_8c_source.html#l00063">evmap_io::nclose</a>, <a class="el" href="evmap_8c_source.html#l00061">evmap_io::nread</a>, and <a class="el" href="evmap_8c_source.html#l00062">evmap_io::nwrite</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>.</p>

</div>
</div>
<a id="afae51249fb8a4d883743f1c4b30c5533" name="afae51249fb8a4d883743f1c4b30c5533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afae51249fb8a4d883743f1c4b30c5533">&#9670;&nbsp;</a></span>evmap_io_check_integrity_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_io_check_integrity_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmap__io.html">evmap_io</a> *&#160;</td>
          <td class="paramname"><em>io_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00952">952</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  954</span>{</div>
<div class="line"><span class="lineno">  955</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno">  956</span>    <span class="keywordtype">int</span> n_read = 0, n_write = 0, n_close = 0;</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>    <span class="comment">/* First, make sure the list itself isn&#39;t corrupt. Otherwise,</span></div>
<div class="line"><span class="lineno">  959</span><span class="comment">     * running LIST_FOREACH could be an exciting adventure. */</span></div>
<div class="line"><span class="lineno">  960</span>    <a class="code hl_define" href="util-internal_8h.html#aab8552ae08f5701769be22ba90b6c6f4">EVUTIL_ASSERT_LIST_OK</a>(&amp;io_info-&gt;<a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a>, event, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>);</div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span>    LIST_FOREACH(ev, &amp;io_info-&gt;<a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a>, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>) {</div>
<div class="line"><span class="lineno">  963</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_flags &amp; EVLIST_INSERTED);</div>
<div class="line"><span class="lineno">  964</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_fd == fd);</div>
<div class="line"><span class="lineno">  965</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!(ev-&gt;ev_events &amp; EV_SIGNAL));</div>
<div class="line"><span class="lineno">  966</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((ev-&gt;ev_events &amp; (EV_READ|EV_WRITE|EV_CLOSED)));</div>
<div class="line"><span class="lineno">  967</span>        <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_READ)</div>
<div class="line"><span class="lineno">  968</span>            ++n_read;</div>
<div class="line"><span class="lineno">  969</span>        <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_WRITE)</div>
<div class="line"><span class="lineno">  970</span>            ++n_write;</div>
<div class="line"><span class="lineno">  971</span>        <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_CLOSED)</div>
<div class="line"><span class="lineno">  972</span>            ++n_close;</div>
<div class="line"><span class="lineno">  973</span>    }</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(n_read == io_info-&gt;<a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>);</div>
<div class="line"><span class="lineno">  976</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(n_write == io_info-&gt;<a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>);</div>
<div class="line"><span class="lineno">  977</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(n_close == io_info-&gt;<a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>);</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  980</span>}</div>
<div class="ttc" id="astructevmap__io_html_a9f2e9fe502d34ddc449dd5905b759c9e"><div class="ttname"><a href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">evmap_io::events</a></div><div class="ttdeci">struct event_dlist events</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00060">evmap.c:60</a></div></div>
<div class="ttc" id="autil-internal_8h_html_aab8552ae08f5701769be22ba90b6c6f4"><div class="ttname"><a href="util-internal_8h.html#aab8552ae08f5701769be22ba90b6c6f4">EVUTIL_ASSERT_LIST_OK</a></div><div class="ttdeci">#define EVUTIL_ASSERT_LIST_OK(dlist, type, field)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00179">util-internal.h:179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00049">ev_io_next</a>, <a class="el" href="evmap_8c_source.html#l00060">evmap_io::events</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="util-internal_8h_source.html#l00179">EVUTIL_ASSERT_LIST_OK</a>, <a class="el" href="evmap_8c_source.html#l00063">evmap_io::nclose</a>, <a class="el" href="evmap_8c_source.html#l00061">evmap_io::nread</a>, and <a class="el" href="evmap_8c_source.html#l00062">evmap_io::nwrite</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l01002">evmap_check_integrity_()</a>.</p>

</div>
</div>
<a id="a378966d553ed1112e5da5e1a06f561a2" name="a378966d553ed1112e5da5e1a06f561a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a378966d553ed1112e5da5e1a06f561a2">&#9670;&nbsp;</a></span>evmap_io_clear_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_io_clear_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Remove all entries from an event_map.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the map to clear. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00194">194</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  195</span>{</div>
<div class="line"><span class="lineno">  196</span>    <a class="code hl_function" href="evmap_8c.html#a2607ea68074a8c4f2eb5908481b75915">evmap_signal_clear_</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>);</div>
<div class="line"><span class="lineno">  197</span>}</div>
<div class="ttc" id="aevmap_8c_html_a2607ea68074a8c4f2eb5908481b75915"><div class="ttname"><a href="evmap_8c.html#a2607ea68074a8c4f2eb5908481b75915">evmap_signal_clear_</a></div><div class="ttdeci">void evmap_signal_clear_(struct event_signal_map *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00242">evmap.c:242</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="evmap_8c_source.html#l00242">evmap_signal_clear_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>.</p>

</div>
</div>
<a id="a352dfdfbae15e78da5acf461fb427336" name="a352dfdfbae15e78da5acf461fb427336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a352dfdfbae15e78da5acf461fb427336">&#9670;&nbsp;</a></span>evmap_io_del_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_io_del_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Remove an IO event (some combination of EV_READ or EV_WRITE) to an <a class="el" href="structevent__base.html">event_base</a>'s list of events on a given file descriptor, and tell the underlying eventops about the fd if its state has changed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>the <a class="el" href="structevent__base.html">event_base</a> to operate on. </td></tr>
    <tr><td class="paramname">fd</td><td>the file descriptor corresponding to ev. </td></tr>
    <tr><td class="paramname">ev</td><td>the event to remove. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00354">354</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>{</div>
<div class="line"><span class="lineno">  356</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>;</div>
<div class="line"><span class="lineno">  357</span>    <span class="keyword">struct </span><a class="code hl_define" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *io = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>;</div>
<div class="line"><span class="lineno">  358</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  359</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>, <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>, <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>, retval = 0;</div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordtype">short</span> res = 0, old = 0;</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(fd == ev-&gt;ev_fd);</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span><span class="preprocessor">#ifndef EVMAP_USE_HT</span></div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordflow">if</span> (fd &gt;= io-&gt;nentries)</div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  370</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_define" href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, io, fd, <a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a> = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nread;</div>
<div class="line"><span class="lineno">  375</span>    <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a> = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nwrite;</div>
<div class="line"><span class="lineno">  376</span>    <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a> = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nclose;</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>)</div>
<div class="line"><span class="lineno">  379</span>        old |= EV_READ;</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>)</div>
<div class="line"><span class="lineno">  381</span>        old |= EV_WRITE;</div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>)</div>
<div class="line"><span class="lineno">  383</span>        old |= EV_CLOSED;</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_READ) {</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">if</span> (--<a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a> == 0)</div>
<div class="line"><span class="lineno">  387</span>            res |= EV_READ;</div>
<div class="line"><span class="lineno">  388</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a> &gt;= 0);</div>
<div class="line"><span class="lineno">  389</span>    }</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_WRITE) {</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">if</span> (--<a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a> == 0)</div>
<div class="line"><span class="lineno">  392</span>            res |= EV_WRITE;</div>
<div class="line"><span class="lineno">  393</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a> &gt;= 0);</div>
<div class="line"><span class="lineno">  394</span>    }</div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_CLOSED) {</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">if</span> (--<a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a> == 0)</div>
<div class="line"><span class="lineno">  397</span>            res |= EV_CLOSED;</div>
<div class="line"><span class="lineno">  398</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a> &gt;= 0);</div>
<div class="line"><span class="lineno">  399</span>    }</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordflow">if</span> (res) {</div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordtype">void</span> *extra = ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#a0eef2d190c448c2e1422e3dc8856b72b">del</a>(base, ev-&gt;ev_fd,</div>
<div class="line"><span class="lineno">  404</span>            old, (ev-&gt;ev_events &amp; EV_ET) | res, extra) == -1) {</div>
<div class="line"><span class="lineno">  405</span>            retval = -1;</div>
<div class="line"><span class="lineno">  406</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  407</span>            retval = 1;</div>
<div class="line"><span class="lineno">  408</span>        }</div>
<div class="line"><span class="lineno">  409</span>    }</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nread = <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>;</div>
<div class="line"><span class="lineno">  412</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nwrite = <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>;</div>
<div class="line"><span class="lineno">  413</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nclose = <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>;</div>
<div class="line"><span class="lineno">  414</span>    LIST_REMOVE(ev, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>);</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    <span class="keywordflow">return</span> (retval);</div>
<div class="line"><span class="lineno">  417</span>}</div>
<div class="ttc" id="astructeventop_html_a0eef2d190c448c2e1422e3dc8856b72b"><div class="ttname"><a href="structeventop.html#a0eef2d190c448c2e1422e3dc8856b72b">eventop::del</a></div><div class="ttdeci">int(* del)(struct event_base *, evutil_socket_t fd, short old, short events, void *fdinfo)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00105">event-internal.h:105</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00105">eventop::del</a>, <a class="el" href="event-internal_8h_source.html#l00049">ev_io_next</a>, <a class="el" href="event-internal_8h_source.html#l00144">event_io_map</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="evmap_8c_source.html#l00184">GET_IO_SLOT</a>, <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>, <a class="el" href="evmap_8c_source.html#l00063">evmap_io::nclose</a>, <a class="el" href="evmap_8c_source.html#l00061">evmap_io::nread</a>, and <a class="el" href="evmap_8c_source.html#l00062">evmap_io::nwrite</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="a0df73a091f7e489d981c451d2bcfd133" name="a0df73a091f7e489d981c451d2bcfd133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df73a091f7e489d981c451d2bcfd133">&#9670;&nbsp;</a></span>evmap_io_delete_all_iter_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_io_delete_all_iter_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmap__io.html">evmap_io</a> *&#160;</td>
          <td class="paramname"><em>io_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00678">678</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  680</span>{</div>
<div class="line"><span class="lineno">  681</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="evmap_8c.html#a0bfd337f46dbba235d14d6de47eb3147">delete_all_in_dlist</a>(&amp;io_info-&gt;<a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a>);</div>
<div class="line"><span class="lineno">  682</span>}</div>
<div class="ttc" id="aevmap_8c_html_a0bfd337f46dbba235d14d6de47eb3147"><div class="ttname"><a href="evmap_8c.html#a0bfd337f46dbba235d14d6de47eb3147">delete_all_in_dlist</a></div><div class="ttdeci">static int delete_all_in_dlist(struct event_dlist *dlist)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00668">evmap.c:668</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l00668">delete_all_in_dlist()</a>, and <a class="el" href="evmap_8c_source.html#l00060">evmap_io::events</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00693">evmap_delete_all_()</a>.</p>

</div>
</div>
<a id="ae5b7fab4004e077aa7327a794861a3d6" name="ae5b7fab4004e077aa7327a794861a3d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5b7fab4004e077aa7327a794861a3d6">&#9670;&nbsp;</a></span>evmap_io_foreach_event_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_io_foreach_event_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmap__io.html">evmap_io</a> *&#160;</td>
          <td class="paramname"><em>io_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l01021">1021</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1023</span>{</div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__foreach__event__helper.html">evmap_foreach_event_helper</a> *h = <a class="code hl_variable" href="structevmap__foreach__event__helper.html#a86616ea11fbe4a9a90f33307200caf96">arg</a>;</div>
<div class="line"><span class="lineno"> 1025</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno"> 1026</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1027</span>    LIST_FOREACH(ev, &amp;io_info-&gt;<a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a>, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>) {</div>
<div class="line"><span class="lineno"> 1028</span>        <span class="keywordflow">if</span> ((r = h-&gt;<a class="code hl_variable" href="structevmap__foreach__event__helper.html#a4d4c054aa68dcaa19a475d8d1bd69338">fn</a>(base, ev, h-&gt;<a class="code hl_variable" href="structevmap__foreach__event__helper.html#a86616ea11fbe4a9a90f33307200caf96">arg</a>)))</div>
<div class="line"><span class="lineno"> 1029</span>            <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1030</span>    }</div>
<div class="line"><span class="lineno"> 1031</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1032</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l01015">evmap_foreach_event_helper::arg</a>, <a class="el" href="event-internal_8h_source.html#l00049">ev_io_next</a>, <a class="el" href="evmap_8c_source.html#l00060">evmap_io::events</a>, and <a class="el" href="evmap_8c_source.html#l01014">evmap_foreach_event_helper::fn</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l01051">evmap_foreach_event_()</a>.</p>

</div>
</div>
<a id="a02a4c3b36b2189fc5e40af6399d82dc8" name="a02a4c3b36b2189fc5e40af6399d82dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a4c3b36b2189fc5e40af6399d82dc8">&#9670;&nbsp;</a></span>evmap_io_foreach_fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_io_foreach_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="evmap_8c.html#aacb590c78370eefa46e4a72265f7754d">evmap_io_foreach_fd_cb</a>&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00546">546</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  549</span>{</div>
<div class="line"><span class="lineno">  550</span>    evutil_socket_t fd;</div>
<div class="line"><span class="lineno">  551</span>    <span class="keyword">struct </span><a class="code hl_define" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *iomap = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>;</div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  553</span><span class="preprocessor">#ifdef EVMAP_USE_HT</span></div>
<div class="line"><span class="lineno">  554</span>    <span class="keyword">struct </span>event_map_entry **mapent;</div>
<div class="line"><span class="lineno">  555</span>    <a class="code hl_define" href="ht-internal_8h.html#a8375e98f8a252a235a40824e229868f6">HT_FOREACH</a>(mapent, <a class="code hl_define" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a>, iomap) {</div>
<div class="line"><span class="lineno">  556</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a> = &amp;(*mapent)-&gt;ent.evmap_io;</div>
<div class="line"><span class="lineno">  557</span>        fd = (*mapent)-&gt;fd;</div>
<div class="line"><span class="lineno">  558</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">for</span> (fd = 0; fd &lt; iomap-&gt;nentries; ++fd) {</div>
<div class="line"><span class="lineno">  560</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a> = iomap-&gt;entries[fd];</div>
<div class="line"><span class="lineno">  561</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</div>
<div class="line"><span class="lineno">  562</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  563</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">if</span> ((r = fn(base, fd, <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, arg)))</div>
<div class="line"><span class="lineno">  565</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  566</span>    }</div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  568</span>}</div>
<div class="ttc" id="aht-internal_8h_html_a8375e98f8a252a235a40824e229868f6"><div class="ttname"><a href="ht-internal_8h.html#a8375e98f8a252a235a40824e229868f6">HT_FOREACH</a></div><div class="ttdeci">#define HT_FOREACH(x, name, head)</div><div class="ttdef"><b>Definition:</b> <a href="ht-internal_8h_source.html#l00124">ht-internal.h:124</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00144">event_io_map</a>, <a class="el" href="ht-internal_8h_source.html#l00124">HT_FOREACH</a>, and <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00752">event_changelist_assert_ok()</a>, <a class="el" href="evmap_8c_source.html#l01002">evmap_check_integrity_()</a>, <a class="el" href="evmap_8c_source.html#l00693">evmap_delete_all_()</a>, <a class="el" href="evmap_8c_source.html#l01051">evmap_foreach_event_()</a>, and <a class="el" href="evmap_8c_source.html#l00653">evmap_reinit_()</a>.</p>

</div>
</div>
<a id="a2ff9ffdbf3f81c4e51cdc9f14487d33d" name="a2ff9ffdbf3f81c4e51cdc9f14487d33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff9ffdbf3f81c4e51cdc9f14487d33d">&#9670;&nbsp;</a></span>evmap_io_get_fdinfo_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * evmap_io_get_fdinfo_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00518">518</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  519</span>{</div>
<div class="line"><span class="lineno">  520</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  521</span>    <a class="code hl_define" href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, map, fd, <a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  522</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</div>
<div class="line"><span class="lineno">  523</span>        <span class="keywordflow">return</span> ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  525</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  526</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="evmap_8c_source.html#l00184">GET_IO_SLOT</a>.</p>

</div>
</div>
<a id="aa939638754b7535862495d6680da1282" name="aa939638754b7535862495d6680da1282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa939638754b7535862495d6680da1282">&#9670;&nbsp;</a></span>evmap_io_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evmap_io_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevmap__io.html">evmap_io</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Constructor for struct <a class="el" href="structevmap__io.html">evmap_io</a> </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00261">261</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  262</span>{</div>
<div class="line"><span class="lineno">  263</span>    LIST_INIT(&amp;entry-&gt;<a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a>);</div>
<div class="line"><span class="lineno">  264</span>    entry-&gt;<a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a> = 0;</div>
<div class="line"><span class="lineno">  265</span>    entry-&gt;<a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a> = 0;</div>
<div class="line"><span class="lineno">  266</span>    entry-&gt;<a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a> = 0;</div>
<div class="line"><span class="lineno">  267</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l00060">evmap_io::events</a>, <a class="el" href="evmap_8c_source.html#l00063">evmap_io::nclose</a>, <a class="el" href="evmap_8c_source.html#l00061">evmap_io::nread</a>, and <a class="el" href="evmap_8c_source.html#l00062">evmap_io::nwrite</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00273">evmap_io_add_()</a>.</p>

</div>
</div>
<a id="a3fa2a2bf0f03e79032cd0ce2f7911f60" name="a3fa2a2bf0f03e79032cd0ce2f7911f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fa2a2bf0f03e79032cd0ce2f7911f60">&#9670;&nbsp;</a></span>evmap_io_initmap_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_io_initmap_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initialize an event_map for use. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00189">189</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  190</span>{</div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_function" href="evmap_8c.html#ad6b1152af7697586adb90c62aa6c650a">evmap_signal_initmap_</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>);</div>
<div class="line"><span class="lineno">  192</span>}</div>
<div class="ttc" id="aevmap_8c_html_ad6b1152af7697586adb90c62aa6c650a"><div class="ttname"><a href="evmap_8c.html#ad6b1152af7697586adb90c62aa6c650a">evmap_signal_initmap_</a></div><div class="ttdeci">void evmap_signal_initmap_(struct event_signal_map *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00235">evmap.c:235</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="evmap_8c_source.html#l00235">evmap_signal_initmap_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>.</p>

</div>
</div>
<a id="a1ccac88021e4b1123d240d8167e731f9" name="a1ccac88021e4b1123d240d8167e731f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ccac88021e4b1123d240d8167e731f9">&#9670;&nbsp;</a></span>evmap_io_reinit_iter_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_io_reinit_iter_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmap__io.html">evmap_io</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00607">607</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  609</span>{</div>
<div class="line"><span class="lineno">  610</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>;</div>
<div class="line"><span class="lineno">  611</span>    <span class="keywordtype">void</span> *extra;</div>
<div class="line"><span class="lineno">  612</span>    <span class="keywordtype">int</span> *result = arg;</div>
<div class="line"><span class="lineno">  613</span>    <span class="keywordtype">short</span> events = 0;</div>
<div class="line"><span class="lineno">  614</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno">  615</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>);</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>    extra = ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  618</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nread)</div>
<div class="line"><span class="lineno">  619</span>        <a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a> |= EV_READ;</div>
<div class="line"><span class="lineno">  620</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nwrite)</div>
<div class="line"><span class="lineno">  621</span>        <a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a> |= EV_WRITE;</div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nclose)</div>
<div class="line"><span class="lineno">  623</span>        <a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a> |= EV_CLOSED;</div>
<div class="line"><span class="lineno">  624</span>    <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#a7dd2e226e3ee07731094d137d94daab0">fdinfo_len</a>)</div>
<div class="line"><span class="lineno">  625</span>        memset(extra, 0, evsel-&gt;<a class="code hl_variable" href="structeventop.html#a7dd2e226e3ee07731094d137d94daab0">fdinfo_len</a>);</div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  627</span>        (ev = LIST_FIRST(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events)) &amp;&amp;</div>
<div class="line"><span class="lineno">  628</span>        (ev-&gt;ev_events &amp; EV_ET))</div>
<div class="line"><span class="lineno">  629</span>        <a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a> |= EV_ET;</div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#af933a8c970e13099e6388826c68966e7">add</a>(base, fd, 0, <a class="code hl_variable" href="structevmap__io.html#a9f2e9fe502d34ddc449dd5905b759c9e">events</a>, extra) == -1)</div>
<div class="line"><span class="lineno">  631</span>        *result = -1;</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  634</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00103">eventop::add</a>, <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="evmap_8c_source.html#l00060">evmap_io::events</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="event-internal_8h_source.html#l00125">eventop::fdinfo_len</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00653">evmap_reinit_()</a>.</p>

</div>
</div>
<a id="a07bf55c862ef8547bef3139ecdaecdba" name="a07bf55c862ef8547bef3139ecdaecdba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07bf55c862ef8547bef3139ecdaecdba">&#9670;&nbsp;</a></span>evmap_make_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_make_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Expand 'map' with new entries of width 'msize' until it is big enough to store a value in 'slot'. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00205">205</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>{</div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordflow">if</span> (map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a> &lt;= slot) {</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordtype">int</span> nentries = map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a> ? map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a> : 32;</div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordtype">void</span> **tmp;</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">if</span> (slot &gt; INT_MAX / 2)</div>
<div class="line"><span class="lineno">  212</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">while</span> (nentries &lt;= slot)</div>
<div class="line"><span class="lineno">  215</span>            nentries &lt;&lt;= 1;</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">if</span> (nentries &gt; INT_MAX / msize)</div>
<div class="line"><span class="lineno">  218</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>        tmp = (<span class="keywordtype">void</span> **)<a class="code hl_define" href="mm-internal_8h.html#a8bef7e1064a80515bfb955a2a041f9e8">mm_realloc</a>(map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#addf6e2fb9f1de44f04d24158e23a68a4">entries</a>, nentries * msize);</div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordflow">if</span> (tmp == NULL)</div>
<div class="line"><span class="lineno">  222</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>        memset(&amp;tmp[map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a>], 0,</div>
<div class="line"><span class="lineno">  225</span>            (nentries - map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a>) * msize);</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>        map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a> = nentries;</div>
<div class="line"><span class="lineno">  228</span>        map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#addf6e2fb9f1de44f04d24158e23a68a4">entries</a> = tmp;</div>
<div class="line"><span class="lineno">  229</span>    }</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  232</span>}</div>
<div class="ttc" id="astructevent__signal__map_html_addf6e2fb9f1de44f04d24158e23a68a4"><div class="ttname"><a href="structevent__signal__map.html#addf6e2fb9f1de44f04d24158e23a68a4">event_signal_map::entries</a></div><div class="ttdeci">void ** entries</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00154">event-internal.h:154</a></div></div>
<div class="ttc" id="astructevent__signal__map_html_aee769a68e2a362e0fa145c1e0a66e5df"><div class="ttname"><a href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">event_signal_map::nentries</a></div><div class="ttdeci">int nentries</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00156">event-internal.h:156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00154">event_signal_map::entries</a>, <a class="el" href="mm-internal_8h_source.html#l00078">mm_realloc</a>, and <a class="el" href="event-internal_8h_source.html#l00156">event_signal_map::nentries</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00273">evmap_io_add_()</a>, and <a class="el" href="evmap_8c_source.html#l00450">evmap_signal_add_()</a>.</p>

</div>
</div>
<a id="a6c6bf184dee8fd1da0ca746717e77b70" name="a6c6bf184dee8fd1da0ca746717e77b70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c6bf184dee8fd1da0ca746717e77b70">&#9670;&nbsp;</a></span>evmap_reinit_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_reinit_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00653">653</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  654</span>{</div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>    <a class="code hl_function" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a>(base, <a class="code hl_function" href="evmap_8c.html#a1ccac88021e4b1123d240d8167e731f9">evmap_io_reinit_iter_fn</a>, &amp;result);</div>
<div class="line"><span class="lineno">  658</span>    <span class="keywordflow">if</span> (result &lt; 0)</div>
<div class="line"><span class="lineno">  659</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  660</span>    <a class="code hl_function" href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a>(base, <a class="code hl_function" href="evmap_8c.html#a30548f653f6465cfcebdd42dbe693c55">evmap_signal_reinit_iter_fn</a>, &amp;result);</div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">if</span> (result &lt; 0)</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  663</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  664</span>}</div>
<div class="ttc" id="aevmap_8c_html_a1ccac88021e4b1123d240d8167e731f9"><div class="ttname"><a href="evmap_8c.html#a1ccac88021e4b1123d240d8167e731f9">evmap_io_reinit_iter_fn</a></div><div class="ttdeci">static int evmap_io_reinit_iter_fn(struct event_base *base, evutil_socket_t fd, struct evmap_io *ctx, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00607">evmap.c:607</a></div></div>
<div class="ttc" id="aevmap_8c_html_a30548f653f6465cfcebdd42dbe693c55"><div class="ttname"><a href="evmap_8c.html#a30548f653f6465cfcebdd42dbe693c55">evmap_signal_reinit_iter_fn</a></div><div class="ttdeci">static int evmap_signal_reinit_iter_fn(struct event_base *base, int signum, struct evmap_signal *ctx, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00639">evmap.c:639</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l00546">evmap_io_foreach_fd()</a>, <a class="el" href="evmap_8c_source.html#l00607">evmap_io_reinit_iter_fn()</a>, <a class="el" href="evmap_8c_source.html#l00585">evmap_signal_foreach_signal()</a>, and <a class="el" href="evmap_8c_source.html#l00639">evmap_signal_reinit_iter_fn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>.</p>

</div>
</div>
<a id="a3213b9db3a769fe7a8579ca25cd48fa7" name="a3213b9db3a769fe7a8579ca25cd48fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3213b9db3a769fe7a8579ca25cd48fa7">&#9670;&nbsp;</a></span>evmap_signal_active_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_signal_active_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncalls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00501">501</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  502</span>{</div>
<div class="line"><span class="lineno">  503</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__signal__map.html">event_signal_map</a> *map = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>;</div>
<div class="line"><span class="lineno">  504</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  505</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="keywordflow">if</span> (sig &lt; 0 || sig &gt;= map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a>)</div>
<div class="line"><span class="lineno">  508</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  509</span>    <a class="code hl_define" href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, map, sig, <a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a>);</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  513</span>    LIST_FOREACH(ev, &amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events, <a class="code hl_define" href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a>)</div>
<div class="line"><span class="lineno">  514</span>        <a class="code hl_function" href="event-internal_8h.html#a594c4fdf5bd1f8921141fd4a929c192a">event_active_nolock_</a>(ev, EV_SIGNAL, ncalls);</div>
<div class="line"><span class="lineno">  515</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_aa829233e4260ed23150035ee241b0fa2"><div class="ttname"><a href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a></div><div class="ttdeci">#define ev_signal_next</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00048">event-internal.h:48</a></div></div>
<div class="ttc" id="astructevent__signal__map_html"><div class="ttname"><a href="structevent__signal__map.html">event_signal_map</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00151">event-internal.h:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00048">ev_signal_next</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="evmap_8c_source.html#l00162">GET_SIGNAL_SLOT</a>, <a class="el" href="event-internal_8h_source.html#l00156">event_signal_map::nentries</a>, and <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03862">event_base_active_by_signal()</a>, and <a class="el" href="signal_8c_source.html#l00133">evsig_cb()</a>.</p>

</div>
</div>
<a id="a2f3e4d3c9bedd3737d9d3b54500d79c5" name="a2f3e4d3c9bedd3737d9d3b54500d79c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f3e4d3c9bedd3737d9d3b54500d79c5">&#9670;&nbsp;</a></span>evmap_signal_add_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_signal_add_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00450">450</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  451</span>{</div>
<div class="line"><span class="lineno">  452</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a285341f4e8ccdf6410ab60b5771f7ead">evsigsel</a>;</div>
<div class="line"><span class="lineno">  453</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__signal__map.html">event_signal_map</a> *map = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>;</div>
<div class="line"><span class="lineno">  454</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a> = NULL;</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordflow">if</span> (sig &lt; 0 || sig &gt;= NSIG)</div>
<div class="line"><span class="lineno">  457</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> (sig &gt;= map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a>) {</div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evmap_8c.html#a07bf55c862ef8547bef3139ecdaecdba">evmap_make_space</a>(</div>
<div class="line"><span class="lineno">  461</span>            map, sig, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *)) == -1)</div>
<div class="line"><span class="lineno">  462</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  463</span>    }</div>
<div class="line"><span class="lineno">  464</span>    <a class="code hl_define" href="evmap_8c.html#a0e2f82330cd3bdb9173d0bb12c018df0">GET_SIGNAL_SLOT_AND_CTOR</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, map, sig, <a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a>, <a class="code hl_function" href="evmap_8c.html#aa047cb837b888e2156f7b93f882ab054">evmap_signal_init</a>,</div>
<div class="line"><span class="lineno">  465</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a285341f4e8ccdf6410ab60b5771f7ead">evsigsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#a7dd2e226e3ee07731094d137d94daab0">fdinfo_len</a>);</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">if</span> (LIST_EMPTY(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events)) {</div>
<div class="line"><span class="lineno">  468</span>        <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#af933a8c970e13099e6388826c68966e7">add</a>(base, ev-&gt;ev_fd, 0, EV_SIGNAL, NULL)</div>
<div class="line"><span class="lineno">  469</span>            == -1)</div>
<div class="line"><span class="lineno">  470</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  471</span>    }</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    LIST_INSERT_HEAD(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events, ev, <a class="code hl_define" href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a>);</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno">  476</span>}</div>
<div class="ttc" id="aevmap_8c_html_a0e2f82330cd3bdb9173d0bb12c018df0"><div class="ttname"><a href="evmap_8c.html#a0e2f82330cd3bdb9173d0bb12c018df0">GET_SIGNAL_SLOT_AND_CTOR</a></div><div class="ttdeci">#define GET_SIGNAL_SLOT_AND_CTOR(x, map, slot, type, ctor, fdinfo_len)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00169">evmap.c:169</a></div></div>
<div class="ttc" id="aevmap_8c_html_aa047cb837b888e2156f7b93f882ab054"><div class="ttname"><a href="evmap_8c.html#aa047cb837b888e2156f7b93f882ab054">evmap_signal_init</a></div><div class="ttdeci">static void evmap_signal_init(struct evmap_signal *entry)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00443">evmap.c:443</a></div></div>
<div class="ttc" id="astructevent__base_html_a285341f4e8ccdf6410ab60b5771f7ead"><div class="ttname"><a href="structevent__base.html#a285341f4e8ccdf6410ab60b5771f7ead">event_base::evsigsel</a></div><div class="ttdeci">const struct eventop * evsigsel</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00221">event-internal.h:221</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00103">eventop::add</a>, <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00048">ev_signal_next</a>, <a class="el" href="evmap_8c_source.html#l00205">evmap_make_space()</a>, <a class="el" href="evmap_8c_source.html#l00443">evmap_signal_init()</a>, <a class="el" href="event-internal_8h_source.html#l00221">event_base::evsigsel</a>, <a class="el" href="event-internal_8h_source.html#l00125">eventop::fdinfo_len</a>, <a class="el" href="evmap_8c_source.html#l00169">GET_SIGNAL_SLOT_AND_CTOR</a>, <a class="el" href="event-internal_8h_source.html#l00156">event_signal_map::nentries</a>, and <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>.</p>

</div>
</div>
<a id="a0f64605bcae7a93943fe92e48d6f5850" name="a0f64605bcae7a93943fe92e48d6f5850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f64605bcae7a93943fe92e48d6f5850">&#9670;&nbsp;</a></span>evmap_signal_check_integrity_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_signal_check_integrity_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *&#160;</td>
          <td class="paramname"><em>sig_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00985">985</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  987</span>{</div>
<div class="line"><span class="lineno">  988</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno">  989</span>    <span class="comment">/* First, make sure the list itself isn&#39;t corrupt. */</span></div>
<div class="line"><span class="lineno">  990</span>    <a class="code hl_define" href="util-internal_8h.html#aab8552ae08f5701769be22ba90b6c6f4">EVUTIL_ASSERT_LIST_OK</a>(&amp;sig_info-&gt;<a class="code hl_variable" href="structevmap__signal.html#a3f533c276dffbfa8173c54a4f433aae1">events</a>, event, <a class="code hl_define" href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a>);</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>    LIST_FOREACH(ev, &amp;sig_info-&gt;<a class="code hl_variable" href="structevmap__signal.html#a3f533c276dffbfa8173c54a4f433aae1">events</a>, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>) {</div>
<div class="line"><span class="lineno">  993</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_flags &amp; EVLIST_INSERTED);</div>
<div class="line"><span class="lineno">  994</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(ev-&gt;ev_fd == signum);</div>
<div class="line"><span class="lineno">  995</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>((ev-&gt;ev_events &amp; EV_SIGNAL));</div>
<div class="line"><span class="lineno">  996</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!(ev-&gt;ev_events &amp; (EV_READ|EV_WRITE|EV_CLOSED)));</div>
<div class="line"><span class="lineno">  997</span>    }</div>
<div class="line"><span class="lineno">  998</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  999</span>}</div>
<div class="ttc" id="astructevmap__signal_html_a3f533c276dffbfa8173c54a4f433aae1"><div class="ttname"><a href="structevmap__signal.html#a3f533c276dffbfa8173c54a4f433aae1">evmap_signal::events</a></div><div class="ttdeci">struct event_dlist events</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00069">evmap.c:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00049">ev_io_next</a>, <a class="el" href="event-internal_8h_source.html#l00048">ev_signal_next</a>, <a class="el" href="evmap_8c_source.html#l00069">evmap_signal::events</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, and <a class="el" href="util-internal_8h_source.html#l00179">EVUTIL_ASSERT_LIST_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l01002">evmap_check_integrity_()</a>.</p>

</div>
</div>
<a id="a2607ea68074a8c4f2eb5908481b75915" name="a2607ea68074a8c4f2eb5908481b75915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2607ea68074a8c4f2eb5908481b75915">&#9670;&nbsp;</a></span>evmap_signal_clear_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_signal_clear_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00242">242</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  243</span>{</div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries != NULL) {</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nentries; ++i) {</div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries[i] != NULL)</div>
<div class="line"><span class="lineno">  248</span>                <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries[i]);</div>
<div class="line"><span class="lineno">  249</span>        }</div>
<div class="line"><span class="lineno">  250</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries);</div>
<div class="line"><span class="lineno">  251</span>        <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries = NULL;</div>
<div class="line"><span class="lineno">  252</span>    }</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nentries = 0;</div>
<div class="line"><span class="lineno">  254</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>, and <a class="el" href="evmap_8c_source.html#l00194">evmap_io_clear_()</a>.</p>

</div>
</div>
<a id="ac8fa9d06e74968b164d1c33265ba6094" name="ac8fa9d06e74968b164d1c33265ba6094"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8fa9d06e74968b164d1c33265ba6094">&#9670;&nbsp;</a></span>evmap_signal_del_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_signal_del_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00479">479</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  480</span>{</div>
<div class="line"><span class="lineno">  481</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a285341f4e8ccdf6410ab60b5771f7ead">evsigsel</a>;</div>
<div class="line"><span class="lineno">  482</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__signal__map.html">event_signal_map</a> *map = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>;</div>
<div class="line"><span class="lineno">  483</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">if</span> (sig &lt; 0 || sig &gt;= map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a>)</div>
<div class="line"><span class="lineno">  486</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>    <a class="code hl_define" href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, map, sig, <a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a>);</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>    LIST_REMOVE(ev, <a class="code hl_define" href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a>);</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">if</span> (LIST_FIRST(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events) == NULL) {</div>
<div class="line"><span class="lineno">  493</span>        <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#a0eef2d190c448c2e1422e3dc8856b72b">del</a>(base, ev-&gt;ev_fd, 0, EV_SIGNAL, NULL) == -1)</div>
<div class="line"><span class="lineno">  494</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  495</span>    }</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno">  498</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00105">eventop::del</a>, <a class="el" href="event-internal_8h_source.html#l00048">ev_signal_next</a>, <a class="el" href="event-internal_8h_source.html#l00221">event_base::evsigsel</a>, <a class="el" href="evmap_8c_source.html#l00162">GET_SIGNAL_SLOT</a>, <a class="el" href="event-internal_8h_source.html#l00156">event_signal_map::nentries</a>, and <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="a545d62e4989f992cb18db9f2b0ec9268" name="a545d62e4989f992cb18db9f2b0ec9268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a545d62e4989f992cb18db9f2b0ec9268">&#9670;&nbsp;</a></span>evmap_signal_delete_all_iter_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_signal_delete_all_iter_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *&#160;</td>
          <td class="paramname"><em>sig_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00686">686</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  688</span>{</div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="evmap_8c.html#a0bfd337f46dbba235d14d6de47eb3147">delete_all_in_dlist</a>(&amp;sig_info-&gt;<a class="code hl_variable" href="structevmap__signal.html#a3f533c276dffbfa8173c54a4f433aae1">events</a>);</div>
<div class="line"><span class="lineno">  690</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l00668">delete_all_in_dlist()</a>, and <a class="el" href="evmap_8c_source.html#l00069">evmap_signal::events</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00693">evmap_delete_all_()</a>.</p>

</div>
</div>
<a id="ac186986fc747695ea9abca562ad91c3e" name="ac186986fc747695ea9abca562ad91c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac186986fc747695ea9abca562ad91c3e">&#9670;&nbsp;</a></span>evmap_signal_foreach_event_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_signal_foreach_event_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *&#160;</td>
          <td class="paramname"><em>sig_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l01037">1037</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1039</span>{</div>
<div class="line"><span class="lineno"> 1040</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno"> 1041</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__foreach__event__helper.html">evmap_foreach_event_helper</a> *h = <a class="code hl_variable" href="structevmap__foreach__event__helper.html#a86616ea11fbe4a9a90f33307200caf96">arg</a>;</div>
<div class="line"><span class="lineno"> 1042</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1043</span>    LIST_FOREACH(ev, &amp;sig_info-&gt;<a class="code hl_variable" href="structevmap__signal.html#a3f533c276dffbfa8173c54a4f433aae1">events</a>, <a class="code hl_define" href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a>) {</div>
<div class="line"><span class="lineno"> 1044</span>        <span class="keywordflow">if</span> ((r = h-&gt;<a class="code hl_variable" href="structevmap__foreach__event__helper.html#a4d4c054aa68dcaa19a475d8d1bd69338">fn</a>(base, ev, h-&gt;<a class="code hl_variable" href="structevmap__foreach__event__helper.html#a86616ea11fbe4a9a90f33307200caf96">arg</a>)))</div>
<div class="line"><span class="lineno"> 1045</span>            <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1046</span>    }</div>
<div class="line"><span class="lineno"> 1047</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1048</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l01015">evmap_foreach_event_helper::arg</a>, <a class="el" href="event-internal_8h_source.html#l00048">ev_signal_next</a>, <a class="el" href="evmap_8c_source.html#l00069">evmap_signal::events</a>, and <a class="el" href="evmap_8c_source.html#l01014">evmap_foreach_event_helper::fn</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l01051">evmap_foreach_event_()</a>.</p>

</div>
</div>
<a id="afe4b036d7904a162bd88503a3dd79391" name="afe4b036d7904a162bd88503a3dd79391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe4b036d7904a162bd88503a3dd79391">&#9670;&nbsp;</a></span>evmap_signal_foreach_signal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_signal_foreach_signal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="evmap_8c.html#a5c5fe998f363bda54d4cb039de690549">evmap_signal_foreach_signal_cb</a>&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00585">585</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  588</span>{</div>
<div class="line"><span class="lineno">  589</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__signal__map.html">event_signal_map</a> *sigmap = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>;</div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordtype">int</span> signum;</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordflow">for</span> (signum = 0; signum &lt; sigmap-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a>; ++signum) {</div>
<div class="line"><span class="lineno">  594</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a> = sigmap-&gt;<a class="code hl_variable" href="structevent__signal__map.html#addf6e2fb9f1de44f04d24158e23a68a4">entries</a>[signum];</div>
<div class="line"><span class="lineno">  595</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</div>
<div class="line"><span class="lineno">  596</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  597</span>        <span class="keywordflow">if</span> ((r = fn(base, signum, <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, arg)))</div>
<div class="line"><span class="lineno">  598</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  599</span>    }</div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  601</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00154">event_signal_map::entries</a>, <a class="el" href="event-internal_8h_source.html#l00156">event_signal_map::nentries</a>, and <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l01002">evmap_check_integrity_()</a>, <a class="el" href="evmap_8c_source.html#l00693">evmap_delete_all_()</a>, <a class="el" href="evmap_8c_source.html#l01051">evmap_foreach_event_()</a>, and <a class="el" href="evmap_8c_source.html#l00653">evmap_reinit_()</a>.</p>

</div>
</div>
<a id="aa047cb837b888e2156f7b93f882ab054" name="aa047cb837b888e2156f7b93f882ab054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa047cb837b888e2156f7b93f882ab054">&#9670;&nbsp;</a></span>evmap_signal_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void evmap_signal_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00443">443</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  444</span>{</div>
<div class="line"><span class="lineno">  445</span>    LIST_INIT(&amp;entry-&gt;<a class="code hl_variable" href="structevmap__signal.html#a3f533c276dffbfa8173c54a4f433aae1">events</a>);</div>
<div class="line"><span class="lineno">  446</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l00069">evmap_signal::events</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00450">evmap_signal_add_()</a>.</p>

</div>
</div>
<a id="ad6b1152af7697586adb90c62aa6c650a" name="ad6b1152af7697586adb90c62aa6c650a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b1152af7697586adb90c62aa6c650a">&#9670;&nbsp;</a></span>evmap_signal_initmap_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_signal_initmap_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00235">235</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  236</span>{</div>
<div class="line"><span class="lineno">  237</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nentries = 0;</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries = NULL;</div>
<div class="line"><span class="lineno">  239</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, and <a class="el" href="evmap_8c_source.html#l00189">evmap_io_initmap_()</a>.</p>

</div>
</div>
<a id="a30548f653f6465cfcebdd42dbe693c55" name="a30548f653f6465cfcebdd42dbe693c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30548f653f6465cfcebdd42dbe693c55">&#9670;&nbsp;</a></span>evmap_signal_reinit_iter_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int evmap_signal_reinit_iter_fn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmap__signal.html">evmap_signal</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00639">639</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  641</span>{</div>
<div class="line"><span class="lineno">  642</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a285341f4e8ccdf6410ab60b5771f7ead">evsigsel</a>;</div>
<div class="line"><span class="lineno">  643</span>    <span class="keywordtype">int</span> *result = arg;</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    <span class="keywordflow">if</span> (!LIST_EMPTY(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events)) {</div>
<div class="line"><span class="lineno">  646</span>        <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#af933a8c970e13099e6388826c68966e7">add</a>(base, signum, 0, EV_SIGNAL, NULL) == -1)</div>
<div class="line"><span class="lineno">  647</span>            *result = -1;</div>
<div class="line"><span class="lineno">  648</span>    }</div>
<div class="line"><span class="lineno">  649</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  650</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00103">eventop::add</a>, <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="event-internal_8h_source.html#l00221">event_base::evsigsel</a>.</p>

<p class="reference">Referenced by <a class="el" href="evmap_8c_source.html#l00653">evmap_reinit_()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
