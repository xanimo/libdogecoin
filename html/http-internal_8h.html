<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/libevent/http-internal.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_97979c17d049e8002d2e089c4964ead4.html">libevent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">http-internal.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;event2/event_struct.h&quot;</code><br />
<code>#include &quot;<a class="el" href="util-internal_8h_source.html">util-internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="defer-internal_8h_source.html">defer-internal.h</a>&quot;</code><br />
</div>
<p><a href="http-internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevhttp__connection.html">evhttp_connection</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevhttp__cb.html">evhttp_cb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevhttp__bound__socket.html">evhttp_bound_socket</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevhttp__server__alias.html">evhttp_server_alias</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevhttp.html">evhttp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa00c29456a0898dff8ec24461a1b59fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#aa00c29456a0898dff8ec24461a1b59fa">HTTP_CONNECT_TIMEOUT</a>&#160;&#160;&#160;45</td></tr>
<tr class="separator:aa00c29456a0898dff8ec24461a1b59fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e8bf12c5ac80894e706a9779f64cc67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a3e8bf12c5ac80894e706a9779f64cc67">HTTP_WRITE_TIMEOUT</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a3e8bf12c5ac80894e706a9779f64cc67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c278e81695dccefc150acf108418faf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a1c278e81695dccefc150acf108418faf">HTTP_READ_TIMEOUT</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a1c278e81695dccefc150acf108418faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84f02965a06f74b822c81fa515acd0b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#aa84f02965a06f74b822c81fa515acd0b">EVHTTP_REQ_UNKNOWN_</a>&#160;&#160;&#160;(1&lt;&lt;15)</td></tr>
<tr class="separator:aa84f02965a06f74b822c81fa515acd0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223d4db848b4d88eb162b22bac60db72"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a223d4db848b4d88eb162b22bac60db72">EVHTTP_CON_INCOMING</a>&#160;&#160;&#160;0x0001       /* only one <a class="el" href="structrequest.html">request</a> on it ever */</td></tr>
<tr class="separator:a223d4db848b4d88eb162b22bac60db72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950439044b8c0b61dcbcbb7e0d2965f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a950439044b8c0b61dcbcbb7e0d2965f9">EVHTTP_CON_OUTGOING</a>&#160;&#160;&#160;0x0002       /* multiple requests possible */</td></tr>
<tr class="separator:a950439044b8c0b61dcbcbb7e0d2965f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac67356d27730bf3884584a256f599bcc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#ac67356d27730bf3884584a256f599bcc">EVHTTP_CON_CLOSEDETECT</a>&#160;&#160;&#160;0x0004   /* detecting if persistent close */</td></tr>
<tr class="separator:ac67356d27730bf3884584a256f599bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af61199283f0f4bbd539f090868fe1b6a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a>&#160;&#160;&#160;EVHTTP_CON_PUBLIC_FLAGS_END</td></tr>
<tr class="separator:af61199283f0f4bbd539f090868fe1b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb0bb07f545a809655f55d0e6ceb492"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a2eb0bb07f545a809655f55d0e6ceb492">EVHTTP_CON_READING_ERROR</a>&#160;&#160;&#160;(<a class="el" href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a> &lt;&lt; 1)</td></tr>
<tr class="separator:a2eb0bb07f545a809655f55d0e6ceb492"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:afba04c71578ccd1b694960036c1c61b0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> { <br />
&#160;&#160;<a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a> = 1
, <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a> = 0
, <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a> = -1
, <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21">REQUEST_CANCELED</a> = -2
, <br />
&#160;&#160;<a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a> = -3
<br />
 }</td></tr>
<tr class="separator:afba04c71578ccd1b694960036c1c61b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78bff991d613d65e79b375476cf1fdb5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5">evhttp_connection_state</a> { <br />
&#160;&#160;<a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>
, <a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a>
, <a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a>
, <a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a>
, <br />
&#160;&#160;<a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b">EVCON_READING_HEADERS</a>
, <a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9">EVCON_READING_BODY</a>
, <a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d">EVCON_READING_TRAILER</a>
, <a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>
<br />
 }</td></tr>
<tr class="separator:a78bff991d613d65e79b375476cf1fdb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a157535bb4ab45f3a9a6eec3327ba0011"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a157535bb4ab45f3a9a6eec3327ba0011">TAILQ_HEAD</a> (evconq, <a class="el" href="structevhttp__connection.html">evhttp_connection</a>)</td></tr>
<tr class="separator:a157535bb4ab45f3a9a6eec3327ba0011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae61c72d946968cbfee570acde891108f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#ae61c72d946968cbfee570acde891108f">evhttp_connection_reset_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *)</td></tr>
<tr class="separator:ae61c72d946968cbfee570acde891108f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2f068f3b4abe6142053f37e8f25a66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a3f2f068f3b4abe6142053f37e8f25a66">evhttp_connection_connect_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *)</td></tr>
<tr class="separator:a3f2f068f3b4abe6142053f37e8f25a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f2c8377974e44152d631f519fdf4539"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a8f2c8377974e44152d631f519fdf4539">evhttp_connection_fail_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *, enum evhttp_request_error error)</td></tr>
<tr class="separator:a8f2c8377974e44152d631f519fdf4539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b66524d1f78b28af816a6ebf6d4e256"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a9b66524d1f78b28af816a6ebf6d4e256">evhttp_parse_firstline_</a> (struct evhttp_request *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *)</td></tr>
<tr class="separator:a9b66524d1f78b28af816a6ebf6d4e256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f688e7943b170765bc71623d35da1a4"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a6f688e7943b170765bc71623d35da1a4">evhttp_parse_headers_</a> (struct evhttp_request *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *)</td></tr>
<tr class="separator:a6f688e7943b170765bc71623d35da1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711c8bdac301619c35b16a79cd7c2137"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a711c8bdac301619c35b16a79cd7c2137">evhttp_start_read_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *)</td></tr>
<tr class="separator:a711c8bdac301619c35b16a79cd7c2137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35cdd8b22c7ee78e67bab21a980a04c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a35cdd8b22c7ee78e67bab21a980a04c9">evhttp_start_write_</a> (struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *)</td></tr>
<tr class="separator:a35cdd8b22c7ee78e67bab21a980a04c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f1b97fe087520f65b835ea91e9d5ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a68f1b97fe087520f65b835ea91e9d5ce">evhttp_response_code_</a> (struct evhttp_request *, int, const char *)</td></tr>
<tr class="separator:a68f1b97fe087520f65b835ea91e9d5ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4648f0b55e3aabc19a40aca17a4b186"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#ad4648f0b55e3aabc19a40aca17a4b186">evhttp_send_page_</a> (struct evhttp_request *, struct <a class="el" href="structevbuffer.html">evbuffer</a> *)</td></tr>
<tr class="separator:ad4648f0b55e3aabc19a40aca17a4b186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d32d52b724927b96d1f8f3154776c0"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http-internal_8h.html#a27d32d52b724927b96d1f8f3154776c0">evhttp_decode_uri_internal</a> (const char *uri, size_t length, char *ret, int decode_plus)</td></tr>
<tr class="separator:a27d32d52b724927b96d1f8f3154776c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af61199283f0f4bbd539f090868fe1b6a" name="af61199283f0f4bbd539f090868fe1b6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af61199283f0f4bbd539f090868fe1b6a">&#9670;&nbsp;</a></span>EVHTTP_CON_AUTOFREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVHTTP_CON_AUTOFREE&#160;&#160;&#160;EVHTTP_CON_PUBLIC_FLAGS_END</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00075">75</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>

</div>
</div>
<a id="ac67356d27730bf3884584a256f599bcc" name="ac67356d27730bf3884584a256f599bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac67356d27730bf3884584a256f599bcc">&#9670;&nbsp;</a></span>EVHTTP_CON_CLOSEDETECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVHTTP_CON_CLOSEDETECT&#160;&#160;&#160;0x0004   /* detecting if persistent close */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00073">73</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>

</div>
</div>
<a id="a223d4db848b4d88eb162b22bac60db72" name="a223d4db848b4d88eb162b22bac60db72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a223d4db848b4d88eb162b22bac60db72">&#9670;&nbsp;</a></span>EVHTTP_CON_INCOMING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVHTTP_CON_INCOMING&#160;&#160;&#160;0x0001       /* only one <a class="el" href="structrequest.html">request</a> on it ever */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00071">71</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>

</div>
</div>
<a id="a950439044b8c0b61dcbcbb7e0d2965f9" name="a950439044b8c0b61dcbcbb7e0d2965f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950439044b8c0b61dcbcbb7e0d2965f9">&#9670;&nbsp;</a></span>EVHTTP_CON_OUTGOING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVHTTP_CON_OUTGOING&#160;&#160;&#160;0x0002       /* multiple requests possible */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00072">72</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>

</div>
</div>
<a id="a2eb0bb07f545a809655f55d0e6ceb492" name="a2eb0bb07f545a809655f55d0e6ceb492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eb0bb07f545a809655f55d0e6ceb492">&#9670;&nbsp;</a></span>EVHTTP_CON_READING_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVHTTP_CON_READING_ERROR&#160;&#160;&#160;(<a class="el" href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a> &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00078">78</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>

</div>
</div>
<a id="aa84f02965a06f74b822c81fa515acd0b" name="aa84f02965a06f74b822c81fa515acd0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84f02965a06f74b822c81fa515acd0b">&#9670;&nbsp;</a></span>EVHTTP_REQ_UNKNOWN_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVHTTP_REQ_UNKNOWN_&#160;&#160;&#160;(1&lt;&lt;15)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00034">34</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>

</div>
</div>
<a id="aa00c29456a0898dff8ec24461a1b59fa" name="aa00c29456a0898dff8ec24461a1b59fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa00c29456a0898dff8ec24461a1b59fa">&#9670;&nbsp;</a></span>HTTP_CONNECT_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_CONNECT_TIMEOUT&#160;&#160;&#160;45</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00017">17</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>

</div>
</div>
<a id="a1c278e81695dccefc150acf108418faf" name="a1c278e81695dccefc150acf108418faf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c278e81695dccefc150acf108418faf">&#9670;&nbsp;</a></span>HTTP_READ_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_READ_TIMEOUT&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00019">19</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>

</div>
</div>
<a id="a3e8bf12c5ac80894e706a9779f64cc67" name="a3e8bf12c5ac80894e706a9779f64cc67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e8bf12c5ac80894e706a9779f64cc67">&#9670;&nbsp;</a></span>HTTP_WRITE_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_WRITE_TIMEOUT&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00018">18</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a78bff991d613d65e79b375476cf1fdb5" name="a78bff991d613d65e79b375476cf1fdb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78bff991d613d65e79b375476cf1fdb5">&#9670;&nbsp;</a></span>evhttp_connection_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5">evhttp_connection_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38" name="a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38"></a>EVCON_DISCONNECTED&#160;</td><td class="fielddoc"><p >not currently connected not trying either </p>
</td></tr>
<tr><td class="fieldname"><a id="a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018" name="a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018"></a>EVCON_CONNECTING&#160;</td><td class="fielddoc"><p >tries to currently connect </p>
</td></tr>
<tr><td class="fieldname"><a id="a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e" name="a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e"></a>EVCON_IDLE&#160;</td><td class="fielddoc"><p >connection is established </p>
</td></tr>
<tr><td class="fieldname"><a id="a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5" name="a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5"></a>EVCON_READING_FIRSTLINE&#160;</td><td class="fielddoc"><p >reading Request-Line (incoming conn) or &lt; Status-Line (outgoing conn) </p>
</td></tr>
<tr><td class="fieldname"><a id="a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b" name="a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b"></a>EVCON_READING_HEADERS&#160;</td><td class="fielddoc"><p >reading request/response headers </p>
</td></tr>
<tr><td class="fieldname"><a id="a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9" name="a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9"></a>EVCON_READING_BODY&#160;</td><td class="fielddoc"><p >reading request/response body </p>
</td></tr>
<tr><td class="fieldname"><a id="a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d" name="a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d"></a>EVCON_READING_TRAILER&#160;</td><td class="fielddoc"><p >reading request/response chunked trailer </p>
</td></tr>
<tr><td class="fieldname"><a id="a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1" name="a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1"></a>EVCON_WRITING&#160;</td><td class="fielddoc"><p >writing request/response headers/body </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00036">36</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>                             {</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>, </div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a>,   </div>
<div class="line"><span class="lineno">   39</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a>,     </div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a>,</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b">EVCON_READING_HEADERS</a>,  </div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9">EVCON_READING_BODY</a>, </div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d">EVCON_READING_TRAILER</a>,  </div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>       </div>
<div class="line"><span class="lineno">   46</span>};</div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a1751edbc12b6dd1ddb2caffb0c54724e">EVCON_IDLE</a></div><div class="ttdeci">@ EVCON_IDLE</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00039">http-internal.h:39</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2a006f40ce3cd62b99b8f86f9ea02df9">EVCON_READING_BODY</a></div><div class="ttdeci">@ EVCON_READING_BODY</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00043">http-internal.h:43</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a></div><div class="ttdeci">@ EVCON_CONNECTING</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00038">http-internal.h:38</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a></div><div class="ttdeci">@ EVCON_WRITING</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00046">http-internal.h:45</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a></div><div class="ttdeci">@ EVCON_READING_FIRSTLINE</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00041">http-internal.h:40</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ab4735b0008b9bfc87e830fd582b7105d">EVCON_READING_TRAILER</a></div><div class="ttdeci">@ EVCON_READING_TRAILER</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00044">http-internal.h:44</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ad16b622c0077feaf4899eb400145cc1b">EVCON_READING_HEADERS</a></div><div class="ttdeci">@ EVCON_READING_HEADERS</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00042">http-internal.h:42</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38"><div class="ttname"><a href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a></div><div class="ttdeci">@ EVCON_DISCONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00037">http-internal.h:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afba04c71578ccd1b694960036c1c61b0" name="afba04c71578ccd1b694960036c1c61b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba04c71578ccd1b694960036c1c61b0">&#9670;&nbsp;</a></span>message_read_status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d" name="afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d"></a>ALL_DATA_READ&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a" name="afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a"></a>MORE_DATA_EXPECTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257" name="afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257"></a>DATA_CORRUPTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21" name="afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21"></a>REQUEST_CANCELED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0" name="afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0"></a>DATA_TOO_LONG&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="http-internal_8h_source.html#l00021">21</a> of file <a class="el" href="http-internal_8h_source.html">http-internal.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   21</span>                         {</div>
<div class="line"><span class="lineno">   22</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a> = 1,</div>
<div class="line"><span class="lineno">   23</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a> = 0,</div>
<div class="line"><span class="lineno">   24</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a> = -1,</div>
<div class="line"><span class="lineno">   25</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21">REQUEST_CANCELED</a> = -2,</div>
<div class="line"><span class="lineno">   26</span>    <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a> = -3</div>
<div class="line"><span class="lineno">   27</span>};</div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a10d684c9ede932ec33edfbc7f4c93c21">REQUEST_CANCELED</a></div><div class="ttdeci">@ REQUEST_CANCELED</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00025">http-internal.h:25</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a></div><div class="ttdeci">@ ALL_DATA_READ</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00022">http-internal.h:22</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a></div><div class="ttdeci">@ DATA_CORRUPTED</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00024">http-internal.h:24</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a></div><div class="ttdeci">@ DATA_TOO_LONG</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00027">http-internal.h:26</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a></div><div class="ttdeci">@ MORE_DATA_EXPECTED</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00023">http-internal.h:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3f2f068f3b4abe6142053f37e8f25a66" name="a3f2f068f3b4abe6142053f37e8f25a66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2f068f3b4abe6142053f37e8f25a66">&#9670;&nbsp;</a></span>evhttp_connection_connect_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evhttp_connection_connect_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02564">2564</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2565</span>{</div>
<div class="line"><span class="lineno"> 2566</span>    <span class="keywordtype">int</span> old_state = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a>;</div>
<div class="line"><span class="lineno"> 2567</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *address = evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>;</div>
<div class="line"><span class="lineno"> 2568</span>    <span class="keyword">const</span> <span class="keyword">struct </span>sockaddr *sa = <a class="code hl_function" href="http_8c.html#a49dad4391f88622dcc36a9c98862b970">evhttp_connection_get_addr</a>(evcon);</div>
<div class="line"><span class="lineno"> 2569</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 2570</span> </div>
<div class="line"><span class="lineno"> 2571</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> == <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a>)</div>
<div class="line"><span class="lineno"> 2572</span>        <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2573</span> </div>
<div class="line"><span class="lineno"> 2574</span>    <a class="code hl_function" href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a>(evcon);</div>
<div class="line"><span class="lineno"> 2575</span> </div>
<div class="line"><span class="lineno"> 2576</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#a223d4db848b4d88eb162b22bac60db72">EVHTTP_CON_INCOMING</a>));</div>
<div class="line"><span class="lineno"> 2577</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> |= <a class="code hl_define" href="http-internal_8h.html#a950439044b8c0b61dcbcbb7e0d2965f9">EVHTTP_CON_OUTGOING</a>;</div>
<div class="line"><span class="lineno"> 2578</span> </div>
<div class="line"><span class="lineno"> 2579</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a> || evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a800d9764909f5089f64bc75911c76d8f">bind_port</a>) {</div>
<div class="line"><span class="lineno"> 2580</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = <a class="code hl_function" href="http_8c.html#ae512f701fdfa4b104d1a8b8ef3bf88ad">bind_socket</a>(</div>
<div class="line"><span class="lineno"> 2581</span>            evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a800d9764909f5089f64bc75911c76d8f">bind_port</a>, 0 <span class="comment">/*reuse*/</span>);</div>
<div class="line"><span class="lineno"> 2582</span>        <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> == -1) {</div>
<div class="line"><span class="lineno"> 2583</span>            <a class="code hl_define" href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a>((<span class="stringliteral">&quot;%s: failed to bind to \&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 2584</span>                <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">bind_address</a>));</div>
<div class="line"><span class="lineno"> 2585</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2586</span>        }</div>
<div class="line"><span class="lineno"> 2587</span> </div>
<div class="line"><span class="lineno"> 2588</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>))</div>
<div class="line"><span class="lineno"> 2589</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2590</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2591</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, -1))</div>
<div class="line"><span class="lineno"> 2592</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2593</span>    }</div>
<div class="line"><span class="lineno"> 2594</span> </div>
<div class="line"><span class="lineno"> 2595</span>    <span class="comment">/* Set up a callback for successful connection setup */</span></div>
<div class="line"><span class="lineno"> 2596</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>,</div>
<div class="line"><span class="lineno"> 2597</span>        NULL <span class="comment">/* evhttp_read_cb */</span>,</div>
<div class="line"><span class="lineno"> 2598</span>        NULL <span class="comment">/* evhttp_write_cb */</span>,</div>
<div class="line"><span class="lineno"> 2599</span>        <a class="code hl_function" href="http_8c.html#ada6ab7053ad08b65f2ea4a31594b982c">evhttp_connection_cb</a>,</div>
<div class="line"><span class="lineno"> 2600</span>        evcon);</div>
<div class="line"><span class="lineno"> 2601</span>    <span class="keywordflow">if</span> (!evutil_timerisset(&amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>)) {</div>
<div class="line"><span class="lineno"> 2602</span>        <span class="keyword">const</span> <span class="keyword">struct </span>timeval conn_tv = { <a class="code hl_define" href="http-internal_8h.html#aa00c29456a0898dff8ec24461a1b59fa">HTTP_CONNECT_TIMEOUT</a>, 0 };</div>
<div class="line"><span class="lineno"> 2603</span>        <a class="code hl_function" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, &amp;conn_tv, &amp;conn_tv);</div>
<div class="line"><span class="lineno"> 2604</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2605</span>        <a class="code hl_function" href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>, &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">timeout</a>);</div>
<div class="line"><span class="lineno"> 2606</span>    }</div>
<div class="line"><span class="lineno"> 2607</span>    <span class="comment">/* make sure that we get a write callback */</span></div>
<div class="line"><span class="lineno"> 2608</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_WRITE))</div>
<div class="line"><span class="lineno"> 2609</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno"> 2610</span> </div>
<div class="line"><span class="lineno"> 2611</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a2bb6ac4da0622a9c0fc013523e740018">EVCON_CONNECTING</a>;</div>
<div class="line"><span class="lineno"> 2612</span> </div>
<div class="line"><span class="lineno"> 2613</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; EVHTTP_CON_REUSE_CONNECTED_ADDR &amp;&amp;</div>
<div class="line"><span class="lineno"> 2614</span>        sa &amp;&amp;</div>
<div class="line"><span class="lineno"> 2615</span>        (sa-&gt;sa_family == AF_INET || sa-&gt;sa_family == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>)) {</div>
<div class="line"><span class="lineno"> 2616</span>        <span class="keywordtype">int</span> socklen = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>sockaddr_in);</div>
<div class="line"><span class="lineno"> 2617</span>        <span class="keywordflow">if</span> (sa-&gt;sa_family == <a class="code hl_define" href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>) {</div>
<div class="line"><span class="lineno"> 2618</span>            socklen = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in6.html">sockaddr_in6</a>);</div>
<div class="line"><span class="lineno"> 2619</span>        }</div>
<div class="line"><span class="lineno"> 2620</span>        ret = <a class="code hl_function" href="bufferevent__sock_8c.html#a0dec62272284c5799de2f274a87ae885">bufferevent_socket_connect</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, sa, socklen);</div>
<div class="line"><span class="lineno"> 2621</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2622</span>        ret = <a class="code hl_function" href="bufferevent__sock_8c.html#a2f839839466240cd8fbacf01c2c8427e">bufferevent_socket_connect_hostname</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>,</div>
<div class="line"><span class="lineno"> 2623</span>                evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a96b8e4a17ff9db3a09c1fe7c848776bd">dns_base</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ac2705477278524f0dc3cb94569ba68a3">ai_family</a>, address, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">port</a>);</div>
<div class="line"><span class="lineno"> 2624</span>    }</div>
<div class="line"><span class="lineno"> 2625</span> </div>
<div class="line"><span class="lineno"> 2626</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2627</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = old_state;</div>
<div class="line"><span class="lineno"> 2628</span>        <a class="code hl_function" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>, <span class="stringliteral">&quot;%s: connection to \&quot;%s\&quot; failed&quot;</span>,</div>
<div class="line"><span class="lineno"> 2629</span>            <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">address</a>);</div>
<div class="line"><span class="lineno"> 2630</span>        <span class="comment">/* some operating systems return ECONNREFUSED immediately</span></div>
<div class="line"><span class="lineno"> 2631</span><span class="comment">         * when connecting to a local address.  the cleanup is going</span></div>
<div class="line"><span class="lineno"> 2632</span><span class="comment">         * to reschedule this function call.</span></div>
<div class="line"><span class="lineno"> 2633</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 2634</span>        <a class="code hl_function" href="http_8c.html#afcfaff5e9f76591078033826f9e1252d">evhttp_connection_cb_cleanup</a>(evcon);</div>
<div class="line"><span class="lineno"> 2635</span>        <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2636</span>    }</div>
<div class="line"><span class="lineno"> 2637</span> </div>
<div class="line"><span class="lineno"> 2638</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno"> 2639</span>}</div>
<div class="ttc" id="abufferevent_8c_html_a1b9a3412e8c8e122c745b33d46b9643e"><div class="ttname"><a href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a></div><div class="ttdeci">int bufferevent_enable(struct bufferevent *bufev, short event)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00482">bufferevent.c:482</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a476193ebc6b892bbfd14d7f0ee14b030"><div class="ttname"><a href="bufferevent_8c.html#a476193ebc6b892bbfd14d7f0ee14b030">bufferevent_set_timeouts</a></div><div class="ttdeci">int bufferevent_set_timeouts(struct bufferevent *bufev, const struct timeval *tv_read, const struct timeval *tv_write)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00506">bufferevent.c:506</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a5923a441822ab477b13b6be4807174f4"><div class="ttname"><a href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a></div><div class="ttdeci">int bufferevent_setfd(struct bufferevent *bev, evutil_socket_t fd)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00865">bufferevent.c:865</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a63792519cb94a38beccb5e1390cd6198"><div class="ttname"><a href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a></div><div class="ttdeci">void bufferevent_setcb(struct bufferevent *bufev, bufferevent_data_cb readcb, bufferevent_data_cb writecb, bufferevent_event_cb eventcb, void *cbarg)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00389">bufferevent.c:389</a></div></div>
<div class="ttc" id="abufferevent__sock_8c_html_a0dec62272284c5799de2f274a87ae885"><div class="ttname"><a href="bufferevent__sock_8c.html#a0dec62272284c5799de2f274a87ae885">bufferevent_socket_connect</a></div><div class="ttdeci">int bufferevent_socket_connect(struct bufferevent *bev, const struct sockaddr *sa, int socklen)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__sock_8c_source.html#l00380">bufferevent_sock.c:380</a></div></div>
<div class="ttc" id="abufferevent__sock_8c_html_a2f839839466240cd8fbacf01c2c8427e"><div class="ttname"><a href="bufferevent__sock_8c.html#a2f839839466240cd8fbacf01c2c8427e">bufferevent_socket_connect_hostname</a></div><div class="ttdeci">int bufferevent_socket_connect_hostname(struct bufferevent *bev, struct evdns_base *evdns_base, int family, const char *hostname, int port)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent__sock_8c_source.html#l00494">bufferevent_sock.c:494</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a223d4db848b4d88eb162b22bac60db72"><div class="ttname"><a href="http-internal_8h.html#a223d4db848b4d88eb162b22bac60db72">EVHTTP_CON_INCOMING</a></div><div class="ttdeci">#define EVHTTP_CON_INCOMING</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00071">http-internal.h:71</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_a950439044b8c0b61dcbcbb7e0d2965f9"><div class="ttname"><a href="http-internal_8h.html#a950439044b8c0b61dcbcbb7e0d2965f9">EVHTTP_CON_OUTGOING</a></div><div class="ttdeci">#define EVHTTP_CON_OUTGOING</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00072">http-internal.h:72</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_aa00c29456a0898dff8ec24461a1b59fa"><div class="ttname"><a href="http-internal_8h.html#aa00c29456a0898dff8ec24461a1b59fa">HTTP_CONNECT_TIMEOUT</a></div><div class="ttdeci">#define HTTP_CONNECT_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00017">http-internal.h:17</a></div></div>
<div class="ttc" id="ahttp_8c_html_a49dad4391f88622dcc36a9c98862b970"><div class="ttname"><a href="http_8c.html#a49dad4391f88622dcc36a9c98862b970">evhttp_connection_get_addr</a></div><div class="ttdeci">const struct sockaddr * evhttp_connection_get_addr(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02558">http.c:2558</a></div></div>
<div class="ttc" id="ahttp_8c_html_a6f5a343b577968641c4f3d9f9155cebf"><div class="ttname"><a href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a></div><div class="ttdeci">void evhttp_connection_reset_(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01330">http.c:1330</a></div></div>
<div class="ttc" id="ahttp_8c_html_ada6ab7053ad08b65f2ea4a31594b982c"><div class="ttname"><a href="http_8c.html#ada6ab7053ad08b65f2ea4a31594b982c">evhttp_connection_cb</a></div><div class="ttdeci">static void evhttp_connection_cb(struct bufferevent *bufev, short what, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01572">http.c:1572</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae512f701fdfa4b104d1a8b8ef3bf88ad"><div class="ttname"><a href="http_8c.html#ae512f701fdfa4b104d1a8b8ef3bf88ad">bind_socket</a></div><div class="ttdeci">static evutil_socket_t bind_socket(const char *, ev_uint16_t, int reuse)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l04459">http.c:4459</a></div></div>
<div class="ttc" id="ahttp_8c_html_afcfaff5e9f76591078033826f9e1252d"><div class="ttname"><a href="http_8c.html#afcfaff5e9f76591078033826f9e1252d">evhttp_connection_cb_cleanup</a></div><div class="ttdeci">static void evhttp_connection_cb_cleanup(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01402">http.c:1402</a></div></div>
<div class="ttc" id="aipv6-internal_8h_html_aa03706b2738b9a58d4985dfbe99e1bac"><div class="ttname"><a href="ipv6-internal_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a></div><div class="ttdeci">#define AF_INET6</div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00073">ipv6-internal.h:73</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a5f53113b969e2ebd8c6ea0fac36004d2"><div class="ttname"><a href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_sock_warn(evutil_socket_t sock, const char *fmt,...) EV_CHECK_FMT(2</div></div>
<div class="ttc" id="alog-internal_8h_html_abca298e725a8bd7373647a064b4d1ff7"><div class="ttname"><a href="log-internal_8h.html#abca298e725a8bd7373647a064b4d1ff7">event_debug</a></div><div class="ttdeci">#define event_debug(x)</div><div class="ttdef"><b>Definition:</b> <a href="log-internal_8h_source.html#l00079">log-internal.h:79</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a1e063ad5b3001e0e637dd6ab9fbfac5b"><div class="ttname"><a href="structevhttp__connection.html#a1e063ad5b3001e0e637dd6ab9fbfac5b">evhttp_connection::address</a></div><div class="ttdeci">char * address</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00064">http-internal.h:64</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a2fab1839ab4ec3062a1e122b66b20547"><div class="ttname"><a href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">evhttp_connection::fd</a></div><div class="ttdeci">evutil_socket_t fd</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00056">http-internal.h:56</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a3fd26717c0f3f420e1ffecbbcd5b4703"><div class="ttname"><a href="structevhttp__connection.html#a3fd26717c0f3f420e1ffecbbcd5b4703">evhttp_connection::port</a></div><div class="ttdeci">ev_uint16_t port</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00065">http-internal.h:65</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a520a62d4110e85d4de1535da2fc0cae6"><div class="ttname"><a href="structevhttp__connection.html#a520a62d4110e85d4de1535da2fc0cae6">evhttp_connection::bind_address</a></div><div class="ttdeci">char * bind_address</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00061">http-internal.h:61</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a59cc923dbb4cb671b3ec4515e8de52e1"><div class="ttname"><a href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">evhttp_connection::bufev</a></div><div class="ttdeci">struct bufferevent * bufev</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00057">http-internal.h:57</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a782bb7c15bfa880196649ccd68b7665d"><div class="ttname"><a href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">evhttp_connection::state</a></div><div class="ttdeci">enum evhttp_connection_state state</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00087">http-internal.h:87</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a800d9764909f5089f64bc75911c76d8f"><div class="ttname"><a href="structevhttp__connection.html#a800d9764909f5089f64bc75911c76d8f">evhttp_connection::bind_port</a></div><div class="ttdeci">ev_uint16_t bind_port</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00062">http-internal.h:62</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a96b8e4a17ff9db3a09c1fe7c848776bd"><div class="ttname"><a href="structevhttp__connection.html#a96b8e4a17ff9db3a09c1fe7c848776bd">evhttp_connection::dns_base</a></div><div class="ttdeci">struct evdns_base * dns_base</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00103">http-internal.h:103</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_ab269d528e58d0cfe09260d7348394536"><div class="ttname"><a href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">evhttp_connection::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00070">http-internal.h:70</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_ac2705477278524f0dc3cb94569ba68a3"><div class="ttname"><a href="structevhttp__connection.html#ac2705477278524f0dc3cb94569ba68a3">evhttp_connection::ai_family</a></div><div class="ttdeci">int ai_family</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00104">http-internal.h:104</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_aebeeae304dfe21cbc1ce73bdf4a21d9e"><div class="ttname"><a href="structevhttp__connection.html#aebeeae304dfe21cbc1ce73bdf4a21d9e">evhttp_connection::timeout</a></div><div class="ttdeci">struct timeval timeout</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00080">http-internal.h:80</a></div></div>
<div class="ttc" id="astructsockaddr__in6_html"><div class="ttname"><a href="structsockaddr__in6.html">sockaddr_in6</a></div><div class="ttdef"><b>Definition:</b> <a href="ipv6-internal_8h_source.html#l00063">ipv6-internal.h:63</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7365930d8b30f4c1ab3cef31a8622731"><div class="ttname"><a href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a></div><div class="ttdeci">#define EVUTIL_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00363">util-internal.h:363</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7d6e1cf1a8d53f38471e9e9db3faf740"><div class="ttname"><a href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a></div><div class="ttdeci">#define __func__</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00086">util-internal.h:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="http-internal_8h_source.html#l00064">evhttp_connection::address</a>, <a class="el" href="ipv6-internal_8h_source.html#l00073">AF_INET6</a>, <a class="el" href="http-internal_8h_source.html#l00104">evhttp_connection::ai_family</a>, <a class="el" href="http-internal_8h_source.html#l00061">evhttp_connection::bind_address</a>, <a class="el" href="http-internal_8h_source.html#l00062">evhttp_connection::bind_port</a>, <a class="el" href="http_8c_source.html#l04459">bind_socket()</a>, <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00506">bufferevent_set_timeouts()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="bufferevent_8c_source.html#l00865">bufferevent_setfd()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00380">bufferevent_socket_connect()</a>, <a class="el" href="bufferevent__sock_8c_source.html#l00494">bufferevent_socket_connect_hostname()</a>, <a class="el" href="http-internal_8h_source.html#l00103">evhttp_connection::dns_base</a>, <a class="el" href="http-internal_8h_source.html#l00038">EVCON_CONNECTING</a>, <a class="el" href="log-internal_8h_source.html#l00079">event_debug</a>, <a class="el" href="log-internal_8h.html#a5f53113b969e2ebd8c6ea0fac36004d2">event_sock_warn()</a>, <a class="el" href="http-internal_8h_source.html#l00071">EVHTTP_CON_INCOMING</a>, <a class="el" href="http-internal_8h_source.html#l00072">EVHTTP_CON_OUTGOING</a>, <a class="el" href="http_8c_source.html#l01572">evhttp_connection_cb()</a>, <a class="el" href="http_8c_source.html#l01402">evhttp_connection_cb_cleanup()</a>, <a class="el" href="http_8c_source.html#l02558">evhttp_connection_get_addr()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, <a class="el" href="http-internal_8h_source.html#l00017">HTTP_CONNECT_TIMEOUT</a>, <a class="el" href="http-internal_8h_source.html#l00065">evhttp_connection::port</a>, <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>, and <a class="el" href="http-internal_8h_source.html#l00080">evhttp_connection::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l01393">evhttp_connection_retry()</a>, and <a class="el" href="http_8c_source.html#l02648">evhttp_make_request()</a>.</p>

</div>
</div>
<a id="a8f2c8377974e44152d631f519fdf4539" name="a8f2c8377974e44152d631f519fdf4539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f2c8377974e44152d631f519fdf4539">&#9670;&nbsp;</a></span>evhttp_connection_fail_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void evhttp_connection_fail_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum evhttp_request_error&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l00734">734</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  736</span>{</div>
<div class="line"><span class="lineno">  737</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> errsave = EVUTIL_SOCKET_ERROR();</div>
<div class="line"><span class="lineno">  738</span>    <span class="keyword">struct </span>evhttp_request* req = <a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests);</div>
<div class="line"><span class="lineno">  739</span>    void (*cb)(<span class="keyword">struct </span>evhttp_request *, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno">  740</span>    <span class="keywordtype">void</span> *cb_arg;</div>
<div class="line"><span class="lineno">  741</span>    void (*error_cb)(<span class="keyword">enum</span> evhttp_request_error, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno">  742</span>    <span class="keywordtype">void</span> *error_cb_arg;</div>
<div class="line"><span class="lineno">  743</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(req != NULL);</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ|EV_WRITE);</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#a223d4db848b4d88eb162b22bac60db72">EVHTTP_CON_INCOMING</a>) {</div>
<div class="line"><span class="lineno">  748</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  749</span><span class="comment">         * for incoming requests, there are two different</span></div>
<div class="line"><span class="lineno">  750</span><span class="comment">         * failure cases.  it&#39;s either a network level error</span></div>
<div class="line"><span class="lineno">  751</span><span class="comment">         * or an http layer error. for problems on the network</span></div>
<div class="line"><span class="lineno">  752</span><span class="comment">         * layer like timeouts we just drop the connections.</span></div>
<div class="line"><span class="lineno">  753</span><span class="comment">         * For HTTP problems, we might have to send back a</span></div>
<div class="line"><span class="lineno">  754</span><span class="comment">         * reply before the connection can be freed.</span></div>
<div class="line"><span class="lineno">  755</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  756</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a04a481ab16004dc84c13e665e2958dc3">evhttp_connection_incoming_fail</a>(req, error) == -1)</div>
<div class="line"><span class="lineno">  757</span>            <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno">  758</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  759</span>    }</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>    error_cb = req-&gt;error_cb;</div>
<div class="line"><span class="lineno">  762</span>    error_cb_arg = req-&gt;cb_arg;</div>
<div class="line"><span class="lineno">  763</span>    <span class="comment">/* when the request was canceled, the callback is not executed */</span></div>
<div class="line"><span class="lineno">  764</span>    <span class="keywordflow">if</span> (error != EVREQ_HTTP_REQUEST_CANCEL) {</div>
<div class="line"><span class="lineno">  765</span>        <span class="comment">/* save the callback for later; the cb might free our object */</span></div>
<div class="line"><span class="lineno">  766</span>        cb = req-&gt;cb;</div>
<div class="line"><span class="lineno">  767</span>        cb_arg = req-&gt;cb_arg;</div>
<div class="line"><span class="lineno">  768</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  769</span>        cb = NULL;</div>
<div class="line"><span class="lineno">  770</span>        cb_arg = NULL;</div>
<div class="line"><span class="lineno">  771</span>    }</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>    <span class="comment">/* do not fail all requests; the next request is going to get</span></div>
<div class="line"><span class="lineno">  774</span><span class="comment">     * send over a new connection.   when a user cancels a request,</span></div>
<div class="line"><span class="lineno">  775</span><span class="comment">     * all other pending requests should be processed as normal</span></div>
<div class="line"><span class="lineno">  776</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  777</span>    <a class="code hl_function" href="http_8c.html#aec52e9f0edd6a27790e1fbc0a67abe82">evhttp_request_free_</a>(evcon, req);</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>    <span class="comment">/* reset the connection */</span></div>
<div class="line"><span class="lineno">  780</span>    <a class="code hl_function" href="http_8c.html#a6f5a343b577968641c4f3d9f9155cebf">evhttp_connection_reset_</a>(evcon);</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    <span class="comment">/* We are trying the next request that was queued on us */</span></div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a>(&amp;evcon-&gt;requests) != NULL)</div>
<div class="line"><span class="lineno">  784</span>        <a class="code hl_function" href="http_8c.html#ad586ab94898476d79f5f314a5b42e38b">evhttp_connection_connect_</a>(evcon);</div>
<div class="line"><span class="lineno">  785</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  786</span>        <span class="keywordflow">if</span> ((evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#a950439044b8c0b61dcbcbb7e0d2965f9">EVHTTP_CON_OUTGOING</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  787</span>            (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp; <a class="code hl_define" href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a>)) {</div>
<div class="line"><span class="lineno">  788</span>            <a class="code hl_function" href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a>(evcon);</div>
<div class="line"><span class="lineno">  789</span>        }</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>    <span class="comment">/* The call to evhttp_connection_reset_ overwrote errno.</span></div>
<div class="line"><span class="lineno">  792</span><span class="comment">     * Let&#39;s restore the original errno, so that the user&#39;s</span></div>
<div class="line"><span class="lineno">  793</span><span class="comment">     * callback can have a better idea of what the error was.</span></div>
<div class="line"><span class="lineno">  794</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  795</span>    EVUTIL_SET_SOCKET_ERROR(errsave);</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>    <span class="comment">/* inform the user */</span></div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">if</span> (error_cb != NULL)</div>
<div class="line"><span class="lineno">  799</span>        error_cb(error, error_cb_arg);</div>
<div class="line"><span class="lineno">  800</span>    <span class="keywordflow">if</span> (cb != NULL)</div>
<div class="line"><span class="lineno">  801</span>        (*cb)(NULL, cb_arg);</div>
<div class="line"><span class="lineno">  802</span>}</div>
<div class="ttc" id="abufferevent_8c_html_aa15582fe250247aa98d4897527215727"><div class="ttname"><a href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a></div><div class="ttdeci">int bufferevent_disable(struct bufferevent *bufev, short event)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00573">bufferevent.c:573</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a7d6894360bd1c41e0e6f6d84998c1362"><div class="ttname"><a href="event-internal_8h.html#a7d6894360bd1c41e0e6f6d84998c1362">TAILQ_FIRST</a></div><div class="ttdeci">#define TAILQ_FIRST(head)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00376">event-internal.h:376</a></div></div>
<div class="ttc" id="ahttp-internal_8h_html_af61199283f0f4bbd539f090868fe1b6a"><div class="ttname"><a href="http-internal_8h.html#af61199283f0f4bbd539f090868fe1b6a">EVHTTP_CON_AUTOFREE</a></div><div class="ttdeci">#define EVHTTP_CON_AUTOFREE</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00075">http-internal.h:75</a></div></div>
<div class="ttc" id="ahttp_8c_html_a04a481ab16004dc84c13e665e2958dc3"><div class="ttname"><a href="http_8c.html#a04a481ab16004dc84c13e665e2958dc3">evhttp_connection_incoming_fail</a></div><div class="ttdeci">static int evhttp_connection_incoming_fail(struct evhttp_request *req, enum evhttp_request_error error)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00657">http.c:657</a></div></div>
<div class="ttc" id="ahttp_8c_html_ab5afe0ffd71e479a9d830ac3800ba599"><div class="ttname"><a href="http_8c.html#ab5afe0ffd71e479a9d830ac3800ba599">evhttp_connection_free</a></div><div class="ttdeci">void evhttp_connection_free(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01221">http.c:1221</a></div></div>
<div class="ttc" id="ahttp_8c_html_ad586ab94898476d79f5f314a5b42e38b"><div class="ttname"><a href="http_8c.html#ad586ab94898476d79f5f314a5b42e38b">evhttp_connection_connect_</a></div><div class="ttdeci">int evhttp_connection_connect_(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02564">http.c:2564</a></div></div>
<div class="ttc" id="ahttp_8c_html_aec52e9f0edd6a27790e1fbc0a67abe82"><div class="ttname"><a href="http_8c.html#aec52e9f0edd6a27790e1fbc0a67abe82">evhttp_request_free_</a></div><div class="ttdeci">static void evhttp_request_free_(struct evhttp_connection *evcon, struct evhttp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00723">http.c:723</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="http-internal_8h_source.html#l00075">EVHTTP_CON_AUTOFREE</a>, <a class="el" href="http-internal_8h_source.html#l00071">EVHTTP_CON_INCOMING</a>, <a class="el" href="http-internal_8h_source.html#l00072">EVHTTP_CON_OUTGOING</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, <a class="el" href="http_8c_source.html#l01221">evhttp_connection_free()</a>, <a class="el" href="http_8c_source.html#l00657">evhttp_connection_incoming_fail()</a>, <a class="el" href="http_8c_source.html#l01330">evhttp_connection_reset_()</a>, <a class="el" href="http_8c_source.html#l00723">evhttp_request_free_()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, and <a class="el" href="event-internal_8h_source.html#l00376">TAILQ_FIRST</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02704">evhttp_cancel_request()</a>, <a class="el" href="http_8c_source.html#l01455">evhttp_connection_read_on_write_error()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l02215">evhttp_get_body()</a>, <a class="el" href="http_8c_source.html#l01018">evhttp_lingering_close()</a>, <a class="el" href="http_8c_source.html#l01037">evhttp_lingering_fail()</a>, <a class="el" href="http_8c_source.html#l01047">evhttp_read_body()</a>, <a class="el" href="http_8c_source.html#l02274">evhttp_read_firstline()</a>, <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, <a class="el" href="http_8c_source.html#l00997">evhttp_read_trailer()</a>, and <a class="el" href="evrpc_8c_source.html#l00970">evrpc_request_timeout()</a>.</p>

</div>
</div>
<a id="ae61c72d946968cbfee570acde891108f" name="ae61c72d946968cbfee570acde891108f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae61c72d946968cbfee570acde891108f">&#9670;&nbsp;</a></span>evhttp_connection_reset_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_connection_reset_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l01330">1330</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1331</span>{</div>
<div class="line"><span class="lineno"> 1332</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevbuffer.html">evbuffer</a> *tmp;</div>
<div class="line"><span class="lineno"> 1333</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno"> 1334</span> </div>
<div class="line"><span class="lineno"> 1335</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, NULL, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno"> 1336</span> </div>
<div class="line"><span class="lineno"> 1337</span>    <span class="comment">/* XXXX This is not actually an optimal fix.  Instead we ought to have</span></div>
<div class="line"><span class="lineno"> 1338</span><span class="comment">       an API for &quot;stop connecting&quot;, or use bufferevent_setfd to turn off</span></div>
<div class="line"><span class="lineno"> 1339</span><span class="comment">       connecting.  But for Libevent 2.0, this seems like a minimal change</span></div>
<div class="line"><span class="lineno"> 1340</span><span class="comment">       least likely to disrupt the rest of the bufferevent and http code.</span></div>
<div class="line"><span class="lineno"> 1341</span><span class="comment"></span> </div>
<div class="line"><span class="lineno"> 1342</span><span class="comment">       Why is this here?  If the fd is set in the bufferevent, and the</span></div>
<div class="line"><span class="lineno"> 1343</span><span class="comment">       bufferevent is connecting, then you can&#39;t actually stop the</span></div>
<div class="line"><span class="lineno"> 1344</span><span class="comment">       bufferevent from trying to connect with bufferevent_disable().  The</span></div>
<div class="line"><span class="lineno"> 1345</span><span class="comment">       connect will never trigger, since we close the fd, but the timeout</span></div>
<div class="line"><span class="lineno"> 1346</span><span class="comment">       might.  That caused an assertion failure in evhttp_connection_fail_.</span></div>
<div class="line"><span class="lineno"> 1347</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 1348</span>    <a class="code hl_function" href="bufferevent-internal_8h.html#a50d468ccc3ac7e90eadbc899063e81cc">bufferevent_disable_hard_</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ|EV_WRITE);</div>
<div class="line"><span class="lineno"> 1349</span> </div>
<div class="line"><span class="lineno"> 1350</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> == -1)</div>
<div class="line"><span class="lineno"> 1351</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = <a class="code hl_function" href="bufferevent_8c.html#a8c246bbee9c182cf0524c41010fe7c2c">bufferevent_getfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>    <span class="keywordflow">if</span> (evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> != -1) {</div>
<div class="line"><span class="lineno"> 1354</span>        <span class="comment">/* inform interested parties about connection close */</span></div>
<div class="line"><span class="lineno"> 1355</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a988819fcfbc66361040eece863074fb0">evhttp_connected</a>(evcon) &amp;&amp; evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a55fb67b003595a86da0369bca6ba80db">closecb</a> != NULL)</div>
<div class="line"><span class="lineno"> 1356</span>            (*evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a55fb67b003595a86da0369bca6ba80db">closecb</a>)(evcon, evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#aeb432f6573d0d47ca016f47c77494e1b">closecb_arg</a>);</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>        shutdown(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>, <a class="code hl_define" href="util-internal_8h.html#a3228ce2f424becfa40b17c1db2016f18">EVUTIL_SHUT_WR</a>);</div>
<div class="line"><span class="lineno"> 1359</span>        <a class="code hl_function" href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a>);</div>
<div class="line"><span class="lineno"> 1360</span>        evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a2fab1839ab4ec3062a1e122b66b20547">fd</a> = -1;</div>
<div class="line"><span class="lineno"> 1361</span>    }</div>
<div class="line"><span class="lineno"> 1362</span>    err = <a class="code hl_function" href="bufferevent_8c.html#a5923a441822ab477b13b6be4807174f4">bufferevent_setfd</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, -1);</div>
<div class="line"><span class="lineno"> 1363</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!err &amp;&amp; <span class="stringliteral">&quot;setfd&quot;</span>);</div>
<div class="line"><span class="lineno"> 1364</span> </div>
<div class="line"><span class="lineno"> 1365</span>    <span class="comment">/* we need to clean up any buffered data */</span></div>
<div class="line"><span class="lineno"> 1366</span>    tmp = <a class="code hl_function" href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1367</span>    err = <a class="code hl_function" href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a>(tmp, -1);</div>
<div class="line"><span class="lineno"> 1368</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!err &amp;&amp; <span class="stringliteral">&quot;drain output&quot;</span>);</div>
<div class="line"><span class="lineno"> 1369</span>    tmp = <a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>);</div>
<div class="line"><span class="lineno"> 1370</span>    err = <a class="code hl_function" href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a>(tmp, -1);</div>
<div class="line"><span class="lineno"> 1371</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(!err &amp;&amp; <span class="stringliteral">&quot;drain input&quot;</span>);</div>
<div class="line"><span class="lineno"> 1372</span> </div>
<div class="line"><span class="lineno"> 1373</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ab269d528e58d0cfe09260d7348394536">flags</a> &amp;= ~EVHTTP_CON_READING_ERROR;</div>
<div class="line"><span class="lineno"> 1374</span> </div>
<div class="line"><span class="lineno"> 1375</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5ae9acfd0680a0746a85e62f66d4779c38">EVCON_DISCONNECTED</a>;</div>
<div class="line"><span class="lineno"> 1376</span>}</div>
<div class="ttc" id="abufferevent-internal_8h_html_a50d468ccc3ac7e90eadbc899063e81cc"><div class="ttname"><a href="bufferevent-internal_8h.html#a50d468ccc3ac7e90eadbc899063e81cc">bufferevent_disable_hard_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int bufferevent_disable_hard_(struct bufferevent *bufev, short event)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00556">bufferevent.c:556</a></div></div>
<div class="ttc" id="abufferevent_8c_html_a8c246bbee9c182cf0524c41010fe7c2c"><div class="ttname"><a href="bufferevent_8c.html#a8c246bbee9c182cf0524c41010fe7c2c">bufferevent_getfd</a></div><div class="ttdeci">evutil_socket_t bufferevent_getfd(struct bufferevent *bev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00880">bufferevent.c:880</a></div></div>
<div class="ttc" id="abufferevent_8c_html_ac661f8ca773b6247a47c8deea6be51d3"><div class="ttname"><a href="bufferevent_8c.html#ac661f8ca773b6247a47c8deea6be51d3">bufferevent_get_output</a></div><div class="ttdeci">struct evbuffer * bufferevent_get_output(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00430">bufferevent.c:430</a></div></div>
<div class="ttc" id="abufferevent_8c_html_acc6ab0c64f9a7ed8bc24c2f6d3d594ad"><div class="ttname"><a href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a></div><div class="ttdeci">struct evbuffer * bufferevent_get_input(struct bufferevent *bufev)</div><div class="ttdef"><b>Definition:</b> <a href="bufferevent_8c_source.html#l00424">bufferevent.c:424</a></div></div>
<div class="ttc" id="aevutil_8c_html_a3950f08bc7b4ab52d519eabe7edd1889"><div class="ttname"><a href="evutil_8c.html#a3950f08bc7b4ab52d519eabe7edd1889">evutil_closesocket</a></div><div class="ttdeci">int evutil_closesocket(evutil_socket_t sock)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l00454">evutil.c:454</a></div></div>
<div class="ttc" id="ahttp_8c_html_a988819fcfbc66361040eece863074fb0"><div class="ttname"><a href="http_8c.html#a988819fcfbc66361040eece863074fb0">evhttp_connected</a></div><div class="ttdeci">static int evhttp_connected(struct evhttp_connection *evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00416">http.c:416</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a5c24f3bfbc941d693bf59b5d77d2c37f"><div class="ttname"><a href="libevent_2buffer_8c.html#a5c24f3bfbc941d693bf59b5d77d2c37f">evbuffer_drain</a></div><div class="ttdeci">int evbuffer_drain(struct evbuffer *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01101">buffer.c:1101</a></div></div>
<div class="ttc" id="astructevbuffer_html"><div class="ttname"><a href="structevbuffer.html">evbuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="evbuffer-internal_8h_source.html#l00080">evbuffer-internal.h:80</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_a55fb67b003595a86da0369bca6ba80db"><div class="ttname"><a href="structevhttp__connection.html#a55fb67b003595a86da0369bca6ba80db">evhttp_connection::closecb</a></div><div class="ttdeci">void(* closecb)(struct evhttp_connection *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00097">http-internal.h:97</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_aeb432f6573d0d47ca016f47c77494e1b"><div class="ttname"><a href="structevhttp__connection.html#aeb432f6573d0d47ca016f47c77494e1b">evhttp_connection::closecb_arg</a></div><div class="ttdeci">void * closecb_arg</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00098">http-internal.h:98</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a3228ce2f424becfa40b17c1db2016f18"><div class="ttname"><a href="util-internal_8h.html#a3228ce2f424becfa40b17c1db2016f18">EVUTIL_SHUT_WR</a></div><div class="ttdeci">#define EVUTIL_SHUT_WR</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00165">util-internal.h:165</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00556">bufferevent_disable_hard_()</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="bufferevent_8c_source.html#l00430">bufferevent_get_output()</a>, <a class="el" href="bufferevent_8c_source.html#l00880">bufferevent_getfd()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="bufferevent_8c_source.html#l00865">bufferevent_setfd()</a>, <a class="el" href="http-internal_8h_source.html#l00097">evhttp_connection::closecb</a>, <a class="el" href="http-internal_8h_source.html#l00098">evhttp_connection::closecb_arg</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01101">evbuffer_drain()</a>, <a class="el" href="http-internal_8h_source.html#l00037">EVCON_DISCONNECTED</a>, <a class="el" href="http_8c_source.html#l00416">evhttp_connected()</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="evutil_8c_source.html#l00454">evutil_closesocket()</a>, <a class="el" href="util-internal_8h_source.html#l00165">EVUTIL_SHUT_WR</a>, <a class="el" href="http-internal_8h_source.html#l00056">evhttp_connection::fd</a>, <a class="el" href="http-internal_8h_source.html#l00070">evhttp_connection::flags</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l01402">evhttp_connection_cb_cleanup()</a>, <a class="el" href="http_8c_source.html#l02564">evhttp_connection_connect_()</a>, <a class="el" href="http_8c_source.html#l00824">evhttp_connection_done()</a>, <a class="el" href="http_8c_source.html#l00734">evhttp_connection_fail_()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, and <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>.</p>

</div>
</div>
<a id="a27d32d52b724927b96d1f8f3154776c0" name="a27d32d52b724927b96d1f8f3154776c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27d32d52b724927b96d1f8f3154776c0">&#9670;&nbsp;</a></span>evhttp_decode_uri_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL int evhttp_decode_uri_internal </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>decode_plus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03176">3176</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3178</span>{</div>
<div class="line"><span class="lineno"> 3179</span>    <span class="keywordtype">char</span> c;</div>
<div class="line"><span class="lineno"> 3180</span>    <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno"> 3181</span>    <span class="keywordtype">int</span> decode_plus = (decode_plus_ctl == 1) ? 1: 0;</div>
<div class="line"><span class="lineno"> 3182</span>    <span class="keywordtype">unsigned</span> i;</div>
<div class="line"><span class="lineno"> 3183</span> </div>
<div class="line"><span class="lineno"> 3184</span>    <span class="keywordflow">for</span> (i = j = 0; i &lt; length; i++) {</div>
<div class="line"><span class="lineno"> 3185</span>        c = uri[i];</div>
<div class="line"><span class="lineno"> 3186</span>        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><span class="lineno"> 3187</span>            <span class="keywordflow">if</span> (decode_plus_ctl &lt; 0)</div>
<div class="line"><span class="lineno"> 3188</span>                decode_plus = 1;</div>
<div class="line"><span class="lineno"> 3189</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;+&#39;</span> &amp;&amp; decode_plus) {</div>
<div class="line"><span class="lineno"> 3190</span>            c = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><span class="lineno"> 3191</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((i + 2) &lt; length &amp;&amp; c == <span class="charliteral">&#39;%&#39;</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 3192</span>            <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(uri[i+1]) &amp;&amp; <a class="code hl_function" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a>(uri[i+2])) {</div>
<div class="line"><span class="lineno"> 3193</span>            <span class="keywordtype">char</span> tmp[3];</div>
<div class="line"><span class="lineno"> 3194</span>            tmp[0] = uri[i+1];</div>
<div class="line"><span class="lineno"> 3195</span>            tmp[1] = uri[i+2];</div>
<div class="line"><span class="lineno"> 3196</span>            tmp[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 3197</span>            c = (char)strtol(tmp, NULL, 16);</div>
<div class="line"><span class="lineno"> 3198</span>            i += 2;</div>
<div class="line"><span class="lineno"> 3199</span>        }</div>
<div class="line"><span class="lineno"> 3200</span>        ret[j++] = c;</div>
<div class="line"><span class="lineno"> 3201</span>    }</div>
<div class="line"><span class="lineno"> 3202</span>    ret[j] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 3203</span> </div>
<div class="line"><span class="lineno"> 3204</span>    <span class="keywordflow">return</span> (j);</div>
<div class="line"><span class="lineno"> 3205</span>}</div>
<div class="ttc" id="autil-internal_8h_html_a0cd6582ec749a8fd4dc00bc7f3a3bbff"><div class="ttname"><a href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int EVUTIL_ISXDIGIT_(char c)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h.html#a0cd6582ec749a8fd4dc00bc7f3a3bbff">EVUTIL_ISXDIGIT_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03209">evhttp_decode_uri()</a>, <a class="el" href="http_8c_source.html#l03335">evhttp_dispatch_callback()</a>, <a class="el" href="http_8c_source.html#l03254">evhttp_parse_query_impl()</a>, and <a class="el" href="http_8c_source.html#l03226">evhttp_uridecode()</a>.</p>

</div>
</div>
<a id="a9b66524d1f78b28af816a6ebf6d4e256" name="a9b66524d1f78b28af816a6ebf6d4e256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b66524d1f78b28af816a6ebf6d4e256">&#9670;&nbsp;</a></span>evhttp_parse_firstline_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> evhttp_parse_firstline_ </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02025">2025</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2026</span>{</div>
<div class="line"><span class="lineno"> 2027</span>    <span class="keywordtype">char</span> *line;</div>
<div class="line"><span class="lineno"> 2028</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a>;</div>
<div class="line"><span class="lineno"> 2029</span> </div>
<div class="line"><span class="lineno"> 2030</span>    <span class="keywordtype">size_t</span> len;</div>
<div class="line"><span class="lineno"> 2031</span>    <span class="comment">/* XXX try */</span></div>
<div class="line"><span class="lineno"> 2032</span>    line = <a class="code hl_function" href="libevent_2buffer_8c.html#a145454dc7f26b678aa6b724aaf8742e7">evbuffer_readln</a>(<a class="code hl_struct" href="structbuffer.html">buffer</a>, &amp;len, EVBUFFER_EOL_CRLF);</div>
<div class="line"><span class="lineno"> 2033</span>    <span class="keywordflow">if</span> (line == NULL) {</div>
<div class="line"><span class="lineno"> 2034</span>        <span class="keywordflow">if</span> (req-&gt;evcon != NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2035</span>            <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_struct" href="structbuffer.html">buffer</a>) &gt; req-&gt;evcon-&gt;max_headers_size)</div>
<div class="line"><span class="lineno"> 2036</span>            <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>);</div>
<div class="line"><span class="lineno"> 2037</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2038</span>            <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>);</div>
<div class="line"><span class="lineno"> 2039</span>    }</div>
<div class="line"><span class="lineno"> 2040</span> </div>
<div class="line"><span class="lineno"> 2041</span>    <span class="keywordflow">if</span> (req-&gt;evcon != NULL &amp;&amp; len &gt; req-&gt;evcon-&gt;max_headers_size) {</div>
<div class="line"><span class="lineno"> 2042</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2043</span>        <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>);</div>
<div class="line"><span class="lineno"> 2044</span>    }</div>
<div class="line"><span class="lineno"> 2045</span> </div>
<div class="line"><span class="lineno"> 2046</span>    req-&gt;headers_size = len;</div>
<div class="line"><span class="lineno"> 2047</span> </div>
<div class="line"><span class="lineno"> 2048</span>    <span class="keywordflow">switch</span> (req-&gt;kind) {</div>
<div class="line"><span class="lineno"> 2049</span>    <span class="keywordflow">case</span> EVHTTP_REQUEST:</div>
<div class="line"><span class="lineno"> 2050</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#aaa607a6329cb3b702c07c28f01fc398d">evhttp_parse_request_line</a>(req, line, len) == -1)</div>
<div class="line"><span class="lineno"> 2051</span>            status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno"> 2052</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2053</span>    <span class="keywordflow">case</span> EVHTTP_RESPONSE:</div>
<div class="line"><span class="lineno"> 2054</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a8c4f0c2da9510ad94e73134a2fc39e3e">evhttp_parse_response_line</a>(req, line) == -1)</div>
<div class="line"><span class="lineno"> 2055</span>            status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno"> 2056</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2057</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2058</span>        status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno"> 2059</span>    }</div>
<div class="line"><span class="lineno"> 2060</span> </div>
<div class="line"><span class="lineno"> 2061</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2062</span>    <span class="keywordflow">return</span> (status);</div>
<div class="line"><span class="lineno"> 2063</span>}</div>
<div class="ttc" id="ahttp-internal_8h_html_afba04c71578ccd1b694960036c1c61b0"><div class="ttname"><a href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a></div><div class="ttdeci">message_read_status</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00021">http-internal.h:21</a></div></div>
<div class="ttc" id="ahttp_8c_html_a8c4f0c2da9510ad94e73134a2fc39e3e"><div class="ttname"><a href="http_8c.html#a8c4f0c2da9510ad94e73134a2fc39e3e">evhttp_parse_response_line</a></div><div class="ttdeci">static int evhttp_parse_response_line(struct evhttp_request *req, char *line)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01682">http.c:1682</a></div></div>
<div class="ttc" id="ahttp_8c_html_aaa607a6329cb3b702c07c28f01fc398d"><div class="ttname"><a href="http_8c.html#aaa607a6329cb3b702c07c28f01fc398d">evhttp_parse_request_line</a></div><div class="ttdeci">static int evhttp_parse_request_line(struct evhttp_request *req, char *line, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01718">http.c:1718</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a145454dc7f26b678aa6b724aaf8742e7"><div class="ttname"><a href="libevent_2buffer_8c.html#a145454dc7f26b678aa6b724aaf8742e7">evbuffer_readln</a></div><div class="ttdeci">char * evbuffer_readln(struct evbuffer *buffer, size_t *n_read_out, enum evbuffer_eol_style eol_style)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l01687">buffer.c:1687</a></div></div>
<div class="ttc" id="alibevent_2buffer_8c_html_a1c1b3464e6a40ab2ae6398d214779a93"><div class="ttname"><a href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a></div><div class="ttdeci">size_t evbuffer_get_length(const struct evbuffer *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="libevent_2buffer_8c_source.html#l00607">buffer.c:607</a></div></div>
<div class="ttc" id="amm-internal_8h_html_af7d87798652aaa8398bb9c0504256f16"><div class="ttname"><a href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a></div><div class="ttdeci">#define mm_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00079">mm-internal.h:79</a></div></div>
<div class="ttc" id="astructbuffer_html"><div class="ttname"><a href="structbuffer.html">buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00037">buffer.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00022">ALL_DATA_READ</a>, <a class="el" href="http-internal_8h_source.html#l00024">DATA_CORRUPTED</a>, <a class="el" href="http-internal_8h_source.html#l00026">DATA_TOO_LONG</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01687">evbuffer_readln()</a>, <a class="el" href="http_8c_source.html#l01718">evhttp_parse_request_line()</a>, <a class="el" href="http_8c_source.html#l01682">evhttp_parse_response_line()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="http-internal_8h_source.html#l00023">MORE_DATA_EXPECTED</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02274">evhttp_read_firstline()</a>.</p>

</div>
</div>
<a id="a6f688e7943b170765bc71623d35da1a4" name="a6f688e7943b170765bc71623d35da1a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f688e7943b170765bc71623d35da1a4">&#9670;&nbsp;</a></span>evhttp_parse_headers_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL enum <a class="el" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> evhttp_parse_headers_ </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02096">2096</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2097</span>{</div>
<div class="line"><span class="lineno"> 2098</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> errcode = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a9f5314bef045694a31f1298124f13257">DATA_CORRUPTED</a>;</div>
<div class="line"><span class="lineno"> 2099</span>    <span class="keywordtype">char</span> *line;</div>
<div class="line"><span class="lineno"> 2100</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0">message_read_status</a> status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>;</div>
<div class="line"><span class="lineno"> 2101</span> </div>
<div class="line"><span class="lineno"> 2102</span>    <span class="keyword">struct </span>evkeyvalq* headers = req-&gt;input_headers;</div>
<div class="line"><span class="lineno"> 2103</span>    <span class="keywordtype">size_t</span> len;</div>
<div class="line"><span class="lineno"> 2104</span>    <span class="keywordflow">while</span> ((line = <a class="code hl_function" href="libevent_2buffer_8c.html#a145454dc7f26b678aa6b724aaf8742e7">evbuffer_readln</a>(<a class="code hl_struct" href="structbuffer.html">buffer</a>, &amp;len, EVBUFFER_EOL_CRLF))</div>
<div class="line"><span class="lineno"> 2105</span>           != NULL) {</div>
<div class="line"><span class="lineno"> 2106</span>        <span class="keywordtype">char</span> *skey, *svalue;</div>
<div class="line"><span class="lineno"> 2107</span> </div>
<div class="line"><span class="lineno"> 2108</span>        req-&gt;headers_size += len;</div>
<div class="line"><span class="lineno"> 2109</span> </div>
<div class="line"><span class="lineno"> 2110</span>        <span class="keywordflow">if</span> (req-&gt;evcon != NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2111</span>            req-&gt;headers_size &gt; req-&gt;evcon-&gt;max_headers_size) {</div>
<div class="line"><span class="lineno"> 2112</span>            errcode = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>;</div>
<div class="line"><span class="lineno"> 2113</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2114</span>        }</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>        <span class="keywordflow">if</span> (*line == <span class="charliteral">&#39;\0&#39;</span>) { <span class="comment">/* Last header - Done */</span></div>
<div class="line"><span class="lineno"> 2117</span>            status = <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0a6da131aa7b3d3620bef005032de1384d">ALL_DATA_READ</a>;</div>
<div class="line"><span class="lineno"> 2118</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2119</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2120</span>        }</div>
<div class="line"><span class="lineno"> 2121</span> </div>
<div class="line"><span class="lineno"> 2122</span>        <span class="comment">/* Check if this is a continuation line */</span></div>
<div class="line"><span class="lineno"> 2123</span>        <span class="keywordflow">if</span> (*line == <span class="charliteral">&#39; &#39;</span> || *line == <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><span class="lineno"> 2124</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a04abb4a67cf4fd168923c72fabf77c55">evhttp_append_to_last_header</a>(headers, line) == -1)</div>
<div class="line"><span class="lineno"> 2125</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2126</span>            <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2127</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2128</span>        }</div>
<div class="line"><span class="lineno"> 2129</span> </div>
<div class="line"><span class="lineno"> 2130</span>        <span class="comment">/* Processing of header lines */</span></div>
<div class="line"><span class="lineno"> 2131</span>        svalue = line;</div>
<div class="line"><span class="lineno"> 2132</span>        skey = <a class="code hl_function" href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a>(&amp;svalue, <span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line"><span class="lineno"> 2133</span>        <span class="keywordflow">if</span> (svalue == NULL)</div>
<div class="line"><span class="lineno"> 2134</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2135</span> </div>
<div class="line"><span class="lineno"> 2136</span>        svalue += strspn(svalue, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2137</span>        <a class="code hl_function" href="evutil_8c.html#adbbe34990531ffb2560076fa58392515">evutil_rtrim_lws_</a>(svalue);</div>
<div class="line"><span class="lineno"> 2138</span> </div>
<div class="line"><span class="lineno"> 2139</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(headers, skey, svalue) == -1)</div>
<div class="line"><span class="lineno"> 2140</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno"> 2141</span> </div>
<div class="line"><span class="lineno"> 2142</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2143</span>    }</div>
<div class="line"><span class="lineno"> 2144</span> </div>
<div class="line"><span class="lineno"> 2145</span>    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0ae81c18edad7e9247099ffeed0cc62b0a">MORE_DATA_EXPECTED</a>) {</div>
<div class="line"><span class="lineno"> 2146</span>        <span class="keywordflow">if</span> (req-&gt;evcon != NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 2147</span>        req-&gt;headers_size + <a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_struct" href="structbuffer.html">buffer</a>) &gt; req-&gt;evcon-&gt;max_headers_size)</div>
<div class="line"><span class="lineno"> 2148</span>            <span class="keywordflow">return</span> (<a class="code hl_enumvalue" href="http-internal_8h.html#afba04c71578ccd1b694960036c1c61b0aaacddf2f8151a475ab996ee1170dacd0">DATA_TOO_LONG</a>);</div>
<div class="line"><span class="lineno"> 2149</span>    }</div>
<div class="line"><span class="lineno"> 2150</span> </div>
<div class="line"><span class="lineno"> 2151</span>    <span class="keywordflow">return</span> (status);</div>
<div class="line"><span class="lineno"> 2152</span> </div>
<div class="line"><span class="lineno"> 2153</span> error:</div>
<div class="line"><span class="lineno"> 2154</span>    <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(line);</div>
<div class="line"><span class="lineno"> 2155</span>    <span class="keywordflow">return</span> (errcode);</div>
<div class="line"><span class="lineno"> 2156</span>}</div>
<div class="ttc" id="aevutil_8c_html_adbbe34990531ffb2560076fa58392515"><div class="ttname"><a href="evutil_8c.html#adbbe34990531ffb2560076fa58392515">evutil_rtrim_lws_</a></div><div class="ttdeci">void evutil_rtrim_lws_(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="evutil_8c_source.html#l02423">evutil.c:2423</a></div></div>
<div class="ttc" id="ahttp_8c_html_a04abb4a67cf4fd168923c72fabf77c55"><div class="ttname"><a href="http_8c.html#a04abb4a67cf4fd168923c72fabf77c55">evhttp_append_to_last_header</a></div><div class="ttdeci">static int evhttp_append_to_last_header(struct evkeyvalq *headers, char *line)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02066">http.c:2066</a></div></div>
<div class="ttc" id="ahttp_8c_html_a04e3f41c14b8e0e74da13a8d308b93b7"><div class="ttname"><a href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a></div><div class="ttdeci">int evhttp_add_header(struct evkeyvalq *headers, const char *key, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01969">http.c:1969</a></div></div>
<div class="ttc" id="ahttp_8c_html_a844fbdb1603906de8cd282f2f5a649a4"><div class="ttname"><a href="http_8c.html#a844fbdb1603906de8cd282f2f5a649a4">strsep</a></div><div class="ttdeci">static char * strsep(char **s, const char *del)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00214">http.c:214</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00022">ALL_DATA_READ</a>, <a class="el" href="http-internal_8h_source.html#l00024">DATA_CORRUPTED</a>, <a class="el" href="http-internal_8h_source.html#l00026">DATA_TOO_LONG</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l01687">evbuffer_readln()</a>, <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, <a class="el" href="http_8c_source.html#l02066">evhttp_append_to_last_header()</a>, <a class="el" href="evutil_8c_source.html#l02423">evutil_rtrim_lws_()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, <a class="el" href="http-internal_8h_source.html#l00023">MORE_DATA_EXPECTED</a>, and <a class="el" href="http_8c_source.html#l00214">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>, and <a class="el" href="http_8c_source.html#l00997">evhttp_read_trailer()</a>.</p>

</div>
</div>
<a id="a68f1b97fe087520f65b835ea91e9d5ce" name="a68f1b97fe087520f65b835ea91e9d5ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f1b97fe087520f65b835ea91e9d5ce">&#9670;&nbsp;</a></span>evhttp_response_code_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_response_code_ </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03046">3046</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3047</span>{</div>
<div class="line"><span class="lineno"> 3048</span>    req-&gt;kind = EVHTTP_RESPONSE;</div>
<div class="line"><span class="lineno"> 3049</span>    req-&gt;response_code = code;</div>
<div class="line"><span class="lineno"> 3050</span>    <span class="keywordflow">if</span> (req-&gt;response_code_line != NULL)</div>
<div class="line"><span class="lineno"> 3051</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(req-&gt;response_code_line);</div>
<div class="line"><span class="lineno"> 3052</span>    <span class="keywordflow">if</span> (reason == NULL)</div>
<div class="line"><span class="lineno"> 3053</span>        reason = <a class="code hl_function" href="http_8c.html#a610e1a5b478ac02e181b095900ff22bb">evhttp_response_phrase_internal</a>(code);</div>
<div class="line"><span class="lineno"> 3054</span>    req-&gt;response_code_line = <a class="code hl_define" href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a>(reason);</div>
<div class="line"><span class="lineno"> 3055</span>    <span class="keywordflow">if</span> (req-&gt;response_code_line == NULL) {</div>
<div class="line"><span class="lineno"> 3056</span>        <a class="code hl_function" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a>(<span class="stringliteral">&quot;%s: strdup&quot;</span>, <a class="code hl_define" href="util-internal_8h.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>);</div>
<div class="line"><span class="lineno"> 3057</span>        <span class="comment">/* XXX what else can we do? */</span></div>
<div class="line"><span class="lineno"> 3058</span>    }</div>
<div class="line"><span class="lineno"> 3059</span>}</div>
<div class="ttc" id="ahttp_8c_html_a610e1a5b478ac02e181b095900ff22bb"><div class="ttname"><a href="http_8c.html#a610e1a5b478ac02e181b095900ff22bb">evhttp_response_phrase_internal</a></div><div class="ttdeci">static const char * evhttp_response_phrase_internal(int code)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03029">http.c:3029</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a266362bd8989fd1dacd0e1fc25b904f3"><div class="ttname"><a href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warn(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="amm-internal_8h_html_a140c2a3e08063dc43326c240f6d6a9fd"><div class="ttname"><a href="mm-internal_8h.html#a140c2a3e08063dc43326c240f6d6a9fd">mm_strdup</a></div><div class="ttdeci">#define mm_strdup(s)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00077">mm-internal.h:77</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="util-internal_8h_source.html#l00086">__func__</a>, <a class="el" href="log-internal_8h.html#a266362bd8989fd1dacd0e1fc25b904f3">event_warn()</a>, <a class="el" href="http_8c_source.html#l03029">evhttp_response_phrase_internal()</a>, <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>, and <a class="el" href="mm-internal_8h_source.html#l00077">mm_strdup</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>, <a class="el" href="http_8c_source.html#l02801">evhttp_send_error()</a>, <a class="el" href="http_8c_source.html#l03062">evhttp_send_page_()</a>, <a class="el" href="http_8c_source.html#l02858">evhttp_send_reply()</a>, and <a class="el" href="http_8c_source.html#l02867">evhttp_send_reply_start()</a>.</p>

</div>
</div>
<a id="ad4648f0b55e3aabc19a40aca17a4b186" name="ad4648f0b55e3aabc19a40aca17a4b186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4648f0b55e3aabc19a40aca17a4b186">&#9670;&nbsp;</a></span>evhttp_send_page_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_send_page_ </td>
          <td>(</td>
          <td class="paramtype">struct evhttp_request *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>databuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l03062">3062</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3063</span>{</div>
<div class="line"><span class="lineno"> 3064</span>    <span class="keywordflow">if</span> (!req-&gt;major || !req-&gt;minor) {</div>
<div class="line"><span class="lineno"> 3065</span>        req-&gt;major = 1;</div>
<div class="line"><span class="lineno"> 3066</span>        req-&gt;minor = 1;</div>
<div class="line"><span class="lineno"> 3067</span>    }</div>
<div class="line"><span class="lineno"> 3068</span> </div>
<div class="line"><span class="lineno"> 3069</span>    <span class="keywordflow">if</span> (req-&gt;kind != EVHTTP_RESPONSE)</div>
<div class="line"><span class="lineno"> 3070</span>        <a class="code hl_function" href="http_8c.html#a05ae915a2f291a6fe7b810da72e96980">evhttp_response_code_</a>(req, 200, <span class="stringliteral">&quot;OK&quot;</span>);</div>
<div class="line"><span class="lineno"> 3071</span> </div>
<div class="line"><span class="lineno"> 3072</span>    <a class="code hl_function" href="http_8c.html#adfd33f73c8d7af63a0da05ebb32b7e72">evhttp_clear_headers</a>(req-&gt;output_headers);</div>
<div class="line"><span class="lineno"> 3073</span>    <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;text/html&quot;</span>);</div>
<div class="line"><span class="lineno"> 3074</span>    <a class="code hl_function" href="http_8c.html#a04e3f41c14b8e0e74da13a8d308b93b7">evhttp_add_header</a>(req-&gt;output_headers, <span class="stringliteral">&quot;Connection&quot;</span>, <span class="stringliteral">&quot;close&quot;</span>);</div>
<div class="line"><span class="lineno"> 3075</span> </div>
<div class="line"><span class="lineno"> 3076</span>    <a class="code hl_function" href="http_8c.html#ab6eacc4b3e43882175b4b22b4dcfe7e7">evhttp_send</a>(req, databuf);</div>
<div class="line"><span class="lineno"> 3077</span>}</div>
<div class="ttc" id="ahttp_8c_html_a05ae915a2f291a6fe7b810da72e96980"><div class="ttname"><a href="http_8c.html#a05ae915a2f291a6fe7b810da72e96980">evhttp_response_code_</a></div><div class="ttdeci">void evhttp_response_code_(struct evhttp_request *req, int code, const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l03046">http.c:3046</a></div></div>
<div class="ttc" id="ahttp_8c_html_ab6eacc4b3e43882175b4b22b4dcfe7e7"><div class="ttname"><a href="http_8c.html#ab6eacc4b3e43882175b4b22b4dcfe7e7">evhttp_send</a></div><div class="ttdeci">static void evhttp_send(struct evhttp_request *req, struct evbuffer *databuf)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l02833">http.c:2833</a></div></div>
<div class="ttc" id="ahttp_8c_html_adfd33f73c8d7af63a0da05ebb32b7e72"><div class="ttname"><a href="http_8c.html#adfd33f73c8d7af63a0da05ebb32b7e72">evhttp_clear_headers</a></div><div class="ttdeci">void evhttp_clear_headers(struct evkeyvalq *headers)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01912">http.c:1912</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http_8c_source.html#l01969">evhttp_add_header()</a>, <a class="el" href="http_8c_source.html#l01912">evhttp_clear_headers()</a>, <a class="el" href="http_8c_source.html#l03046">evhttp_response_code_()</a>, and <a class="el" href="http_8c_source.html#l02833">evhttp_send()</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l03465">evhttp_handle_request()</a>, and <a class="el" href="http_8c_source.html#l02801">evhttp_send_error()</a>.</p>

</div>
</div>
<a id="a711c8bdac301619c35b16a79cd7c2137" name="a711c8bdac301619c35b16a79cd7c2137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a711c8bdac301619c35b16a79cd7c2137">&#9670;&nbsp;</a></span>evhttp_start_read_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_start_read_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02735">2735</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2736</span>{</div>
<div class="line"><span class="lineno"> 2737</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_WRITE);</div>
<div class="line"><span class="lineno"> 2738</span>    <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ);</div>
<div class="line"><span class="lineno"> 2739</span> </div>
<div class="line"><span class="lineno"> 2740</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a9903024e4438f7fae9cfd581144ac5c5">EVCON_READING_FIRSTLINE</a>;</div>
<div class="line"><span class="lineno"> 2741</span>    <span class="comment">/* Reset the bufferevent callbacks */</span></div>
<div class="line"><span class="lineno"> 2742</span>    <a class="code hl_function" href="bufferevent_8c.html#a63792519cb94a38beccb5e1390cd6198">bufferevent_setcb</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>,</div>
<div class="line"><span class="lineno"> 2743</span>        <a class="code hl_function" href="http_8c.html#a95241fd0965764d55cdd3609c8d3a3ca">evhttp_read_cb</a>,</div>
<div class="line"><span class="lineno"> 2744</span>        <a class="code hl_function" href="http_8c.html#af2982b8516dba583cab6be97d9ca8461">evhttp_write_cb</a>,</div>
<div class="line"><span class="lineno"> 2745</span>        <a class="code hl_function" href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a>,</div>
<div class="line"><span class="lineno"> 2746</span>        evcon);</div>
<div class="line"><span class="lineno"> 2747</span> </div>
<div class="line"><span class="lineno"> 2748</span>    <span class="comment">/* If there&#39;s still data pending, process it next time through the</span></div>
<div class="line"><span class="lineno"> 2749</span><span class="comment">     * loop.  Don&#39;t do it now; that could get recusive. */</span></div>
<div class="line"><span class="lineno"> 2750</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="libevent_2buffer_8c.html#a1c1b3464e6a40ab2ae6398d214779a93">evbuffer_get_length</a>(<a class="code hl_function" href="bufferevent_8c.html#acc6ab0c64f9a7ed8bc24c2f6d3d594ad">bufferevent_get_input</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>))) {</div>
<div class="line"><span class="lineno"> 2751</span>        <a class="code hl_function" href="defer-internal_8h.html#a24707370a90c5bb18a23743420290ef1">event_deferred_cb_schedule_</a>(<a class="code hl_define" href="http_8c.html#a148fc0a6cc62b69f27dd7025c0b121c9">get_deferred_queue</a>(evcon),</div>
<div class="line"><span class="lineno"> 2752</span>            &amp;evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#ae362b994e6dd892dbae9083caa4ab40c">read_more_deferred_cb</a>);</div>
<div class="line"><span class="lineno"> 2753</span>    }</div>
<div class="line"><span class="lineno"> 2754</span>}</div>
<div class="ttc" id="adefer-internal_8h_html_a24707370a90c5bb18a23743420290ef1"><div class="ttname"><a href="defer-internal_8h.html#a24707370a90c5bb18a23743420290ef1">event_deferred_cb_schedule_</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL int event_deferred_cb_schedule_(struct event_base *, struct event_callback *)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l03124">event.c:3124</a></div></div>
<div class="ttc" id="ahttp_8c_html_a148fc0a6cc62b69f27dd7025c0b121c9"><div class="ttname"><a href="http_8c.html#a148fc0a6cc62b69f27dd7025c0b121c9">get_deferred_queue</a></div><div class="ttdeci">#define get_deferred_queue(evcon)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01124">http.c:1124</a></div></div>
<div class="ttc" id="ahttp_8c_html_a173e6193915884810d3d6c9fd7175299"><div class="ttname"><a href="http_8c.html#a173e6193915884810d3d6c9fd7175299">evhttp_error_cb</a></div><div class="ttdeci">static void evhttp_error_cb(struct bufferevent *bufev, short what, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01479">http.c:1479</a></div></div>
<div class="ttc" id="ahttp_8c_html_a95241fd0965764d55cdd3609c8d3a3ca"><div class="ttname"><a href="http_8c.html#a95241fd0965764d55cdd3609c8d3a3ca">evhttp_read_cb</a></div><div class="ttdeci">static void evhttp_read_cb(struct bufferevent *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01132">http.c:1132</a></div></div>
<div class="ttc" id="ahttp_8c_html_af2982b8516dba583cab6be97d9ca8461"><div class="ttname"><a href="http_8c.html#af2982b8516dba583cab6be97d9ca8461">evhttp_write_cb</a></div><div class="ttdeci">static void evhttp_write_cb(struct bufferevent *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00807">http.c:807</a></div></div>
<div class="ttc" id="astructevhttp__connection_html_ae362b994e6dd892dbae9083caa4ab40c"><div class="ttname"><a href="structevhttp__connection.html#ae362b994e6dd892dbae9083caa4ab40c">evhttp_connection::read_more_deferred_cb</a></div><div class="ttdeci">struct event_callback read_more_deferred_cb</div><div class="ttdef"><b>Definition:</b> <a href="http-internal_8h_source.html#l00100">http-internal.h:100</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="bufferevent_8c_source.html#l00424">bufferevent_get_input()</a>, <a class="el" href="bufferevent_8c_source.html#l00389">bufferevent_setcb()</a>, <a class="el" href="libevent_2buffer_8c_source.html#l00607">evbuffer_get_length()</a>, <a class="el" href="http-internal_8h_source.html#l00040">EVCON_READING_FIRSTLINE</a>, <a class="el" href="event_8c_source.html#l03124">event_deferred_cb_schedule_()</a>, <a class="el" href="http_8c_source.html#l01479">evhttp_error_cb()</a>, <a class="el" href="http_8c_source.html#l01132">evhttp_read_cb()</a>, <a class="el" href="http_8c_source.html#l00807">evhttp_write_cb()</a>, <a class="el" href="http_8c_source.html#l01124">get_deferred_queue</a>, <a class="el" href="http-internal_8h_source.html#l00100">evhttp_connection::read_more_deferred_cb</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l04286">evhttp_associate_new_request_with_connection()</a>, <a class="el" href="http_8c_source.html#l01455">evhttp_connection_read_on_write_error()</a>, and <a class="el" href="http_8c_source.html#l01196">evhttp_write_connectioncb()</a>.</p>

</div>
</div>
<a id="a35cdd8b22c7ee78e67bab21a980a04c9" name="a35cdd8b22c7ee78e67bab21a980a04c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35cdd8b22c7ee78e67bab21a980a04c9">&#9670;&nbsp;</a></span>evhttp_start_write_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evhttp_start_write_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevhttp__connection.html">evhttp_connection</a> *&#160;</td>
          <td class="paramname"><em>evcon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="http_8c_source.html#l02757">2757</a> of file <a class="el" href="http_8c_source.html">http.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2758</span>{</div>
<div class="line"><span class="lineno"> 2759</span>    <a class="code hl_function" href="bufferevent_8c.html#aa15582fe250247aa98d4897527215727">bufferevent_disable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_WRITE);</div>
<div class="line"><span class="lineno"> 2760</span>    <a class="code hl_function" href="bufferevent_8c.html#a1b9a3412e8c8e122c745b33d46b9643e">bufferevent_enable</a>(evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a59cc923dbb4cb671b3ec4515e8de52e1">bufev</a>, EV_READ);</div>
<div class="line"><span class="lineno"> 2761</span> </div>
<div class="line"><span class="lineno"> 2762</span>    evcon-&gt;<a class="code hl_variable" href="structevhttp__connection.html#a782bb7c15bfa880196649ccd68b7665d">state</a> = <a class="code hl_enumvalue" href="http-internal_8h.html#a78bff991d613d65e79b375476cf1fdb5a5f95cc0752d56f7f0a3dd9685e860fc1">EVCON_WRITING</a>;</div>
<div class="line"><span class="lineno"> 2763</span>    <a class="code hl_function" href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a>(evcon, <a class="code hl_function" href="http_8c.html#ac7ab724169fe6336605ef79ffb3576f6">evhttp_write_connectioncb</a>, NULL);</div>
<div class="line"><span class="lineno"> 2764</span>}</div>
<div class="ttc" id="ahttp_8c_html_ac7ab724169fe6336605ef79ffb3576f6"><div class="ttname"><a href="http_8c.html#ac7ab724169fe6336605ef79ffb3576f6">evhttp_write_connectioncb</a></div><div class="ttdeci">static void evhttp_write_connectioncb(struct evhttp_connection *evcon, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l01196">http.c:1196</a></div></div>
<div class="ttc" id="ahttp_8c_html_ae93e6f4eb93486410ffc3fac5f01f440"><div class="ttname"><a href="http_8c.html#ae93e6f4eb93486410ffc3fac5f01f440">evhttp_write_buffer</a></div><div class="ttdeci">static void evhttp_write_buffer(struct evhttp_connection *, void(*)(struct evhttp_connection *, void *), void *)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00370">http.c:370</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="http-internal_8h_source.html#l00057">evhttp_connection::bufev</a>, <a class="el" href="bufferevent_8c_source.html#l00573">bufferevent_disable()</a>, <a class="el" href="bufferevent_8c_source.html#l00482">bufferevent_enable()</a>, <a class="el" href="http-internal_8h_source.html#l00045">EVCON_WRITING</a>, <a class="el" href="http_8c_source.html#l00370">evhttp_write_buffer()</a>, <a class="el" href="http_8c_source.html#l01196">evhttp_write_connectioncb()</a>, and <a class="el" href="http-internal_8h_source.html#l00087">evhttp_connection::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="http_8c_source.html#l02296">evhttp_read_header()</a>.</p>

</div>
</div>
<a id="a157535bb4ab45f3a9a6eec3327ba0011" name="a157535bb4ab45f3a9a6eec3327ba0011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157535bb4ab45f3a9a6eec3327ba0011">&#9670;&nbsp;</a></span>TAILQ_HEAD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TAILQ_HEAD </td>
          <td>(</td>
          <td class="paramtype">evconq&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structevhttp__connection.html">evhttp_connection</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
