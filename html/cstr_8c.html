<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/cstr.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cstr.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="cstr_8h_source.html">dogecoin/cstr.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="mem_8h_source.html">dogecoin/mem.h</a>&gt;</code><br />
</div>
<p><a href="cstr_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7d5239de14dc2f3ce2d132e6caa8e6b4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#a7d5239de14dc2f3ce2d132e6caa8e6b4">cstr_alloc_min_sz</a> (<a class="el" href="structcstring.html">cstring</a> *s, size_t sz)</td></tr>
<tr class="memdesc:a7d5239de14dc2f3ce2d132e6caa8e6b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes a cstring and allocates a new buffer of the specified size. If the buffer is already allocated and is large enough, no change occurs.  <a href="cstr_8c.html#a7d5239de14dc2f3ce2d132e6caa8e6b4">More...</a><br /></td></tr>
<tr class="separator:a7d5239de14dc2f3ce2d132e6caa8e6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33307b0cf5e9721f671415afae8529c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#a33307b0cf5e9721f671415afae8529c7">cstr_alloc_minsize</a> (<a class="el" href="structcstring.html">cstring</a> *s, size_t new_sz)</td></tr>
<tr class="memdesc:a33307b0cf5e9721f671415afae8529c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes a cstring and allocates a new buffer of the specified size. If the new size is greater than the current, it allocates a new buffer of this size and copies the buffer's contents to the new location. If the new size is smaller, the string will be truncated.  <a href="cstr_8c.html#a33307b0cf5e9721f671415afae8529c7">More...</a><br /></td></tr>
<tr class="separator:a33307b0cf5e9721f671415afae8529c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27886215b0fc427185042cf6e171098b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcstring.html">cstring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#a27886215b0fc427185042cf6e171098b">cstr_new_sz</a> (size_t sz)</td></tr>
<tr class="memdesc:a27886215b0fc427185042cf6e171098b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allocates a new cstring of the specified size.  <a href="cstr_8c.html#a27886215b0fc427185042cf6e171098b">More...</a><br /></td></tr>
<tr class="separator:a27886215b0fc427185042cf6e171098b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f37c18fe4d9fc861d39a69938d1366"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcstring.html">cstring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#aa9f37c18fe4d9fc861d39a69938d1366">cstr_new_buf</a> (const void *buf, size_t sz)</td></tr>
<tr class="memdesc:aa9f37c18fe4d9fc861d39a69938d1366"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function creates a new cstring and initializes it with the first sz bytes of the specified buffer.  <a href="cstr_8c.html#aa9f37c18fe4d9fc861d39a69938d1366">More...</a><br /></td></tr>
<tr class="separator:aa9f37c18fe4d9fc861d39a69938d1366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6dc2f043048141a711c9163c56eb53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcstring.html">cstring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#a0d6dc2f043048141a711c9163c56eb53">cstr_new_cstr</a> (const <a class="el" href="structcstring.html">cstring</a> *copy_str)</td></tr>
<tr class="memdesc:a0d6dc2f043048141a711c9163c56eb53"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function creates a new cstring from an existing cstring.  <a href="cstr_8c.html#a0d6dc2f043048141a711c9163c56eb53">More...</a><br /></td></tr>
<tr class="separator:a0d6dc2f043048141a711c9163c56eb53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f94b1ae01ddace9b01133212f2c090"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcstring.html">cstring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#a74f94b1ae01ddace9b01133212f2c090">cstr_new</a> (const char *init_str)</td></tr>
<tr class="separator:a74f94b1ae01ddace9b01133212f2c090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3ba3d34a15e5380d7d2214038f6b48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#aac3ba3d34a15e5380d7d2214038f6b48">cstr_free</a> (<a class="el" href="structcstring.html">cstring</a> *s, int free_buf)</td></tr>
<tr class="memdesc:aac3ba3d34a15e5380d7d2214038f6b48"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function frees the memory allocated for the cstring object.  <a href="cstr_8c.html#aac3ba3d34a15e5380d7d2214038f6b48">More...</a><br /></td></tr>
<tr class="separator:aac3ba3d34a15e5380d7d2214038f6b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f9375e09ef9407d7132b047cdc36a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#a44f9375e09ef9407d7132b047cdc36a7">cstr_resize</a> (<a class="el" href="structcstring.html">cstring</a> *s, size_t new_sz)</td></tr>
<tr class="memdesc:a44f9375e09ef9407d7132b047cdc36a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function resizes the buffer inside cstring object.  <a href="cstr_8c.html#a44f9375e09ef9407d7132b047cdc36a7">More...</a><br /></td></tr>
<tr class="separator:a44f9375e09ef9407d7132b047cdc36a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4932f17c7ec853057cd0614dcd69724f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#a4932f17c7ec853057cd0614dcd69724f">cstr_append_buf</a> (<a class="el" href="structcstring.html">cstring</a> *s, const void *buf, size_t sz)</td></tr>
<tr class="memdesc:a4932f17c7ec853057cd0614dcd69724f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function appends the contents of a buffer to the buffer of the specified cstring, resizing the destination buffer as necessary.  <a href="cstr_8c.html#a4932f17c7ec853057cd0614dcd69724f">More...</a><br /></td></tr>
<tr class="separator:a4932f17c7ec853057cd0614dcd69724f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a391c87f47f58c399763deee6dcb74fe6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#a391c87f47f58c399763deee6dcb74fe6">cstr_append_cstr</a> (<a class="el" href="structcstring.html">cstring</a> *s, <a class="el" href="structcstring.html">cstring</a> *<a class="el" href="utils_8h.html#a1e9f308382ce3db95bfb40206ab84a6e">append</a>)</td></tr>
<tr class="memdesc:a391c87f47f58c399763deee6dcb74fe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function appends the contents of one cstring to another, resizing the destination buffer as necessary.  <a href="cstr_8c.html#a391c87f47f58c399763deee6dcb74fe6">More...</a><br /></td></tr>
<tr class="separator:a391c87f47f58c399763deee6dcb74fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c64c38714dc0327bf2e0c58652eff7f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#a1c64c38714dc0327bf2e0c58652eff7f">cstr_append_c</a> (<a class="el" href="structcstring.html">cstring</a> *s, char ch)</td></tr>
<tr class="memdesc:a1c64c38714dc0327bf2e0c58652eff7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function appends a single character to the buffer of a cstring.  <a href="cstr_8c.html#a1c64c38714dc0327bf2e0c58652eff7f">More...</a><br /></td></tr>
<tr class="separator:a1c64c38714dc0327bf2e0c58652eff7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf97baaf3cd2438aadb6b53f340b73fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#adf97baaf3cd2438aadb6b53f340b73fb">cstr_equal</a> (const <a class="el" href="structcstring.html">cstring</a> *a, const <a class="el" href="structcstring.html">cstring</a> *b)</td></tr>
<tr class="memdesc:adf97baaf3cd2438aadb6b53f340b73fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function compares two cstrings and checks if their contents are equal.  <a href="cstr_8c.html#adf97baaf3cd2438aadb6b53f340b73fb">More...</a><br /></td></tr>
<tr class="separator:adf97baaf3cd2438aadb6b53f340b73fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ea002af02befe4caee94128d5ac912"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#ad7ea002af02befe4caee94128d5ac912">cstr_compare</a> (const <a class="el" href="structcstring.html">cstring</a> *a, const <a class="el" href="structcstring.html">cstring</a> *b)</td></tr>
<tr class="memdesc:ad7ea002af02befe4caee94128d5ac912"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function compares the buffers of two cstrings and returns which one is greater.  <a href="cstr_8c.html#ad7ea002af02befe4caee94128d5ac912">More...</a><br /></td></tr>
<tr class="separator:ad7ea002af02befe4caee94128d5ac912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab7b7441dcc40c76c34b05f5a1856b13"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cstr_8c.html#aab7b7441dcc40c76c34b05f5a1856b13">cstr_erase</a> (<a class="el" href="structcstring.html">cstring</a> *s, size_t pos, ssize_t len)</td></tr>
<tr class="memdesc:aab7b7441dcc40c76c34b05f5a1856b13"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function erases the characters in the string starting at position pos and ending at pos + len.  <a href="cstr_8c.html#aab7b7441dcc40c76c34b05f5a1856b13">More...</a><br /></td></tr>
<tr class="separator:aab7b7441dcc40c76c34b05f5a1856b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7d5239de14dc2f3ce2d132e6caa8e6b4" name="a7d5239de14dc2f3ce2d132e6caa8e6b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5239de14dc2f3ce2d132e6caa8e6b4">&#9670;&nbsp;</a></span>cstr_alloc_min_sz()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cstr_alloc_min_sz </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function takes a cstring and allocates a new buffer of the specified size. If the buffer is already allocated and is large enough, no change occurs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The cstring whose buffer is to be reallocated. </td></tr>
    <tr><td class="paramname">sz</td><td>The new desired size of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the buffer is allocated successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00022">22</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   23</span>{</div>
<div class="line"><span class="lineno">   24</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> shift;</div>
<div class="line"><span class="lineno">   25</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> al_sz;</div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordtype">char</span>* new_s;</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>    sz++; <span class="comment">/* NULL overhead */</span></div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="structcstring.html#a5d0c6d93ac71cc14384bcf732ea07092">alloc</a> &amp;&amp; (s-&gt;<a class="code hl_variable" href="structcstring.html#a5d0c6d93ac71cc14384bcf732ea07092">alloc</a> &gt;= sz)) {</div>
<div class="line"><span class="lineno">   31</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   32</span>    }</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>    shift = 3;</div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordflow">while</span> ((al_sz = (1 &lt;&lt; shift)) &lt; sz) {</div>
<div class="line"><span class="lineno">   36</span>        shift++;</div>
<div class="line"><span class="lineno">   37</span>    }</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    new_s = <a class="code hl_function" href="mem_8c.html#a39aba634b931e66776192351a1ed0899">dogecoin_realloc</a>(s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>, al_sz);</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">if</span> (!new_s) {</div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   42</span>    }</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a> = new_s;</div>
<div class="line"><span class="lineno">   45</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#a5d0c6d93ac71cc14384bcf732ea07092">alloc</a> = al_sz;</div>
<div class="line"><span class="lineno">   46</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>] = 0;</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   49</span>}</div>
<div class="ttc" id="amem_8c_html_a39aba634b931e66776192351a1ed0899"><div class="ttname"><a href="mem_8c.html#a39aba634b931e66776192351a1ed0899">dogecoin_realloc</a></div><div class="ttdeci">void * dogecoin_realloc(void *ptr, size_t size)</div><div class="ttdoc">This function calls dogecoin_realloc_internal() using the current memory mapper.</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00107">mem.c:107</a></div></div>
<div class="ttc" id="astructcstring_html_a5d0c6d93ac71cc14384bcf732ea07092"><div class="ttname"><a href="structcstring.html#a5d0c6d93ac71cc14384bcf732ea07092">cstring::alloc</a></div><div class="ttdeci">size_t alloc</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8h_source.html#l00040">cstr.h:40</a></div></div>
<div class="ttc" id="astructcstring_html_a731cdf51b981dfd0c66713e2c942a43d"><div class="ttname"><a href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">cstring::str</a></div><div class="ttdeci">char * str</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8h_source.html#l00038">cstr.h:38</a></div></div>
<div class="ttc" id="astructcstring_html_ad0eb3a0fea291824cc3a7176a4d6a345"><div class="ttname"><a href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">cstring::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8h_source.html#l00039">cstr.h:39</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8h_source.html#l00040">cstring::alloc</a>, <a class="el" href="mem_8c_source.html#l00107">dogecoin_realloc()</a>, <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

<p class="reference">Referenced by <a class="el" href="cstr_8c_source.html#l00064">cstr_alloc_minsize()</a>, <a class="el" href="cstr_8c_source.html#l00235">cstr_append_buf()</a>, <a class="el" href="cstr_8c_source.html#l00097">cstr_new_sz()</a>, and <a class="el" href="cstr_8c_source.html#l00196">cstr_resize()</a>.</p>

</div>
</div>
<a id="a33307b0cf5e9721f671415afae8529c7" name="a33307b0cf5e9721f671415afae8529c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33307b0cf5e9721f671415afae8529c7">&#9670;&nbsp;</a></span>cstr_alloc_minsize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cstr_alloc_minsize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function takes a cstring and allocates a new buffer of the specified size. If the new size is greater than the current, it allocates a new buffer of this size and copies the buffer's contents to the new location. If the new size is smaller, the string will be truncated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The pointer to the cstring whose buffer is to be resized. </td></tr>
    <tr><td class="paramname">sz</td><td>The new desired size of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the buffer was successfully resized, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00064">64</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>{</div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">/* no change */</span></div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> (new_sz == s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>) {</div>
<div class="line"><span class="lineno">   68</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   69</span>    }</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    <span class="comment">/* truncate string */</span></div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordflow">if</span> (new_sz &lt;= s-&gt;len) {</div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="comment">/* increase string size */</span></div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="cstr_8c.html#a7d5239de14dc2f3ce2d132e6caa8e6b4">cstr_alloc_min_sz</a>(s, new_sz)) {</div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   79</span>    }</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <span class="comment">/* contents of string tail undefined */</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">// s-&gt;len = new_sz;</span></div>
<div class="line"><span class="lineno">   83</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>] = 0;</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   86</span>}</div>
<div class="ttc" id="acstr_8c_html_a7d5239de14dc2f3ce2d132e6caa8e6b4"><div class="ttname"><a href="cstr_8c.html#a7d5239de14dc2f3ce2d132e6caa8e6b4">cstr_alloc_min_sz</a></div><div class="ttdeci">static int cstr_alloc_min_sz(cstring *s, size_t sz)</div><div class="ttdoc">This function takes a cstring and allocates a new buffer of the specified size. If the buffer is alre...</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8c_source.html#l00022">cstr.c:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00022">cstr_alloc_min_sz()</a>, <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00120">read_cb()</a>.</p>

</div>
</div>
<a id="a4932f17c7ec853057cd0614dcd69724f" name="a4932f17c7ec853057cd0614dcd69724f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4932f17c7ec853057cd0614dcd69724f">&#9670;&nbsp;</a></span>cstr_append_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cstr_append_buf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function appends the contents of a buffer to the buffer of the specified cstring, resizing the destination buffer as necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The pointer to the cstring to append to. </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to be appended. </td></tr>
    <tr><td class="paramname">sz</td><td>The size of the buffer to be appended.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the data was appended successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00235">235</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  236</span>{</div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="cstr_8c.html#a7d5239de14dc2f3ce2d132e6caa8e6b4">cstr_alloc_min_sz</a>(s, s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> + sz)) {</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  239</span>    }</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    <a class="code hl_function" href="mem_8c.html#ab5b323a3ddeb02bdcb2b5a8a46e2a4b7">memcpy_safe</a>(s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a> + s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>, buf, sz);</div>
<div class="line"><span class="lineno">  242</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> += sz;</div>
<div class="line"><span class="lineno">  243</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>] = 0;</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  246</span>}</div>
<div class="ttc" id="amem_8c_html_ab5b323a3ddeb02bdcb2b5a8a46e2a4b7"><div class="ttname"><a href="mem_8c.html#ab5b323a3ddeb02bdcb2b5a8a46e2a4b7">memcpy_safe</a></div><div class="ttdeci">void * memcpy_safe(void *destination, const void *source, size_t count)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00209">mem.c:209</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00022">cstr_alloc_min_sz()</a>, <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, <a class="el" href="mem_8c_source.html#l00209">memcpy_safe()</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

<p class="reference">Referenced by <a class="el" href="cstr_8c_source.html#l00273">cstr_append_c()</a>, <a class="el" href="cstr_8c_source.html#l00258">cstr_append_cstr()</a>, <a class="el" href="serialize_8c_source.html#l00521">deser_varstr()</a>, <a class="el" href="utils_8c_source.html#l00376">dogecoin_get_default_datadir()</a>, <a class="el" href="protocol_8c_source.html#l00080">dogecoin_p2p_message_new()</a>, <a class="el" href="script_8c_source.html#l00527">dogecoin_script_append_op()</a>, <a class="el" href="script_8c_source.html#l00544">dogecoin_script_append_pushdata()</a>, <a class="el" href="script_8c_source.html#l00574">dogecoin_script_build_multisig()</a>, <a class="el" href="script_8c_source.html#l00050">dogecoin_script_copy_without_op_codeseperator()</a>, <a class="el" href="tx_8c_source.html#l00569">dogecoin_tx_in_copy()</a>, <a class="el" href="tx_8c_source.html#l00594">dogecoin_tx_out_copy()</a>, <a class="el" href="tx_8c_source.html#l00750">dogecoin_tx_sighash()</a>, <a class="el" href="serialize_8c_source.html#l00024">ser_bytes()</a>, <a class="el" href="serialize_8c_source.html#l00040">ser_u16()</a>, <a class="el" href="serialize_8c_source.html#l00057">ser_u32()</a>, and <a class="el" href="serialize_8c_source.html#l00090">ser_u64()</a>.</p>

</div>
</div>
<a id="a1c64c38714dc0327bf2e0c58652eff7f" name="a1c64c38714dc0327bf2e0c58652eff7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c64c38714dc0327bf2e0c58652eff7f">&#9670;&nbsp;</a></span>cstr_append_c()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cstr_append_c </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function appends a single character to the buffer of a cstring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The pointer to the cstring to append to. </td></tr>
    <tr><td class="paramname">ch</td><td>The character to be appended.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the character was appended successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00273">273</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  274</span>{</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="cstr_8c.html#a4932f17c7ec853057cd0614dcd69724f">cstr_append_buf</a>(s, &amp;ch, 1);</div>
<div class="line"><span class="lineno">  276</span>}</div>
<div class="ttc" id="acstr_8c_html_a4932f17c7ec853057cd0614dcd69724f"><div class="ttname"><a href="cstr_8c.html#a4932f17c7ec853057cd0614dcd69724f">cstr_append_buf</a></div><div class="ttdeci">int cstr_append_buf(cstring *s, const void *buf, size_t sz)</div><div class="ttdoc">This function appends the contents of a buffer to the buffer of the specified cstring,...</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8c_source.html#l00235">cstr.c:235</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00235">cstr_append_buf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="utils_8c_source.html#l00376">dogecoin_get_default_datadir()</a>, and <a class="el" href="protocol_8c_source.html#l00236">dogecoin_p2p_msg_version_ser()</a>.</p>

</div>
</div>
<a id="a391c87f47f58c399763deee6dcb74fe6" name="a391c87f47f58c399763deee6dcb74fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391c87f47f58c399763deee6dcb74fe6">&#9670;&nbsp;</a></span>cstr_append_cstr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cstr_append_cstr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>append</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function appends the contents of one cstring to another, resizing the destination buffer as necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The pointer to the cstring to append to. </td></tr>
    <tr><td class="paramname">append</td><td>The pointer to the cstring whose buffer will be appended.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the cstring was appended successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00258">258</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  259</span>{</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="cstr_8c.html#a4932f17c7ec853057cd0614dcd69724f">cstr_append_buf</a>(s, <a class="code hl_function" href="utils_8c.html#a636737e510216359d1195e0f67ab85d5">append</a>-&gt;str, <a class="code hl_function" href="utils_8c.html#a636737e510216359d1195e0f67ab85d5">append</a>-&gt;len);</div>
<div class="line"><span class="lineno">  261</span>}</div>
<div class="ttc" id="autils_8c_html_a636737e510216359d1195e0f67ab85d5"><div class="ttname"><a href="utils_8c.html#a636737e510216359d1195e0f67ab85d5">append</a></div><div class="ttdeci">void append(char *s, char *t)</div><div class="ttdoc">Allows appending characters (char* t) to the end of a string (char* s).</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00491">utils.c:491</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_8c_source.html#l00491">append()</a>, and <a class="el" href="cstr_8c_source.html#l00235">cstr_append_buf()</a>.</p>

</div>
</div>
<a id="ad7ea002af02befe4caee94128d5ac912" name="ad7ea002af02befe4caee94128d5ac912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ea002af02befe4caee94128d5ac912">&#9670;&nbsp;</a></span>cstr_compare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cstr_compare </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function compares the buffers of two cstrings and returns which one is greater. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The pointer to the cstring to compare. </td></tr>
    <tr><td class="paramname">b</td><td>The pointer to the reference cstring.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the string value of a is greater, -1 if the string value of b is greater, 0 if the strings are equal. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00313">313</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  314</span>{</div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordflow">if</span> (a-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> &gt; b-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>) {</div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno">  318</span>    }</div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">if</span> (a-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> &lt; b-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>) {</div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  321</span>    }</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>    <span class="comment">/* length equal, byte per byte compare */</span></div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">for</span> (i = 0; i &lt; a-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>; i++) {</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordtype">char</span> a1 = a-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[i];</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordtype">char</span> b1 = b-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[i];</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">if</span> (a1 &gt; b1) {</div>
<div class="line"><span class="lineno">  329</span>            <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno">  330</span>        }</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">if</span> (a1 &lt; b1) {</div>
<div class="line"><span class="lineno">  332</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  333</span>        }</div>
<div class="line"><span class="lineno">  334</span>    }</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">return</span> (0);</div>
<div class="line"><span class="lineno">  336</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

</div>
</div>
<a id="adf97baaf3cd2438aadb6b53f340b73fb" name="adf97baaf3cd2438aadb6b53f340b73fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf97baaf3cd2438aadb6b53f340b73fb">&#9670;&nbsp;</a></span>cstr_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cstr_equal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function compares two cstrings and checks if their contents are equal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The pointer to the reference cstring. </td></tr>
    <tr><td class="paramname">b</td><td>The pointer to the cstring to compare.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the contents are equal, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00288">288</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  289</span>{</div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">if</span> (a == b) {</div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  292</span>    }</div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">if</span> (!a || !b) {</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  295</span>    }</div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">if</span> (a-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> != b-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>) {</div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  298</span>    }</div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">return</span> (memcmp(a-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>, b-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>, a-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>) == 0);</div>
<div class="line"><span class="lineno">  300</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

</div>
</div>
<a id="aab7b7441dcc40c76c34b05f5a1856b13" name="aab7b7441dcc40c76c34b05f5a1856b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab7b7441dcc40c76c34b05f5a1856b13">&#9670;&nbsp;</a></span>cstr_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cstr_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function erases the characters in the string starting at position pos and ending at pos + len. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The pointer to the cstring to modify. </td></tr>
    <tr><td class="paramname">pos</td><td>The index of the buffer to start erasing from. </td></tr>
    <tr><td class="paramname">len</td><td>The number of characters to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of characters successfully erased. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00349">349</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  350</span>{</div>
<div class="line"><span class="lineno">  351</span>    ssize_t old_tail;</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">if</span> (pos == s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> &amp;&amp; len == 0) {</div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  355</span>    }</div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (pos &gt;= s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>) {</div>
<div class="line"><span class="lineno">  357</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  358</span>    }</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    old_tail = s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> - pos;</div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordflow">if</span> ((len &gt;= 0) &amp;&amp; (len &gt; old_tail)) {</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  363</span>    }</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    memmove(&amp;s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[pos], &amp;s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[pos + len], old_tail - len);</div>
<div class="line"><span class="lineno">  366</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> -= len;</div>
<div class="line"><span class="lineno">  367</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>] = 0;</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  370</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

<p class="reference">Referenced by <a class="el" href="such_8c_source.html#l00268">transaction_input_menu()</a>.</p>

</div>
</div>
<a id="aac3ba3d34a15e5380d7d2214038f6b48" name="aac3ba3d34a15e5380d7d2214038f6b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac3ba3d34a15e5380d7d2214038f6b48">&#9670;&nbsp;</a></span>cstr_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cstr_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>free_buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function frees the memory allocated for the cstring object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The pointer to the cstring to be freed. </td></tr>
    <tr><td class="paramname">free_buf</td><td>Whether the buffer inside the cstring should be freed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00173">173</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span>{</div>
<div class="line"><span class="lineno">  175</span>    <span class="keywordflow">if</span> (!s) {</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  177</span>    }</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">if</span> (free_buf) {</div>
<div class="line"><span class="lineno">  180</span>        <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>);</div>
<div class="line"><span class="lineno">  181</span>    }</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_function" href="mem_8c.html#afa74e6ef7b27aef8c742cd073ad849b9">dogecoin_mem_zero</a>(s, <span class="keyword">sizeof</span>(*s));</div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(s);</div>
<div class="line"><span class="lineno">  185</span>}</div>
<div class="ttc" id="amem_8c_html_ad02c72991a2ff7d7a89d69c0234c4315"><div class="ttname"><a href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a></div><div class="ttdeci">void dogecoin_free(void *ptr)</div><div class="ttdoc">This function calls dogecoin_free_internal() using the current memory mapper.</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00121">mem.c:121</a></div></div>
<div class="ttc" id="amem_8c_html_afa74e6ef7b27aef8c742cd073ad849b9"><div class="ttname"><a href="mem_8c.html#afa74e6ef7b27aef8c742cd073ad849b9">dogecoin_mem_zero</a></div><div class="ttdeci">volatile void * dogecoin_mem_zero(volatile void *dst, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00243">mem.c:243</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mem_8c_source.html#l00121">dogecoin_free()</a>, <a class="el" href="mem_8c_source.html#l00243">dogecoin_mem_zero()</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00873">broadcast_handshake_done()</a>, <a class="el" href="net_8c_source.html#l00935">broadcast_post_cmd()</a>, <a class="el" href="serialize_8c_source.html#l00521">deser_varstr()</a>, <a class="el" href="block_8c_source.html#l00140">dogecoin_block_header_hash()</a>, <a class="el" href="net_8c_source.html#l00382">dogecoin_node_free()</a>, <a class="el" href="net_8c_source.html#l00687">dogecoin_node_parse_message()</a>, <a class="el" href="net_8c_source.html#l00645">dogecoin_node_send_version()</a>, <a class="el" href="tx_8c_source.html#l00550">dogecoin_tx_hash()</a>, <a class="el" href="tx_8c_source.html#l00052">dogecoin_tx_in_free()</a>, <a class="el" href="tx_8c_source.html#l00114">dogecoin_tx_out_free()</a>, <a class="el" href="tx_8c_source.html#l00722">dogecoin_tx_outputs_hash()</a>, <a class="el" href="tx_8c_source.html#l00674">dogecoin_tx_prevout_hash()</a>, <a class="el" href="tx_8c_source.html#l00699">dogecoin_tx_sequence_hash()</a>, <a class="el" href="tx_8c_source.html#l00750">dogecoin_tx_sighash()</a>, <a class="el" href="tx_8c_source.html#l01064">dogecoin_tx_sign_input()</a>, <a class="el" href="transaction_8c_source.html#l00432">get_raw_transaction()</a>, <a class="el" href="such_8c_source.html#l00668">main()</a>, <a class="el" href="net_8c_source.html#l00212">node_periodical_timer()</a>, <a class="el" href="net_8c_source.html#l00120">read_cb()</a>, and <a class="el" href="transaction_8c_source.html#l00479">sign_raw_transaction()</a>.</p>

</div>
</div>
<a id="a74f94b1ae01ddace9b01133212f2c090" name="a74f94b1ae01ddace9b01133212f2c090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74f94b1ae01ddace9b01133212f2c090">&#9670;&nbsp;</a></span>cstr_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcstring.html">cstring</a> * cstr_new </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>init_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00151">151</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  152</span>{</div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordtype">size_t</span> slen;</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">if</span> (!init_str || !*init_str) {</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="cstr_8c.html#a27886215b0fc427185042cf6e171098b">cstr_new_sz</a>(0);</div>
<div class="line"><span class="lineno">  157</span>    }</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    slen = strlen(init_str);</div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="cstr_8c.html#aa9f37c18fe4d9fc861d39a69938d1366">cstr_new_buf</a>(init_str, slen);</div>
<div class="line"><span class="lineno">  161</span>}</div>
<div class="ttc" id="acstr_8c_html_a27886215b0fc427185042cf6e171098b"><div class="ttname"><a href="cstr_8c.html#a27886215b0fc427185042cf6e171098b">cstr_new_sz</a></div><div class="ttdeci">cstring * cstr_new_sz(size_t sz)</div><div class="ttdoc">This function allocates a new cstring of the specified size.</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8c_source.html#l00097">cstr.c:97</a></div></div>
<div class="ttc" id="acstr_8c_html_aa9f37c18fe4d9fc861d39a69938d1366"><div class="ttname"><a href="cstr_8c.html#aa9f37c18fe4d9fc861d39a69938d1366">cstr_new_buf</a></div><div class="ttdeci">cstring * cstr_new_buf(const void *buf, size_t sz)</div><div class="ttdoc">The function creates a new cstring and initializes it with the first sz bytes of the specified buffer...</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8c_source.html#l00123">cstr.c:123</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00123">cstr_new_buf()</a>, and <a class="el" href="cstr_8c_source.html#l00097">cstr_new_sz()</a>.</p>

</div>
</div>
<a id="aa9f37c18fe4d9fc861d39a69938d1366" name="aa9f37c18fe4d9fc861d39a69938d1366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9f37c18fe4d9fc861d39a69938d1366">&#9670;&nbsp;</a></span>cstr_new_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcstring.html">cstring</a> * cstr_new_buf </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function creates a new cstring and initializes it with the first sz bytes of the specified buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The data to be copied into the cstring. </td></tr>
    <tr><td class="paramname">sz</td><td>The size of the string to allocate and initialize.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new cstring object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00123">123</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  124</span>{</div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_struct" href="structcstring.html">cstring</a>* s = <a class="code hl_function" href="cstr_8c.html#a27886215b0fc427185042cf6e171098b">cstr_new_sz</a>(sz);</div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">if</span> (!s) {</div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  128</span>    }</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <a class="code hl_function" href="mem_8c.html#ab5b323a3ddeb02bdcb2b5a8a46e2a4b7">memcpy_safe</a>(s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>, buf, sz);</div>
<div class="line"><span class="lineno">  131</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> = sz;</div>
<div class="line"><span class="lineno">  132</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>] = 0;</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">return</span> s;</div>
<div class="line"><span class="lineno">  135</span>}</div>
<div class="ttc" id="astructcstring_html"><div class="ttname"><a href="structcstring.html">cstring</a></div><div class="ttdef"><b>Definition:</b> <a href="cstr_8h_source.html#l00037">cstr.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00097">cstr_new_sz()</a>, <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, <a class="el" href="mem_8c_source.html#l00209">memcpy_safe()</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

<p class="reference">Referenced by <a class="el" href="cstr_8c_source.html#l00151">cstr_new()</a>, <a class="el" href="cstr_8c_source.html#l00146">cstr_new_cstr()</a>, <a class="el" href="such_8c_source.html#l00668">main()</a>, <a class="el" href="net_8c_source.html#l00120">read_cb()</a>, and <a class="el" href="transaction_8c_source.html#l00479">sign_raw_transaction()</a>.</p>

</div>
</div>
<a id="a0d6dc2f043048141a711c9163c56eb53" name="a0d6dc2f043048141a711c9163c56eb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d6dc2f043048141a711c9163c56eb53">&#9670;&nbsp;</a></span>cstr_new_cstr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcstring.html">cstring</a> * cstr_new_cstr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>copy_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function creates a new cstring from an existing cstring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">copy_str</td><td>The cstring object to be copied.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new cstring object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00146">146</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  147</span>{</div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="cstr_8c.html#aa9f37c18fe4d9fc861d39a69938d1366">cstr_new_buf</a>(copy_str-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>, copy_str-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>);</div>
<div class="line"><span class="lineno">  149</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00123">cstr_new_buf()</a>, <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

<p class="reference">Referenced by <a class="el" href="tx_8c_source.html#l01064">dogecoin_tx_sign_input()</a>.</p>

</div>
</div>
<a id="a27886215b0fc427185042cf6e171098b" name="a27886215b0fc427185042cf6e171098b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27886215b0fc427185042cf6e171098b">&#9670;&nbsp;</a></span>cstr_new_sz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcstring.html">cstring</a> * cstr_new_sz </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function allocates a new cstring of the specified size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sz</td><td>The size of the string to allocate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the new cstring object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00097">97</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>{</div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_struct" href="structcstring.html">cstring</a>* s = <a class="code hl_function" href="mem_8c.html#a2eb6ed6a5cfda3a99145487a5445cfcf">dogecoin_calloc</a>(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structcstring.html">cstring</a>));</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">if</span> (!s) {</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  102</span>    }</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="cstr_8c.html#a7d5239de14dc2f3ce2d132e6caa8e6b4">cstr_alloc_min_sz</a>(s, sz)) {</div>
<div class="line"><span class="lineno">  105</span>        <a class="code hl_function" href="mem_8c.html#ad02c72991a2ff7d7a89d69c0234c4315">dogecoin_free</a>(s);</div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  107</span>    }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">return</span> s;</div>
<div class="line"><span class="lineno">  110</span>}</div>
<div class="ttc" id="amem_8c_html_a2eb6ed6a5cfda3a99145487a5445cfcf"><div class="ttname"><a href="mem_8c.html#a2eb6ed6a5cfda3a99145487a5445cfcf">dogecoin_calloc</a></div><div class="ttdeci">void * dogecoin_calloc(size_t count, size_t size)</div><div class="ttdoc">This function calls dogecoin_calloc_internal() using the current memory mapper.</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00092">mem.c:92</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00022">cstr_alloc_min_sz()</a>, <a class="el" href="mem_8c_source.html#l00092">dogecoin_calloc()</a>, and <a class="el" href="mem_8c_source.html#l00121">dogecoin_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="net_8c_source.html#l00873">broadcast_handshake_done()</a>, <a class="el" href="net_8c_source.html#l00935">broadcast_post_cmd()</a>, <a class="el" href="cstr_8c_source.html#l00151">cstr_new()</a>, <a class="el" href="cstr_8c_source.html#l00123">cstr_new_buf()</a>, <a class="el" href="serialize_8c_source.html#l00521">deser_varstr()</a>, <a class="el" href="block_8c_source.html#l00140">dogecoin_block_header_hash()</a>, <a class="el" href="net_8c_source.html#l00291">dogecoin_node_new()</a>, <a class="el" href="net_8c_source.html#l00645">dogecoin_node_send_version()</a>, <a class="el" href="protocol_8c_source.html#l00080">dogecoin_p2p_message_new()</a>, <a class="el" href="tx_8c_source.html#l00849">dogecoin_tx_add_data_out()</a>, <a class="el" href="tx_8c_source.html#l00933">dogecoin_tx_add_p2pkh_hash160_out()</a>, <a class="el" href="tx_8c_source.html#l00954">dogecoin_tx_add_p2sh_hash160_out()</a>, <a class="el" href="tx_8c_source.html#l00878">dogecoin_tx_add_puzzle_out()</a>, <a class="el" href="tx_8c_source.html#l00550">dogecoin_tx_hash()</a>, <a class="el" href="tx_8c_source.html#l00569">dogecoin_tx_in_copy()</a>, <a class="el" href="tx_8c_source.html#l00594">dogecoin_tx_out_copy()</a>, <a class="el" href="tx_8c_source.html#l00722">dogecoin_tx_outputs_hash()</a>, <a class="el" href="tx_8c_source.html#l00674">dogecoin_tx_prevout_hash()</a>, <a class="el" href="tx_8c_source.html#l00699">dogecoin_tx_sequence_hash()</a>, <a class="el" href="tx_8c_source.html#l00750">dogecoin_tx_sighash()</a>, <a class="el" href="transaction_8c_source.html#l00432">get_raw_transaction()</a>, <a class="el" href="such_8c_source.html#l00668">main()</a>, and <a class="el" href="transaction_8c_source.html#l00479">sign_raw_transaction()</a>.</p>

</div>
</div>
<a id="a44f9375e09ef9407d7132b047cdc36a7" name="a44f9375e09ef9407d7132b047cdc36a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f9375e09ef9407d7132b047cdc36a7">&#9670;&nbsp;</a></span>cstr_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cstr_resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstring.html">cstring</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function resizes the buffer inside cstring object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The pointer to the cstring whose buffer is to be resized. </td></tr>
    <tr><td class="paramname">new_sz</td><td>The new desired size of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if buffer was resized successfully, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cstr_8c_source.html#l00196">196</a> of file <a class="el" href="cstr_8c_source.html">cstr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  197</span>{</div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">/* no change */</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">if</span> (new_sz == s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>) {</div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  201</span>    }</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    <span class="comment">/* truncate string */</span></div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">if</span> (new_sz &lt;= s-&gt;len) {</div>
<div class="line"><span class="lineno">  205</span>        s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> = new_sz;</div>
<div class="line"><span class="lineno">  206</span>        s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>] = 0;</div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  208</span>    }</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>    <span class="comment">/* increase string size */</span></div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="cstr_8c.html#a7d5239de14dc2f3ce2d132e6caa8e6b4">cstr_alloc_min_sz</a>(s, new_sz)) {</div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  213</span>    }</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>    <span class="comment">/* contents of string tail undefined */</span></div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a> = new_sz;</div>
<div class="line"><span class="lineno">  218</span>    s-&gt;<a class="code hl_variable" href="structcstring.html#a731cdf51b981dfd0c66713e2c942a43d">str</a>[s-&gt;<a class="code hl_variable" href="structcstring.html#ad0eb3a0fea291824cc3a7176a4d6a345">len</a>] = 0;</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  221</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cstr_8c_source.html#l00022">cstr_alloc_min_sz()</a>, <a class="el" href="cstr_8h_source.html#l00039">cstring::len</a>, and <a class="el" href="cstr_8h_source.html#l00038">cstring::str</a>.</p>

<p class="reference">Referenced by <a class="el" href="script_8c_source.html#l00574">dogecoin_script_build_multisig()</a>, <a class="el" href="script_8c_source.html#l00611">dogecoin_script_build_p2pkh()</a>, <a class="el" href="script_8c_source.html#l00638">dogecoin_script_build_p2sh()</a>, and <a class="el" href="tx_8c_source.html#l00750">dogecoin_tx_sighash()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
