<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdogecoin: src/libevent/evmap-internal.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdogecoin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_97979c17d049e8002d2e089c4964ead4.html">libevent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">evmap-internal.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="evmap-internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3fa2a2bf0f03e79032cd0ce2f7911f60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a3fa2a2bf0f03e79032cd0ce2f7911f60">evmap_io_initmap_</a> (struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:a3fa2a2bf0f03e79032cd0ce2f7911f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b1152af7697586adb90c62aa6c650a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#ad6b1152af7697586adb90c62aa6c650a">evmap_signal_initmap_</a> (struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:ad6b1152af7697586adb90c62aa6c650a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378966d553ed1112e5da5e1a06f561a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a378966d553ed1112e5da5e1a06f561a2">evmap_io_clear_</a> (struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:a378966d553ed1112e5da5e1a06f561a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2607ea68074a8c4f2eb5908481b75915"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a2607ea68074a8c4f2eb5908481b75915">evmap_signal_clear_</a> (struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</td></tr>
<tr class="separator:a2607ea68074a8c4f2eb5908481b75915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f1cc5853c896ed9bf35958841fee07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#ad2f1cc5853c896ed9bf35958841fee07">evmap_io_add_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, struct event *ev)</td></tr>
<tr class="separator:ad2f1cc5853c896ed9bf35958841fee07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352dfdfbae15e78da5acf461fb427336"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a352dfdfbae15e78da5acf461fb427336">evmap_io_del_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, struct event *ev)</td></tr>
<tr class="separator:a352dfdfbae15e78da5acf461fb427336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d6c5d77bf1bcbd771a9f1d87de6a25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#aa7d6c5d77bf1bcbd771a9f1d87de6a25">evmap_io_active_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t fd, short events)</td></tr>
<tr class="separator:aa7d6c5d77bf1bcbd771a9f1d87de6a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793748b97acb0dd84c57fa32f3d157b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a793748b97acb0dd84c57fa32f3d157b4">evmap_signal_add_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int signum, struct event *ev)</td></tr>
<tr class="separator:a793748b97acb0dd84c57fa32f3d157b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa8a24f437d00d04d08eeed29626136"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a5aa8a24f437d00d04d08eeed29626136">evmap_signal_del_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, int signum, struct event *ev)</td></tr>
<tr class="separator:a5aa8a24f437d00d04d08eeed29626136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9abaa4a47ef7147a63259fced998020e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a9abaa4a47ef7147a63259fced998020e">evmap_signal_active_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, evutil_socket_t signum, int ncalls)</td></tr>
<tr class="separator:a9abaa4a47ef7147a63259fced998020e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d45dbe05d8dda242b86fee0463f707"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#ad5d45dbe05d8dda242b86fee0463f707">evmap_io_get_fdinfo_</a> (struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *<a class="el" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, evutil_socket_t fd)</td></tr>
<tr class="separator:ad5d45dbe05d8dda242b86fee0463f707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6bf184dee8fd1da0ca746717e77b70"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a6c6bf184dee8fd1da0ca746717e77b70">evmap_reinit_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a6c6bf184dee8fd1da0ca746717e77b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2157ece8e14c82e17b7386b942df9ead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a2157ece8e14c82e17b7386b942df9ead">evmap_delete_all_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a2157ece8e14c82e17b7386b942df9ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c92d3f3a387835c15dfc99dd8760e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#a97c92d3f3a387835c15dfc99dd8760e6">evmap_check_integrity_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base)</td></tr>
<tr class="separator:a97c92d3f3a387835c15dfc99dd8760e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede3441b2878cc0c8a5600e65db32a73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="evmap-internal_8h.html#aede3441b2878cc0c8a5600e65db32a73">evmap_foreach_event_</a> (struct <a class="el" href="structevent__base.html">event_base</a> *base, event_base_foreach_event_cb fn, void *arg)</td></tr>
<tr class="separator:aede3441b2878cc0c8a5600e65db32a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >An event_map is a utility structure to map each fd or signal to zero or more events. Functions to manipulate event_maps should only be used from inside libevent. They generally need to hold the lock on the corresponding <a class="el" href="structevent__base.html">event_base</a>. </p>

<p class="definition">Definition in file <a class="el" href="evmap-internal_8h_source.html">evmap-internal.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a97c92d3f3a387835c15dfc99dd8760e6" name="a97c92d3f3a387835c15dfc99dd8760e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c92d3f3a387835c15dfc99dd8760e6">&#9670;&nbsp;</a></span>evmap_check_integrity_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_check_integrity_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l01002">1002</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1003</span>{</div>
<div class="line"><span class="lineno"> 1004</span>    <a class="code hl_function" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a>(base, <a class="code hl_function" href="evmap_8c.html#afae51249fb8a4d883743f1c4b30c5533">evmap_io_check_integrity_fn</a>, NULL);</div>
<div class="line"><span class="lineno"> 1005</span>    <a class="code hl_function" href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a>(base, <a class="code hl_function" href="evmap_8c.html#a0f64605bcae7a93943fe92e48d6f5850">evmap_signal_check_integrity_fn</a>, NULL);</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>    <span class="keywordflow">if</span> (base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#af933a8c970e13099e6388826c68966e7">add</a> == <a class="code hl_function" href="evmap_8c.html#a39cf42e57c876f26a3681c2e71e81161">event_changelist_add_</a>)</div>
<div class="line"><span class="lineno"> 1008</span>        <a class="code hl_function" href="evmap_8c.html#ad851cdf11e5aac18773c3fc6819b99a4">event_changelist_assert_ok</a>(base);</div>
<div class="line"><span class="lineno"> 1009</span>}</div>
<div class="ttc" id="aevmap_8c_html_a02a4c3b36b2189fc5e40af6399d82dc8"><div class="ttname"><a href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a></div><div class="ttdeci">static int evmap_io_foreach_fd(struct event_base *base, evmap_io_foreach_fd_cb fn, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00546">evmap.c:546</a></div></div>
<div class="ttc" id="aevmap_8c_html_a0f64605bcae7a93943fe92e48d6f5850"><div class="ttname"><a href="evmap_8c.html#a0f64605bcae7a93943fe92e48d6f5850">evmap_signal_check_integrity_fn</a></div><div class="ttdeci">static int evmap_signal_check_integrity_fn(struct event_base *base, int signum, struct evmap_signal *sig_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00985">evmap.c:985</a></div></div>
<div class="ttc" id="aevmap_8c_html_a39cf42e57c876f26a3681c2e71e81161"><div class="ttname"><a href="evmap_8c.html#a39cf42e57c876f26a3681c2e71e81161">event_changelist_add_</a></div><div class="ttdeci">int event_changelist_add_(struct event_base *base, evutil_socket_t fd, short old, short events, void *p)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00866">evmap.c:866</a></div></div>
<div class="ttc" id="aevmap_8c_html_ad851cdf11e5aac18773c3fc6819b99a4"><div class="ttname"><a href="evmap_8c.html#ad851cdf11e5aac18773c3fc6819b99a4">event_changelist_assert_ok</a></div><div class="ttdeci">static void event_changelist_assert_ok(struct event_base *base)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00752">evmap.c:752</a></div></div>
<div class="ttc" id="aevmap_8c_html_afae51249fb8a4d883743f1c4b30c5533"><div class="ttname"><a href="evmap_8c.html#afae51249fb8a4d883743f1c4b30c5533">evmap_io_check_integrity_fn</a></div><div class="ttdeci">static int evmap_io_check_integrity_fn(struct event_base *base, evutil_socket_t fd, struct evmap_io *io_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00952">evmap.c:952</a></div></div>
<div class="ttc" id="aevmap_8c_html_afe4b036d7904a162bd88503a3dd79391"><div class="ttname"><a href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a></div><div class="ttdeci">static int evmap_signal_foreach_signal(struct event_base *base, evmap_signal_foreach_signal_cb fn, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00585">evmap.c:585</a></div></div>
<div class="ttc" id="astructevent__base_html_a7869647e5bb9220fa71754f7c8cec0f5"><div class="ttname"><a href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">event_base::evsel</a></div><div class="ttdeci">const struct eventop * evsel</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00211">event-internal.h:211</a></div></div>
<div class="ttc" id="astructeventop_html_af933a8c970e13099e6388826c68966e7"><div class="ttname"><a href="structeventop.html#af933a8c970e13099e6388826c68966e7">eventop::add</a></div><div class="ttdeci">int(* add)(struct event_base *, evutil_socket_t fd, short old, short events, void *fdinfo)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00103">event-internal.h:103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00103">eventop::add</a>, <a class="el" href="evmap_8c_source.html#l00866">event_changelist_add_()</a>, <a class="el" href="evmap_8c_source.html#l00752">event_changelist_assert_ok()</a>, <a class="el" href="evmap_8c_source.html#l00952">evmap_io_check_integrity_fn()</a>, <a class="el" href="evmap_8c_source.html#l00546">evmap_io_foreach_fd()</a>, <a class="el" href="evmap_8c_source.html#l00985">evmap_signal_check_integrity_fn()</a>, <a class="el" href="evmap_8c_source.html#l00585">evmap_signal_foreach_signal()</a>, and <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03964">event_base_assert_ok_nolock_()</a>.</p>

</div>
</div>
<a id="a2157ece8e14c82e17b7386b942df9ead" name="a2157ece8e14c82e17b7386b942df9ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2157ece8e14c82e17b7386b942df9ead">&#9670;&nbsp;</a></span>evmap_delete_all_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_delete_all_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00693">693</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  694</span>{</div>
<div class="line"><span class="lineno">  695</span>    <a class="code hl_function" href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a>(base, <a class="code hl_function" href="evmap_8c.html#a545d62e4989f992cb18db9f2b0ec9268">evmap_signal_delete_all_iter_fn</a>, NULL);</div>
<div class="line"><span class="lineno">  696</span>    <a class="code hl_function" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a>(base, <a class="code hl_function" href="evmap_8c.html#a0df73a091f7e489d981c451d2bcfd133">evmap_io_delete_all_iter_fn</a>, NULL);</div>
<div class="line"><span class="lineno">  697</span>}</div>
<div class="ttc" id="aevmap_8c_html_a0df73a091f7e489d981c451d2bcfd133"><div class="ttname"><a href="evmap_8c.html#a0df73a091f7e489d981c451d2bcfd133">evmap_io_delete_all_iter_fn</a></div><div class="ttdeci">static int evmap_io_delete_all_iter_fn(struct event_base *base, evutil_socket_t fd, struct evmap_io *io_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00678">evmap.c:678</a></div></div>
<div class="ttc" id="aevmap_8c_html_a545d62e4989f992cb18db9f2b0ec9268"><div class="ttname"><a href="evmap_8c.html#a545d62e4989f992cb18db9f2b0ec9268">evmap_signal_delete_all_iter_fn</a></div><div class="ttdeci">static int evmap_signal_delete_all_iter_fn(struct event_base *base, int signum, struct evmap_signal *sig_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00686">evmap.c:686</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l00678">evmap_io_delete_all_iter_fn()</a>, <a class="el" href="evmap_8c_source.html#l00546">evmap_io_foreach_fd()</a>, <a class="el" href="evmap_8c_source.html#l00686">evmap_signal_delete_all_iter_fn()</a>, and <a class="el" href="evmap_8c_source.html#l00585">evmap_signal_foreach_signal()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>.</p>

</div>
</div>
<a id="aede3441b2878cc0c8a5600e65db32a73" name="aede3441b2878cc0c8a5600e65db32a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede3441b2878cc0c8a5600e65db32a73">&#9670;&nbsp;</a></span>evmap_foreach_event_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_foreach_event_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event_base_foreach_event_cb&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l01051">1051</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1053</span>{</div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__foreach__event__helper.html">evmap_foreach_event_helper</a> h;</div>
<div class="line"><span class="lineno"> 1055</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><span class="lineno"> 1056</span>    h.<a class="code hl_variable" href="structevmap__foreach__event__helper.html#a4d4c054aa68dcaa19a475d8d1bd69338">fn</a> = <a class="code hl_variable" href="structevmap__foreach__event__helper.html#a4d4c054aa68dcaa19a475d8d1bd69338">fn</a>;</div>
<div class="line"><span class="lineno"> 1057</span>    h.arg = <a class="code hl_variable" href="structevmap__foreach__event__helper.html#a86616ea11fbe4a9a90f33307200caf96">arg</a>;</div>
<div class="line"><span class="lineno"> 1058</span>    <span class="keywordflow">if</span> ((r = <a class="code hl_function" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a>(base, <a class="code hl_function" href="evmap_8c.html#ae5b7fab4004e077aa7327a794861a3d6">evmap_io_foreach_event_fn</a>, &amp;h)))</div>
<div class="line"><span class="lineno"> 1059</span>        <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 1060</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a>(base, <a class="code hl_function" href="evmap_8c.html#ac186986fc747695ea9abca562ad91c3e">evmap_signal_foreach_event_fn</a>, &amp;h);</div>
<div class="line"><span class="lineno"> 1061</span>}</div>
<div class="ttc" id="aevmap_8c_html_ac186986fc747695ea9abca562ad91c3e"><div class="ttname"><a href="evmap_8c.html#ac186986fc747695ea9abca562ad91c3e">evmap_signal_foreach_event_fn</a></div><div class="ttdeci">static int evmap_signal_foreach_event_fn(struct event_base *base, int signum, struct evmap_signal *sig_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01037">evmap.c:1037</a></div></div>
<div class="ttc" id="aevmap_8c_html_ae5b7fab4004e077aa7327a794861a3d6"><div class="ttname"><a href="evmap_8c.html#ae5b7fab4004e077aa7327a794861a3d6">evmap_io_foreach_event_fn</a></div><div class="ttdeci">static int evmap_io_foreach_event_fn(struct event_base *base, evutil_socket_t fd, struct evmap_io *io_info, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01021">evmap.c:1021</a></div></div>
<div class="ttc" id="astructevmap__foreach__event__helper_html"><div class="ttname"><a href="structevmap__foreach__event__helper.html">evmap_foreach_event_helper</a></div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01013">evmap.c:1013</a></div></div>
<div class="ttc" id="astructevmap__foreach__event__helper_html_a4d4c054aa68dcaa19a475d8d1bd69338"><div class="ttname"><a href="structevmap__foreach__event__helper.html#a4d4c054aa68dcaa19a475d8d1bd69338">evmap_foreach_event_helper::fn</a></div><div class="ttdeci">event_base_foreach_event_cb fn</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01014">evmap.c:1014</a></div></div>
<div class="ttc" id="astructevmap__foreach__event__helper_html_a86616ea11fbe4a9a90f33307200caf96"><div class="ttname"><a href="structevmap__foreach__event__helper.html#a86616ea11fbe4a9a90f33307200caf96">evmap_foreach_event_helper::arg</a></div><div class="ttdeci">void * arg</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l01015">evmap.c:1015</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l01015">evmap_foreach_event_helper::arg</a>, <a class="el" href="evmap_8c_source.html#l01021">evmap_io_foreach_event_fn()</a>, <a class="el" href="evmap_8c_source.html#l00546">evmap_io_foreach_fd()</a>, <a class="el" href="evmap_8c_source.html#l01037">evmap_signal_foreach_event_fn()</a>, <a class="el" href="evmap_8c_source.html#l00585">evmap_signal_foreach_signal()</a>, and <a class="el" href="evmap_8c_source.html#l01014">evmap_foreach_event_helper::fn</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03680">event_base_foreach_event_nolock_()</a>.</p>

</div>
</div>
<a id="aa7d6c5d77bf1bcbd771a9f1d87de6a25" name="aa7d6c5d77bf1bcbd771a9f1d87de6a25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d6c5d77bf1bcbd771a9f1d87de6a25">&#9670;&nbsp;</a></span>evmap_io_active_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_io_active_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Active the set of events waiting on an <a class="el" href="structevent__base.html">event_base</a> for a given fd.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>the <a class="el" href="structevent__base.html">event_base</a> to operate on. </td></tr>
    <tr><td class="paramname">fd</td><td>the file descriptor that has become active. </td></tr>
    <tr><td class="paramname">events</td><td>a bitmask of EV_READ|EV_WRITE|EV_ET. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00420">420</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  421</span>{</div>
<div class="line"><span class="lineno">  422</span>    <span class="keyword">struct </span><a class="code hl_define" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *io = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>;</div>
<div class="line"><span class="lineno">  423</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  424</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span><span class="preprocessor">#ifndef EVMAP_USE_HT</span></div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">if</span> (fd &lt; 0 || fd &gt;= io-&gt;nentries)</div>
<div class="line"><span class="lineno">  428</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  429</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_define" href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, io, fd, <a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">if</span> (NULL == <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  434</span>    LIST_FOREACH(ev, &amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>) {</div>
<div class="line"><span class="lineno">  435</span>        <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; (events &amp; ~EV_ET))</div>
<div class="line"><span class="lineno">  436</span>            <a class="code hl_function" href="event-internal_8h.html#a594c4fdf5bd1f8921141fd4a929c192a">event_active_nolock_</a>(ev, ev-&gt;ev_events &amp; events, 1);</div>
<div class="line"><span class="lineno">  437</span>    }</div>
<div class="line"><span class="lineno">  438</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_a113d4162bb301cb2500f086a38932f28"><div class="ttname"><a href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a></div><div class="ttdeci">#define ev_io_next</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00049">event-internal.h:49</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a16f042fdb79d2c98d7c0fa287c62d1e3"><div class="ttname"><a href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a></div><div class="ttdeci">#define event_io_map</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00144">event-internal.h:144</a></div></div>
<div class="ttc" id="aevent-internal_8h_html_a594c4fdf5bd1f8921141fd4a929c192a"><div class="ttname"><a href="event-internal_8h.html#a594c4fdf5bd1f8921141fd4a929c192a">event_active_nolock_</a></div><div class="ttdeci">void event_active_nolock_(struct event *ev, int res, short count)</div><div class="ttdef"><b>Definition:</b> <a href="event_8c_source.html#l02919">event.c:2919</a></div></div>
<div class="ttc" id="aevmap_8c_html_a882f34f7bf0415329b5aa8f43534e736"><div class="ttname"><a href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a></div><div class="ttdeci">#define GET_IO_SLOT(x, map, slot, type)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00184">evmap.c:184</a></div></div>
<div class="ttc" id="astructevent__base_html_a8570aaf68a16863aa88fd99bad159295"><div class="ttname"><a href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">event_base::io</a></div><div class="ttdeci">struct event_io_map io</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00282">event-internal.h:282</a></div></div>
<div class="ttc" id="astructevmap__io_html"><div class="ttname"><a href="structevmap__io.html">evmap_io</a></div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00059">evmap.c:59</a></div></div>
<div class="ttc" id="atests_8c_html_a06a3e29ada83211a695a49e8f7405842"><div class="ttname"><a href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a></div><div class="ttdeci">static secp256k1_context * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_8c_source.html#l00034">tests.c:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00049">ev_io_next</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="event-internal_8h_source.html#l00144">event_io_map</a>, <a class="el" href="evmap_8c_source.html#l00184">GET_IO_SLOT</a>, and <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03826">event_base_active_by_fd()</a>.</p>

</div>
</div>
<a id="ad2f1cc5853c896ed9bf35958841fee07" name="ad2f1cc5853c896ed9bf35958841fee07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f1cc5853c896ed9bf35958841fee07">&#9670;&nbsp;</a></span>evmap_io_add_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_io_add_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Add an IO event (some combination of EV_READ or EV_WRITE) to an <a class="el" href="structevent__base.html">event_base</a>'s list of events on a given file descriptor, and tell the underlying eventops about the fd if its state has changed.</p>
<p >Requires that ev is not already added.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>the <a class="el" href="structevent__base.html">event_base</a> to operate on. </td></tr>
    <tr><td class="paramname">fd</td><td>the file descriptor corresponding to ev. </td></tr>
    <tr><td class="paramname">ev</td><td>the event to add. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00273">273</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  274</span>{</div>
<div class="line"><span class="lineno">  275</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>;</div>
<div class="line"><span class="lineno">  276</span>    <span class="keyword">struct </span><a class="code hl_define" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *io = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>;</div>
<div class="line"><span class="lineno">  277</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a> = NULL;</div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>, <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>, <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>, retval = 0;</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordtype">short</span> res = 0, old = 0;</div>
<div class="line"><span class="lineno">  280</span>    <span class="keyword">struct </span>event *old_ev;</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(fd == ev-&gt;ev_fd);</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span><span class="preprocessor">#ifndef EVMAP_USE_HT</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">if</span> (fd &gt;= io-&gt;nentries) {</div>
<div class="line"><span class="lineno">  289</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evmap_8c.html#a07bf55c862ef8547bef3139ecdaecdba">evmap_make_space</a>(io, fd, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *)) == -1)</div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  291</span>    }</div>
<div class="line"><span class="lineno">  292</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  293</span>    <a class="code hl_define" href="evmap_8c.html#a417c0bb6d53645a68164cc0ce572fe2f">GET_IO_SLOT_AND_CTOR</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, io, fd, <a class="code hl_struct" href="structevmap__io.html">evmap_io</a>, <a class="code hl_function" href="evmap_8c.html#aa939638754b7535862495d6680da1282">evmap_io_init</a>,</div>
<div class="line"><span class="lineno">  294</span>                         evsel-&gt;<a class="code hl_variable" href="structeventop.html#a7dd2e226e3ee07731094d137d94daab0">fdinfo_len</a>);</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    nread = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nread;</div>
<div class="line"><span class="lineno">  297</span>    nwrite = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nwrite;</div>
<div class="line"><span class="lineno">  298</span>    nclose = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nclose;</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">if</span> (nread)</div>
<div class="line"><span class="lineno">  301</span>        old |= EV_READ;</div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordflow">if</span> (nwrite)</div>
<div class="line"><span class="lineno">  303</span>        old |= EV_WRITE;</div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">if</span> (nclose)</div>
<div class="line"><span class="lineno">  305</span>        old |= EV_CLOSED;</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_READ) {</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">if</span> (++nread == 1)</div>
<div class="line"><span class="lineno">  309</span>            res |= EV_READ;</div>
<div class="line"><span class="lineno">  310</span>    }</div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_WRITE) {</div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">if</span> (++nwrite == 1)</div>
<div class="line"><span class="lineno">  313</span>            res |= EV_WRITE;</div>
<div class="line"><span class="lineno">  314</span>    }</div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_CLOSED) {</div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">if</span> (++nclose == 1)</div>
<div class="line"><span class="lineno">  317</span>            res |= EV_CLOSED;</div>
<div class="line"><span class="lineno">  318</span>    }</div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="util-internal_8h.html#a940e95f19f5388e5c46b417c81b516a5">EVUTIL_UNLIKELY</a>(nread &gt; 0xffff || nwrite &gt; 0xffff || nclose &gt; 0xffff)) {</div>
<div class="line"><span class="lineno">  320</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;Too many events reading or writing on fd %d&quot;</span>,</div>
<div class="line"><span class="lineno">  321</span>            (<span class="keywordtype">int</span>)fd);</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  323</span>    }</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="event-internal_8h.html#ae6503f9366f20de8549a112dd7ebd955">EVENT_DEBUG_MODE_IS_ON</a>() &amp;&amp;</div>
<div class="line"><span class="lineno">  325</span>        (old_ev = LIST_FIRST(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events)) &amp;&amp;</div>
<div class="line"><span class="lineno">  326</span>        (old_ev-&gt;ev_events&amp;EV_ET) != (ev-&gt;ev_events&amp;EV_ET)) {</div>
<div class="line"><span class="lineno">  327</span>        <a class="code hl_function" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a>(<span class="stringliteral">&quot;Tried to mix edge-triggered and non-edge-triggered&quot;</span></div>
<div class="line"><span class="lineno">  328</span>            <span class="stringliteral">&quot; events on fd %d&quot;</span>, (<span class="keywordtype">int</span>)fd);</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">if</span> (res) {</div>
<div class="line"><span class="lineno">  333</span>        <span class="keywordtype">void</span> *extra = ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  334</span>        <span class="comment">/* XXX(niels): we cannot mix edge-triggered and</span></div>
<div class="line"><span class="lineno">  335</span><span class="comment">         * level-triggered, we should probably assert on</span></div>
<div class="line"><span class="lineno">  336</span><span class="comment">         * this. */</span></div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#af933a8c970e13099e6388826c68966e7">add</a>(base, ev-&gt;ev_fd,</div>
<div class="line"><span class="lineno">  338</span>            old, (ev-&gt;ev_events &amp; EV_ET) | res, extra) == -1)</div>
<div class="line"><span class="lineno">  339</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  340</span>        retval = 1;</div>
<div class="line"><span class="lineno">  341</span>    }</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nread = (ev_uint16_t) <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>;</div>
<div class="line"><span class="lineno">  344</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nwrite = (ev_uint16_t) <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>;</div>
<div class="line"><span class="lineno">  345</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nclose = (ev_uint16_t) <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>;</div>
<div class="line"><span class="lineno">  346</span>    LIST_INSERT_HEAD(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events, ev, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>);</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordflow">return</span> (retval);</div>
<div class="line"><span class="lineno">  349</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_ae6503f9366f20de8549a112dd7ebd955"><div class="ttname"><a href="event-internal_8h.html#ae6503f9366f20de8549a112dd7ebd955">EVENT_DEBUG_MODE_IS_ON</a></div><div class="ttdeci">#define EVENT_DEBUG_MODE_IS_ON()</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00192">event-internal.h:192</a></div></div>
<div class="ttc" id="aevmap_8c_html_a07bf55c862ef8547bef3139ecdaecdba"><div class="ttname"><a href="evmap_8c.html#a07bf55c862ef8547bef3139ecdaecdba">evmap_make_space</a></div><div class="ttdeci">static int evmap_make_space(struct event_signal_map *map, int slot, int msize)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00205">evmap.c:205</a></div></div>
<div class="ttc" id="aevmap_8c_html_a417c0bb6d53645a68164cc0ce572fe2f"><div class="ttname"><a href="evmap_8c.html#a417c0bb6d53645a68164cc0ce572fe2f">GET_IO_SLOT_AND_CTOR</a></div><div class="ttdeci">#define GET_IO_SLOT_AND_CTOR(x, map, slot, type, ctor, fdinfo_len)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00185">evmap.c:185</a></div></div>
<div class="ttc" id="aevmap_8c_html_aa939638754b7535862495d6680da1282"><div class="ttname"><a href="evmap_8c.html#aa939638754b7535862495d6680da1282">evmap_io_init</a></div><div class="ttdeci">static void evmap_io_init(struct evmap_io *entry)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00261">evmap.c:261</a></div></div>
<div class="ttc" id="alog-internal_8h_html_a0e3973f226e9585030596534e23cd95f"><div class="ttname"><a href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx</a></div><div class="ttdeci">EVENT2_EXPORT_SYMBOL void event_warnx(const char *fmt,...) EV_CHECK_FMT(1</div></div>
<div class="ttc" id="astructeventop_html"><div class="ttname"><a href="structeventop.html">eventop</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00086">event-internal.h:86</a></div></div>
<div class="ttc" id="astructeventop_html_a7dd2e226e3ee07731094d137d94daab0"><div class="ttname"><a href="structeventop.html#a7dd2e226e3ee07731094d137d94daab0">eventop::fdinfo_len</a></div><div class="ttdeci">size_t fdinfo_len</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00125">event-internal.h:125</a></div></div>
<div class="ttc" id="astructevmap__io_html_ab11ab77611c3eb0180fc160e89d4d61b"><div class="ttname"><a href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">evmap_io::nwrite</a></div><div class="ttdeci">ev_uint16_t nwrite</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00062">evmap.c:62</a></div></div>
<div class="ttc" id="astructevmap__io_html_ac6ac0c406d70a33e697feab9f02060bd"><div class="ttname"><a href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">evmap_io::nread</a></div><div class="ttdeci">ev_uint16_t nread</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00061">evmap.c:61</a></div></div>
<div class="ttc" id="astructevmap__io_html_af4a68ae0f4975ffe403d2aad1db4cde4"><div class="ttname"><a href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">evmap_io::nclose</a></div><div class="ttdeci">ev_uint16_t nclose</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00063">evmap.c:63</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a7365930d8b30f4c1ab3cef31a8622731"><div class="ttname"><a href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a></div><div class="ttdeci">#define EVUTIL_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00363">util-internal.h:363</a></div></div>
<div class="ttc" id="autil-internal_8h_html_a940e95f19f5388e5c46b417c81b516a5"><div class="ttname"><a href="util-internal_8h.html#a940e95f19f5388e5c46b417c81b516a5">EVUTIL_UNLIKELY</a></div><div class="ttdeci">#define EVUTIL_UNLIKELY(p)</div><div class="ttdef"><b>Definition:</b> <a href="util-internal_8h_source.html#l00349">util-internal.h:349</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00103">eventop::add</a>, <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00049">ev_io_next</a>, <a class="el" href="event-internal_8h_source.html#l00192">EVENT_DEBUG_MODE_IS_ON</a>, <a class="el" href="event-internal_8h_source.html#l00144">event_io_map</a>, <a class="el" href="log-internal_8h.html#a0e3973f226e9585030596534e23cd95f">event_warnx()</a>, <a class="el" href="evmap_8c_source.html#l00261">evmap_io_init()</a>, <a class="el" href="evmap_8c_source.html#l00205">evmap_make_space()</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="util-internal_8h_source.html#l00349">EVUTIL_UNLIKELY</a>, <a class="el" href="event-internal_8h_source.html#l00125">eventop::fdinfo_len</a>, <a class="el" href="evmap_8c_source.html#l00185">GET_IO_SLOT_AND_CTOR</a>, <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>, <a class="el" href="evmap_8c_source.html#l00063">evmap_io::nclose</a>, <a class="el" href="evmap_8c_source.html#l00061">evmap_io::nread</a>, and <a class="el" href="evmap_8c_source.html#l00062">evmap_io::nwrite</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>.</p>

</div>
</div>
<a id="a378966d553ed1112e5da5e1a06f561a2" name="a378966d553ed1112e5da5e1a06f561a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a378966d553ed1112e5da5e1a06f561a2">&#9670;&nbsp;</a></span>evmap_io_clear_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_io_clear_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Remove all entries from an event_map.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the map to clear. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00194">194</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  195</span>{</div>
<div class="line"><span class="lineno">  196</span>    <a class="code hl_function" href="evmap_8c.html#a2607ea68074a8c4f2eb5908481b75915">evmap_signal_clear_</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>);</div>
<div class="line"><span class="lineno">  197</span>}</div>
<div class="ttc" id="aevmap_8c_html_a2607ea68074a8c4f2eb5908481b75915"><div class="ttname"><a href="evmap_8c.html#a2607ea68074a8c4f2eb5908481b75915">evmap_signal_clear_</a></div><div class="ttdeci">void evmap_signal_clear_(struct event_signal_map *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00242">evmap.c:242</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="evmap_8c_source.html#l00242">evmap_signal_clear_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>.</p>

</div>
</div>
<a id="a352dfdfbae15e78da5acf461fb427336" name="a352dfdfbae15e78da5acf461fb427336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a352dfdfbae15e78da5acf461fb427336">&#9670;&nbsp;</a></span>evmap_io_del_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_io_del_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Remove an IO event (some combination of EV_READ or EV_WRITE) to an <a class="el" href="structevent__base.html">event_base</a>'s list of events on a given file descriptor, and tell the underlying eventops about the fd if its state has changed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>the <a class="el" href="structevent__base.html">event_base</a> to operate on. </td></tr>
    <tr><td class="paramname">fd</td><td>the file descriptor corresponding to ev. </td></tr>
    <tr><td class="paramname">ev</td><td>the event to remove. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00354">354</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>{</div>
<div class="line"><span class="lineno">  356</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a7869647e5bb9220fa71754f7c8cec0f5">evsel</a>;</div>
<div class="line"><span class="lineno">  357</span>    <span class="keyword">struct </span><a class="code hl_define" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *io = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#a8570aaf68a16863aa88fd99bad159295">io</a>;</div>
<div class="line"><span class="lineno">  358</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  359</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>, <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>, <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>, retval = 0;</div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordtype">short</span> res = 0, old = 0;</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(fd == ev-&gt;ev_fd);</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span><span class="preprocessor">#ifndef EVMAP_USE_HT</span></div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordflow">if</span> (fd &gt;= io-&gt;nentries)</div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  370</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_define" href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, io, fd, <a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a> = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nread;</div>
<div class="line"><span class="lineno">  375</span>    <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a> = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nwrite;</div>
<div class="line"><span class="lineno">  376</span>    <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a> = <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nclose;</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>)</div>
<div class="line"><span class="lineno">  379</span>        old |= EV_READ;</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>)</div>
<div class="line"><span class="lineno">  381</span>        old |= EV_WRITE;</div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>)</div>
<div class="line"><span class="lineno">  383</span>        old |= EV_CLOSED;</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_READ) {</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">if</span> (--<a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a> == 0)</div>
<div class="line"><span class="lineno">  387</span>            res |= EV_READ;</div>
<div class="line"><span class="lineno">  388</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a> &gt;= 0);</div>
<div class="line"><span class="lineno">  389</span>    }</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_WRITE) {</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">if</span> (--<a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a> == 0)</div>
<div class="line"><span class="lineno">  392</span>            res |= EV_WRITE;</div>
<div class="line"><span class="lineno">  393</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a> &gt;= 0);</div>
<div class="line"><span class="lineno">  394</span>    }</div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">if</span> (ev-&gt;ev_events &amp; EV_CLOSED) {</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">if</span> (--<a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a> == 0)</div>
<div class="line"><span class="lineno">  397</span>            res |= EV_CLOSED;</div>
<div class="line"><span class="lineno">  398</span>        <a class="code hl_define" href="util-internal_8h.html#a7365930d8b30f4c1ab3cef31a8622731">EVUTIL_ASSERT</a>(<a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a> &gt;= 0);</div>
<div class="line"><span class="lineno">  399</span>    }</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordflow">if</span> (res) {</div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordtype">void</span> *extra = ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#a0eef2d190c448c2e1422e3dc8856b72b">del</a>(base, ev-&gt;ev_fd,</div>
<div class="line"><span class="lineno">  404</span>            old, (ev-&gt;ev_events &amp; EV_ET) | res, extra) == -1) {</div>
<div class="line"><span class="lineno">  405</span>            retval = -1;</div>
<div class="line"><span class="lineno">  406</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  407</span>            retval = 1;</div>
<div class="line"><span class="lineno">  408</span>        }</div>
<div class="line"><span class="lineno">  409</span>    }</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nread = <a class="code hl_variable" href="structevmap__io.html#ac6ac0c406d70a33e697feab9f02060bd">nread</a>;</div>
<div class="line"><span class="lineno">  412</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nwrite = <a class="code hl_variable" href="structevmap__io.html#ab11ab77611c3eb0180fc160e89d4d61b">nwrite</a>;</div>
<div class="line"><span class="lineno">  413</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nclose = <a class="code hl_variable" href="structevmap__io.html#af4a68ae0f4975ffe403d2aad1db4cde4">nclose</a>;</div>
<div class="line"><span class="lineno">  414</span>    LIST_REMOVE(ev, <a class="code hl_define" href="event-internal_8h.html#a113d4162bb301cb2500f086a38932f28">ev_io_next</a>);</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    <span class="keywordflow">return</span> (retval);</div>
<div class="line"><span class="lineno">  417</span>}</div>
<div class="ttc" id="astructeventop_html_a0eef2d190c448c2e1422e3dc8856b72b"><div class="ttname"><a href="structeventop.html#a0eef2d190c448c2e1422e3dc8856b72b">eventop::del</a></div><div class="ttdeci">int(* del)(struct event_base *, evutil_socket_t fd, short old, short events, void *fdinfo)</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00105">event-internal.h:105</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00105">eventop::del</a>, <a class="el" href="event-internal_8h_source.html#l00049">ev_io_next</a>, <a class="el" href="event-internal_8h_source.html#l00144">event_io_map</a>, <a class="el" href="event-internal_8h_source.html#l00211">event_base::evsel</a>, <a class="el" href="util-internal_8h_source.html#l00363">EVUTIL_ASSERT</a>, <a class="el" href="evmap_8c_source.html#l00184">GET_IO_SLOT</a>, <a class="el" href="event-internal_8h_source.html#l00282">event_base::io</a>, <a class="el" href="evmap_8c_source.html#l00063">evmap_io::nclose</a>, <a class="el" href="evmap_8c_source.html#l00061">evmap_io::nread</a>, and <a class="el" href="evmap_8c_source.html#l00062">evmap_io::nwrite</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="ad5d45dbe05d8dda242b86fee0463f707" name="ad5d45dbe05d8dda242b86fee0463f707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d45dbe05d8dda242b86fee0463f707">&#9670;&nbsp;</a></span>evmap_io_get_fdinfo_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * evmap_io_get_fdinfo_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00518">518</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  519</span>{</div>
<div class="line"><span class="lineno">  520</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  521</span>    <a class="code hl_define" href="evmap_8c.html#a882f34f7bf0415329b5aa8f43534e736">GET_IO_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, map, fd, <a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  522</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</div>
<div class="line"><span class="lineno">  523</span>        <span class="keywordflow">return</span> ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="structevmap__io.html">evmap_io</a>);</div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  525</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  526</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="evmap_8c_source.html#l00184">GET_IO_SLOT</a>.</p>

</div>
</div>
<a id="a3fa2a2bf0f03e79032cd0ce2f7911f60" name="a3fa2a2bf0f03e79032cd0ce2f7911f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fa2a2bf0f03e79032cd0ce2f7911f60">&#9670;&nbsp;</a></span>evmap_io_initmap_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_io_initmap_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="event-internal_8h.html#a16f042fdb79d2c98d7c0fa287c62d1e3">event_io_map</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initialize an event_map for use. </p>

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00189">189</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  190</span>{</div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_function" href="evmap_8c.html#ad6b1152af7697586adb90c62aa6c650a">evmap_signal_initmap_</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>);</div>
<div class="line"><span class="lineno">  192</span>}</div>
<div class="ttc" id="aevmap_8c_html_ad6b1152af7697586adb90c62aa6c650a"><div class="ttname"><a href="evmap_8c.html#ad6b1152af7697586adb90c62aa6c650a">evmap_signal_initmap_</a></div><div class="ttdeci">void evmap_signal_initmap_(struct event_signal_map *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00235">evmap.c:235</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="evmap_8c_source.html#l00235">evmap_signal_initmap_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>.</p>

</div>
</div>
<a id="a6c6bf184dee8fd1da0ca746717e77b70" name="a6c6bf184dee8fd1da0ca746717e77b70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c6bf184dee8fd1da0ca746717e77b70">&#9670;&nbsp;</a></span>evmap_reinit_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_reinit_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00653">653</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  654</span>{</div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>    <a class="code hl_function" href="evmap_8c.html#a02a4c3b36b2189fc5e40af6399d82dc8">evmap_io_foreach_fd</a>(base, <a class="code hl_function" href="evmap_8c.html#a1ccac88021e4b1123d240d8167e731f9">evmap_io_reinit_iter_fn</a>, &amp;result);</div>
<div class="line"><span class="lineno">  658</span>    <span class="keywordflow">if</span> (result &lt; 0)</div>
<div class="line"><span class="lineno">  659</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  660</span>    <a class="code hl_function" href="evmap_8c.html#afe4b036d7904a162bd88503a3dd79391">evmap_signal_foreach_signal</a>(base, <a class="code hl_function" href="evmap_8c.html#a30548f653f6465cfcebdd42dbe693c55">evmap_signal_reinit_iter_fn</a>, &amp;result);</div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">if</span> (result &lt; 0)</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  663</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  664</span>}</div>
<div class="ttc" id="aevmap_8c_html_a1ccac88021e4b1123d240d8167e731f9"><div class="ttname"><a href="evmap_8c.html#a1ccac88021e4b1123d240d8167e731f9">evmap_io_reinit_iter_fn</a></div><div class="ttdeci">static int evmap_io_reinit_iter_fn(struct event_base *base, evutil_socket_t fd, struct evmap_io *ctx, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00607">evmap.c:607</a></div></div>
<div class="ttc" id="aevmap_8c_html_a30548f653f6465cfcebdd42dbe693c55"><div class="ttname"><a href="evmap_8c.html#a30548f653f6465cfcebdd42dbe693c55">evmap_signal_reinit_iter_fn</a></div><div class="ttdeci">static int evmap_signal_reinit_iter_fn(struct event_base *base, int signum, struct evmap_signal *ctx, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00639">evmap.c:639</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="evmap_8c_source.html#l00546">evmap_io_foreach_fd()</a>, <a class="el" href="evmap_8c_source.html#l00607">evmap_io_reinit_iter_fn()</a>, <a class="el" href="evmap_8c_source.html#l00585">evmap_signal_foreach_signal()</a>, and <a class="el" href="evmap_8c_source.html#l00639">evmap_signal_reinit_iter_fn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00981">event_reinit()</a>.</p>

</div>
</div>
<a id="a9abaa4a47ef7147a63259fced998020e" name="a9abaa4a47ef7147a63259fced998020e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9abaa4a47ef7147a63259fced998020e">&#9670;&nbsp;</a></span>evmap_signal_active_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_signal_active_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evutil_socket_t&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncalls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00501">501</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  502</span>{</div>
<div class="line"><span class="lineno">  503</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__signal__map.html">event_signal_map</a> *map = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>;</div>
<div class="line"><span class="lineno">  504</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  505</span>    <span class="keyword">struct </span>event *ev;</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="keywordflow">if</span> (sig &lt; 0 || sig &gt;= map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a>)</div>
<div class="line"><span class="lineno">  508</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  509</span>    <a class="code hl_define" href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, map, sig, <a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a>);</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>)</div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  513</span>    LIST_FOREACH(ev, &amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events, <a class="code hl_define" href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a>)</div>
<div class="line"><span class="lineno">  514</span>        <a class="code hl_function" href="event-internal_8h.html#a594c4fdf5bd1f8921141fd4a929c192a">event_active_nolock_</a>(ev, EV_SIGNAL, ncalls);</div>
<div class="line"><span class="lineno">  515</span>}</div>
<div class="ttc" id="aevent-internal_8h_html_aa829233e4260ed23150035ee241b0fa2"><div class="ttname"><a href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a></div><div class="ttdeci">#define ev_signal_next</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00048">event-internal.h:48</a></div></div>
<div class="ttc" id="aevmap_8c_html_ada69b2c4af6a6714d7957138a5a33110"><div class="ttname"><a href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a></div><div class="ttdeci">#define GET_SIGNAL_SLOT(x, map, slot, type)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00162">evmap.c:162</a></div></div>
<div class="ttc" id="astructevent__base_html_adb0f80f46fb3cd2385286c819aeaff9d"><div class="ttname"><a href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">event_base::sigmap</a></div><div class="ttdeci">struct event_signal_map sigmap</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00285">event-internal.h:285</a></div></div>
<div class="ttc" id="astructevent__signal__map_html"><div class="ttname"><a href="structevent__signal__map.html">event_signal_map</a></div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00151">event-internal.h:151</a></div></div>
<div class="ttc" id="astructevent__signal__map_html_aee769a68e2a362e0fa145c1e0a66e5df"><div class="ttname"><a href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">event_signal_map::nentries</a></div><div class="ttdeci">int nentries</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00156">event-internal.h:156</a></div></div>
<div class="ttc" id="astructevmap__signal_html"><div class="ttname"><a href="structevmap__signal.html">evmap_signal</a></div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00068">evmap.c:68</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00048">ev_signal_next</a>, <a class="el" href="event_8c_source.html#l02919">event_active_nolock_()</a>, <a class="el" href="evmap_8c_source.html#l00162">GET_SIGNAL_SLOT</a>, <a class="el" href="event-internal_8h_source.html#l00156">event_signal_map::nentries</a>, and <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l03862">event_base_active_by_signal()</a>, and <a class="el" href="signal_8c_source.html#l00133">evsig_cb()</a>.</p>

</div>
</div>
<a id="a793748b97acb0dd84c57fa32f3d157b4" name="a793748b97acb0dd84c57fa32f3d157b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a793748b97acb0dd84c57fa32f3d157b4">&#9670;&nbsp;</a></span>evmap_signal_add_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_signal_add_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00450">450</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  451</span>{</div>
<div class="line"><span class="lineno">  452</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a285341f4e8ccdf6410ab60b5771f7ead">evsigsel</a>;</div>
<div class="line"><span class="lineno">  453</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__signal__map.html">event_signal_map</a> *map = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>;</div>
<div class="line"><span class="lineno">  454</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a> = NULL;</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordflow">if</span> (sig &lt; 0 || sig &gt;= NSIG)</div>
<div class="line"><span class="lineno">  457</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> (sig &gt;= map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a>) {</div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="evmap_8c.html#a07bf55c862ef8547bef3139ecdaecdba">evmap_make_space</a>(</div>
<div class="line"><span class="lineno">  461</span>            map, sig, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *)) == -1)</div>
<div class="line"><span class="lineno">  462</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  463</span>    }</div>
<div class="line"><span class="lineno">  464</span>    <a class="code hl_define" href="evmap_8c.html#a0e2f82330cd3bdb9173d0bb12c018df0">GET_SIGNAL_SLOT_AND_CTOR</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, map, sig, <a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a>, <a class="code hl_function" href="evmap_8c.html#aa047cb837b888e2156f7b93f882ab054">evmap_signal_init</a>,</div>
<div class="line"><span class="lineno">  465</span>        base-&gt;<a class="code hl_variable" href="structevent__base.html#a285341f4e8ccdf6410ab60b5771f7ead">evsigsel</a>-&gt;<a class="code hl_variable" href="structeventop.html#a7dd2e226e3ee07731094d137d94daab0">fdinfo_len</a>);</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">if</span> (LIST_EMPTY(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events)) {</div>
<div class="line"><span class="lineno">  468</span>        <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#af933a8c970e13099e6388826c68966e7">add</a>(base, ev-&gt;ev_fd, 0, EV_SIGNAL, NULL)</div>
<div class="line"><span class="lineno">  469</span>            == -1)</div>
<div class="line"><span class="lineno">  470</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  471</span>    }</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    LIST_INSERT_HEAD(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events, ev, <a class="code hl_define" href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a>);</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno">  476</span>}</div>
<div class="ttc" id="aevmap_8c_html_a0e2f82330cd3bdb9173d0bb12c018df0"><div class="ttname"><a href="evmap_8c.html#a0e2f82330cd3bdb9173d0bb12c018df0">GET_SIGNAL_SLOT_AND_CTOR</a></div><div class="ttdeci">#define GET_SIGNAL_SLOT_AND_CTOR(x, map, slot, type, ctor, fdinfo_len)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00169">evmap.c:169</a></div></div>
<div class="ttc" id="aevmap_8c_html_aa047cb837b888e2156f7b93f882ab054"><div class="ttname"><a href="evmap_8c.html#aa047cb837b888e2156f7b93f882ab054">evmap_signal_init</a></div><div class="ttdeci">static void evmap_signal_init(struct evmap_signal *entry)</div><div class="ttdef"><b>Definition:</b> <a href="evmap_8c_source.html#l00443">evmap.c:443</a></div></div>
<div class="ttc" id="astructevent__base_html_a285341f4e8ccdf6410ab60b5771f7ead"><div class="ttname"><a href="structevent__base.html#a285341f4e8ccdf6410ab60b5771f7ead">event_base::evsigsel</a></div><div class="ttdeci">const struct eventop * evsigsel</div><div class="ttdef"><b>Definition:</b> <a href="event-internal_8h_source.html#l00221">event-internal.h:221</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event-internal_8h_source.html#l00103">eventop::add</a>, <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00048">ev_signal_next</a>, <a class="el" href="evmap_8c_source.html#l00205">evmap_make_space()</a>, <a class="el" href="evmap_8c_source.html#l00443">evmap_signal_init()</a>, <a class="el" href="event-internal_8h_source.html#l00221">event_base::evsigsel</a>, <a class="el" href="event-internal_8h_source.html#l00125">eventop::fdinfo_len</a>, <a class="el" href="evmap_8c_source.html#l00169">GET_SIGNAL_SLOT_AND_CTOR</a>, <a class="el" href="event-internal_8h_source.html#l00156">event_signal_map::nentries</a>, and <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02597">event_add_nolock_()</a>.</p>

</div>
</div>
<a id="a2607ea68074a8c4f2eb5908481b75915" name="a2607ea68074a8c4f2eb5908481b75915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2607ea68074a8c4f2eb5908481b75915">&#9670;&nbsp;</a></span>evmap_signal_clear_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_signal_clear_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00242">242</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  243</span>{</div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries != NULL) {</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nentries; ++i) {</div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries[i] != NULL)</div>
<div class="line"><span class="lineno">  248</span>                <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries[i]);</div>
<div class="line"><span class="lineno">  249</span>        }</div>
<div class="line"><span class="lineno">  250</span>        <a class="code hl_define" href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries);</div>
<div class="line"><span class="lineno">  251</span>        <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries = NULL;</div>
<div class="line"><span class="lineno">  252</span>    }</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nentries = 0;</div>
<div class="line"><span class="lineno">  254</span>}</div>
<div class="ttc" id="amm-internal_8h_html_af7d87798652aaa8398bb9c0504256f16"><div class="ttname"><a href="mm-internal_8h.html#af7d87798652aaa8398bb9c0504256f16">mm_free</a></div><div class="ttdeci">#define mm_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mm-internal_8h_source.html#l00079">mm-internal.h:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, and <a class="el" href="mm-internal_8h_source.html#l00079">mm_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00838">event_base_free_()</a>, and <a class="el" href="evmap_8c_source.html#l00194">evmap_io_clear_()</a>.</p>

</div>
</div>
<a id="a5aa8a24f437d00d04d08eeed29626136" name="a5aa8a24f437d00d04d08eeed29626136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aa8a24f437d00d04d08eeed29626136">&#9670;&nbsp;</a></span>evmap_signal_del_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmap_signal_del_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__base.html">event_base</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00479">479</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  480</span>{</div>
<div class="line"><span class="lineno">  481</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structeventop.html">eventop</a> *evsel = base-&gt;<a class="code hl_variable" href="structevent__base.html#a285341f4e8ccdf6410ab60b5771f7ead">evsigsel</a>;</div>
<div class="line"><span class="lineno">  482</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevent__signal__map.html">event_signal_map</a> *map = &amp;base-&gt;<a class="code hl_variable" href="structevent__base.html#adb0f80f46fb3cd2385286c819aeaff9d">sigmap</a>;</div>
<div class="line"><span class="lineno">  483</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a> *<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">if</span> (sig &lt; 0 || sig &gt;= map-&gt;<a class="code hl_variable" href="structevent__signal__map.html#aee769a68e2a362e0fa145c1e0a66e5df">nentries</a>)</div>
<div class="line"><span class="lineno">  486</span>        <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>    <a class="code hl_define" href="evmap_8c.html#ada69b2c4af6a6714d7957138a5a33110">GET_SIGNAL_SLOT</a>(<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>, map, sig, <a class="code hl_struct" href="structevmap__signal.html">evmap_signal</a>);</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>    LIST_REMOVE(ev, <a class="code hl_define" href="event-internal_8h.html#aa829233e4260ed23150035ee241b0fa2">ev_signal_next</a>);</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">if</span> (LIST_FIRST(&amp;<a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;events) == NULL) {</div>
<div class="line"><span class="lineno">  493</span>        <span class="keywordflow">if</span> (evsel-&gt;<a class="code hl_variable" href="structeventop.html#a0eef2d190c448c2e1422e3dc8856b72b">del</a>(base, ev-&gt;ev_fd, 0, EV_SIGNAL, NULL) == -1)</div>
<div class="line"><span class="lineno">  494</span>            <span class="keywordflow">return</span> (-1);</div>
<div class="line"><span class="lineno">  495</span>    }</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">return</span> (1);</div>
<div class="line"><span class="lineno">  498</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>, <a class="el" href="event-internal_8h_source.html#l00105">eventop::del</a>, <a class="el" href="event-internal_8h_source.html#l00048">ev_signal_next</a>, <a class="el" href="event-internal_8h_source.html#l00221">event_base::evsigsel</a>, <a class="el" href="evmap_8c_source.html#l00162">GET_SIGNAL_SLOT</a>, <a class="el" href="event-internal_8h_source.html#l00156">event_signal_map::nentries</a>, and <a class="el" href="event-internal_8h_source.html#l00285">event_base::sigmap</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l02810">event_del_nolock_()</a>.</p>

</div>
</div>
<a id="ad6b1152af7697586adb90c62aa6c650a" name="ad6b1152af7697586adb90c62aa6c650a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b1152af7697586adb90c62aa6c650a">&#9670;&nbsp;</a></span>evmap_signal_initmap_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmap_signal_initmap_ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevent__signal__map.html">event_signal_map</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="evmap_8c_source.html#l00235">235</a> of file <a class="el" href="evmap_8c_source.html">evmap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  236</span>{</div>
<div class="line"><span class="lineno">  237</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;nentries = 0;</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_variable" href="tests_8c.html#a06a3e29ada83211a695a49e8f7405842">ctx</a>-&gt;entries = NULL;</div>
<div class="line"><span class="lineno">  239</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tests_8c_source.html#l00034">ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8c_source.html#l00605">event_base_new_with_config()</a>, and <a class="el" href="evmap_8c_source.html#l00189">evmap_io_initmap_()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
